{"version":3,"sources":["node_modules/three/build/three.module.js","src/world/components/camera.ts","src/world/components/cube.ts","src/world/components/scene.ts","src/world/components/grid.ts","src/world/utilities/InterfaceManager.ts","src/world/systems/Resizer.ts","src/world/systems/renderer.ts","node_modules/three/examples/jsm/controls/OrbitControls.js","src/world/utilities/Navigator.ts","node_modules/three/examples/jsm/webxr/VRButton.js","src/world/utilities/webxr.ts","src/world/components/defaultLight.ts","src/world/world.ts","src/main.ts","../../Users/Nixon/AppData/Roaming/npm/node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["REVISION","MOUSE","LEFT","MIDDLE","RIGHT","ROTATE","DOLLY","PAN","TOUCH","DOLLY_PAN","DOLLY_ROTATE","CullFaceNone","CullFaceBack","CullFaceFront","CullFaceFrontBack","BasicShadowMap","PCFShadowMap","PCFSoftShadowMap","VSMShadowMap","FrontSide","BackSide","DoubleSide","FlatShading","SmoothShading","NoBlending","NormalBlending","AdditiveBlending","SubtractiveBlending","MultiplyBlending","CustomBlending","AddEquation","SubtractEquation","ReverseSubtractEquation","MinEquation","MaxEquation","ZeroFactor","OneFactor","SrcColorFactor","OneMinusSrcColorFactor","SrcAlphaFactor","OneMinusSrcAlphaFactor","DstAlphaFactor","OneMinusDstAlphaFactor","DstColorFactor","OneMinusDstColorFactor","SrcAlphaSaturateFactor","NeverDepth","AlwaysDepth","LessDepth","LessEqualDepth","EqualDepth","GreaterEqualDepth","GreaterDepth","NotEqualDepth","MultiplyOperation","MixOperation","AddOperation","NoToneMapping","LinearToneMapping","ReinhardToneMapping","CineonToneMapping","ACESFilmicToneMapping","CustomToneMapping","UVMapping","CubeReflectionMapping","CubeRefractionMapping","EquirectangularReflectionMapping","EquirectangularRefractionMapping","CubeUVReflectionMapping","CubeUVRefractionMapping","RepeatWrapping","ClampToEdgeWrapping","MirroredRepeatWrapping","NearestFilter","NearestMipmapNearestFilter","NearestMipMapNearestFilter","NearestMipmapLinearFilter","NearestMipMapLinearFilter","LinearFilter","LinearMipmapNearestFilter","LinearMipMapNearestFilter","LinearMipmapLinearFilter","LinearMipMapLinearFilter","UnsignedByteType","ByteType","ShortType","UnsignedShortType","IntType","UnsignedIntType","FloatType","HalfFloatType","UnsignedShort4444Type","UnsignedShort5551Type","UnsignedShort565Type","UnsignedInt248Type","AlphaFormat","RGBFormat","RGBAFormat","LuminanceFormat","LuminanceAlphaFormat","RGBEFormat","DepthFormat","DepthStencilFormat","RedFormat","RedIntegerFormat","RGFormat","RGIntegerFormat","RGBIntegerFormat","RGBAIntegerFormat","RGB_S3TC_DXT1_Format","RGBA_S3TC_DXT1_Format","RGBA_S3TC_DXT3_Format","RGBA_S3TC_DXT5_Format","RGB_PVRTC_4BPPV1_Format","RGB_PVRTC_2BPPV1_Format","RGBA_PVRTC_4BPPV1_Format","RGBA_PVRTC_2BPPV1_Format","RGB_ETC1_Format","RGB_ETC2_Format","RGBA_ETC2_EAC_Format","RGBA_ASTC_4x4_Format","RGBA_ASTC_5x4_Format","RGBA_ASTC_5x5_Format","RGBA_ASTC_6x5_Format","RGBA_ASTC_6x6_Format","RGBA_ASTC_8x5_Format","RGBA_ASTC_8x6_Format","RGBA_ASTC_8x8_Format","RGBA_ASTC_10x5_Format","RGBA_ASTC_10x6_Format","RGBA_ASTC_10x8_Format","RGBA_ASTC_10x10_Format","RGBA_ASTC_12x10_Format","RGBA_ASTC_12x12_Format","RGBA_BPTC_Format","SRGB8_ALPHA8_ASTC_4x4_Format","SRGB8_ALPHA8_ASTC_5x4_Format","SRGB8_ALPHA8_ASTC_5x5_Format","SRGB8_ALPHA8_ASTC_6x5_Format","SRGB8_ALPHA8_ASTC_6x6_Format","SRGB8_ALPHA8_ASTC_8x5_Format","SRGB8_ALPHA8_ASTC_8x6_Format","SRGB8_ALPHA8_ASTC_8x8_Format","SRGB8_ALPHA8_ASTC_10x5_Format","SRGB8_ALPHA8_ASTC_10x6_Format","SRGB8_ALPHA8_ASTC_10x8_Format","SRGB8_ALPHA8_ASTC_10x10_Format","SRGB8_ALPHA8_ASTC_12x10_Format","SRGB8_ALPHA8_ASTC_12x12_Format","LoopOnce","LoopRepeat","LoopPingPong","InterpolateDiscrete","InterpolateLinear","InterpolateSmooth","ZeroCurvatureEnding","ZeroSlopeEnding","WrapAroundEnding","NormalAnimationBlendMode","AdditiveAnimationBlendMode","TrianglesDrawMode","TriangleStripDrawMode","TriangleFanDrawMode","LinearEncoding","sRGBEncoding","GammaEncoding","RGBEEncoding","LogLuvEncoding","RGBM7Encoding","RGBM16Encoding","RGBDEncoding","BasicDepthPacking","RGBADepthPacking","TangentSpaceNormalMap","ObjectSpaceNormalMap","ZeroStencilOp","KeepStencilOp","ReplaceStencilOp","IncrementStencilOp","DecrementStencilOp","IncrementWrapStencilOp","DecrementWrapStencilOp","InvertStencilOp","NeverStencilFunc","LessStencilFunc","EqualStencilFunc","LessEqualStencilFunc","GreaterStencilFunc","NotEqualStencilFunc","GreaterEqualStencilFunc","AlwaysStencilFunc","StaticDrawUsage","DynamicDrawUsage","StreamDrawUsage","StaticReadUsage","DynamicReadUsage","StreamReadUsage","StaticCopyUsage","DynamicCopyUsage","StreamCopyUsage","GLSL1","GLSL3","EventDispatcher","Object","assign","prototype","addEventListener","type","listener","_listeners","undefined","listeners","indexOf","push","hasEventListener","removeEventListener","listenerArray","index","splice","dispatchEvent","event","target","array","slice","i","l","length","call","_lut","toString","_seed","MathUtils","DEG2RAD","Math","PI","RAD2DEG","generateUUID","d0","random","d1","d2","d3","uuid","toUpperCase","clamp","value","min","max","euclideanModulo","n","m","mapLinear","x","a1","a2","b1","b2","lerp","y","t","smoothstep","smootherstep","randInt","low","high","floor","randFloat","randFloatSpread","range","seededRandom","s","degToRad","degrees","radToDeg","radians","isPowerOfTwo","ceilPowerOfTwo","pow","ceil","log","LN2","floorPowerOfTwo","setQuaternionFromProperEuler","q","a","b","c","order","cos","sin","c2","s2","c13","s13","c1_3","s1_3","c3_1","s3_1","set","console","warn","Vector2","constructor","defineProperty","scalar","Error","v","w","addVectors","subVectors","multiplyScalar","e","elements","minVal","maxVal","divideScalar","round","sqrt","abs","angle","atan2","distanceToSquared","dx","dy","normalize","alpha","v1","v2","offset","attribute","getX","getY","center","Matrix3","arguments","error","n11","n12","n13","n21","n22","n23","n31","n32","n33","te","fromArray","me","xAxis","yAxis","zAxis","setFromMatrix3Column","multiplyMatrices","ae","be","a11","a12","a13","a21","a22","a23","a31","a32","a33","b11","b12","b13","b21","b22","b23","b31","b32","b33","d","f","g","h","matrix","throwOnDegenerate","t11","t12","t13","det","detInv","tmp","matrix4","setFromMatrix4","getInverse","transpose","r","tx","ty","sx","sy","rotation","cx","cy","theta","_canvas","ImageUtils","getDataURL","image","test","src","HTMLCanvasElement","canvas","document","createElementNS","width","height","context","getContext","ImageData","putImageData","drawImage","toDataURL","textureId","Texture","mapping","wrapS","wrapT","magFilter","minFilter","format","anisotropy","encoding","name","DEFAULT_IMAGE","mipmaps","DEFAULT_MAPPING","internalFormat","repeat","matrixAutoUpdate","generateMipmaps","premultiplyAlpha","flipY","unpackAlignment","version","onUpdate","create","isTexture","updateMatrix","setUvTransform","clone","copy","source","toJSON","meta","isRootObject","textures","output","metadata","generator","wrap","images","url","Array","isArray","dispose","transformUv","uv","applyMatrix3","Vector4","z","acos","epsilon","epsilon2","m11","m12","m13","m21","m22","m23","m31","m32","m33","xx","yy","zz","xy","xz","yz","getZ","getW","WebGLRenderTarget","options","scissor","scissorTest","viewport","texture","depthBuffer","stencilBuffer","depthTexture","isWebGLRenderTarget","setSize","WebGLMultisampleRenderTarget","samples","isWebGLMultisampleRenderTarget","Quaternion","_x","_y","_z","_w","_onChangeCallback","quaternion","euler","update","isEuler","_order","c1","c3","s1","s3","axis","halfAngle","trace","vFrom","vTo","EPS","dot","step","angleTo","slerp","conjugate","p","multiplyQuaternions","qax","qay","qaz","qaw","qbx","qby","qbz","qbw","qb","cosHalfTheta","sqrSinHalfTheta","Number","EPSILON","sinHalfTheta","halfTheta","ratioA","ratioB","callback","qa","qm","dst","dstOffset","src0","srcOffset0","src1","srcOffset1","x0","y0","z0","w0","x1","y1","z1","w1","dir","sqrSin","len","tDir","Vector3","multiplyVectors","applyQuaternion","_quaternion","setFromEuler","setFromAxisAngle","qx","qy","qz","qw","ix","iy","iz","iw","camera","applyMatrix4","matrixWorldInverse","projectionMatrix","projectionMatrixInverse","matrixWorld","crossVectors","ax","ay","az","bx","by","bz","denominator","lengthSq","planeNormal","_vector","projectOnVector","sub","normal","dz","setFromSphericalCoords","radius","phi","sinPhiRadius","setFromCylindricalCoords","setFromMatrixColumn","sz","Box3","Infinity","minX","minY","minZ","maxX","maxY","maxZ","count","points","makeEmpty","il","expandByPoint","size","halfSize","_vector$1","add","object","expandByObject","box","isEmpty","point","vector","addScalar","updateWorldMatrix","geometry","boundingBox","computeBoundingBox","_box","union","children","sphere","clampPoint","plane","constant","triangle","getCenter","_center","_extents","_v0","_v1","_v2","_f0","_f1","_f2","axes","satForAxes","_triangleNormal","clampedPoint","getSize","_points","setFromPoints","equals","v0","extents","j","_testAxis","p0","p1","p2","_box$1","Sphere","optionalCenter","maxRadiusSq","distanceTo","radiusSum","intersectsSphere","distanceToPoint","deltaLengthSq","expandByScalar","getMaxScaleOnAxis","_vector$2","_segCenter","_segDir","_diff","_edge1","_edge2","_normal","Ray","origin","direction","ray","at","directionDistance","distanceSqToPoint","optionalPointOnRay","optionalPointOnSegment","segExtent","a01","b0","s0","sqrDist","extDet","invDet","tca","radius2","thc","t0","t1","distanceToPlane","distToPoint","tmin","tmax","tymin","tymax","tzmin","tzmax","invdirx","invdiry","invdirz","intersectBox","backfaceCulling","DdN","sign","DdQxE2","DdE1xQ","cross","QdN","transformDirection","Matrix4","n14","n24","n34","n41","n42","n43","n44","scaleX","_v1$1","scaleY","scaleZ","af","bf","ce","cf","de","df","ac","ad","bc","bd","compose","_zero","_one","eye","up","a14","a24","a34","a41","a42","a43","a44","b14","b24","b34","b41","b42","b43","b44","isVector3","t14","scaleXSq","scaleYSq","scaleZSq","position","scale","x2","y2","z2","wx","wy","wz","determinant","_m1","invSX","invSY","invSZ","setFromRotationMatrix","left","right","top","bottom","near","far","Euler","DefaultOrder","asin","_matrix","makeRotationFromQuaternion","newOrder","_quaternion$1","setFromQuaternion","optionalResult","RotationOrders","Layers","mask","channel","layers","_object3DId","_v1$2","_q1","_m1$1","_target","_position","_scale","_quaternion$2","_xAxis","_yAxis","_zAxis","_addedEvent","_removedEvent","Object3D","parent","DefaultUp","onRotationChange","onQuaternionChange","_onChange","defineProperties","configurable","enumerable","modelViewMatrix","normalMatrix","DefaultMatrixAutoUpdate","matrixWorldNeedsUpdate","visible","castShadow","receiveShadow","frustumCulled","renderOrder","userData","isObject3D","onBeforeRender","onAfterRender","premultiply","decompose","setRotationFromAxisAngle","setRotationFromEuler","setRotationFromMatrix","setRotationFromQuaternion","rotateOnAxis","multiply","rotateOnWorldAxis","rotateX","rotateY","rotateZ","translateOnAxis","distance","translateX","translateY","translateZ","localToWorld","worldToLocal","lookAt","setFromMatrixPosition","isCamera","isLight","extractRotation","inverse","remove","clear","attach","getObjectById","id","getObjectByProperty","getObjectByName","child","getWorldPosition","getWorldQuaternion","getWorldScale","getWorldDirection","raycast","traverse","traverseVisible","traverseAncestors","updateMatrixWorld","force","updateParents","updateChildren","geometries","materials","shapes","JSON","stringify","toArray","isInstancedMesh","instanceMatrix","serialize","library","element","isMesh","isLine","isPoints","parameters","shape","material","uuids","extractFromCache","cache","values","key","data","recursive","parse","_vector1","_vector2","_normalMatrix","Plane","setFromNormalAndCoplanarPoint","inverseNormalLength","negate","line","delta","start","startSign","endSign","end","intersectsPlane","optionalNormalMatrix","getNormalMatrix","referencePoint","coplanarPoint","_v0$1","_v1$3","_v2$1","_v3","_vab","_vac","_vbc","_vap","_vbp","_vcp","Triangle","i0","i1","i2","getNormal","setFromCoplanarPoints","getBarycoord","uv1","uv2","uv3","getUV","containsPoint","isFrontFacing","intersectsTriangle","d4","vc","addScaledVector","d5","d6","vb","va","denom","targetLengthSq","dot00","dot01","dot02","dot11","dot12","invDenom","u","p3","_colorKeywords","_hslA","_hslB","hue2rgb","SRGBToLinear","LinearToSRGB","Color","setRGB","isColor","setHex","setStyle","hex","style","handleAlpha","string","parseFloat","exec","color","components","parseInt","setHSL","charAt","setColorName","gammaFactor","safeInverse","copyGammaToLinear","copyLinearToGamma","copySRGBToLinear","copyLinearToSRGB","getHex","hue","saturation","lightness","getHSL","color1","color2","normalized","NAMES","Face3","materialIndex","vertexNormals","vertexColors","materialId","Material","fog","blending","side","flatShading","opacity","transparent","blendSrc","blendDst","blendEquation","blendSrcAlpha","blendDstAlpha","blendEquationAlpha","depthFunc","depthTest","depthWrite","stencilWriteMask","stencilFunc","stencilRef","stencilFuncMask","stencilFail","stencilZFail","stencilZPass","stencilWrite","clippingPlanes","clipIntersection","clipShadows","shadowSide","colorWrite","precision","polygonOffset","polygonOffsetFactor","polygonOffsetUnits","dithering","alphaTest","premultipliedAlpha","toneMapped","isMaterial","onBeforeCompile","customProgramCacheKey","setValues","newValue","currentValue","isRoot","roughness","metalness","sheen","emissive","emissiveIntensity","specular","shininess","clearcoat","clearcoatRoughness","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","clearcoatNormalScale","map","matcap","alphaMap","lightMap","aoMap","aoMapIntensity","bumpMap","bumpScale","normalMap","normalMapType","normalScale","displacementMap","displacementScale","displacementBias","roughnessMap","metalnessMap","emissiveMap","specularMap","envMap","reflectivity","refractionRatio","combine","envMapIntensity","gradientMap","sizeAttenuation","linewidth","dashSize","gapSize","wireframe","wireframeLinewidth","wireframeLinecap","wireframeLinejoin","morphTargets","morphNormals","skinning","srcPlanes","dstPlanes","MeshBasicMaterial","lightMapIntensity","isMeshBasicMaterial","_vector$3","_vector2$1","BufferAttribute","itemSize","TypeError","usage","updateRange","isBufferAttribute","onUploadCallback","setUsage","copyAt","index1","index2","copyArray","copyColorsArray","colors","copyVector2sArray","vectors","copyVector3sArray","copyVector4sArray","fromBufferAttribute","setXY","setXYZ","applyNormalMatrix","setX","setY","setZ","setW","setXYZW","onUpload","Int8BufferAttribute","Int8Array","Uint8BufferAttribute","Uint8Array","Uint8ClampedBufferAttribute","Uint8ClampedArray","Int16BufferAttribute","Int16Array","Uint16BufferAttribute","Uint16Array","Int32BufferAttribute","Int32Array","Uint32BufferAttribute","Uint32Array","Float32BufferAttribute","Float32Array","Float64BufferAttribute","Float64Array","DirectGeometry","vertices","normals","uvs","uvs2","groups","skinWeights","skinIndices","boundingSphere","verticesNeedUpdate","normalsNeedUpdate","colorsNeedUpdate","uvsNeedUpdate","groupsNeedUpdate","group","faces","face","faceVertexUvs","hasFaceVertexUv","hasFaceVertexUv2","morphTargetsLength","morphTargetsPosition","morphNormalsLength","morphTargetsNormal","hasSkinIndices","hasSkinWeights","vertexUvs","morphTarget","morphNormal","computeGroups","arrayMax","_bufferGeometryId","_m1$2","_obj","_offset","_box$2","_boxMorphTargets","_vector$4","BufferGeometry","attributes","morphAttributes","morphTargetsRelative","drawRange","isBufferGeometry","getIndex","setIndex","getAttribute","setAttribute","deleteAttribute","addGroup","clearGroups","setDrawRange","needsUpdate","tangent","computeBoundingSphere","makeRotationX","makeRotationY","makeRotationZ","translate","makeTranslation","makeScale","setFromObject","positions","lineDistances","isGeometry","fromGeometry","updateFromObject","direct","__directGeometry","elementsNeedUpdate","lineDistancesNeedUpdate","lineDistance","fromDirectGeometry","morphAttributesPosition","isGLBufferAttribute","setFromBufferAttribute","morphAttribute","isNaN","jl","computeFaceNormals","computeVertexNormals","positionAttribute","normalAttribute","pA","pB","pC","nA","nB","nC","cb","ab","vA","vB","vC","normalizeNormals","merge","attribute1","attributeArray1","attribute2","attributeArray2","attributeOffset","toNonIndexed","convertBufferAttribute","indices","array2","geometry2","newAttribute","morphArray","keys","attributeData","hasMorphAttributes","attributeArray","_inverseMatrix","_ray","_sphere","_vA","_vB","_vC","_tempA","_tempB","_tempC","_morphA","_morphB","_morphC","_uvA","_uvB","_uvC","_intersectionPoint","_intersectionPointWorld","Mesh","updateMorphTargets","morphTargetInfluences","morphTargetDictionary","ml","String","raycaster","intersects","intersectsBox","intersection","morphPosition","groupMaterial","checkBufferGeometryIntersection","faceIndex","isMultiMaterial","fl","faceMaterial","fvA","fvB","fvC","checkIntersection","uvs_f","intersect","intersectTriangle","morphInfluences","influence","isSkinnedMesh","boneTransform","BoxBufferGeometry","depth","widthSegments","heightSegments","depthSegments","scope","numberOfVertices","groupStart","buildPlane","udir","vdir","gridX","gridY","segmentWidth","segmentHeight","widthHalf","heightHalf","depthHalf","gridX1","gridY1","vertexCounter","groupCount","cloneUniforms","property","isMatrix3","isMatrix4","isVector2","isVector4","mergeUniforms","uniforms","merged","UniformsUtils","default_vertex","default_fragment","ShaderMaterial","defines","vertexShader","fragmentShader","lights","clipping","extensions","derivatives","fragDepth","drawBuffers","shaderTextureLOD","defaultAttributeValues","index0AttributeName","uniformsNeedUpdate","glslVersion","isShaderMaterial","uniform","Camera","PerspectiveCamera","fov","aspect","zoom","focus","view","filmGauge","filmOffset","updateProjectionMatrix","isPerspectiveCamera","setFocalLength","focalLength","vExtentSlope","getFilmHeight","atan","getFocalLength","tan","getEffectiveFOV","getFilmWidth","setViewOffset","fullWidth","fullHeight","enabled","offsetX","offsetY","clearViewOffset","skew","makePerspective","CubeCamera","renderTarget","isWebGLCubeRenderTarget","cameraPX","cameraNX","cameraPY","cameraNY","cameraPZ","cameraNZ","renderer","scene","currentXrEnabled","xr","currentRenderTarget","getRenderTarget","setRenderTarget","render","CubeTexture","_needsFlipEnvMap","isCubeTexture","get","WebGLCubeRenderTarget","dummy","isInteger","fromEquirectangularTexture","shader","tEquirect","mesh","currentMinFilter","stencil","DataTexture","isDataTexture","_sphere$1","_vector$5","Frustum","p4","p5","planes","frustum","me0","me1","me2","me3","me4","me5","me6","me7","me8","me9","me10","me11","me12","me13","me14","me15","setComponents","sprite","negRadius","WebGLAnimation","isAnimating","animationLoop","requestId","onAnimationFrame","time","frame","requestAnimationFrame","stop","cancelAnimationFrame","setAnimationLoop","setContext","WebGLAttributes","gl","capabilities","isWebGL2","buffers","WeakMap","createBuffer","bufferType","buffer","bindBuffer","bufferData","bytesPerElement","BYTES_PER_ELEMENT","updateBuffer","bufferSubData","subarray","isInterleavedBufferAttribute","deleteBuffer","delete","cached","elementSize","PlaneBufferGeometry","width_half","height_half","segment_width","segment_height","alphamap_fragment","alphamap_pars_fragment","alphatest_fragment","aomap_fragment","aomap_pars_fragment","begin_vertex","beginnormal_vertex","bsdfs","bumpmap_pars_fragment","clipping_planes_fragment","clipping_planes_pars_fragment","clipping_planes_pars_vertex","clipping_planes_vertex","color_fragment","color_pars_fragment","color_pars_vertex","color_vertex","common","cube_uv_reflection_fragment","defaultnormal_vertex","displacementmap_pars_vertex","displacementmap_vertex","emissivemap_fragment","emissivemap_pars_fragment","encodings_fragment","encodings_pars_fragment","envmap_fragment","envmap_common_pars_fragment","envmap_pars_fragment","envmap_pars_vertex","envmap_vertex","fog_vertex","fog_pars_vertex","fog_fragment","fog_pars_fragment","gradientmap_pars_fragment","lightmap_fragment","lightmap_pars_fragment","lights_lambert_vertex","lights_pars_begin","envmap_physical_pars_fragment","lights_toon_fragment","lights_toon_pars_fragment","lights_phong_fragment","lights_phong_pars_fragment","lights_physical_fragment","lights_physical_pars_fragment","lights_fragment_begin","lights_fragment_maps","lights_fragment_end","logdepthbuf_fragment","logdepthbuf_pars_fragment","logdepthbuf_pars_vertex","logdepthbuf_vertex","map_fragment","map_pars_fragment","map_particle_fragment","map_particle_pars_fragment","metalnessmap_fragment","metalnessmap_pars_fragment","morphnormal_vertex","morphtarget_pars_vertex","morphtarget_vertex","normal_fragment_begin","normal_fragment_maps","normalmap_pars_fragment","clearcoat_normal_fragment_begin","clearcoat_normal_fragment_maps","clearcoat_pars_fragment","packing","premultiplied_alpha_fragment","project_vertex","dithering_fragment","dithering_pars_fragment","roughnessmap_fragment","roughnessmap_pars_fragment","shadowmap_pars_fragment","shadowmap_pars_vertex","shadowmap_vertex","shadowmask_pars_fragment","skinbase_vertex","skinning_pars_vertex","skinning_vertex","skinnormal_vertex","specularmap_fragment","specularmap_pars_fragment","tonemapping_fragment","tonemapping_pars_fragment","transmissionmap_fragment","transmissionmap_pars_fragment","uv_pars_fragment","uv_pars_vertex","uv_vertex","uv2_pars_fragment","uv2_pars_vertex","uv2_vertex","worldpos_vertex","background_frag","background_vert","cube_frag","cube_vert","depth_frag","depth_vert","distanceRGBA_frag","distanceRGBA_vert","equirect_frag","equirect_vert","linedashed_frag","linedashed_vert","meshbasic_frag","meshbasic_vert","meshlambert_frag","meshlambert_vert","meshmatcap_frag","meshmatcap_vert","meshtoon_frag","meshtoon_vert","meshphong_frag","meshphong_vert","meshphysical_frag","meshphysical_vert","normal_frag","normal_vert","points_frag","points_vert","shadow_frag","shadow_vert","sprite_frag","sprite_vert","ShaderChunk","UniformsLib","diffuse","uvTransform","uv2Transform","specularmap","envmap","flipEnvMap","maxMipLevel","aomap","lightmap","emissivemap","bumpmap","normalmap","displacementmap","roughnessmap","metalnessmap","gradientmap","fogDensity","fogNear","fogFar","fogColor","ambientLightColor","lightProbe","directionalLights","properties","directionalLightShadows","shadowBias","shadowNormalBias","shadowRadius","shadowMapSize","directionalShadowMap","directionalShadowMatrix","spotLights","coneCos","penumbraCos","decay","spotLightShadows","spotShadowMap","spotShadowMatrix","pointLights","pointLightShadows","shadowCameraNear","shadowCameraFar","pointShadowMap","pointShadowMatrix","hemisphereLights","skyColor","groundColor","rectAreaLights","ltc_1","ltc_2","ShaderLib","basic","lambert","phong","standard","toon","dashed","totalSize","background","t2D","cube","equirect","distanceRGBA","referencePosition","nearDistance","farDistance","shadow","physical","transmission","transmissionMap","WebGLBackground","cubemaps","state","objects","clearColor","clearAlpha","planeMesh","boxMesh","currentBackground","currentBackgroundVersion","currentTonemapping","renderList","forceClear","isScene","session","getSession","environmentBlendMode","setClear","autoClear","autoClearColor","autoClearDepth","autoClearStencil","copyPosition","toneMapping","unshift","getClearColor","setClearColor","getClearAlpha","setClearAlpha","WebGLBindingStates","maxVertexAttributes","getParameter","extension","vaoAvailable","bindingStates","defaultState","createBindingState","currentState","setup","program","updateBuffers","getBindingState","bindVertexArrayObject","saveCache","setupVertexAttributes","createVertexArrayObject","createVertexArray","createVertexArrayOES","vao","bindVertexArray","bindVertexArrayOES","deleteVertexArrayObject","deleteVertexArray","deleteVertexArrayOES","programMap","stateMap","newAttributes","enabledAttributes","attributeDivisors","cachedAttributes","geometryAttributes","cachedAttribute","geometryAttribute","initAttributes","enableAttribute","enableAttributeAndDivisor","meshPerAttribute","enableVertexAttribArray","disableUnusedAttributes","disableVertexAttribArray","vertexAttribPointer","stride","vertexAttribIPointer","isInstancedBufferGeometry","programAttributes","getAttributes","materialDefaultAttributeValues","programAttribute","isInstancedInterleavedBuffer","_maxInstanceCount","isInstancedBufferAttribute","instanceColor","vertexAttrib2fv","vertexAttrib3fv","vertexAttrib4fv","vertexAttrib1fv","reset","geometryId","programId","releaseStatesOfGeometry","releaseStatesOfProgram","resetDefaultState","WebGLBufferRenderer","info","mode","setMode","drawArrays","renderInstances","primcount","methodName","WebGLCapabilities","maxAnisotropy","getMaxAnisotropy","MAX_TEXTURE_MAX_ANISOTROPY_EXT","getMaxPrecision","getShaderPrecisionFormat","WebGL2RenderingContext","WebGL2ComputeRenderingContext","maxPrecision","logarithmicDepthBuffer","maxTextures","maxVertexTextures","maxTextureSize","maxCubemapSize","maxAttributes","maxVertexUniforms","maxVaryings","maxFragmentUniforms","vertexTextures","floatFragmentTextures","floatVertexTextures","maxSamples","WebGLClipping","globalState","numGlobalPlanes","localClippingEnabled","renderingShadows","viewNormalMatrix","numPlanes","numIntersection","init","enableLocalClipping","projectPlanes","beginShadows","endShadows","resetGlobalState","setState","useCache","materialProperties","nGlobal","lGlobal","dstArray","clippingState","skipTransform","nPlanes","flatSize","viewMatrix","i4","WebGLCubeMaps","mapTextureMapping","has","cubemap","currentRenderList","getRenderList","currentRenderState","getRenderState","setRenderList","setRenderState","onTextureDispose","WebGLExtensions","getExtension","WebGLGeometries","wireframeAttributes","onGeometryDispose","buffergeometry","memory","_bufferGeometry","updateWireframeAttribute","geometryIndex","geometryPosition","previousAttribute","getWireframeAttribute","currentAttribute","WebGLIndexedBufferRenderer","drawElements","WebGLInfo","calls","triangles","lines","instanceCount","programs","autoReset","numericalSort","absNumericalSort","WebGLMorphtargets","influencesList","workInfluences","objectInfluences","influences","sort","MAX_SAFE_INTEGER","morphInfluencesSum","morphBaseInfluence","getUniforms","setValue","WebGLObjects","updateMap","DataTexture2DArray","wrapR","isDataTexture2DArray","DataTexture3D","isDataTexture3D","emptyTexture","emptyTexture2dArray","emptyTexture3d","emptyCubeTexture","arrayCacheF32","arrayCacheI32","mat4array","mat3array","mat2array","flatten","nBlocks","blockSize","firstElem","arraysEqual","allocTexUnits","allocateTextureUnit","setValueV1f","uniform1f","addr","setValueV2f","uniform2f","uniform2fv","setValueV3f","uniform3f","uniform3fv","setValueV4f","uniform4f","uniform4fv","setValueM2","uniformMatrix2fv","setValueM3","uniformMatrix3fv","setValueM4","uniformMatrix4fv","setValueT1","unit","uniform1i","safeSetTexture2D","setValueT2DArray1","setTexture2DArray","setValueT3D1","setTexture3D","setValueT6","safeSetTextureCube","setValueV1i","setValueV2i","uniform2iv","setValueV3i","uniform3iv","setValueV4i","uniform4iv","setValueV1ui","uniform1ui","getSingularSetter","setValueV1fArray","uniform1fv","setValueV1iArray","uniform1iv","setValueV2iArray","setValueV3iArray","setValueV4iArray","setValueV2fArray","setValueV3fArray","setValueV4fArray","setValueM2Array","setValueM3Array","setValueM4Array","setValueT1Array","units","setValueT6Array","getPureArraySetter","SingleUniform","activeInfo","PureArrayUniform","updateCache","StructuredUniform","seq","RePathPart","addUniform","container","uniformObject","parseUniform","path","pathLength","lastIndex","match","matchEnd","idIsIndex","subscript","next","WebGLUniforms","getProgramParameter","getActiveUniform","getUniformLocation","setOptional","upload","seqWithValue","WebGLShader","createShader","shaderSource","compileShader","programIdCount","addLineNumbers","split","join","getEncodingComponents","getShaderErrors","status","getShaderParameter","getShaderInfoLog","trim","getShaderSource","getTexelDecodingFunction","functionName","getTexelEncodingFunction","getToneMappingFunction","toneMappingName","generateExtensions","chunks","extensionDerivatives","envMapCubeUV","tangentSpaceNormalMap","shaderID","extensionFragDepth","rendererExtensionFragDepth","extensionDrawBuffers","rendererExtensionDrawBuffers","extensionShaderTextureLOD","rendererExtensionShaderTextureLod","filter","filterEmptyLine","generateDefines","fetchAttributeLocations","getActiveAttrib","getAttribLocation","replaceLightNums","replace","numDirLights","numSpotLights","numRectAreaLights","numPointLights","numHemiLights","numDirLightShadows","numSpotLightShadows","numPointLightShadows","replaceClippingPlaneNums","numClippingPlanes","numClipIntersection","includePattern","resolveIncludes","includeReplacer","include","deprecatedUnrollLoopPattern","unrollLoopPattern","unrollLoops","loopReplacer","deprecatedLoopReplacer","snippet","generatePrecision","precisionstring","generateShadowMapTypeDefine","shadowMapTypeDefine","shadowMapType","generateEnvMapTypeDefine","envMapTypeDefine","envMapMode","generateEnvMapModeDefine","envMapModeDefine","generateEnvMapBlendingDefine","envMapBlendingDefine","WebGLProgram","cacheKey","gammaFactorDefine","customExtensions","customDefines","createProgram","prefixVertex","prefixFragment","versionString","isRawShaderMaterial","shaderName","instancing","instancingColor","supportsVertexTextures","maxBones","useFog","fogExp2","objectSpaceNormalMap","vertexTangents","uvsVertexOnly","useVertexTexture","doubleSided","flipSided","shadowMapEnabled","physicallyCorrectLights","mapEncoding","matcapEncoding","envMapEncoding","emissiveMapEncoding","lightMapEncoding","outputEncoding","depthPacking","vertexGlsl","fragmentGlsl","glVertexShader","glFragmentShader","attachShader","bindAttribLocation","linkProgram","debug","checkShaderErrors","programLog","getProgramInfoLog","vertexLog","fragmentLog","runnable","haveDiagnostics","vertexErrors","fragmentErrors","getError","diagnostics","prefix","deleteShader","cachedUniforms","destroy","deleteProgram","usedTimes","WebGLPrograms","shaderIDs","MeshDepthMaterial","MeshDistanceMaterial","MeshNormalMaterial","MeshLambertMaterial","MeshPhongMaterial","MeshToonMaterial","MeshStandardMaterial","MeshPhysicalMaterial","MeshMatcapMaterial","LineBasicMaterial","LineDashedMaterial","PointsMaterial","ShadowMaterial","SpriteMaterial","parameterNames","getMaxBones","skeleton","bones","nVertexUniforms","nVertexMatrices","getTextureEncodingFromMap","getParameters","shadows","environment","isMeshStandardMaterial","isFogExp2","maxMorphTargets","maxMorphNormals","directional","spot","rectArea","hemi","shadowMap","getProgramCacheKey","acquireProgram","pl","preexistingProgram","releaseProgram","pop","WebGLProperties","painterSortStable","groupOrder","reversePainterSortStable","WebGLRenderList","renderItems","renderItemsIndex","opaque","defaultProgram","getNextRenderItem","renderItem","customOpaqueSort","customTransparentSort","finish","WebGLRenderLists","lists","cameras","list","UniformsCache","light","halfWidth","halfHeight","ShadowUniformsCache","nextVersion","shadowCastingLightsFirst","lightA","lightB","WebGLLights","shadowCache","hash","directionalLength","pointLength","spotLength","rectAreaLength","hemiLength","numDirectionalShadows","numPointShadows","numSpotShadows","ambient","probe","directionalShadow","spotShadow","rectAreaLTC1","rectAreaLTC2","pointShadow","vector3","matrix42","intensity","isAmbientLight","isLightProbe","sh","coefficients","isDirectionalLight","shadowUniforms","bias","normalBias","mapSize","isSpotLight","penumbra","isRectAreaLight","identity","isPointLight","isHemisphereLight","LTC_FLOAT_1","LTC_FLOAT_2","LTC_HALF_1","LTC_HALF_2","WebGLRenderState","lightsArray","shadowsArray","pushLight","pushShadow","shadowLight","setupLights","WebGLRenderStates","renderStates","renderState","isMeshDepthMaterial","isMeshDistanceMaterial","vsm_frag","vsm_vert","WebGLShadowMap","_renderer","_objects","_frustum","_shadowMapSize","_viewportSize","_viewport","_depthMaterials","_distanceMaterials","_materialCache","shadowMaterialVertical","SAMPLE_RATE","HALF_SAMPLE_RATE","shadow_pass","resolution","shadowMaterialHorizonal","HORIZONAL_PASS","fullScreenTri","fullScreenMesh","autoUpdate","activeCubeFace","getActiveCubeFace","activeMipmapLevel","getActiveMipmapLevel","_state","setBlending","setTest","setScissorTest","shadowFrameExtents","getFrameExtents","isPointLightShadow","pars","mapPass","viewportCount","getViewportCount","vp","getViewport","updateMatrices","getFrustum","renderObject","VSMPass","renderBufferDirect","getDepthMaterialVariant","useMorphing","useSkinning","useInstancing","getDistanceMaterialVariant","getDepthMaterial","result","getMaterialVariant","customMaterial","customDepthMaterial","customDistanceMaterial","keyA","keyB","materialsForVariant","cachedMaterial","shadowCamera","intersectsObject","k","kl","depthMaterial","WebGLState","ColorBuffer","locked","currentColorMask","currentColorClear","setMask","colorMask","setLocked","lock","DepthBuffer","currentDepthMask","currentDepthFunc","currentDepthClear","enable","disable","depthMask","setFunc","clearDepth","StencilBuffer","currentStencilMask","currentStencilFunc","currentStencilRef","currentStencilFuncMask","currentStencilFail","currentStencilZFail","currentStencilZPass","currentStencilClear","stencilTest","stencilMask","setOp","stencilOp","clearStencil","colorBuffer","enabledCapabilities","currentProgram","currentBlendingEnabled","currentBlending","currentBlendEquation","currentBlendSrc","currentBlendDst","currentBlendEquationAlpha","currentBlendSrcAlpha","currentBlendDstAlpha","currentPremultipledAlpha","currentFlipSided","currentCullFace","currentLineWidth","currentPolygonOffsetFactor","currentPolygonOffsetUnits","lineWidthAvailable","glVersion","currentTextureSlot","currentBoundTextures","currentScissor","currentViewport","createTexture","bindTexture","texParameteri","texImage2D","emptyTextures","setFlipSided","setCullFace","useProgram","equationToGL","MIN_EXT","MAX_EXT","factorToGL","blendFuncSeparate","blendFunc","blendEquationSeparate","setMaterial","frontFaceCW","setPolygonOffset","frontFace","cullFace","setLineWidth","lineWidth","factor","activeTexture","webglSlot","webglType","webglTexture","boundTexture","unbindTexture","compressedTexImage2D","apply","texImage3D","WebGLTextures","_gl","utils","_videoTextures","useOffscreenCanvas","OffscreenCanvas","err","createCanvas","resizeImage","needsPowerOfTwo","needsNewCanvas","maxSize","HTMLImageElement","ImageBitmap","textureNeedsPowerOfTwo","textureNeedsGenerateMipmaps","supportsMips","generateMipmap","textureProperties","__maxMipLevel","LOG2E","getInternalFormat","internalFormatName","glFormat","glType","filterFallback","deallocateTexture","isVideoTexture","onRenderTargetDispose","deallocateRenderTarget","__webglInit","deleteTexture","__webglTexture","renderTargetProperties","deleteFramebuffer","__webglFramebuffer","__webglDepthbuffer","deleteRenderbuffer","__webglMultisampledFramebuffer","__webglColorRenderbuffer","__webglDepthRenderbuffer","textureUnits","resetTextureUnits","textureUnit","setTexture2D","slot","updateVideoTexture","__version","complete","uploadTexture","setTextureCube","uploadCubeTexture","wrappingToGL","filterToGL","setTextureParameters","textureType","__currentAnisotropy","texParameterf","TEXTURE_MAX_ANISOTROPY_EXT","initTexture","pixelStorei","convert","glInternalFormat","mipmap","isDepthTexture","isCompressedTexture","isCompressed","cubeImage","mipmapImage","setupFrameBufferTexture","framebuffer","attachment","textureTarget","bindFramebuffer","framebufferTexture2D","setupRenderBufferStorage","renderbuffer","isMultisample","bindRenderbuffer","getRenderTargetSamples","renderbufferStorageMultisample","renderbufferStorage","framebufferRenderbuffer","setupDepthTexture","isCube","webglDepthTexture","setupDepthRenderbuffer","createRenderbuffer","setupRenderTarget","createFramebuffer","updateRenderTargetMipmap","updateMultisampleRenderTarget","blitFramebuffer","warnedTexture2D","warnedTextureCube","WebGLUtils","HALF_FLOAT_OES","COMPRESSED_RGB_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT3_EXT","COMPRESSED_RGBA_S3TC_DXT5_EXT","COMPRESSED_RGB_PVRTC_4BPPV1_IMG","COMPRESSED_RGB_PVRTC_2BPPV1_IMG","COMPRESSED_RGBA_PVRTC_4BPPV1_IMG","COMPRESSED_RGBA_PVRTC_2BPPV1_IMG","COMPRESSED_RGB_ETC1_WEBGL","COMPRESSED_RGB8_ETC2","COMPRESSED_RGBA8_ETC2_EAC","UNSIGNED_INT_24_8_WEBGL","ArrayCamera","isArrayCamera","Group","isGroup","WebXRController","_targetRay","_grip","_hand","getHandSpace","joints","inputState","pinching","window","XRHand","LITTLE_PHALANX_TIP","joint","getTargetRaySpace","getGripSpace","disconnect","inputSource","referenceSpace","inputPose","gripPose","handPose","targetRay","grip","hand","jointPose","getJointPose","transform","jointRadius","indexTip","INDEX_PHALANX_TIP","thumbTip","THUMB_PHALANX_TIP","distanceToPinch","threshold","handedness","getPose","targetRaySpace","gripSpace","WebXRManager","framebufferScaleFactor","referenceSpaceType","pose","controllers","inputSourcesMap","Map","cameraL","cameraR","cameraVR","_currentDepthNear","_currentDepthFar","isPresenting","getController","controller","getControllerGrip","getHand","onSessionEvent","onSessionEnd","forEach","setFramebuffer","animation","onRequestReferenceSpace","setFramebufferScaleFactor","setReferenceSpaceType","getReferenceSpace","setSession","getContextAttributes","xrCompatible","makeXRCompatible","layerInit","antialias","baseLayer","XRWebGLLayer","updateRenderState","requestReferenceSpace","then","updateInputSources","inputSources","removed","added","cameraLPos","cameraRPos","setProjectionFromUnion","ipd","projL","projR","topFov","bottomFov","leftFov","rightFov","zOffset","xOffset","near2","far2","left2","right2","top2","bottom2","updateCamera","getCamera","depthNear","depthFar","onAnimationFrameCallback","getViewerPose","views","cameraVRNeedsUpdate","WebGLMaterials","refreshFogUniforms","isFog","density","refreshMaterialUniforms","pixelRatio","refreshUniformsCommon","isMeshLambertMaterial","refreshUniformsLambert","isMeshToonMaterial","refreshUniformsToon","isMeshPhongMaterial","refreshUniformsPhong","isMeshPhysicalMaterial","refreshUniformsPhysical","refreshUniformsStandard","isMeshMatcapMaterial","refreshUniformsMatcap","refreshUniformsDepth","refreshUniformsDistance","isMeshNormalMaterial","refreshUniformsNormal","isLineBasicMaterial","refreshUniformsLine","isLineDashedMaterial","refreshUniformsDash","isPointsMaterial","refreshUniformsPoints","isSpriteMaterial","refreshUniformsSprites","isShadowMaterial","uvScaleMap","uv2ScaleMap","WebGLRenderer","_context","_alpha","_depth","_stencil","_antialias","_premultipliedAlpha","_preserveDrawingBuffer","preserveDrawingBuffer","_powerPreference","powerPreference","_failIfMajorPerformanceCaveat","failIfMajorPerformanceCaveat","domElement","sortObjects","toneMappingExposure","_this","_isContextLost","_framebuffer","_currentActiveCubeFace","_currentActiveMipmapLevel","_currentRenderTarget","_currentFramebuffer","_currentMaterialId","_currentCamera","_currentArrayCamera","_currentViewport","_currentScissor","_currentScissorTest","_width","_height","_pixelRatio","_opaqueSort","_transparentSort","_scissor","_scissorTest","_clippingEnabled","_localClippingEnabled","_projScreenMatrix","_vector3","_emptyScene","overrideMaterial","getTargetPixelRatio","contextNames","contextAttributes","contextName","onContextLost","onContextRestore","isWebGL1Renderer","shift","message","programCache","renderLists","morphtargets","bufferRenderer","indexedBufferRenderer","initGLContext","forceContextLoss","loseContext","forceContextRestore","restoreContext","getPixelRatio","setPixelRatio","updateStyle","setViewport","getDrawingBufferSize","setDrawingBufferSize","getCurrentViewport","getScissor","setScissor","getScissorTest","boolean","setOpaqueSort","method","setTransparentSort","bits","preventDefault","onMaterialDispose","deallocateMaterial","releaseMaterialProgramReference","programInfo","renderObjectImmediate","renderBufferImmediate","hasPositions","hasNormals","hasUvs","hasColors","positionArray","normalArray","uvArray","colorArray","setProgram","rangeFactor","dataCount","rangeStart","rangeCount","drawStart","drawEnd","drawCount","isLineSegments","isLineLoop","isSprite","compile","compiled","material2","initMaterial","setFromProjectionMatrix","projectObject","opaqueObjects","transparentObjects","renderObjects","isLOD","intersectsSprite","isImmediateRenderObject","camera2","lightsStateVersion","programCacheKey","programChange","needsLights","materialNeedsLights","progUniforms","uniformsList","refreshProgram","refreshMaterial","refreshLights","p_uniforms","m_uniforms","uCamPos","cameraPosition","isOrthographicCamera","boneTexture","boneMatrices","boneTextureSize","markUniformsLightsNeedsUpdate","readRenderTargetPixels","activeCubeFaceIndex","restore","textureFormat","checkFramebufferStatus","readPixels","copyFramebufferToTexture","level","levelScale","copyTexImage2D","copyTextureToTexture","srcTexture","dstTexture","texSubImage2D","compressedTexSubImage2D","__THREE_DEVTOOLS__","CustomEvent","detail","WebGL1Renderer","FogExp2","Fog","Scene","InterleavedBuffer","isInterleavedBuffer","arrayBuffers","_uuid","ib","_vector$6","InterleavedBufferAttribute","interleavedBuffer","interleavedBuffers","_geometry","_intersectPoint","_worldScale","_mvPosition","_alignedPosition","_rotatedPosition","_viewWorldMatrix","_vA$1","_vB$1","_vC$1","_uvA$1","_uvB$1","_uvC$1","Sprite","float32Array","setFromMatrixScale","transformVertex","vertexPosition","mvPosition","_v1$4","_v2$2","LOD","_currentLevel","levels","addLevel","getCurrentLevel","getObjectForDistance","SkinnedMesh","bindMode","bindMatrix","bindMatrixInverse","bind","calculateInverses","normalizeSkinWeights","skinWeight","manhattanLength","basePosition","skinIndex","weight","getComponent","boneIndex","boneInverses","_offsetMatrix","_identityMatrix","Skeleton","bone","isBone","getBoneByName","Bone","_instanceLocalMatrix","_instanceWorldMatrix","_instanceIntersects","_mesh","InstancedMesh","setColorAt","getMatrixAt","raycastTimes","instanceId","setMatrixAt","linecap","linejoin","_start","_end","_inverseMatrix$1","_ray$1","_sphere$2","Line","computeLineDistances","params","localThreshold","localThresholdSq","vStart","vEnd","interSegment","interRay","distSq","distanceSqToSegment","nbVertices","_start$1","_end$1","LineSegments","LineLoop","_inverseMatrix$2","_ray$2","_sphere$3","_position$1","Points","testPoint","rayPointDistanceSq","intersectPoint","closestPointToPoint","distanceToRay","VideoTexture","video","updateVideo","requestVideoFrameCallback","hasVideoFrameCallback","readyState","HAVE_CURRENT_DATA","CompressedTexture","CanvasTexture","isCanvasTexture","DepthTexture","_geometryId","_m1$3","_obj$1","_offset$1","Geometry","vertex","fromBufferGeometry","addFace","areaWeighted","vl","computeFlatVertexNormals","computeMorphNormals","__originalFaceNormal","__originalVertexNormals","tmpGeo","faceNormals","dstNormalsFace","dstNormalsVertex","faceNormal","materialIndexOffset","vertexOffset","vertices1","vertices2","faces1","faces2","colors1","colors2","vertexCopy","faceVertexNormals","faceVertexColors","faceCopy","faceVertexUvs2","uvsCopy","mergeMesh","mergeVertices","verticesMap","unique","changes","precisionPoints","faceIndicesToRemove","idx","diff","sortFacesByMaterialIndex","_id","materialIndexSort","uvs1","newUvs1","newUvs2","normalsHash","colorsHash","uvsHash","hasMaterial","hasFaceUv","hasFaceNormal","hasFaceVertexNormal","hasFaceColor","hasFaceVertexColor","faceType","setBit","getUvIndex","getNormalIndex","getColorIndex","srcVertexNormal","destVertexNormal","BoxGeometry","CircleBufferGeometry","segments","thetaStart","thetaLength","segment","CircleGeometry","CylinderBufferGeometry","radiusTop","radiusBottom","radialSegments","openEnded","indexArray","generateTorso","generateCap","slope","indexRow","sinTheta","cosTheta","centerIndexStart","centerIndexEnd","CylinderGeometry","ConeGeometry","ConeBufferGeometry","PolyhedronBufferGeometry","vertexBuffer","uvBuffer","subdivide","applyRadius","generateUVs","getVertexByIndex","subdivideFace","cols","aj","bj","rows","pushVertex","azimuth","inclination","correctUVs","correctSeam","centroid","uvA","uvB","uvC","azi","correctUV","DodecahedronBufferGeometry","DodecahedronGeometry","_v0$2","_v1$5","_normal$1","_triangle","EdgesGeometry","thresholdAngle","thresholdDot","indexAttr","positionAttr","indexCount","indexArr","vertKeys","hashes","edgeData","jNext","vecHash0","vecHash1","reverseHash","index0","Earcut","triangulate","holeIndices","dim","hasHoles","outerLen","outerNode","linkedList","prev","invSize","eliminateHoles","earcutLinked","clockwise","last","signedArea","insertNode","removeNode","filterPoints","again","steiner","area","ear","pass","indexCurve","isEarHashed","isEar","cureLocalIntersections","splitEarcut","pointInTriangle","minTX","minTY","maxTX","maxTY","zOrder","prevZ","nextZ","locallyInside","isValidDiagonal","splitPolygon","queue","getLeftmost","compareX","eliminateHole","hole","findHoleBridge","hx","hy","mx","my","tanMin","sectorContainsSector","sortLinked","tail","numMerges","pSize","qSize","inSize","leftmost","px","py","intersectsPolygon","middleInside","q1","q2","o1","o2","o3","o4","onSegment","num","inside","Node","an","bp","sum","ShapeUtils","contour","isClockWise","pts","triangulateShape","holes","removeDupEndPts","addContour","holeIndex","ExtrudeBufferGeometry","verticesArray","addShape","placeholder","curveSegments","steps","bevelEnabled","bevelThickness","bevelSize","bevelOffset","bevelSegments","extrudePath","uvgen","UVGenerator","WorldUVGenerator","amount","extrudePts","extrudeByPath","splineTube","binormal","position2","getSpacedPoints","computeFrenetFrames","shapePoints","extractPoints","reverse","hl","ahole","concat","scalePt2","pt","vec","vlen","flen","getBevelVec","inPt","inPrev","inNext","v_trans_x","v_trans_y","shrink_by","v_prev_x","v_prev_y","v_next_x","v_next_y","v_prev_lensq","collinear0","v_prev_len","v_next_len","ptPrevShift_x","ptPrevShift_y","ptNextShift_x","ptNextShift_y","sf","v_trans_lensq","direction_eq","contourMovements","holesMovements","oneHoleMovements","verticesMovements","bs","vert","binormals","buildLidFaces","buildSideFaces","layer","f3","layeroffset","sidewalls","sl","slen1","slen2","f4","addVertex","nextIndex","generateTopUV","addUV","generateSideWallUV","vector2","indexA","indexB","indexC","a_x","a_y","b_x","b_y","c_x","c_y","indexD","a_z","b_z","c_z","d_x","d_y","d_z","ExtrudeGeometry","toJSON$1","IcosahedronBufferGeometry","IcosahedronGeometry","LatheBufferGeometry","phiStart","phiLength","inverseSegments","base","n1","n2","LatheGeometry","OctahedronBufferGeometry","OctahedronGeometry","ParametricBufferGeometry","func","slices","stacks","pu","pv","sliceCount","ParametricGeometry","PlaneGeometry","PolyhedronGeometry","RingBufferGeometry","innerRadius","outerRadius","thetaSegments","phiSegments","radiusStep","thetaSegmentLevel","RingGeometry","ShapeBufferGeometry","indexOffset","shapeVertices","shapeHoles","shapeHole","toJSON$2","ShapeGeometry","toJSON$3","SphereBufferGeometry","thetaEnd","grid","verticesRow","uOffset","SphereGeometry","TetrahedronBufferGeometry","TetrahedronGeometry","TextBufferGeometry","text","font","isFont","generateShapes","TextGeometry","TorusBufferGeometry","tube","tubularSegments","arc","TorusGeometry","TorusKnotBufferGeometry","P1","P2","B","T","N","calculatePositionOnCurve","cu","su","quOverP","cs","TorusKnotGeometry","heightScale","TubeBufferGeometry","closed","frames","tangents","P","generateBufferData","generateSegment","generateIndices","getPointAt","TubeGeometry","taper","bufferGeometry","WireframeGeometry","edge","edges","edge1","edge2","o","ol","Geometries","freeze","__proto__","RawShaderMaterial","ior","Materials","AnimationUtils","arraySlice","from","to","isTypedArray","convertArray","forceClone","ArrayBuffer","isView","DataView","getKeyframeOrder","times","compareTime","sortedArray","nValues","srcOffset","flattenJSON","jsonKeys","valuePropertyName","subclip","sourceClip","startFrame","endFrame","fps","clip","tracks","track","valueSize","getValueSize","minStartTime","resetDuration","makeClipAdditive","targetClip","referenceFrame","referenceClip","numTracks","referenceTime","referenceTrack","referenceTrackType","ValueTypeName","targetTrack","find","referenceOffset","referenceValueSize","createInterpolant","isInterpolantFactoryMethodGLTFCubicSpline","targetOffset","targetValueSize","referenceValue","startIndex","endIndex","interpolant","evaluate","resultBuffer","referenceQuat","numTimes","valueStart","multiplyQuaternionsFlat","valueEnd","blendMode","Interpolant","parameterPositions","sampleValues","sampleSize","_cachedIndex","pp","validate_interval","seek","linear_scan","forward_scan","giveUpAt","afterEnd_","t1global","beforeStart_","mid","intervalChanged_","interpolate_","settings","DefaultSettings_","getSettings_","copySampleValue_","CubicInterpolant","_weightPrev","_offsetPrev","_weightNext","_offsetNext","endingStart","endingEnd","iPrev","iNext","tPrev","tNext","halfDt","o0","oP","oN","wP","wN","ppp","sP","sN","LinearInterpolant","offset1","offset0","weight1","weight0","DiscreteInterpolant","KeyframeTrack","interpolation","TimeBufferType","ValueBufferType","setInterpolation","DefaultInterpolation","trackType","json","getInterpolation","InterpolantFactoryMethodDiscrete","InterpolantFactoryMethodLinear","InterpolantFactoryMethodSmooth","factoryMethod","timeOffset","timeScale","startTime","endTime","nKeys","validate","valid","prevTime","currTime","optimize","smoothInterpolation","writeIndex","keep","timeNext","offsetP","offsetN","readOffset","writeOffset","TypedKeyframeTrack","BooleanKeyframeTrack","ColorKeyframeTrack","NumberKeyframeTrack","QuaternionLinearInterpolant","slerpFlat","QuaternionKeyframeTrack","StringKeyframeTrack","VectorKeyframeTrack","AnimationClip","duration","getTrackTypeForValueTypeName","typeName","toLowerCase","parseKeyframeTrack","jsonTracks","frameTime","clipTracks","CreateFromMorphTargetSequence","morphTargetSequence","noLoop","numMorphTargets","findByName","objectOrClipArray","clipArray","animations","CreateClipsFromMorphTargetSequences","animationToMorphTargets","pattern","parts","animationMorphTargets","clips","parseAnimation","addNonemptyTrack","trackName","animationKeys","propertyName","destTracks","clipName","hierarchyTracks","hierarchy","morphTargetNames","morphTargetName","animationKey","boneName","Cache","files","file","LoadingManager","onLoad","onProgress","onError","isLoading","itemsLoaded","itemsTotal","urlModifier","handlers","onStart","itemStart","itemEnd","itemError","resolveURL","setURLModifier","addHandler","regex","loader","removeHandler","getHandler","global","DefaultLoadingManager","Loader","manager","crossOrigin","withCredentials","resourcePath","requestHeader","load","loadAsync","Promise","resolve","reject","setCrossOrigin","setWithCredentials","setPath","setResourcePath","setRequestHeader","loading","FileLoader","setTimeout","dataUriRegex","dataUriRegexResult","request","mimeType","isBase64","decodeURIComponent","atob","response","responseType","charCodeAt","Blob","parser","DOMParser","parseFromString","XMLHttpRequest","open","callbacks","overrideMimeType","header","send","setResponseType","setMimeType","AnimationLoader","CompressedTextureLoader","loaded","loadTexture","texDatas","mipmapCount","isCubemap","ImageLoader","onImageLoad","onImageError","substr","CubeTextureLoader","urls","DataTextureLoader","texData","TextureLoader","isJPEG","search","Curve","arcLengthDivisions","getPoint","optionalTarget","getUtoTmapping","getPoints","divisions","getLength","lengths","getLengths","cacheArcLengths","current","updateArcLengths","arcLengths","targetArcLength","comparison","lengthBefore","lengthAfter","segmentLength","segmentFraction","getTangent","t2","pt1","pt2","getTangentAt","mat","MAX_VALUE","tz","makeRotationAxis","fromJSON","EllipseCurve","aX","aY","xRadius","yRadius","aStartAngle","aEndAngle","aClockwise","aRotation","isEllipseCurve","twoPi","deltaAngle","samePoints","ArcCurve","aRadius","isArcCurve","CubicPoly","c0","initCatmullRom","x3","tension","initNonuniformCatmullRom","dt0","dt1","dt2","calc","t3","pz","CatmullRomCurve3","curveType","isCatmullRomCurve3","intPoint","CatmullRom","QuadraticBezierP0","QuadraticBezierP1","QuadraticBezierP2","QuadraticBezier","CubicBezierP0","CubicBezierP1","CubicBezierP2","CubicBezierP3","CubicBezier","CubicBezierCurve","v3","isCubicBezierCurve","CubicBezierCurve3","isCubicBezierCurve3","LineCurve","isLineCurve","LineCurve3","isLineCurve3","QuadraticBezierCurve","isQuadraticBezierCurve","QuadraticBezierCurve3","isQuadraticBezierCurve3","SplineCurve","isSplineCurve","Curves","CurvePath","curves","autoClose","curve","closePath","startPoint","endPoint","curveLengths","getCurveLengths","lens","cacheLengths","sums","Path","currentPoint","moveTo","lineTo","quadraticCurveTo","aCPx","aCPy","bezierCurveTo","aCP1x","aCP1y","aCP2x","aCP2y","splineThru","npts","absarc","absellipse","ellipse","firstPoint","lastPoint","Shape","getPointsHoles","holesPts","Light","HemisphereLight","LightShadow","_frameExtents","_viewportCount","_viewports","_lightPositionWorld","_lookTarget","shadowMatrix","projScreenMatrix","lookTarget","lightPositionWorld","viewportIndex","SpotLightShadow","isSpotLightShadow","SpotLight","power","PointLightShadow","_cubeDirections","_cubeUps","PointLight","OrthographicCamera","scaleW","scaleH","makeOrthographic","DirectionalLightShadow","isDirectionalLightShadow","DirectionalLight","AmbientLight","RectAreaLight","SphericalHarmonics3","coeff","shBasis","LightProbe","MaterialLoader","getTexture","shading","setTextures","LoaderUtils","decodeText","TextDecoder","decode","fromCharCode","escape","extractUrlBase","lastIndexOf","InstancedBufferGeometry","InstancedBufferAttribute","BufferGeometryLoader","interleavedBufferMap","arrayBufferMap","getInterleavedBuffer","getArrayBuffer","TYPED_ARRAYS","arrayBuffer","typedArray","bufferAttribute","bufferAttributeConstr","drawcalls","offsets","ObjectLoader","parseShape","parseGeometries","parseImages","parseTextures","parseMaterials","parseObject","parseAnimations","geometryShapes","bufferGeometryLoader","details","loadImage","currentUrl","parseConstant","TEXTURE_MAPPING","TEXTURE_WRAPPING","TEXTURE_FILTER","getGeometry","getMaterial","ImageBitmapLoader","createImageBitmap","fetch","isImageBitmapLoader","setOptions","fetchOptions","credentials","res","blob","imageBitmap","catch","ShapePath","subPaths","currentPath","toShapes","isCCW","noHoles","toShapesNoHoles","inSubpaths","tmpPath","tmpShape","isPointInsidePolygon","inPolygon","polyLen","edgeLowPt","edgeHighPt","edgeDx","edgeDy","perpEdge","solid","holesFirst","betterShapeHoles","newShapes","newShapeHoles","mainIdx","tmpPoints","ambiguous","toChange","sIdx","sLen","sho","hIdx","ho","hole_unassigned","s2Idx","froms","tos","tmpHoles","Font","paths","createPaths","chars","line_height","yMax","yMin","underlineThickness","char","ret","createPath","glyph","glyphs","familyName","cpx","cpy","cpx1","cpy1","cpx2","cpy2","outline","_cachedOutline","action","ha","FontLoader","substring","AudioContext","webkitAudioContext","AudioLoader","bufferCopy","decodeAudioData","audioBuffer","HemisphereLightProbe","sky","ground","isHemisphereLightProbe","AmbientLightProbe","isAmbientLightProbe","_eyeRight","_eyeLeft","StereoCamera","eyeSep","_cache","eyeSepHalf","eyeSepOnProjection","ymax","xmin","xmax","Clock","autoStart","oldTime","elapsedTime","running","performance","Date","now","getElapsedTime","getDelta","newTime","_position$2","_quaternion$3","_scale$1","_orientation","AudioListener","gain","createGain","connect","destination","timeDelta","_clock","setTargetAtTime","currentTime","positionX","linearRampToValueAtTime","positionY","positionZ","forwardX","forwardY","forwardZ","upX","upY","upZ","setPosition","setOrientation","Audio","getInput","autoplay","detune","loop","loopStart","loopEnd","playbackRate","isPlaying","hasPlaybackControl","sourceType","_startedAt","_progress","_connected","filters","audioNode","mediaElement","createMediaElementSource","mediaStream","createMediaStreamSource","play","delay","createBufferSource","onended","onEnded","setDetune","setPlaybackRate","getOutput","getFilters","setFilters","_position$3","_quaternion$4","_scale$2","_orientation$1","PositionalAudio","panner","createPanner","panningModel","refDistance","rolloffFactor","distanceModel","maxDistance","coneInnerAngle","coneOuterAngle","coneOuterGain","orientationX","orientationY","orientationZ","AudioAnalyser","audio","fftSize","analyser","createAnalyser","frequencyBinCount","getByteFrequencyData","getFrequencyData","PropertyMixer","binding","mixFunction","mixFunctionAdditive","setIdentity","_slerp","_slerpAdditive","_setAdditiveIdentityQuaternion","_workIndex","_select","_setAdditiveIdentityOther","_lerp","_lerpAdditive","_setAdditiveIdentityNumeric","_mixBufferRegion","_mixBufferRegionAdditive","_setIdentity","_origIndex","_addIndex","cumulativeWeight","cumulativeWeightAdditive","useCount","referenceCount","accumulate","accuIndex","currentWeight","mix","accumulateAdditive","weightAdditive","originalValueOffset","saveOriginalState","getValue","restoreOriginalState","targetIndex","workOffset","_RESERVED_CHARS_RE","_reservedRe","RegExp","_wordChar","_wordCharOrDot","_directoryRe","_nodeRe","_objectRe","_propertyRe","_trackRe","_supportedObjectNames","Composite","targetGroup","optionalParsedPath","parsedPath","PropertyBinding","parseTrackName","_targetGroup","_bindings","subscribe_","firstValidIndex","nCachedObjects_","bindings","unbind","rootNode","node","findNode","nodeName","root","isAnimationObjectGroup","sanitizeNodeName","matches","results","objectName","objectIndex","propertyIndex","lastDot","searchNodeSubtree","childNode","subTreeNode","_getValue_unavailable","_setValue_unavailable","BindingType","Direct","EntireArray","ArrayElement","HasFromToArray","Versioning","None","NeedsUpdate","MatrixWorldNeedsUpdate","GetterByBindingType","getValue_direct","getValue_array","resolvedProperty","getValue_arrayElement","getValue_toArray","SetterByBindingTypeAndVersioning","setValue_direct","targetObject","setValue_direct_setNeedsUpdate","setValue_direct_setMatrixWorldNeedsUpdate","setValue_array","dest","setValue_array_setNeedsUpdate","setValue_array_setMatrixWorldNeedsUpdate","setValue_arrayElement","setValue_arrayElement_setNeedsUpdate","setValue_arrayElement_setMatrixWorldNeedsUpdate","setValue_fromArray","setValue_fromArray_setNeedsUpdate","setValue_fromArray_setMatrixWorldNeedsUpdate","getValue_unbound","targetArray","sourceArray","nodeProperty","versioning","bindingType","_getValue_unbound","_setValue_unbound","AnimationObjectGroup","_indicesByUUID","_paths","_parsedPaths","_bindingsIndicesByPath","stats","total","inUse","bindingsPerObject","indicesByUUID","parsedPaths","nBindings","knownObject","nObjects","nCachedObjects","firstActiveIndex","lastCachedObject","bindingsForPath","lastCached","lastCachedIndex","firstActiveObject","firstActive","uncache","lastObject","indicesByPath","unsubscribe_","lastBindingsIndex","lastBindings","lastBindingsPath","AnimationAction","mixer","localRoot","_mixer","_clip","_localRoot","nTracks","interpolants","interpolantSettings","_interpolantSettings","_interpolants","_propertyBindings","_cacheIndex","_byClipCacheIndex","_timeScaleInterpolant","_weightInterpolant","_loopCount","_startTime","_effectiveTimeScale","_effectiveWeight","repetitions","paused","clampWhenFinished","zeroSlopeAtStart","zeroSlopeAtEnd","_activateAction","_deactivateAction","stopFading","stopWarping","_isActiveAction","_scheduleFading","fadeOutAction","warp","fadeOut","fadeIn","fadeInDuration","fadeOutDuration","startEndRatio","endStartRatio","fadeInAction","crossFadeFrom","weightInterpolant","_takeBackControlInterpolant","startTimeScale","endTimeScale","_lendControlInterpolant","timeScaleInterpolant","_root","deltaTime","timeDirection","_updateWeight","timeRunning","_updateTimeScale","clipTime","_updateTime","propertyMixers","interpolantValue","loopCount","pingPong","_setEndings","handle_stop","loopDelta","pending","atStart","atEnd","weightNow","weightThen","AnimationMixer","_initMemoryManager","_accuIndex","_bindAction","prototypeAction","rootUuid","bindingsByRoot","_bindingsByRootAndName","bindingsByName","_addInactiveBinding","clipUuid","actionsForClip","_actionsByClip","knownActions","_addInactiveAction","_lendBinding","_lendAction","_takeBackBinding","_takeBackAction","_actions","_nActiveActions","_nActiveBindings","_controlInterpolants","_nActiveControlInterpolants","actions","controlInterpolants","actionsByClip","actionByRoot","_removeInactiveAction","lastInactiveAction","cacheIndex","knownActionsForClip","lastKnownAction","byClipCacheIndex","_removeInactiveBindingsForAction","_removeInactiveBinding","prevIndex","lastActiveIndex","firstInactiveAction","firstInactiveIndex","lastActiveAction","bindingByName","propBinding","lastInactiveBinding","firstInactiveBinding","lastActiveBinding","_controlInterpolantsResultBuffer","__cacheIndex","lastActiveInterpolant","clipAction","optionalRoot","clipObject","existingAction","newAction","stopAllAction","nActions","_update","setTime","timeInSeconds","getRoot","uncacheClip","actionsToRemove","uncacheRoot","uncacheAction","Uniform","InstancedInterleavedBuffer","GLBufferAttribute","setBuffer","setType","setItemSize","setCount","Raycaster","PointCloud","ascSort","intersectObject","setFromCamera","coords","unproject","intersectObjects","Spherical","other","setFromCartesianCoords","Cylindrical","_vector$7","Box2","_startP","_startEnd","Line3","clampToLine","startEnd2","startEnd_startP","closestPointToPointParameter","ImmediateRenderObject","_vector$8","SpotLightHelper","cone","coneLength","coneWidth","_vector$9","_boneMatrix","_matrixWorldInv","SkeletonHelper","getBoneList","isSkeletonHelper","boneList","PointLightHelper","sphereSize","_vector$a","_color1","_color2","HemisphereLightHelper","GridHelper","PolarGridHelper","radials","circles","_v1$6","_v2$3","_v3$1","DirectionalLightHelper","lightPlane","targetLine","_vector$b","_camera","CameraHelper","pointMap","colorFrustum","colorCone","colorUp","colorTarget","colorCross","addLine","addPoint","setPoint","_box$3","BoxHelper","Box3Helper","PlaneHelper","positions2","_axis","_lineGeometry","_coneGeometry","ArrowHelper","headLength","headWidth","setDirection","setLength","AxesHelper","LOD_MIN","LOD_MAX","SIZE_MAX","EXTRA_LOD_SIGMA","TOTAL_LODS","MAX_SAMPLES","ENCODINGS","_flatCamera","_createPlanes","_lodPlanes","_sizeLods","_sigmas","_oldTarget","PHI","INV_PHI","_axisDirections","PMREMGenerator","_pingPongRenderTarget","_blurMaterial","_getBlurShader","_equirectShader","_cubemapShader","_compileMaterial","sigma","cubeUVRenderTarget","_allocateTargets","_sceneToCubeUV","_blur","_applyPMREM","_cleanup","equirectangular","_fromTexture","_getCubemapShader","_getEquirectShader","outputTarget","_setViewport","_textureToCubeUV","_isLDR","_createRenderTarget","tmpMesh","cubeCamera","upSign","forwardSign","convertSRGBToLinear","maxComponent","fExp","log2","col","poleAxis","lodIn","lodOut","pingPongRenderTarget","_halfBlur","targetIn","targetOut","sigmaRadians","blurMaterial","STANDARD_DEVIATIONS","blurMesh","blurUniforms","pixels","radiansPerPixel","isFinite","sigmaPixels","weights","exp","outputSize","lod","sizeLod","texelSize","cubeFaces","positionSize","uvSize","faceIndexSize","coordinates","fill","shaderMaterial","_getCommonVertexShader","_getEncodings","Face4","LineStrip","LinePieces","NoColors","FaceColors","VertexColors","MeshFaceMaterial","MultiMaterial","Particle","ParticleSystem","PointCloudMaterial","ParticleBasicMaterial","ParticleSystemMaterial","Vertex","DynamicBufferAttribute","Int8Attribute","Uint8Attribute","Uint8ClampedAttribute","Int16Attribute","Uint16Attribute","Int32Attribute","Uint32Attribute","Float32Attribute","Float64Attribute","construct","createPointsGeometry","createGeometry","createSpacedPointsGeometry","fromPoints","ClosedSplineCurve3","SplineCurve3","Spline","initFromArray","getControlPointsArray","reparametrizeByArcLength","AxisHelper","BoundingBoxHelper","EdgesHelper","setColors","WireframeHelper","Handlers","XHRLoader","BinaryTextureLoader","empty","isIntersectionBox","isIntersectionSphere","setFromMatrix","random16","nearestPowerOfTwo","nextPowerOfTwo","flattenToArrayOffset","multiplyVector3","multiplyVector3Array","applyToBufferAttribute","applyToVector3Array","extractPosition","getPosition","multiplyToArray","multiplyVector4","rotateAxis","crossVector","rotateByAxis","makeFrustum","isIntersectionLine","intersectsLine","isIntersectionPlane","getArea","barycoordFromPoint","midpoint","getMidpoint","getPlane","extractAllPoints","extrude","makeGeometry","fromAttribute","distanceToManhattan","manhattanDistanceTo","lengthManhattan","setEulerFromRotationMatrix","setEulerFromQuaternion","getPositionFromMatrix","getScaleFromMatrix","getColumnFromMatrix","applyProjection","computeTangents","applyMatrix","getChildByName","renderDepth","getWorldRotation","eulerOrder","useQuaternion","setDrawMode","drawMode","initBones","setLens","onlyShadow","shadowCameraFov","shadowCameraLeft","shadowCameraRight","shadowCameraTop","shadowCameraBottom","shadowCameraVisible","shadowDarkness","shadowMapWidth","shadowMapHeight","dynamic","setDynamic","copyIndicesArray","setArray","addIndex","addAttribute","addDrawCall","clearDrawCalls","computeOffsets","removeAttribute","maxInstancedCount","linePrecision","getArrays","addShapeList","wrapAround","overdraw","wrapRGB","metal","transparency","clearTarget","animate","getCurrentRenderTarget","getPrecision","resetGLState","supportsFloatTextures","supportsHalfFloatTextures","supportsStandardDerivatives","supportsCompressedTextureS3TC","supportsCompressedTexturePVRTC","supportsBlendMinMax","supportsInstancedArrays","enableScissorTest","addPrePlugin","addPostPlugin","updateShadowMap","setFaceCulling","allocTextureUnit","setTexture","getActiveMipMapLevel","shadowMapCullFace","vr","gammaInput","gammaOutput","toneMappingWhitePoint","renderReverseSided","renderSingleSided","WebGLRenderTargetCube","audioLoader","getData","updateCubeMap","GeometryUtils","geometry1","loadTextureCube","loadCompressedTexture","loadCompressedTextureCube","CanvasRenderer","JSONLoader","SceneUtils","createMultiMaterialObject","detach","LensFlare","revision","OrbitControls","minDistance","minZoom","maxZoom","minPolarAngle","maxPolarAngle","minAzimuthAngle","maxAzimuthAngle","enableDamping","dampingFactor","enableZoom","zoomSpeed","enableRotate","rotateSpeed","enablePan","panSpeed","screenSpacePanning","keyPanSpeed","autoRotate","autoRotateSpeed","enableKeys","UP","BOTTOM","mouseButtons","touches","ONE","TWO","target0","position0","zoom0","getPolarAngle","spherical","getAzimuthalAngle","saveState","changeEvent","STATE","NONE","quat","setFromUnitVectors","quatInverse","lastPosition","lastQuaternion","twoPI","setFromVector3","rotateLeft","getAutoRotationAngle","sphericalDelta","makeSafe","panOffset","setFromSpherical","zoomChanged","onContextMenu","onPointerDown","onMouseWheel","onTouchStart","onTouchEnd","onTouchMove","ownerDocument","onPointerMove","onPointerUp","onKeyDown","startEvent","endEvent","TOUCH_ROTATE","TOUCH_PAN","TOUCH_DOLLY_PAN","TOUCH_DOLLY_ROTATE","rotateStart","rotateEnd","rotateDelta","panStart","panEnd","panDelta","dollyStart","dollyEnd","dollyDelta","getZoomScale","rotateUp","panLeft","objectMatrix","panUp","pan","deltaX","deltaY","targetDistance","clientHeight","clientWidth","dollyOut","dollyScale","dollyIn","handleMouseDownRotate","clientX","clientY","handleMouseDownDolly","handleMouseDownPan","handleMouseMoveRotate","handleMouseMoveDolly","handleMouseMovePan","handleMouseUp","handleMouseWheel","handleKeyDown","keyCode","handleTouchStartRotate","pageX","pageY","handleTouchStartPan","handleTouchStartDolly","handleTouchStartDollyPan","handleTouchStartDollyRotate","handleTouchMoveRotate","handleTouchMovePan","handleTouchMoveDolly","handleTouchMoveDollyPan","handleTouchMoveDollyRotate","handleTouchEnd","pointerType","onMouseDown","onMouseMove","onMouseUp","mouseAction","button","ctrlKey","metaKey","shiftKey","stopPropagation","tabIndex","MapControls","VRButton","createElement","showEnterVR","currentSession","onSessionStarted","onSessionEnded","textContent","display","cursor","onmouseenter","onmouseleave","onclick","sessionInit","optionalFeatures","navigator","requestSession","disableButton","showWebXRNotFound","stylizeElement","padding","border","borderRadius","textAlign","zIndex","isSessionSupported","supported","isSecureContext","href","location","innerHTML","textDecoration","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","checkedAssets","assetsToAccept","isParcelRequire","WebSocket","hostname","protocol","ws","onmessage","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","parcelRequire","every","generated","js","hmrApply","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","stack","overlay","createErrorOverlay","body","appendChild","getElementById","stackTrace","innerText","getParents","modules","parents","dep","Function","deps","some"],"mappings":"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","file":"main.b0a109ad.9d0a3f4f.js","sourceRoot":"..","sourcesContent":["// threejs.org/license\nconst REVISION = '122';\nconst MOUSE = { LEFT: 0, MIDDLE: 1, RIGHT: 2, ROTATE: 0, DOLLY: 1, PAN: 2 };\nconst TOUCH = { ROTATE: 0, PAN: 1, DOLLY_PAN: 2, DOLLY_ROTATE: 3 };\nconst CullFaceNone = 0;\nconst CullFaceBack = 1;\nconst CullFaceFront = 2;\nconst CullFaceFrontBack = 3;\nconst BasicShadowMap = 0;\nconst PCFShadowMap = 1;\nconst PCFSoftShadowMap = 2;\nconst VSMShadowMap = 3;\nconst FrontSide = 0;\nconst BackSide = 1;\nconst DoubleSide = 2;\nconst FlatShading = 1;\nconst SmoothShading = 2;\nconst NoBlending = 0;\nconst NormalBlending = 1;\nconst AdditiveBlending = 2;\nconst SubtractiveBlending = 3;\nconst MultiplyBlending = 4;\nconst CustomBlending = 5;\nconst AddEquation = 100;\nconst SubtractEquation = 101;\nconst ReverseSubtractEquation = 102;\nconst MinEquation = 103;\nconst MaxEquation = 104;\nconst ZeroFactor = 200;\nconst OneFactor = 201;\nconst SrcColorFactor = 202;\nconst OneMinusSrcColorFactor = 203;\nconst SrcAlphaFactor = 204;\nconst OneMinusSrcAlphaFactor = 205;\nconst DstAlphaFactor = 206;\nconst OneMinusDstAlphaFactor = 207;\nconst DstColorFactor = 208;\nconst OneMinusDstColorFactor = 209;\nconst SrcAlphaSaturateFactor = 210;\nconst NeverDepth = 0;\nconst AlwaysDepth = 1;\nconst LessDepth = 2;\nconst LessEqualDepth = 3;\nconst EqualDepth = 4;\nconst GreaterEqualDepth = 5;\nconst GreaterDepth = 6;\nconst NotEqualDepth = 7;\nconst MultiplyOperation = 0;\nconst MixOperation = 1;\nconst AddOperation = 2;\nconst NoToneMapping = 0;\nconst LinearToneMapping = 1;\nconst ReinhardToneMapping = 2;\nconst CineonToneMapping = 3;\nconst ACESFilmicToneMapping = 4;\nconst CustomToneMapping = 5;\n\nconst UVMapping = 300;\nconst CubeReflectionMapping = 301;\nconst CubeRefractionMapping = 302;\nconst EquirectangularReflectionMapping = 303;\nconst EquirectangularRefractionMapping = 304;\nconst CubeUVReflectionMapping = 306;\nconst CubeUVRefractionMapping = 307;\nconst RepeatWrapping = 1000;\nconst ClampToEdgeWrapping = 1001;\nconst MirroredRepeatWrapping = 1002;\nconst NearestFilter = 1003;\nconst NearestMipmapNearestFilter = 1004;\nconst NearestMipMapNearestFilter = 1004;\nconst NearestMipmapLinearFilter = 1005;\nconst NearestMipMapLinearFilter = 1005;\nconst LinearFilter = 1006;\nconst LinearMipmapNearestFilter = 1007;\nconst LinearMipMapNearestFilter = 1007;\nconst LinearMipmapLinearFilter = 1008;\nconst LinearMipMapLinearFilter = 1008;\nconst UnsignedByteType = 1009;\nconst ByteType = 1010;\nconst ShortType = 1011;\nconst UnsignedShortType = 1012;\nconst IntType = 1013;\nconst UnsignedIntType = 1014;\nconst FloatType = 1015;\nconst HalfFloatType = 1016;\nconst UnsignedShort4444Type = 1017;\nconst UnsignedShort5551Type = 1018;\nconst UnsignedShort565Type = 1019;\nconst UnsignedInt248Type = 1020;\nconst AlphaFormat = 1021;\nconst RGBFormat = 1022;\nconst RGBAFormat = 1023;\nconst LuminanceFormat = 1024;\nconst LuminanceAlphaFormat = 1025;\nconst RGBEFormat = RGBAFormat;\nconst DepthFormat = 1026;\nconst DepthStencilFormat = 1027;\nconst RedFormat = 1028;\nconst RedIntegerFormat = 1029;\nconst RGFormat = 1030;\nconst RGIntegerFormat = 1031;\nconst RGBIntegerFormat = 1032;\nconst RGBAIntegerFormat = 1033;\n\nconst RGB_S3TC_DXT1_Format = 33776;\nconst RGBA_S3TC_DXT1_Format = 33777;\nconst RGBA_S3TC_DXT3_Format = 33778;\nconst RGBA_S3TC_DXT5_Format = 33779;\nconst RGB_PVRTC_4BPPV1_Format = 35840;\nconst RGB_PVRTC_2BPPV1_Format = 35841;\nconst RGBA_PVRTC_4BPPV1_Format = 35842;\nconst RGBA_PVRTC_2BPPV1_Format = 35843;\nconst RGB_ETC1_Format = 36196;\nconst RGB_ETC2_Format = 37492;\nconst RGBA_ETC2_EAC_Format = 37496;\nconst RGBA_ASTC_4x4_Format = 37808;\nconst RGBA_ASTC_5x4_Format = 37809;\nconst RGBA_ASTC_5x5_Format = 37810;\nconst RGBA_ASTC_6x5_Format = 37811;\nconst RGBA_ASTC_6x6_Format = 37812;\nconst RGBA_ASTC_8x5_Format = 37813;\nconst RGBA_ASTC_8x6_Format = 37814;\nconst RGBA_ASTC_8x8_Format = 37815;\nconst RGBA_ASTC_10x5_Format = 37816;\nconst RGBA_ASTC_10x6_Format = 37817;\nconst RGBA_ASTC_10x8_Format = 37818;\nconst RGBA_ASTC_10x10_Format = 37819;\nconst RGBA_ASTC_12x10_Format = 37820;\nconst RGBA_ASTC_12x12_Format = 37821;\nconst RGBA_BPTC_Format = 36492;\nconst SRGB8_ALPHA8_ASTC_4x4_Format = 37840;\nconst SRGB8_ALPHA8_ASTC_5x4_Format = 37841;\nconst SRGB8_ALPHA8_ASTC_5x5_Format = 37842;\nconst SRGB8_ALPHA8_ASTC_6x5_Format = 37843;\nconst SRGB8_ALPHA8_ASTC_6x6_Format = 37844;\nconst SRGB8_ALPHA8_ASTC_8x5_Format = 37845;\nconst SRGB8_ALPHA8_ASTC_8x6_Format = 37846;\nconst SRGB8_ALPHA8_ASTC_8x8_Format = 37847;\nconst SRGB8_ALPHA8_ASTC_10x5_Format = 37848;\nconst SRGB8_ALPHA8_ASTC_10x6_Format = 37849;\nconst SRGB8_ALPHA8_ASTC_10x8_Format = 37850;\nconst SRGB8_ALPHA8_ASTC_10x10_Format = 37851;\nconst SRGB8_ALPHA8_ASTC_12x10_Format = 37852;\nconst SRGB8_ALPHA8_ASTC_12x12_Format = 37853;\nconst LoopOnce = 2200;\nconst LoopRepeat = 2201;\nconst LoopPingPong = 2202;\nconst InterpolateDiscrete = 2300;\nconst InterpolateLinear = 2301;\nconst InterpolateSmooth = 2302;\nconst ZeroCurvatureEnding = 2400;\nconst ZeroSlopeEnding = 2401;\nconst WrapAroundEnding = 2402;\nconst NormalAnimationBlendMode = 2500;\nconst AdditiveAnimationBlendMode = 2501;\nconst TrianglesDrawMode = 0;\nconst TriangleStripDrawMode = 1;\nconst TriangleFanDrawMode = 2;\nconst LinearEncoding = 3000;\nconst sRGBEncoding = 3001;\nconst GammaEncoding = 3007;\nconst RGBEEncoding = 3002;\nconst LogLuvEncoding = 3003;\nconst RGBM7Encoding = 3004;\nconst RGBM16Encoding = 3005;\nconst RGBDEncoding = 3006;\nconst BasicDepthPacking = 3200;\nconst RGBADepthPacking = 3201;\nconst TangentSpaceNormalMap = 0;\nconst ObjectSpaceNormalMap = 1;\n\nconst ZeroStencilOp = 0;\nconst KeepStencilOp = 7680;\nconst ReplaceStencilOp = 7681;\nconst IncrementStencilOp = 7682;\nconst DecrementStencilOp = 7683;\nconst IncrementWrapStencilOp = 34055;\nconst DecrementWrapStencilOp = 34056;\nconst InvertStencilOp = 5386;\n\nconst NeverStencilFunc = 512;\nconst LessStencilFunc = 513;\nconst EqualStencilFunc = 514;\nconst LessEqualStencilFunc = 515;\nconst GreaterStencilFunc = 516;\nconst NotEqualStencilFunc = 517;\nconst GreaterEqualStencilFunc = 518;\nconst AlwaysStencilFunc = 519;\n\nconst StaticDrawUsage = 35044;\nconst DynamicDrawUsage = 35048;\nconst StreamDrawUsage = 35040;\nconst StaticReadUsage = 35045;\nconst DynamicReadUsage = 35049;\nconst StreamReadUsage = 35041;\nconst StaticCopyUsage = 35046;\nconst DynamicCopyUsage = 35050;\nconst StreamCopyUsage = 35042;\n\nconst GLSL1 = \"100\";\nconst GLSL3 = \"300 es\";\n\n/**\n * https://github.com/mrdoob/eventdispatcher.js/\n */\n\nfunction EventDispatcher() {}\n\nObject.assign( EventDispatcher.prototype, {\n\n\taddEventListener: function ( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) this._listeners = {};\n\n\t\tconst listeners = this._listeners;\n\n\t\tif ( listeners[ type ] === undefined ) {\n\n\t\t\tlisteners[ type ] = [];\n\n\t\t}\n\n\t\tif ( listeners[ type ].indexOf( listener ) === - 1 ) {\n\n\t\t\tlisteners[ type ].push( listener );\n\n\t\t}\n\n\t},\n\n\thasEventListener: function ( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) return false;\n\n\t\tconst listeners = this._listeners;\n\n\t\treturn listeners[ type ] !== undefined && listeners[ type ].indexOf( listener ) !== - 1;\n\n\t},\n\n\tremoveEventListener: function ( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) return;\n\n\t\tconst listeners = this._listeners;\n\t\tconst listenerArray = listeners[ type ];\n\n\t\tif ( listenerArray !== undefined ) {\n\n\t\t\tconst index = listenerArray.indexOf( listener );\n\n\t\t\tif ( index !== - 1 ) {\n\n\t\t\t\tlistenerArray.splice( index, 1 );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tdispatchEvent: function ( event ) {\n\n\t\tif ( this._listeners === undefined ) return;\n\n\t\tconst listeners = this._listeners;\n\t\tconst listenerArray = listeners[ event.type ];\n\n\t\tif ( listenerArray !== undefined ) {\n\n\t\t\tevent.target = this;\n\n\t\t\t// Make a copy, in case listeners are removed while iterating.\n\t\t\tconst array = listenerArray.slice( 0 );\n\n\t\t\tfor ( let i = 0, l = array.length; i < l; i ++ ) {\n\n\t\t\t\tarray[ i ].call( this, event );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n} );\n\nconst _lut = [];\n\nfor ( let i = 0; i < 256; i ++ ) {\n\n\t_lut[ i ] = ( i < 16 ? '0' : '' ) + ( i ).toString( 16 );\n\n}\n\nlet _seed = 1234567;\n\nconst MathUtils = {\n\n\tDEG2RAD: Math.PI / 180,\n\tRAD2DEG: 180 / Math.PI,\n\n\tgenerateUUID: function () {\n\n\t\t// http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/21963136#21963136\n\n\t\tconst d0 = Math.random() * 0xffffffff | 0;\n\t\tconst d1 = Math.random() * 0xffffffff | 0;\n\t\tconst d2 = Math.random() * 0xffffffff | 0;\n\t\tconst d3 = Math.random() * 0xffffffff | 0;\n\t\tconst uuid = _lut[ d0 & 0xff ] + _lut[ d0 >> 8 & 0xff ] + _lut[ d0 >> 16 & 0xff ] + _lut[ d0 >> 24 & 0xff ] + '-' +\n\t\t\t_lut[ d1 & 0xff ] + _lut[ d1 >> 8 & 0xff ] + '-' + _lut[ d1 >> 16 & 0x0f | 0x40 ] + _lut[ d1 >> 24 & 0xff ] + '-' +\n\t\t\t_lut[ d2 & 0x3f | 0x80 ] + _lut[ d2 >> 8 & 0xff ] + '-' + _lut[ d2 >> 16 & 0xff ] + _lut[ d2 >> 24 & 0xff ] +\n\t\t\t_lut[ d3 & 0xff ] + _lut[ d3 >> 8 & 0xff ] + _lut[ d3 >> 16 & 0xff ] + _lut[ d3 >> 24 & 0xff ];\n\n\t\t// .toUpperCase() here flattens concatenated strings to save heap memory space.\n\t\treturn uuid.toUpperCase();\n\n\t},\n\n\tclamp: function ( value, min, max ) {\n\n\t\treturn Math.max( min, Math.min( max, value ) );\n\n\t},\n\n\t// compute euclidian modulo of m % n\n\t// https://en.wikipedia.org/wiki/Modulo_operation\n\n\teuclideanModulo: function ( n, m ) {\n\n\t\treturn ( ( n % m ) + m ) % m;\n\n\t},\n\n\t// Linear mapping from range <a1, a2> to range <b1, b2>\n\n\tmapLinear: function ( x, a1, a2, b1, b2 ) {\n\n\t\treturn b1 + ( x - a1 ) * ( b2 - b1 ) / ( a2 - a1 );\n\n\t},\n\n\t// https://en.wikipedia.org/wiki/Linear_interpolation\n\n\tlerp: function ( x, y, t ) {\n\n\t\treturn ( 1 - t ) * x + t * y;\n\n\t},\n\n\t// http://en.wikipedia.org/wiki/Smoothstep\n\n\tsmoothstep: function ( x, min, max ) {\n\n\t\tif ( x <= min ) return 0;\n\t\tif ( x >= max ) return 1;\n\n\t\tx = ( x - min ) / ( max - min );\n\n\t\treturn x * x * ( 3 - 2 * x );\n\n\t},\n\n\tsmootherstep: function ( x, min, max ) {\n\n\t\tif ( x <= min ) return 0;\n\t\tif ( x >= max ) return 1;\n\n\t\tx = ( x - min ) / ( max - min );\n\n\t\treturn x * x * x * ( x * ( x * 6 - 15 ) + 10 );\n\n\t},\n\n\t// Random integer from <low, high> interval\n\n\trandInt: function ( low, high ) {\n\n\t\treturn low + Math.floor( Math.random() * ( high - low + 1 ) );\n\n\t},\n\n\t// Random float from <low, high> interval\n\n\trandFloat: function ( low, high ) {\n\n\t\treturn low + Math.random() * ( high - low );\n\n\t},\n\n\t// Random float from <-range/2, range/2> interval\n\n\trandFloatSpread: function ( range ) {\n\n\t\treturn range * ( 0.5 - Math.random() );\n\n\t},\n\n\t// Deterministic pseudo-random float in the interval [ 0, 1 ]\n\n\tseededRandom: function ( s ) {\n\n\t\tif ( s !== undefined ) _seed = s % 2147483647;\n\n\t\t// Park-Miller algorithm\n\n\t\t_seed = _seed * 16807 % 2147483647;\n\n\t\treturn ( _seed - 1 ) / 2147483646;\n\n\t},\n\n\tdegToRad: function ( degrees ) {\n\n\t\treturn degrees * MathUtils.DEG2RAD;\n\n\t},\n\n\tradToDeg: function ( radians ) {\n\n\t\treturn radians * MathUtils.RAD2DEG;\n\n\t},\n\n\tisPowerOfTwo: function ( value ) {\n\n\t\treturn ( value & ( value - 1 ) ) === 0 && value !== 0;\n\n\t},\n\n\tceilPowerOfTwo: function ( value ) {\n\n\t\treturn Math.pow( 2, Math.ceil( Math.log( value ) / Math.LN2 ) );\n\n\t},\n\n\tfloorPowerOfTwo: function ( value ) {\n\n\t\treturn Math.pow( 2, Math.floor( Math.log( value ) / Math.LN2 ) );\n\n\t},\n\n\tsetQuaternionFromProperEuler: function ( q, a, b, c, order ) {\n\n\t\t// Intrinsic Proper Euler Angles - see https://en.wikipedia.org/wiki/Euler_angles\n\n\t\t// rotations are applied to the axes in the order specified by 'order'\n\t\t// rotation by angle 'a' is applied first, then by angle 'b', then by angle 'c'\n\t\t// angles are in radians\n\n\t\tconst cos = Math.cos;\n\t\tconst sin = Math.sin;\n\n\t\tconst c2 = cos( b / 2 );\n\t\tconst s2 = sin( b / 2 );\n\n\t\tconst c13 = cos( ( a + c ) / 2 );\n\t\tconst s13 = sin( ( a + c ) / 2 );\n\n\t\tconst c1_3 = cos( ( a - c ) / 2 );\n\t\tconst s1_3 = sin( ( a - c ) / 2 );\n\n\t\tconst c3_1 = cos( ( c - a ) / 2 );\n\t\tconst s3_1 = sin( ( c - a ) / 2 );\n\n\t\tswitch ( order ) {\n\n\t\t\tcase 'XYX':\n\t\t\t\tq.set( c2 * s13, s2 * c1_3, s2 * s1_3, c2 * c13 );\n\t\t\t\tbreak;\n\n\t\t\tcase 'YZY':\n\t\t\t\tq.set( s2 * s1_3, c2 * s13, s2 * c1_3, c2 * c13 );\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZXZ':\n\t\t\t\tq.set( s2 * c1_3, s2 * s1_3, c2 * s13, c2 * c13 );\n\t\t\t\tbreak;\n\n\t\t\tcase 'XZX':\n\t\t\t\tq.set( c2 * s13, s2 * s3_1, s2 * c3_1, c2 * c13 );\n\t\t\t\tbreak;\n\n\t\t\tcase 'YXY':\n\t\t\t\tq.set( s2 * c3_1, c2 * s13, s2 * s3_1, c2 * c13 );\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZYZ':\n\t\t\t\tq.set( s2 * s3_1, s2 * c3_1, c2 * s13, c2 * c13 );\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tconsole.warn( 'THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: ' + order );\n\n\t\t}\n\n\t}\n\n};\n\nclass Vector2 {\n\n\tconstructor( x = 0, y = 0 ) {\n\n\t\tObject.defineProperty( this, 'isVector2', { value: true } );\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\n\t}\n\n\tget width() {\n\n\t\treturn this.x;\n\n\t}\n\n\tset width( value ) {\n\n\t\tthis.x = value;\n\n\t}\n\n\tget height() {\n\n\t\treturn this.y;\n\n\t}\n\n\tset height( value ) {\n\n\t\tthis.y = value;\n\n\t}\n\n\tset( x, y ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetScalar( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\n\t\treturn this;\n\n\t}\n\n\tsetX( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t}\n\n\tsetY( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetComponent( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetComponent( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.x, this.y );\n\n\t}\n\n\tcopy( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\n\t\treturn this;\n\n\t}\n\n\tadd( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\n\t\treturn this;\n\n\t}\n\n\taddScalar( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\n\t\treturn this;\n\n\t}\n\n\taddVectors( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\n\t\treturn this;\n\n\t}\n\n\taddScaledVector( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\n\t\treturn this;\n\n\t}\n\n\tsub( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\n\t\treturn this;\n\n\t}\n\n\tsubScalar( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\n\t\treturn this;\n\n\t}\n\n\tsubVectors( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( v ) {\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\n\t\treturn this;\n\n\t}\n\n\tdivide( v ) {\n\n\t\tthis.x /= v.x;\n\t\tthis.y /= v.y;\n\n\t\treturn this;\n\n\t}\n\n\tdivideScalar( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t}\n\n\tapplyMatrix3( m ) {\n\n\t\tconst x = this.x, y = this.y;\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ];\n\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ];\n\n\t\treturn this;\n\n\t}\n\n\tmin( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\n\t\treturn this;\n\n\t}\n\n\tmax( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\n\t\treturn this;\n\n\t}\n\n\tclamp( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampScalar( minVal, maxVal ) {\n\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampLength( min, max ) {\n\n\t\tconst length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t}\n\n\tfloor() {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\n\t\treturn this;\n\n\t}\n\n\tceil() {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\n\t\treturn this;\n\n\t}\n\n\tround() {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\n\t\treturn this;\n\n\t}\n\n\troundToZero() {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\n\t\treturn this;\n\n\t}\n\n\tnegate() {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\n\t\treturn this;\n\n\t}\n\n\tdot( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y;\n\n\t}\n\n\tcross( v ) {\n\n\t\treturn this.x * v.y - this.y * v.x;\n\n\t}\n\n\tlengthSq() {\n\n\t\treturn this.x * this.x + this.y * this.y;\n\n\t}\n\n\tlength() {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y );\n\n\t}\n\n\tmanhattanLength() {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y );\n\n\t}\n\n\tnormalize() {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t}\n\n\tangle() {\n\n\t\t// computes the angle in radians with respect to the positive x-axis\n\n\t\tconst angle = Math.atan2( - this.y, - this.x ) + Math.PI;\n\n\t\treturn angle;\n\n\t}\n\n\tdistanceTo( v ) {\n\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\n\n\t}\n\n\tdistanceToSquared( v ) {\n\n\t\tconst dx = this.x - v.x, dy = this.y - v.y;\n\t\treturn dx * dx + dy * dy;\n\n\t}\n\n\tmanhattanDistanceTo( v ) {\n\n\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y );\n\n\t}\n\n\tsetLength( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t}\n\n\tlerp( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpVectors( v1, v2, alpha ) {\n\n\t\tthis.x = v1.x + ( v2.x - v1.x ) * alpha;\n\t\tthis.y = v1.y + ( v2.y - v1.y ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tequals( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\n\t\treturn this;\n\n\t}\n\n\trotateAround( center, angle ) {\n\n\t\tconst c = Math.cos( angle ), s = Math.sin( angle );\n\n\t\tconst x = this.x - center.x;\n\t\tconst y = this.y - center.y;\n\n\t\tthis.x = x * c - y * s + center.x;\n\t\tthis.y = x * s + y * c + center.y;\n\n\t\treturn this;\n\n\t}\n\n\trandom() {\n\n\t\tthis.x = Math.random();\n\t\tthis.y = Math.random();\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass Matrix3 {\n\n\tconstructor() {\n\n\t\tObject.defineProperty( this, 'isMatrix3', { value: true } );\n\n\t\tthis.elements = [\n\n\t\t\t1, 0, 0,\n\t\t\t0, 1, 0,\n\t\t\t0, 0, 1\n\n\t\t];\n\n\t\tif ( arguments.length > 0 ) {\n\n\t\t\tconsole.error( 'THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.' );\n\n\t\t}\n\n\t}\n\n\tset( n11, n12, n13, n21, n22, n23, n31, n32, n33 ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] = n11; te[ 1 ] = n21; te[ 2 ] = n31;\n\t\tte[ 3 ] = n12; te[ 4 ] = n22; te[ 5 ] = n32;\n\t\tte[ 6 ] = n13; te[ 7 ] = n23; te[ 8 ] = n33;\n\n\t\treturn this;\n\n\t}\n\n\tidentity() {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0,\n\t\t\t0, 1, 0,\n\t\t\t0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().fromArray( this.elements );\n\n\t}\n\n\tcopy( m ) {\n\n\t\tconst te = this.elements;\n\t\tconst me = m.elements;\n\n\t\tte[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ];\n\t\tte[ 3 ] = me[ 3 ]; te[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ];\n\t\tte[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ]; te[ 8 ] = me[ 8 ];\n\n\t\treturn this;\n\n\t}\n\n\textractBasis( xAxis, yAxis, zAxis ) {\n\n\t\txAxis.setFromMatrix3Column( this, 0 );\n\t\tyAxis.setFromMatrix3Column( this, 1 );\n\t\tzAxis.setFromMatrix3Column( this, 2 );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrix4( m ) {\n\n\t\tconst me = m.elements;\n\n\t\tthis.set(\n\n\t\t\tme[ 0 ], me[ 4 ], me[ 8 ],\n\t\t\tme[ 1 ], me[ 5 ], me[ 9 ],\n\t\t\tme[ 2 ], me[ 6 ], me[ 10 ]\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( m ) {\n\n\t\treturn this.multiplyMatrices( this, m );\n\n\t}\n\n\tpremultiply( m ) {\n\n\t\treturn this.multiplyMatrices( m, this );\n\n\t}\n\n\tmultiplyMatrices( a, b ) {\n\n\t\tconst ae = a.elements;\n\t\tconst be = b.elements;\n\t\tconst te = this.elements;\n\n\t\tconst a11 = ae[ 0 ], a12 = ae[ 3 ], a13 = ae[ 6 ];\n\t\tconst a21 = ae[ 1 ], a22 = ae[ 4 ], a23 = ae[ 7 ];\n\t\tconst a31 = ae[ 2 ], a32 = ae[ 5 ], a33 = ae[ 8 ];\n\n\t\tconst b11 = be[ 0 ], b12 = be[ 3 ], b13 = be[ 6 ];\n\t\tconst b21 = be[ 1 ], b22 = be[ 4 ], b23 = be[ 7 ];\n\t\tconst b31 = be[ 2 ], b32 = be[ 5 ], b33 = be[ 8 ];\n\n\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31;\n\t\tte[ 3 ] = a11 * b12 + a12 * b22 + a13 * b32;\n\t\tte[ 6 ] = a11 * b13 + a12 * b23 + a13 * b33;\n\n\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31;\n\t\tte[ 4 ] = a21 * b12 + a22 * b22 + a23 * b32;\n\t\tte[ 7 ] = a21 * b13 + a22 * b23 + a23 * b33;\n\n\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31;\n\t\tte[ 5 ] = a31 * b12 + a32 * b22 + a33 * b32;\n\t\tte[ 8 ] = a31 * b13 + a32 * b23 + a33 * b33;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( s ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] *= s; te[ 3 ] *= s; te[ 6 ] *= s;\n\t\tte[ 1 ] *= s; te[ 4 ] *= s; te[ 7 ] *= s;\n\t\tte[ 2 ] *= s; te[ 5 ] *= s; te[ 8 ] *= s;\n\n\t\treturn this;\n\n\t}\n\n\tdeterminant() {\n\n\t\tconst te = this.elements;\n\n\t\tconst a = te[ 0 ], b = te[ 1 ], c = te[ 2 ],\n\t\t\td = te[ 3 ], e = te[ 4 ], f = te[ 5 ],\n\t\t\tg = te[ 6 ], h = te[ 7 ], i = te[ 8 ];\n\n\t\treturn a * e * i - a * f * h - b * d * i + b * f * g + c * d * h - c * e * g;\n\n\t}\n\n\tgetInverse( matrix, throwOnDegenerate ) {\n\n\t\tif ( throwOnDegenerate !== undefined ) {\n\n\t\t\tconsole.warn( \"THREE.Matrix3: .getInverse() can no longer be configured to throw on degenerate.\" );\n\n\t\t}\n\n\t\tconst me = matrix.elements,\n\t\t\tte = this.elements,\n\n\t\t\tn11 = me[ 0 ], n21 = me[ 1 ], n31 = me[ 2 ],\n\t\t\tn12 = me[ 3 ], n22 = me[ 4 ], n32 = me[ 5 ],\n\t\t\tn13 = me[ 6 ], n23 = me[ 7 ], n33 = me[ 8 ],\n\n\t\t\tt11 = n33 * n22 - n32 * n23,\n\t\t\tt12 = n32 * n13 - n33 * n12,\n\t\t\tt13 = n23 * n12 - n22 * n13,\n\n\t\t\tdet = n11 * t11 + n21 * t12 + n31 * t13;\n\n\t\tif ( det === 0 ) return this.set( 0, 0, 0, 0, 0, 0, 0, 0, 0 );\n\n\t\tconst detInv = 1 / det;\n\n\t\tte[ 0 ] = t11 * detInv;\n\t\tte[ 1 ] = ( n31 * n23 - n33 * n21 ) * detInv;\n\t\tte[ 2 ] = ( n32 * n21 - n31 * n22 ) * detInv;\n\n\t\tte[ 3 ] = t12 * detInv;\n\t\tte[ 4 ] = ( n33 * n11 - n31 * n13 ) * detInv;\n\t\tte[ 5 ] = ( n31 * n12 - n32 * n11 ) * detInv;\n\n\t\tte[ 6 ] = t13 * detInv;\n\t\tte[ 7 ] = ( n21 * n13 - n23 * n11 ) * detInv;\n\t\tte[ 8 ] = ( n22 * n11 - n21 * n12 ) * detInv;\n\n\t\treturn this;\n\n\t}\n\n\ttranspose() {\n\n\t\tlet tmp;\n\t\tconst m = this.elements;\n\n\t\ttmp = m[ 1 ]; m[ 1 ] = m[ 3 ]; m[ 3 ] = tmp;\n\t\ttmp = m[ 2 ]; m[ 2 ] = m[ 6 ]; m[ 6 ] = tmp;\n\t\ttmp = m[ 5 ]; m[ 5 ] = m[ 7 ]; m[ 7 ] = tmp;\n\n\t\treturn this;\n\n\t}\n\n\tgetNormalMatrix( matrix4 ) {\n\n\t\treturn this.setFromMatrix4( matrix4 ).getInverse( this ).transpose();\n\n\t}\n\n\ttransposeIntoArray( r ) {\n\n\t\tconst m = this.elements;\n\n\t\tr[ 0 ] = m[ 0 ];\n\t\tr[ 1 ] = m[ 3 ];\n\t\tr[ 2 ] = m[ 6 ];\n\t\tr[ 3 ] = m[ 1 ];\n\t\tr[ 4 ] = m[ 4 ];\n\t\tr[ 5 ] = m[ 7 ];\n\t\tr[ 6 ] = m[ 2 ];\n\t\tr[ 7 ] = m[ 5 ];\n\t\tr[ 8 ] = m[ 8 ];\n\n\t\treturn this;\n\n\t}\n\n\tsetUvTransform( tx, ty, sx, sy, rotation, cx, cy ) {\n\n\t\tconst c = Math.cos( rotation );\n\t\tconst s = Math.sin( rotation );\n\n\t\tthis.set(\n\t\t\tsx * c, sx * s, - sx * ( c * cx + s * cy ) + cx + tx,\n\t\t\t- sy * s, sy * c, - sy * ( - s * cx + c * cy ) + cy + ty,\n\t\t\t0, 0, 1\n\t\t);\n\n\t}\n\n\tscale( sx, sy ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] *= sx; te[ 3 ] *= sx; te[ 6 ] *= sx;\n\t\tte[ 1 ] *= sy; te[ 4 ] *= sy; te[ 7 ] *= sy;\n\n\t\treturn this;\n\n\t}\n\n\trotate( theta ) {\n\n\t\tconst c = Math.cos( theta );\n\t\tconst s = Math.sin( theta );\n\n\t\tconst te = this.elements;\n\n\t\tconst a11 = te[ 0 ], a12 = te[ 3 ], a13 = te[ 6 ];\n\t\tconst a21 = te[ 1 ], a22 = te[ 4 ], a23 = te[ 7 ];\n\n\t\tte[ 0 ] = c * a11 + s * a21;\n\t\tte[ 3 ] = c * a12 + s * a22;\n\t\tte[ 6 ] = c * a13 + s * a23;\n\n\t\tte[ 1 ] = - s * a11 + c * a21;\n\t\tte[ 4 ] = - s * a12 + c * a22;\n\t\tte[ 7 ] = - s * a13 + c * a23;\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( tx, ty ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] += tx * te[ 2 ]; te[ 3 ] += tx * te[ 5 ]; te[ 6 ] += tx * te[ 8 ];\n\t\tte[ 1 ] += ty * te[ 2 ]; te[ 4 ] += ty * te[ 5 ]; te[ 7 ] += ty * te[ 8 ];\n\n\t\treturn this;\n\n\t}\n\n\tequals( matrix ) {\n\n\t\tconst te = this.elements;\n\t\tconst me = matrix.elements;\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tif ( te[ i ] !== me[ i ] ) return false;\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.elements[ i ] = array[ i + offset ];\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tconst te = this.elements;\n\n\t\tarray[ offset ] = te[ 0 ];\n\t\tarray[ offset + 1 ] = te[ 1 ];\n\t\tarray[ offset + 2 ] = te[ 2 ];\n\n\t\tarray[ offset + 3 ] = te[ 3 ];\n\t\tarray[ offset + 4 ] = te[ 4 ];\n\t\tarray[ offset + 5 ] = te[ 5 ];\n\n\t\tarray[ offset + 6 ] = te[ 6 ];\n\t\tarray[ offset + 7 ] = te[ 7 ];\n\t\tarray[ offset + 8 ] = te[ 8 ];\n\n\t\treturn array;\n\n\t}\n\n}\n\nlet _canvas;\n\nconst ImageUtils = {\n\n\tgetDataURL: function ( image ) {\n\n\t\tif ( /^data:/i.test( image.src ) ) {\n\n\t\t\treturn image.src;\n\n\t\t}\n\n\t\tif ( typeof HTMLCanvasElement == 'undefined' ) {\n\n\t\t\treturn image.src;\n\n\t\t}\n\n\t\tlet canvas;\n\n\t\tif ( image instanceof HTMLCanvasElement ) {\n\n\t\t\tcanvas = image;\n\n\t\t} else {\n\n\t\t\tif ( _canvas === undefined ) _canvas = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\n\n\t\t\t_canvas.width = image.width;\n\t\t\t_canvas.height = image.height;\n\n\t\t\tconst context = _canvas.getContext( '2d' );\n\n\t\t\tif ( image instanceof ImageData ) {\n\n\t\t\t\tcontext.putImageData( image, 0, 0 );\n\n\t\t\t} else {\n\n\t\t\t\tcontext.drawImage( image, 0, 0, image.width, image.height );\n\n\t\t\t}\n\n\t\t\tcanvas = _canvas;\n\n\t\t}\n\n\t\tif ( canvas.width > 2048 || canvas.height > 2048 ) {\n\n\t\t\treturn canvas.toDataURL( 'image/jpeg', 0.6 );\n\n\t\t} else {\n\n\t\t\treturn canvas.toDataURL( 'image/png' );\n\n\t\t}\n\n\t}\n\n};\n\nlet textureId = 0;\n\nfunction Texture( image, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding ) {\n\n\tObject.defineProperty( this, 'id', { value: textureId ++ } );\n\n\tthis.uuid = MathUtils.generateUUID();\n\n\tthis.name = '';\n\n\tthis.image = image !== undefined ? image : Texture.DEFAULT_IMAGE;\n\tthis.mipmaps = [];\n\n\tthis.mapping = mapping !== undefined ? mapping : Texture.DEFAULT_MAPPING;\n\n\tthis.wrapS = wrapS !== undefined ? wrapS : ClampToEdgeWrapping;\n\tthis.wrapT = wrapT !== undefined ? wrapT : ClampToEdgeWrapping;\n\n\tthis.magFilter = magFilter !== undefined ? magFilter : LinearFilter;\n\tthis.minFilter = minFilter !== undefined ? minFilter : LinearMipmapLinearFilter;\n\n\tthis.anisotropy = anisotropy !== undefined ? anisotropy : 1;\n\n\tthis.format = format !== undefined ? format : RGBAFormat;\n\tthis.internalFormat = null;\n\tthis.type = type !== undefined ? type : UnsignedByteType;\n\n\tthis.offset = new Vector2( 0, 0 );\n\tthis.repeat = new Vector2( 1, 1 );\n\tthis.center = new Vector2( 0, 0 );\n\tthis.rotation = 0;\n\n\tthis.matrixAutoUpdate = true;\n\tthis.matrix = new Matrix3();\n\n\tthis.generateMipmaps = true;\n\tthis.premultiplyAlpha = false;\n\tthis.flipY = true;\n\tthis.unpackAlignment = 4;\t// valid values: 1, 2, 4, 8 (see http://www.khronos.org/opengles/sdk/docs/man/xhtml/glPixelStorei.xml)\n\n\t// Values of encoding !== THREE.LinearEncoding only supported on map, envMap and emissiveMap.\n\t//\n\t// Also changing the encoding after already used by a Material will not automatically make the Material\n\t// update. You need to explicitly call Material.needsUpdate to trigger it to recompile.\n\tthis.encoding = encoding !== undefined ? encoding : LinearEncoding;\n\n\tthis.version = 0;\n\tthis.onUpdate = null;\n\n}\n\nTexture.DEFAULT_IMAGE = undefined;\nTexture.DEFAULT_MAPPING = UVMapping;\n\nTexture.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: Texture,\n\n\tisTexture: true,\n\n\tupdateMatrix: function () {\n\n\t\tthis.matrix.setUvTransform( this.offset.x, this.offset.y, this.repeat.x, this.repeat.y, this.rotation, this.center.x, this.center.y );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.name = source.name;\n\n\t\tthis.image = source.image;\n\t\tthis.mipmaps = source.mipmaps.slice( 0 );\n\n\t\tthis.mapping = source.mapping;\n\n\t\tthis.wrapS = source.wrapS;\n\t\tthis.wrapT = source.wrapT;\n\n\t\tthis.magFilter = source.magFilter;\n\t\tthis.minFilter = source.minFilter;\n\n\t\tthis.anisotropy = source.anisotropy;\n\n\t\tthis.format = source.format;\n\t\tthis.internalFormat = source.internalFormat;\n\t\tthis.type = source.type;\n\n\t\tthis.offset.copy( source.offset );\n\t\tthis.repeat.copy( source.repeat );\n\t\tthis.center.copy( source.center );\n\t\tthis.rotation = source.rotation;\n\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\t\tthis.matrix.copy( source.matrix );\n\n\t\tthis.generateMipmaps = source.generateMipmaps;\n\t\tthis.premultiplyAlpha = source.premultiplyAlpha;\n\t\tthis.flipY = source.flipY;\n\t\tthis.unpackAlignment = source.unpackAlignment;\n\t\tthis.encoding = source.encoding;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tconst isRootObject = ( meta === undefined || typeof meta === 'string' );\n\n\t\tif ( ! isRootObject && meta.textures[ this.uuid ] !== undefined ) {\n\n\t\t\treturn meta.textures[ this.uuid ];\n\n\t\t}\n\n\t\tconst output = {\n\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Texture',\n\t\t\t\tgenerator: 'Texture.toJSON'\n\t\t\t},\n\n\t\t\tuuid: this.uuid,\n\t\t\tname: this.name,\n\n\t\t\tmapping: this.mapping,\n\n\t\t\trepeat: [ this.repeat.x, this.repeat.y ],\n\t\t\toffset: [ this.offset.x, this.offset.y ],\n\t\t\tcenter: [ this.center.x, this.center.y ],\n\t\t\trotation: this.rotation,\n\n\t\t\twrap: [ this.wrapS, this.wrapT ],\n\n\t\t\tformat: this.format,\n\t\t\ttype: this.type,\n\t\t\tencoding: this.encoding,\n\n\t\t\tminFilter: this.minFilter,\n\t\t\tmagFilter: this.magFilter,\n\t\t\tanisotropy: this.anisotropy,\n\n\t\t\tflipY: this.flipY,\n\n\t\t\tpremultiplyAlpha: this.premultiplyAlpha,\n\t\t\tunpackAlignment: this.unpackAlignment\n\n\t\t};\n\n\t\tif ( this.image !== undefined ) {\n\n\t\t\t// TODO: Move to THREE.Image\n\n\t\t\tconst image = this.image;\n\n\t\t\tif ( image.uuid === undefined ) {\n\n\t\t\t\timage.uuid = MathUtils.generateUUID(); // UGH\n\n\t\t\t}\n\n\t\t\tif ( ! isRootObject && meta.images[ image.uuid ] === undefined ) {\n\n\t\t\t\tlet url;\n\n\t\t\t\tif ( Array.isArray( image ) ) {\n\n\t\t\t\t\t// process array of images e.g. CubeTexture\n\n\t\t\t\t\turl = [];\n\n\t\t\t\t\tfor ( let i = 0, l = image.length; i < l; i ++ ) {\n\n\t\t\t\t\t\turl.push( ImageUtils.getDataURL( image[ i ] ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// process single image\n\n\t\t\t\t\turl = ImageUtils.getDataURL( image );\n\n\t\t\t\t}\n\n\t\t\t\tmeta.images[ image.uuid ] = {\n\t\t\t\t\tuuid: image.uuid,\n\t\t\t\t\turl: url\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t\toutput.image = image.uuid;\n\n\t\t}\n\n\t\tif ( ! isRootObject ) {\n\n\t\t\tmeta.textures[ this.uuid ] = output;\n\n\t\t}\n\n\t\treturn output;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t},\n\n\ttransformUv: function ( uv ) {\n\n\t\tif ( this.mapping !== UVMapping ) return uv;\n\n\t\tuv.applyMatrix3( this.matrix );\n\n\t\tif ( uv.x < 0 || uv.x > 1 ) {\n\n\t\t\tswitch ( this.wrapS ) {\n\n\t\t\t\tcase RepeatWrapping:\n\n\t\t\t\t\tuv.x = uv.x - Math.floor( uv.x );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase ClampToEdgeWrapping:\n\n\t\t\t\t\tuv.x = uv.x < 0 ? 0 : 1;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MirroredRepeatWrapping:\n\n\t\t\t\t\tif ( Math.abs( Math.floor( uv.x ) % 2 ) === 1 ) {\n\n\t\t\t\t\t\tuv.x = Math.ceil( uv.x ) - uv.x;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tuv.x = uv.x - Math.floor( uv.x );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( uv.y < 0 || uv.y > 1 ) {\n\n\t\t\tswitch ( this.wrapT ) {\n\n\t\t\t\tcase RepeatWrapping:\n\n\t\t\t\t\tuv.y = uv.y - Math.floor( uv.y );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase ClampToEdgeWrapping:\n\n\t\t\t\t\tuv.y = uv.y < 0 ? 0 : 1;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MirroredRepeatWrapping:\n\n\t\t\t\t\tif ( Math.abs( Math.floor( uv.y ) % 2 ) === 1 ) {\n\n\t\t\t\t\t\tuv.y = Math.ceil( uv.y ) - uv.y;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tuv.y = uv.y - Math.floor( uv.y );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.flipY ) {\n\n\t\t\tuv.y = 1 - uv.y;\n\n\t\t}\n\n\t\treturn uv;\n\n\t}\n\n} );\n\nObject.defineProperty( Texture.prototype, \"needsUpdate\", {\n\n\tset: function ( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n} );\n\nclass Vector4 {\n\n\tconstructor( x = 0, y = 0, z = 0, w = 1 ) {\n\n\t\tObject.defineProperty( this, 'isVector4', { value: true } );\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\t\tthis.w = w;\n\n\t}\n\n\tget width() {\n\n\t\treturn this.z;\n\n\t}\n\n\tset width( value ) {\n\n\t\tthis.z = value;\n\n\t}\n\n\tget height() {\n\n\t\treturn this.w;\n\n\t}\n\n\tset height( value ) {\n\n\t\tthis.w = value;\n\n\t}\n\n\tset( x, y, z, w ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\t\tthis.w = w;\n\n\t\treturn this;\n\n\t}\n\n\tsetScalar( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\t\tthis.z = scalar;\n\t\tthis.w = scalar;\n\n\t\treturn this;\n\n\t}\n\n\tsetX( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t}\n\n\tsetY( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetZ( z ) {\n\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetW( w ) {\n\n\t\tthis.w = w;\n\n\t\treturn this;\n\n\t}\n\n\tsetComponent( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tcase 2: this.z = value; break;\n\t\t\tcase 3: this.w = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetComponent( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tcase 2: return this.z;\n\t\t\tcase 3: return this.w;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.x, this.y, this.z, this.w );\n\n\t}\n\n\tcopy( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\t\tthis.z = v.z;\n\t\tthis.w = ( v.w !== undefined ) ? v.w : 1;\n\n\t\treturn this;\n\n\t}\n\n\tadd( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\t\tthis.z += v.z;\n\t\tthis.w += v.w;\n\n\t\treturn this;\n\n\t}\n\n\taddScalar( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\t\tthis.z += s;\n\t\tthis.w += s;\n\n\t\treturn this;\n\n\t}\n\n\taddVectors( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\t\tthis.z = a.z + b.z;\n\t\tthis.w = a.w + b.w;\n\n\t\treturn this;\n\n\t}\n\n\taddScaledVector( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\t\tthis.z += v.z * s;\n\t\tthis.w += v.w * s;\n\n\t\treturn this;\n\n\t}\n\n\tsub( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\t\tthis.z -= v.z;\n\t\tthis.w -= v.w;\n\n\t\treturn this;\n\n\t}\n\n\tsubScalar( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\t\tthis.z -= s;\n\t\tthis.w -= s;\n\n\t\treturn this;\n\n\t}\n\n\tsubVectors( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\t\tthis.z = a.z - b.z;\n\t\tthis.w = a.w - b.w;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\t\tthis.z *= scalar;\n\t\tthis.w *= scalar;\n\n\t\treturn this;\n\n\t}\n\n\tapplyMatrix4( m ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z, w = this.w;\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] * w;\n\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] * w;\n\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] * w;\n\t\tthis.w = e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] * w;\n\n\t\treturn this;\n\n\t}\n\n\tdivideScalar( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t}\n\n\tsetAxisAngleFromQuaternion( q ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/quaternionToAngle/index.htm\n\n\t\t// q is assumed to be normalized\n\n\t\tthis.w = 2 * Math.acos( q.w );\n\n\t\tconst s = Math.sqrt( 1 - q.w * q.w );\n\n\t\tif ( s < 0.0001 ) {\n\n\t\t\tthis.x = 1;\n\t\t\tthis.y = 0;\n\t\t\tthis.z = 0;\n\n\t\t} else {\n\n\t\t\tthis.x = q.x / s;\n\t\t\tthis.y = q.y / s;\n\t\t\tthis.z = q.z / s;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetAxisAngleFromRotationMatrix( m ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToAngle/index.htm\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tlet angle, x, y, z; // variables for result\n\t\tconst epsilon = 0.01,\t\t// margin to allow for rounding errors\n\t\t\tepsilon2 = 0.1,\t\t// margin to distinguish between 0 and 180 degrees\n\n\t\t\tte = m.elements,\n\n\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\n\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\n\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\n\n\t\tif ( ( Math.abs( m12 - m21 ) < epsilon ) &&\n\t\t     ( Math.abs( m13 - m31 ) < epsilon ) &&\n\t\t     ( Math.abs( m23 - m32 ) < epsilon ) ) {\n\n\t\t\t// singularity found\n\t\t\t// first check for identity matrix which must have +1 for all terms\n\t\t\t// in leading diagonal and zero in other terms\n\n\t\t\tif ( ( Math.abs( m12 + m21 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m13 + m31 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m23 + m32 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m11 + m22 + m33 - 3 ) < epsilon2 ) ) {\n\n\t\t\t\t// this singularity is identity matrix so angle = 0\n\n\t\t\t\tthis.set( 1, 0, 0, 0 );\n\n\t\t\t\treturn this; // zero angle, arbitrary axis\n\n\t\t\t}\n\n\t\t\t// otherwise this singularity is angle = 180\n\n\t\t\tangle = Math.PI;\n\n\t\t\tconst xx = ( m11 + 1 ) / 2;\n\t\t\tconst yy = ( m22 + 1 ) / 2;\n\t\t\tconst zz = ( m33 + 1 ) / 2;\n\t\t\tconst xy = ( m12 + m21 ) / 4;\n\t\t\tconst xz = ( m13 + m31 ) / 4;\n\t\t\tconst yz = ( m23 + m32 ) / 4;\n\n\t\t\tif ( ( xx > yy ) && ( xx > zz ) ) {\n\n\t\t\t\t// m11 is the largest diagonal term\n\n\t\t\t\tif ( xx < epsilon ) {\n\n\t\t\t\t\tx = 0;\n\t\t\t\t\ty = 0.707106781;\n\t\t\t\t\tz = 0.707106781;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tx = Math.sqrt( xx );\n\t\t\t\t\ty = xy / x;\n\t\t\t\t\tz = xz / x;\n\n\t\t\t\t}\n\n\t\t\t} else if ( yy > zz ) {\n\n\t\t\t\t// m22 is the largest diagonal term\n\n\t\t\t\tif ( yy < epsilon ) {\n\n\t\t\t\t\tx = 0.707106781;\n\t\t\t\t\ty = 0;\n\t\t\t\t\tz = 0.707106781;\n\n\t\t\t\t} else {\n\n\t\t\t\t\ty = Math.sqrt( yy );\n\t\t\t\t\tx = xy / y;\n\t\t\t\t\tz = yz / y;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// m33 is the largest diagonal term so base result on this\n\n\t\t\t\tif ( zz < epsilon ) {\n\n\t\t\t\t\tx = 0.707106781;\n\t\t\t\t\ty = 0.707106781;\n\t\t\t\t\tz = 0;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tz = Math.sqrt( zz );\n\t\t\t\t\tx = xz / z;\n\t\t\t\t\ty = yz / z;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.set( x, y, z, angle );\n\n\t\t\treturn this; // return 180 deg rotation\n\n\t\t}\n\n\t\t// as we have reached here there are no singularities so we can handle normally\n\n\t\tlet s = Math.sqrt( ( m32 - m23 ) * ( m32 - m23 ) +\n\t\t\t( m13 - m31 ) * ( m13 - m31 ) +\n\t\t\t( m21 - m12 ) * ( m21 - m12 ) ); // used to normalize\n\n\t\tif ( Math.abs( s ) < 0.001 ) s = 1;\n\n\t\t// prevent divide by zero, should not happen if matrix is orthogonal and should be\n\t\t// caught by singularity test above, but I've left it in just in case\n\n\t\tthis.x = ( m32 - m23 ) / s;\n\t\tthis.y = ( m13 - m31 ) / s;\n\t\tthis.z = ( m21 - m12 ) / s;\n\t\tthis.w = Math.acos( ( m11 + m22 + m33 - 1 ) / 2 );\n\n\t\treturn this;\n\n\t}\n\n\tmin( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\t\tthis.z = Math.min( this.z, v.z );\n\t\tthis.w = Math.min( this.w, v.w );\n\n\t\treturn this;\n\n\t}\n\n\tmax( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\t\tthis.z = Math.max( this.z, v.z );\n\t\tthis.w = Math.max( this.w, v.w );\n\n\t\treturn this;\n\n\t}\n\n\tclamp( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\n\t\tthis.w = Math.max( min.w, Math.min( max.w, this.w ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampScalar( minVal, maxVal ) {\n\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\n\t\tthis.z = Math.max( minVal, Math.min( maxVal, this.z ) );\n\t\tthis.w = Math.max( minVal, Math.min( maxVal, this.w ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampLength( min, max ) {\n\n\t\tconst length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t}\n\n\tfloor() {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\t\tthis.z = Math.floor( this.z );\n\t\tthis.w = Math.floor( this.w );\n\n\t\treturn this;\n\n\t}\n\n\tceil() {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\t\tthis.z = Math.ceil( this.z );\n\t\tthis.w = Math.ceil( this.w );\n\n\t\treturn this;\n\n\t}\n\n\tround() {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\t\tthis.z = Math.round( this.z );\n\t\tthis.w = Math.round( this.w );\n\n\t\treturn this;\n\n\t}\n\n\troundToZero() {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\n\t\tthis.w = ( this.w < 0 ) ? Math.ceil( this.w ) : Math.floor( this.w );\n\n\t\treturn this;\n\n\t}\n\n\tnegate() {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\t\tthis.z = - this.z;\n\t\tthis.w = - this.w;\n\n\t\treturn this;\n\n\t}\n\n\tdot( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y + this.z * v.z + this.w * v.w;\n\n\t}\n\n\tlengthSq() {\n\n\t\treturn this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;\n\n\t}\n\n\tlength() {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w );\n\n\t}\n\n\tmanhattanLength() {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z ) + Math.abs( this.w );\n\n\t}\n\n\tnormalize() {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t}\n\n\tsetLength( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t}\n\n\tlerp( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\t\tthis.z += ( v.z - this.z ) * alpha;\n\t\tthis.w += ( v.w - this.w ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpVectors( v1, v2, alpha ) {\n\n\t\tthis.x = v1.x + ( v2.x - v1.x ) * alpha;\n\t\tthis.y = v1.y + ( v2.y - v1.y ) * alpha;\n\t\tthis.z = v1.z + ( v2.z - v1.z ) * alpha;\n\t\tthis.w = v1.w + ( v2.w - v1.w ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tequals( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) && ( v.w === this.w ) );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\t\tthis.z = array[ offset + 2 ];\n\t\tthis.w = array[ offset + 3 ];\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\t\tarray[ offset + 2 ] = this.z;\n\t\tarray[ offset + 3 ] = this.w;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\t\tthis.z = attribute.getZ( index );\n\t\tthis.w = attribute.getW( index );\n\n\t\treturn this;\n\n\t}\n\n\trandom() {\n\n\t\tthis.x = Math.random();\n\t\tthis.y = Math.random();\n\t\tthis.z = Math.random();\n\t\tthis.w = Math.random();\n\n\t\treturn this;\n\n\t}\n\n}\n\n/*\n In options, we can specify:\n * Texture parameters for an auto-generated target texture\n * depthBuffer/stencilBuffer: Booleans to indicate if we should generate these buffers\n*/\nfunction WebGLRenderTarget( width, height, options ) {\n\n\tthis.width = width;\n\tthis.height = height;\n\n\tthis.scissor = new Vector4( 0, 0, width, height );\n\tthis.scissorTest = false;\n\n\tthis.viewport = new Vector4( 0, 0, width, height );\n\n\toptions = options || {};\n\n\tthis.texture = new Texture( undefined, options.mapping, options.wrapS, options.wrapT, options.magFilter, options.minFilter, options.format, options.type, options.anisotropy, options.encoding );\n\n\tthis.texture.image = {};\n\tthis.texture.image.width = width;\n\tthis.texture.image.height = height;\n\n\tthis.texture.generateMipmaps = options.generateMipmaps !== undefined ? options.generateMipmaps : false;\n\tthis.texture.minFilter = options.minFilter !== undefined ? options.minFilter : LinearFilter;\n\n\tthis.depthBuffer = options.depthBuffer !== undefined ? options.depthBuffer : true;\n\tthis.stencilBuffer = options.stencilBuffer !== undefined ? options.stencilBuffer : false;\n\tthis.depthTexture = options.depthTexture !== undefined ? options.depthTexture : null;\n\n}\n\nWebGLRenderTarget.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: WebGLRenderTarget,\n\n\tisWebGLRenderTarget: true,\n\n\tsetSize: function ( width, height ) {\n\n\t\tif ( this.width !== width || this.height !== height ) {\n\n\t\t\tthis.width = width;\n\t\t\tthis.height = height;\n\n\t\t\tthis.texture.image.width = width;\n\t\t\tthis.texture.image.height = height;\n\n\t\t\tthis.dispose();\n\n\t\t}\n\n\t\tthis.viewport.set( 0, 0, width, height );\n\t\tthis.scissor.set( 0, 0, width, height );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.width = source.width;\n\t\tthis.height = source.height;\n\n\t\tthis.viewport.copy( source.viewport );\n\n\t\tthis.texture = source.texture.clone();\n\n\t\tthis.depthBuffer = source.depthBuffer;\n\t\tthis.stencilBuffer = source.stencilBuffer;\n\t\tthis.depthTexture = source.depthTexture;\n\n\t\treturn this;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\nfunction WebGLMultisampleRenderTarget( width, height, options ) {\n\n\tWebGLRenderTarget.call( this, width, height, options );\n\n\tthis.samples = 4;\n\n}\n\nWebGLMultisampleRenderTarget.prototype = Object.assign( Object.create( WebGLRenderTarget.prototype ), {\n\n\tconstructor: WebGLMultisampleRenderTarget,\n\n\tisWebGLMultisampleRenderTarget: true,\n\n\tcopy: function ( source ) {\n\n\t\tWebGLRenderTarget.prototype.copy.call( this, source );\n\n\t\tthis.samples = source.samples;\n\n\t\treturn this;\n\n\t}\n\n} );\n\nclass Quaternion {\n\n\tconstructor( x = 0, y = 0, z = 0, w = 1 ) {\n\n\t\tObject.defineProperty( this, 'isQuaternion', { value: true } );\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._w = w;\n\n\t}\n\n\tstatic slerp( qa, qb, qm, t ) {\n\n\t\treturn qm.copy( qa ).slerp( qb, t );\n\n\t}\n\n\tstatic slerpFlat( dst, dstOffset, src0, srcOffset0, src1, srcOffset1, t ) {\n\n\t\t// fuzz-free, array-based Quaternion SLERP operation\n\n\t\tlet x0 = src0[ srcOffset0 + 0 ],\n\t\t\ty0 = src0[ srcOffset0 + 1 ],\n\t\t\tz0 = src0[ srcOffset0 + 2 ],\n\t\t\tw0 = src0[ srcOffset0 + 3 ];\n\n\t\tconst x1 = src1[ srcOffset1 + 0 ],\n\t\t\ty1 = src1[ srcOffset1 + 1 ],\n\t\t\tz1 = src1[ srcOffset1 + 2 ],\n\t\t\tw1 = src1[ srcOffset1 + 3 ];\n\n\t\tif ( w0 !== w1 || x0 !== x1 || y0 !== y1 || z0 !== z1 ) {\n\n\t\t\tlet s = 1 - t;\n\t\t\tconst cos = x0 * x1 + y0 * y1 + z0 * z1 + w0 * w1,\n\t\t\t\tdir = ( cos >= 0 ? 1 : - 1 ),\n\t\t\t\tsqrSin = 1 - cos * cos;\n\n\t\t\t// Skip the Slerp for tiny steps to avoid numeric problems:\n\t\t\tif ( sqrSin > Number.EPSILON ) {\n\n\t\t\t\tconst sin = Math.sqrt( sqrSin ),\n\t\t\t\t\tlen = Math.atan2( sin, cos * dir );\n\n\t\t\t\ts = Math.sin( s * len ) / sin;\n\t\t\t\tt = Math.sin( t * len ) / sin;\n\n\t\t\t}\n\n\t\t\tconst tDir = t * dir;\n\n\t\t\tx0 = x0 * s + x1 * tDir;\n\t\t\ty0 = y0 * s + y1 * tDir;\n\t\t\tz0 = z0 * s + z1 * tDir;\n\t\t\tw0 = w0 * s + w1 * tDir;\n\n\t\t\t// Normalize in case we just did a lerp:\n\t\t\tif ( s === 1 - t ) {\n\n\t\t\t\tconst f = 1 / Math.sqrt( x0 * x0 + y0 * y0 + z0 * z0 + w0 * w0 );\n\n\t\t\t\tx0 *= f;\n\t\t\t\ty0 *= f;\n\t\t\t\tz0 *= f;\n\t\t\t\tw0 *= f;\n\n\t\t\t}\n\n\t\t}\n\n\t\tdst[ dstOffset ] = x0;\n\t\tdst[ dstOffset + 1 ] = y0;\n\t\tdst[ dstOffset + 2 ] = z0;\n\t\tdst[ dstOffset + 3 ] = w0;\n\n\t}\n\n\tstatic multiplyQuaternionsFlat( dst, dstOffset, src0, srcOffset0, src1, srcOffset1 ) {\n\n\t\tconst x0 = src0[ srcOffset0 ];\n\t\tconst y0 = src0[ srcOffset0 + 1 ];\n\t\tconst z0 = src0[ srcOffset0 + 2 ];\n\t\tconst w0 = src0[ srcOffset0 + 3 ];\n\n\t\tconst x1 = src1[ srcOffset1 ];\n\t\tconst y1 = src1[ srcOffset1 + 1 ];\n\t\tconst z1 = src1[ srcOffset1 + 2 ];\n\t\tconst w1 = src1[ srcOffset1 + 3 ];\n\n\t\tdst[ dstOffset ] = x0 * w1 + w0 * x1 + y0 * z1 - z0 * y1;\n\t\tdst[ dstOffset + 1 ] = y0 * w1 + w0 * y1 + z0 * x1 - x0 * z1;\n\t\tdst[ dstOffset + 2 ] = z0 * w1 + w0 * z1 + x0 * y1 - y0 * x1;\n\t\tdst[ dstOffset + 3 ] = w0 * w1 - x0 * x1 - y0 * y1 - z0 * z1;\n\n\t\treturn dst;\n\n\t}\n\n\tget x() {\n\n\t\treturn this._x;\n\n\t}\n\n\tset x( value ) {\n\n\t\tthis._x = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget y() {\n\n\t\treturn this._y;\n\n\t}\n\n\tset y( value ) {\n\n\t\tthis._y = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget z() {\n\n\t\treturn this._z;\n\n\t}\n\n\tset z( value ) {\n\n\t\tthis._z = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget w() {\n\n\t\treturn this._w;\n\n\t}\n\n\tset w( value ) {\n\n\t\tthis._w = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tset( x, y, z, w ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._w = w;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this._x, this._y, this._z, this._w );\n\n\t}\n\n\tcopy( quaternion ) {\n\n\t\tthis._x = quaternion.x;\n\t\tthis._y = quaternion.y;\n\t\tthis._z = quaternion.z;\n\t\tthis._w = quaternion.w;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromEuler( euler, update ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tthrow new Error( 'THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\tconst x = euler._x, y = euler._y, z = euler._z, order = euler._order;\n\n\t\t// http://www.mathworks.com/matlabcentral/fileexchange/\n\t\t// \t20696-function-to-convert-between-dcm-euler-angles-quaternions-and-euler-vectors/\n\t\t//\tcontent/SpinCalc.m\n\n\t\tconst cos = Math.cos;\n\t\tconst sin = Math.sin;\n\n\t\tconst c1 = cos( x / 2 );\n\t\tconst c2 = cos( y / 2 );\n\t\tconst c3 = cos( z / 2 );\n\n\t\tconst s1 = sin( x / 2 );\n\t\tconst s2 = sin( y / 2 );\n\t\tconst s3 = sin( z / 2 );\n\n\t\tswitch ( order ) {\n\n\t\t\tcase 'XYZ':\n\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'YXZ':\n\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZXY':\n\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZYX':\n\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'YZX':\n\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'XZY':\n\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tconsole.warn( 'THREE.Quaternion: .setFromEuler() encountered an unknown order: ' + order );\n\n\t\t}\n\n\t\tif ( update !== false ) this._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromAxisAngle( axis, angle ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToQuaternion/index.htm\n\n\t\t// assumes axis is normalized\n\n\t\tconst halfAngle = angle / 2, s = Math.sin( halfAngle );\n\n\t\tthis._x = axis.x * s;\n\t\tthis._y = axis.y * s;\n\t\tthis._z = axis.z * s;\n\t\tthis._w = Math.cos( halfAngle );\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromRotationMatrix( m ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tconst te = m.elements,\n\n\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\n\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\n\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ],\n\n\t\t\ttrace = m11 + m22 + m33;\n\n\t\tif ( trace > 0 ) {\n\n\t\t\tconst s = 0.5 / Math.sqrt( trace + 1.0 );\n\n\t\t\tthis._w = 0.25 / s;\n\t\t\tthis._x = ( m32 - m23 ) * s;\n\t\t\tthis._y = ( m13 - m31 ) * s;\n\t\t\tthis._z = ( m21 - m12 ) * s;\n\n\t\t} else if ( m11 > m22 && m11 > m33 ) {\n\n\t\t\tconst s = 2.0 * Math.sqrt( 1.0 + m11 - m22 - m33 );\n\n\t\t\tthis._w = ( m32 - m23 ) / s;\n\t\t\tthis._x = 0.25 * s;\n\t\t\tthis._y = ( m12 + m21 ) / s;\n\t\t\tthis._z = ( m13 + m31 ) / s;\n\n\t\t} else if ( m22 > m33 ) {\n\n\t\t\tconst s = 2.0 * Math.sqrt( 1.0 + m22 - m11 - m33 );\n\n\t\t\tthis._w = ( m13 - m31 ) / s;\n\t\t\tthis._x = ( m12 + m21 ) / s;\n\t\t\tthis._y = 0.25 * s;\n\t\t\tthis._z = ( m23 + m32 ) / s;\n\n\t\t} else {\n\n\t\t\tconst s = 2.0 * Math.sqrt( 1.0 + m33 - m11 - m22 );\n\n\t\t\tthis._w = ( m21 - m12 ) / s;\n\t\t\tthis._x = ( m13 + m31 ) / s;\n\t\t\tthis._y = ( m23 + m32 ) / s;\n\t\t\tthis._z = 0.25 * s;\n\n\t\t}\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromUnitVectors( vFrom, vTo ) {\n\n\t\t// assumes direction vectors vFrom and vTo are normalized\n\n\t\tconst EPS = 0.000001;\n\n\t\tlet r = vFrom.dot( vTo ) + 1;\n\n\t\tif ( r < EPS ) {\n\n\t\t\tr = 0;\n\n\t\t\tif ( Math.abs( vFrom.x ) > Math.abs( vFrom.z ) ) {\n\n\t\t\t\tthis._x = - vFrom.y;\n\t\t\t\tthis._y = vFrom.x;\n\t\t\t\tthis._z = 0;\n\t\t\t\tthis._w = r;\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = 0;\n\t\t\t\tthis._y = - vFrom.z;\n\t\t\t\tthis._z = vFrom.y;\n\t\t\t\tthis._w = r;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// crossVectors( vFrom, vTo ); // inlined to avoid cyclic dependency on Vector3\n\n\t\t\tthis._x = vFrom.y * vTo.z - vFrom.z * vTo.y;\n\t\t\tthis._y = vFrom.z * vTo.x - vFrom.x * vTo.z;\n\t\t\tthis._z = vFrom.x * vTo.y - vFrom.y * vTo.x;\n\t\t\tthis._w = r;\n\n\t\t}\n\n\t\treturn this.normalize();\n\n\t}\n\n\tangleTo( q ) {\n\n\t\treturn 2 * Math.acos( Math.abs( MathUtils.clamp( this.dot( q ), - 1, 1 ) ) );\n\n\t}\n\n\trotateTowards( q, step ) {\n\n\t\tconst angle = this.angleTo( q );\n\n\t\tif ( angle === 0 ) return this;\n\n\t\tconst t = Math.min( 1, step / angle );\n\n\t\tthis.slerp( q, t );\n\n\t\treturn this;\n\n\t}\n\n\tidentity() {\n\n\t\treturn this.set( 0, 0, 0, 1 );\n\n\t}\n\n\tinverse() {\n\n\t\t// quaternion is assumed to have unit length\n\n\t\treturn this.conjugate();\n\n\t}\n\n\tconjugate() {\n\n\t\tthis._x *= - 1;\n\t\tthis._y *= - 1;\n\t\tthis._z *= - 1;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tdot( v ) {\n\n\t\treturn this._x * v._x + this._y * v._y + this._z * v._z + this._w * v._w;\n\n\t}\n\n\tlengthSq() {\n\n\t\treturn this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w;\n\n\t}\n\n\tlength() {\n\n\t\treturn Math.sqrt( this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w );\n\n\t}\n\n\tnormalize() {\n\n\t\tlet l = this.length();\n\n\t\tif ( l === 0 ) {\n\n\t\t\tthis._x = 0;\n\t\t\tthis._y = 0;\n\t\t\tthis._z = 0;\n\t\t\tthis._w = 1;\n\n\t\t} else {\n\n\t\t\tl = 1 / l;\n\n\t\t\tthis._x = this._x * l;\n\t\t\tthis._y = this._y * l;\n\t\t\tthis._z = this._z * l;\n\t\t\tthis._w = this._w * l;\n\n\t\t}\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( q, p ) {\n\n\t\tif ( p !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.' );\n\t\t\treturn this.multiplyQuaternions( q, p );\n\n\t\t}\n\n\t\treturn this.multiplyQuaternions( this, q );\n\n\t}\n\n\tpremultiply( q ) {\n\n\t\treturn this.multiplyQuaternions( q, this );\n\n\t}\n\n\tmultiplyQuaternions( a, b ) {\n\n\t\t// from http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/code/index.htm\n\n\t\tconst qax = a._x, qay = a._y, qaz = a._z, qaw = a._w;\n\t\tconst qbx = b._x, qby = b._y, qbz = b._z, qbw = b._w;\n\n\t\tthis._x = qax * qbw + qaw * qbx + qay * qbz - qaz * qby;\n\t\tthis._y = qay * qbw + qaw * qby + qaz * qbx - qax * qbz;\n\t\tthis._z = qaz * qbw + qaw * qbz + qax * qby - qay * qbx;\n\t\tthis._w = qaw * qbw - qax * qbx - qay * qby - qaz * qbz;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tslerp( qb, t ) {\n\n\t\tif ( t === 0 ) return this;\n\t\tif ( t === 1 ) return this.copy( qb );\n\n\t\tconst x = this._x, y = this._y, z = this._z, w = this._w;\n\n\t\t// http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/slerp/\n\n\t\tlet cosHalfTheta = w * qb._w + x * qb._x + y * qb._y + z * qb._z;\n\n\t\tif ( cosHalfTheta < 0 ) {\n\n\t\t\tthis._w = - qb._w;\n\t\t\tthis._x = - qb._x;\n\t\t\tthis._y = - qb._y;\n\t\t\tthis._z = - qb._z;\n\n\t\t\tcosHalfTheta = - cosHalfTheta;\n\n\t\t} else {\n\n\t\t\tthis.copy( qb );\n\n\t\t}\n\n\t\tif ( cosHalfTheta >= 1.0 ) {\n\n\t\t\tthis._w = w;\n\t\t\tthis._x = x;\n\t\t\tthis._y = y;\n\t\t\tthis._z = z;\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst sqrSinHalfTheta = 1.0 - cosHalfTheta * cosHalfTheta;\n\n\t\tif ( sqrSinHalfTheta <= Number.EPSILON ) {\n\n\t\t\tconst s = 1 - t;\n\t\t\tthis._w = s * w + t * this._w;\n\t\t\tthis._x = s * x + t * this._x;\n\t\t\tthis._y = s * y + t * this._y;\n\t\t\tthis._z = s * z + t * this._z;\n\n\t\t\tthis.normalize();\n\t\t\tthis._onChangeCallback();\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst sinHalfTheta = Math.sqrt( sqrSinHalfTheta );\n\t\tconst halfTheta = Math.atan2( sinHalfTheta, cosHalfTheta );\n\t\tconst ratioA = Math.sin( ( 1 - t ) * halfTheta ) / sinHalfTheta,\n\t\t\tratioB = Math.sin( t * halfTheta ) / sinHalfTheta;\n\n\t\tthis._w = ( w * ratioA + this._w * ratioB );\n\t\tthis._x = ( x * ratioA + this._x * ratioB );\n\t\tthis._y = ( y * ratioA + this._y * ratioB );\n\t\tthis._z = ( z * ratioA + this._z * ratioB );\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tequals( quaternion ) {\n\n\t\treturn ( quaternion._x === this._x ) && ( quaternion._y === this._y ) && ( quaternion._z === this._z ) && ( quaternion._w === this._w );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis._x = array[ offset ];\n\t\tthis._y = array[ offset + 1 ];\n\t\tthis._z = array[ offset + 2 ];\n\t\tthis._w = array[ offset + 3 ];\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this._x;\n\t\tarray[ offset + 1 ] = this._y;\n\t\tarray[ offset + 2 ] = this._z;\n\t\tarray[ offset + 3 ] = this._w;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index ) {\n\n\t\tthis._x = attribute.getX( index );\n\t\tthis._y = attribute.getY( index );\n\t\tthis._z = attribute.getZ( index );\n\t\tthis._w = attribute.getW( index );\n\n\t\treturn this;\n\n\t}\n\n\t_onChange( callback ) {\n\n\t\tthis._onChangeCallback = callback;\n\n\t\treturn this;\n\n\t}\n\n\t_onChangeCallback() {}\n\n}\n\nclass Vector3 {\n\n\tconstructor( x = 0, y = 0, z = 0 ) {\n\n\t\tObject.defineProperty( this, 'isVector3', { value: true } );\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\n\t}\n\n\tset( x, y, z ) {\n\n\t\tif ( z === undefined ) z = this.z; // sprite.scale.set(x,y)\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetScalar( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\t\tthis.z = scalar;\n\n\t\treturn this;\n\n\t}\n\n\tsetX( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t}\n\n\tsetY( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetZ( z ) {\n\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetComponent( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tcase 2: this.z = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetComponent( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tcase 2: return this.z;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.x, this.y, this.z );\n\n\t}\n\n\tcopy( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\t\tthis.z = v.z;\n\n\t\treturn this;\n\n\t}\n\n\tadd( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\t\tthis.z += v.z;\n\n\t\treturn this;\n\n\t}\n\n\taddScalar( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\t\tthis.z += s;\n\n\t\treturn this;\n\n\t}\n\n\taddVectors( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\t\tthis.z = a.z + b.z;\n\n\t\treturn this;\n\n\t}\n\n\taddScaledVector( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\t\tthis.z += v.z * s;\n\n\t\treturn this;\n\n\t}\n\n\tsub( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\t\tthis.z -= v.z;\n\n\t\treturn this;\n\n\t}\n\n\tsubScalar( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\t\tthis.z -= s;\n\n\t\treturn this;\n\n\t}\n\n\tsubVectors( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\t\tthis.z = a.z - b.z;\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.' );\n\t\t\treturn this.multiplyVectors( v, w );\n\n\t\t}\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\t\tthis.z *= v.z;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\t\tthis.z *= scalar;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyVectors( a, b ) {\n\n\t\tthis.x = a.x * b.x;\n\t\tthis.y = a.y * b.y;\n\t\tthis.z = a.z * b.z;\n\n\t\treturn this;\n\n\t}\n\n\tapplyEuler( euler ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tconsole.error( 'THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\treturn this.applyQuaternion( _quaternion.setFromEuler( euler ) );\n\n\t}\n\n\tapplyAxisAngle( axis, angle ) {\n\n\t\treturn this.applyQuaternion( _quaternion.setFromAxisAngle( axis, angle ) );\n\n\t}\n\n\tapplyMatrix3( m ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ] * z;\n\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ] * z;\n\t\tthis.z = e[ 2 ] * x + e[ 5 ] * y + e[ 8 ] * z;\n\n\t\treturn this;\n\n\t}\n\n\tapplyNormalMatrix( m ) {\n\n\t\treturn this.applyMatrix3( m ).normalize();\n\n\t}\n\n\tapplyMatrix4( m ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst e = m.elements;\n\n\t\tconst w = 1 / ( e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] );\n\n\t\tthis.x = ( e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] ) * w;\n\t\tthis.y = ( e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] ) * w;\n\t\tthis.z = ( e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] ) * w;\n\n\t\treturn this;\n\n\t}\n\n\tapplyQuaternion( q ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst qx = q.x, qy = q.y, qz = q.z, qw = q.w;\n\n\t\t// calculate quat * vector\n\n\t\tconst ix = qw * x + qy * z - qz * y;\n\t\tconst iy = qw * y + qz * x - qx * z;\n\t\tconst iz = qw * z + qx * y - qy * x;\n\t\tconst iw = - qx * x - qy * y - qz * z;\n\n\t\t// calculate result * inverse quat\n\n\t\tthis.x = ix * qw + iw * - qx + iy * - qz - iz * - qy;\n\t\tthis.y = iy * qw + iw * - qy + iz * - qx - ix * - qz;\n\t\tthis.z = iz * qw + iw * - qz + ix * - qy - iy * - qx;\n\n\t\treturn this;\n\n\t}\n\n\tproject( camera ) {\n\n\t\treturn this.applyMatrix4( camera.matrixWorldInverse ).applyMatrix4( camera.projectionMatrix );\n\n\t}\n\n\tunproject( camera ) {\n\n\t\treturn this.applyMatrix4( camera.projectionMatrixInverse ).applyMatrix4( camera.matrixWorld );\n\n\t}\n\n\ttransformDirection( m ) {\n\n\t\t// input: THREE.Matrix4 affine matrix\n\t\t// vector interpreted as a direction\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z;\n\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z;\n\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z;\n\n\t\treturn this.normalize();\n\n\t}\n\n\tdivide( v ) {\n\n\t\tthis.x /= v.x;\n\t\tthis.y /= v.y;\n\t\tthis.z /= v.z;\n\n\t\treturn this;\n\n\t}\n\n\tdivideScalar( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t}\n\n\tmin( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\t\tthis.z = Math.min( this.z, v.z );\n\n\t\treturn this;\n\n\t}\n\n\tmax( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\t\tthis.z = Math.max( this.z, v.z );\n\n\t\treturn this;\n\n\t}\n\n\tclamp( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampScalar( minVal, maxVal ) {\n\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\n\t\tthis.z = Math.max( minVal, Math.min( maxVal, this.z ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampLength( min, max ) {\n\n\t\tconst length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t}\n\n\tfloor() {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\t\tthis.z = Math.floor( this.z );\n\n\t\treturn this;\n\n\t}\n\n\tceil() {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\t\tthis.z = Math.ceil( this.z );\n\n\t\treturn this;\n\n\t}\n\n\tround() {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\t\tthis.z = Math.round( this.z );\n\n\t\treturn this;\n\n\t}\n\n\troundToZero() {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\n\n\t\treturn this;\n\n\t}\n\n\tnegate() {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\t\tthis.z = - this.z;\n\n\t\treturn this;\n\n\t}\n\n\tdot( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y + this.z * v.z;\n\n\t}\n\n\t// TODO lengthSquared?\n\n\tlengthSq() {\n\n\t\treturn this.x * this.x + this.y * this.y + this.z * this.z;\n\n\t}\n\n\tlength() {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z );\n\n\t}\n\n\tmanhattanLength() {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z );\n\n\t}\n\n\tnormalize() {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t}\n\n\tsetLength( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t}\n\n\tlerp( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\t\tthis.z += ( v.z - this.z ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpVectors( v1, v2, alpha ) {\n\n\t\tthis.x = v1.x + ( v2.x - v1.x ) * alpha;\n\t\tthis.y = v1.y + ( v2.y - v1.y ) * alpha;\n\t\tthis.z = v1.z + ( v2.z - v1.z ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tcross( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.' );\n\t\t\treturn this.crossVectors( v, w );\n\n\t\t}\n\n\t\treturn this.crossVectors( this, v );\n\n\t}\n\n\tcrossVectors( a, b ) {\n\n\t\tconst ax = a.x, ay = a.y, az = a.z;\n\t\tconst bx = b.x, by = b.y, bz = b.z;\n\n\t\tthis.x = ay * bz - az * by;\n\t\tthis.y = az * bx - ax * bz;\n\t\tthis.z = ax * by - ay * bx;\n\n\t\treturn this;\n\n\t}\n\n\tprojectOnVector( v ) {\n\n\t\tconst denominator = v.lengthSq();\n\n\t\tif ( denominator === 0 ) return this.set( 0, 0, 0 );\n\n\t\tconst scalar = v.dot( this ) / denominator;\n\n\t\treturn this.copy( v ).multiplyScalar( scalar );\n\n\t}\n\n\tprojectOnPlane( planeNormal ) {\n\n\t\t_vector.copy( this ).projectOnVector( planeNormal );\n\n\t\treturn this.sub( _vector );\n\n\t}\n\n\treflect( normal ) {\n\n\t\t// reflect incident vector off plane orthogonal to normal\n\t\t// normal is assumed to have unit length\n\n\t\treturn this.sub( _vector.copy( normal ).multiplyScalar( 2 * this.dot( normal ) ) );\n\n\t}\n\n\tangleTo( v ) {\n\n\t\tconst denominator = Math.sqrt( this.lengthSq() * v.lengthSq() );\n\n\t\tif ( denominator === 0 ) return Math.PI / 2;\n\n\t\tconst theta = this.dot( v ) / denominator;\n\n\t\t// clamp, to handle numerical problems\n\n\t\treturn Math.acos( MathUtils.clamp( theta, - 1, 1 ) );\n\n\t}\n\n\tdistanceTo( v ) {\n\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\n\n\t}\n\n\tdistanceToSquared( v ) {\n\n\t\tconst dx = this.x - v.x, dy = this.y - v.y, dz = this.z - v.z;\n\n\t\treturn dx * dx + dy * dy + dz * dz;\n\n\t}\n\n\tmanhattanDistanceTo( v ) {\n\n\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y ) + Math.abs( this.z - v.z );\n\n\t}\n\n\tsetFromSpherical( s ) {\n\n\t\treturn this.setFromSphericalCoords( s.radius, s.phi, s.theta );\n\n\t}\n\n\tsetFromSphericalCoords( radius, phi, theta ) {\n\n\t\tconst sinPhiRadius = Math.sin( phi ) * radius;\n\n\t\tthis.x = sinPhiRadius * Math.sin( theta );\n\t\tthis.y = Math.cos( phi ) * radius;\n\t\tthis.z = sinPhiRadius * Math.cos( theta );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromCylindrical( c ) {\n\n\t\treturn this.setFromCylindricalCoords( c.radius, c.theta, c.y );\n\n\t}\n\n\tsetFromCylindricalCoords( radius, theta, y ) {\n\n\t\tthis.x = radius * Math.sin( theta );\n\t\tthis.y = y;\n\t\tthis.z = radius * Math.cos( theta );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrixPosition( m ) {\n\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 12 ];\n\t\tthis.y = e[ 13 ];\n\t\tthis.z = e[ 14 ];\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrixScale( m ) {\n\n\t\tconst sx = this.setFromMatrixColumn( m, 0 ).length();\n\t\tconst sy = this.setFromMatrixColumn( m, 1 ).length();\n\t\tconst sz = this.setFromMatrixColumn( m, 2 ).length();\n\n\t\tthis.x = sx;\n\t\tthis.y = sy;\n\t\tthis.z = sz;\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrixColumn( m, index ) {\n\n\t\treturn this.fromArray( m.elements, index * 4 );\n\n\t}\n\n\tsetFromMatrix3Column( m, index ) {\n\n\t\treturn this.fromArray( m.elements, index * 3 );\n\n\t}\n\n\tequals( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\t\tthis.z = array[ offset + 2 ];\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\t\tarray[ offset + 2 ] = this.z;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\t\tthis.z = attribute.getZ( index );\n\n\t\treturn this;\n\n\t}\n\n\trandom() {\n\n\t\tthis.x = Math.random();\n\t\tthis.y = Math.random();\n\t\tthis.z = Math.random();\n\n\t\treturn this;\n\n\t}\n\n}\n\nconst _vector = /*@__PURE__*/ new Vector3();\nconst _quaternion = /*@__PURE__*/ new Quaternion();\n\nclass Box3 {\n\n\tconstructor( min, max ) {\n\n\t\tObject.defineProperty( this, 'isBox3', { value: true } );\n\n\t\tthis.min = ( min !== undefined ) ? min : new Vector3( + Infinity, + Infinity, + Infinity );\n\t\tthis.max = ( max !== undefined ) ? max : new Vector3( - Infinity, - Infinity, - Infinity );\n\n\t}\n\n\tset( min, max ) {\n\n\t\tthis.min.copy( min );\n\t\tthis.max.copy( max );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromArray( array ) {\n\n\t\tlet minX = + Infinity;\n\t\tlet minY = + Infinity;\n\t\tlet minZ = + Infinity;\n\n\t\tlet maxX = - Infinity;\n\t\tlet maxY = - Infinity;\n\t\tlet maxZ = - Infinity;\n\n\t\tfor ( let i = 0, l = array.length; i < l; i += 3 ) {\n\n\t\t\tconst x = array[ i ];\n\t\t\tconst y = array[ i + 1 ];\n\t\t\tconst z = array[ i + 2 ];\n\n\t\t\tif ( x < minX ) minX = x;\n\t\t\tif ( y < minY ) minY = y;\n\t\t\tif ( z < minZ ) minZ = z;\n\n\t\t\tif ( x > maxX ) maxX = x;\n\t\t\tif ( y > maxY ) maxY = y;\n\t\t\tif ( z > maxZ ) maxZ = z;\n\n\t\t}\n\n\t\tthis.min.set( minX, minY, minZ );\n\t\tthis.max.set( maxX, maxY, maxZ );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromBufferAttribute( attribute ) {\n\n\t\tlet minX = + Infinity;\n\t\tlet minY = + Infinity;\n\t\tlet minZ = + Infinity;\n\n\t\tlet maxX = - Infinity;\n\t\tlet maxY = - Infinity;\n\t\tlet maxZ = - Infinity;\n\n\t\tfor ( let i = 0, l = attribute.count; i < l; i ++ ) {\n\n\t\t\tconst x = attribute.getX( i );\n\t\t\tconst y = attribute.getY( i );\n\t\t\tconst z = attribute.getZ( i );\n\n\t\t\tif ( x < minX ) minX = x;\n\t\t\tif ( y < minY ) minY = y;\n\t\t\tif ( z < minZ ) minZ = z;\n\n\t\t\tif ( x > maxX ) maxX = x;\n\t\t\tif ( y > maxY ) maxY = y;\n\t\t\tif ( z > maxZ ) maxZ = z;\n\n\t\t}\n\n\t\tthis.min.set( minX, minY, minZ );\n\t\tthis.max.set( maxX, maxY, maxZ );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromPoints( points ) {\n\n\t\tthis.makeEmpty();\n\n\t\tfor ( let i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\tthis.expandByPoint( points[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetFromCenterAndSize( center, size ) {\n\n\t\tconst halfSize = _vector$1.copy( size ).multiplyScalar( 0.5 );\n\n\t\tthis.min.copy( center ).sub( halfSize );\n\t\tthis.max.copy( center ).add( halfSize );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromObject( object ) {\n\n\t\tthis.makeEmpty();\n\n\t\treturn this.expandByObject( object );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( box ) {\n\n\t\tthis.min.copy( box.min );\n\t\tthis.max.copy( box.max );\n\n\t\treturn this;\n\n\t}\n\n\tmakeEmpty() {\n\n\t\tthis.min.x = this.min.y = this.min.z = + Infinity;\n\t\tthis.max.x = this.max.y = this.max.z = - Infinity;\n\n\t\treturn this;\n\n\t}\n\n\tisEmpty() {\n\n\t\t// this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n\n\t\treturn ( this.max.x < this.min.x ) || ( this.max.y < this.min.y ) || ( this.max.z < this.min.z );\n\n\t}\n\n\tgetCenter( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .getCenter() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn this.isEmpty() ? target.set( 0, 0, 0 ) : target.addVectors( this.min, this.max ).multiplyScalar( 0.5 );\n\n\t}\n\n\tgetSize( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .getSize() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn this.isEmpty() ? target.set( 0, 0, 0 ) : target.subVectors( this.max, this.min );\n\n\t}\n\n\texpandByPoint( point ) {\n\n\t\tthis.min.min( point );\n\t\tthis.max.max( point );\n\n\t\treturn this;\n\n\t}\n\n\texpandByVector( vector ) {\n\n\t\tthis.min.sub( vector );\n\t\tthis.max.add( vector );\n\n\t\treturn this;\n\n\t}\n\n\texpandByScalar( scalar ) {\n\n\t\tthis.min.addScalar( - scalar );\n\t\tthis.max.addScalar( scalar );\n\n\t\treturn this;\n\n\t}\n\n\texpandByObject( object ) {\n\n\t\t// Computes the world-axis-aligned bounding box of an object (including its children),\n\t\t// accounting for both the object's, and children's, world transforms\n\n\t\tobject.updateWorldMatrix( false, false );\n\n\t\tconst geometry = object.geometry;\n\n\t\tif ( geometry !== undefined ) {\n\n\t\t\tif ( geometry.boundingBox === null ) {\n\n\t\t\t\tgeometry.computeBoundingBox();\n\n\t\t\t}\n\n\t\t\t_box.copy( geometry.boundingBox );\n\t\t\t_box.applyMatrix4( object.matrixWorld );\n\n\t\t\tthis.union( _box );\n\n\t\t}\n\n\t\tconst children = object.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tthis.expandByObject( children[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tcontainsPoint( point ) {\n\n\t\treturn point.x < this.min.x || point.x > this.max.x ||\n\t\t\tpoint.y < this.min.y || point.y > this.max.y ||\n\t\t\tpoint.z < this.min.z || point.z > this.max.z ? false : true;\n\n\t}\n\n\tcontainsBox( box ) {\n\n\t\treturn this.min.x <= box.min.x && box.max.x <= this.max.x &&\n\t\t\tthis.min.y <= box.min.y && box.max.y <= this.max.y &&\n\t\t\tthis.min.z <= box.min.z && box.max.z <= this.max.z;\n\n\t}\n\n\tgetParameter( point, target ) {\n\n\t\t// This can potentially have a divide by zero if the box\n\t\t// has a size dimension of 0.\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .getParameter() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.set(\n\t\t\t( point.x - this.min.x ) / ( this.max.x - this.min.x ),\n\t\t\t( point.y - this.min.y ) / ( this.max.y - this.min.y ),\n\t\t\t( point.z - this.min.z ) / ( this.max.z - this.min.z )\n\t\t);\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\t// using 6 splitting planes to rule out intersections.\n\t\treturn box.max.x < this.min.x || box.min.x > this.max.x ||\n\t\t\tbox.max.y < this.min.y || box.min.y > this.max.y ||\n\t\t\tbox.max.z < this.min.z || box.min.z > this.max.z ? false : true;\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\t// Find the point on the AABB closest to the sphere center.\n\t\tthis.clampPoint( sphere.center, _vector$1 );\n\n\t\t// If that point is inside the sphere, the AABB and sphere intersect.\n\t\treturn _vector$1.distanceToSquared( sphere.center ) <= ( sphere.radius * sphere.radius );\n\n\t}\n\n\tintersectsPlane( plane ) {\n\n\t\t// We compute the minimum and maximum dot product values. If those values\n\t\t// are on the same side (back or front) of the plane, then there is no intersection.\n\n\t\tlet min, max;\n\n\t\tif ( plane.normal.x > 0 ) {\n\n\t\t\tmin = plane.normal.x * this.min.x;\n\t\t\tmax = plane.normal.x * this.max.x;\n\n\t\t} else {\n\n\t\t\tmin = plane.normal.x * this.max.x;\n\t\t\tmax = plane.normal.x * this.min.x;\n\n\t\t}\n\n\t\tif ( plane.normal.y > 0 ) {\n\n\t\t\tmin += plane.normal.y * this.min.y;\n\t\t\tmax += plane.normal.y * this.max.y;\n\n\t\t} else {\n\n\t\t\tmin += plane.normal.y * this.max.y;\n\t\t\tmax += plane.normal.y * this.min.y;\n\n\t\t}\n\n\t\tif ( plane.normal.z > 0 ) {\n\n\t\t\tmin += plane.normal.z * this.min.z;\n\t\t\tmax += plane.normal.z * this.max.z;\n\n\t\t} else {\n\n\t\t\tmin += plane.normal.z * this.max.z;\n\t\t\tmax += plane.normal.z * this.min.z;\n\n\t\t}\n\n\t\treturn ( min <= - plane.constant && max >= - plane.constant );\n\n\t}\n\n\tintersectsTriangle( triangle ) {\n\n\t\tif ( this.isEmpty() ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\t// compute box center and extents\n\t\tthis.getCenter( _center );\n\t\t_extents.subVectors( this.max, _center );\n\n\t\t// translate triangle to aabb origin\n\t\t_v0.subVectors( triangle.a, _center );\n\t\t_v1.subVectors( triangle.b, _center );\n\t\t_v2.subVectors( triangle.c, _center );\n\n\t\t// compute edge vectors for triangle\n\t\t_f0.subVectors( _v1, _v0 );\n\t\t_f1.subVectors( _v2, _v1 );\n\t\t_f2.subVectors( _v0, _v2 );\n\n\t\t// test against axes that are given by cross product combinations of the edges of the triangle and the edges of the aabb\n\t\t// make an axis testing of each of the 3 sides of the aabb against each of the 3 sides of the triangle = 9 axis of separation\n\t\t// axis_ij = u_i x f_j (u0, u1, u2 = face normals of aabb = x,y,z axes vectors since aabb is axis aligned)\n\t\tlet axes = [\n\t\t\t0, - _f0.z, _f0.y, 0, - _f1.z, _f1.y, 0, - _f2.z, _f2.y,\n\t\t\t_f0.z, 0, - _f0.x, _f1.z, 0, - _f1.x, _f2.z, 0, - _f2.x,\n\t\t\t- _f0.y, _f0.x, 0, - _f1.y, _f1.x, 0, - _f2.y, _f2.x, 0\n\t\t];\n\t\tif ( ! satForAxes( axes, _v0, _v1, _v2, _extents ) ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\t// test 3 face normals from the aabb\n\t\taxes = [ 1, 0, 0, 0, 1, 0, 0, 0, 1 ];\n\t\tif ( ! satForAxes( axes, _v0, _v1, _v2, _extents ) ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\t// finally testing the face normal of the triangle\n\t\t// use already existing triangle edge vectors here\n\t\t_triangleNormal.crossVectors( _f0, _f1 );\n\t\taxes = [ _triangleNormal.x, _triangleNormal.y, _triangleNormal.z ];\n\n\t\treturn satForAxes( axes, _v0, _v1, _v2, _extents );\n\n\t}\n\n\tclampPoint( point, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .clampPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( point ).clamp( this.min, this.max );\n\n\t}\n\n\tdistanceToPoint( point ) {\n\n\t\tconst clampedPoint = _vector$1.copy( point ).clamp( this.min, this.max );\n\n\t\treturn clampedPoint.sub( point ).length();\n\n\t}\n\n\tgetBoundingSphere( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.error( 'THREE.Box3: .getBoundingSphere() target is now required' );\n\t\t\t//target = new Sphere(); // removed to avoid cyclic dependency\n\n\t\t}\n\n\t\tthis.getCenter( target.center );\n\n\t\ttarget.radius = this.getSize( _vector$1 ).length() * 0.5;\n\n\t\treturn target;\n\n\t}\n\n\tintersect( box ) {\n\n\t\tthis.min.max( box.min );\n\t\tthis.max.min( box.max );\n\n\t\t// ensure that if there is no overlap, the result is fully empty, not slightly empty with non-inf/+inf values that will cause subsequence intersects to erroneously return valid values.\n\t\tif ( this.isEmpty() ) this.makeEmpty();\n\n\t\treturn this;\n\n\t}\n\n\tunion( box ) {\n\n\t\tthis.min.min( box.min );\n\t\tthis.max.max( box.max );\n\n\t\treturn this;\n\n\t}\n\n\tapplyMatrix4( matrix ) {\n\n\t\t// transform of empty box is an empty box.\n\t\tif ( this.isEmpty() ) return this;\n\n\t\t// NOTE: I am using a binary pattern to specify all 2^3 combinations below\n\t\t_points[ 0 ].set( this.min.x, this.min.y, this.min.z ).applyMatrix4( matrix ); // 000\n\t\t_points[ 1 ].set( this.min.x, this.min.y, this.max.z ).applyMatrix4( matrix ); // 001\n\t\t_points[ 2 ].set( this.min.x, this.max.y, this.min.z ).applyMatrix4( matrix ); // 010\n\t\t_points[ 3 ].set( this.min.x, this.max.y, this.max.z ).applyMatrix4( matrix ); // 011\n\t\t_points[ 4 ].set( this.max.x, this.min.y, this.min.z ).applyMatrix4( matrix ); // 100\n\t\t_points[ 5 ].set( this.max.x, this.min.y, this.max.z ).applyMatrix4( matrix ); // 101\n\t\t_points[ 6 ].set( this.max.x, this.max.y, this.min.z ).applyMatrix4( matrix ); // 110\n\t\t_points[ 7 ].set( this.max.x, this.max.y, this.max.z ).applyMatrix4( matrix ); // 111\n\n\t\tthis.setFromPoints( _points );\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( offset ) {\n\n\t\tthis.min.add( offset );\n\t\tthis.max.add( offset );\n\n\t\treturn this;\n\n\t}\n\n\tequals( box ) {\n\n\t\treturn box.min.equals( this.min ) && box.max.equals( this.max );\n\n\t}\n\n}\n\nfunction satForAxes( axes, v0, v1, v2, extents ) {\n\n\tfor ( let i = 0, j = axes.length - 3; i <= j; i += 3 ) {\n\n\t\t_testAxis.fromArray( axes, i );\n\t\t// project the aabb onto the seperating axis\n\t\tconst r = extents.x * Math.abs( _testAxis.x ) + extents.y * Math.abs( _testAxis.y ) + extents.z * Math.abs( _testAxis.z );\n\t\t// project all 3 vertices of the triangle onto the seperating axis\n\t\tconst p0 = v0.dot( _testAxis );\n\t\tconst p1 = v1.dot( _testAxis );\n\t\tconst p2 = v2.dot( _testAxis );\n\t\t// actual test, basically see if either of the most extreme of the triangle points intersects r\n\t\tif ( Math.max( - Math.max( p0, p1, p2 ), Math.min( p0, p1, p2 ) ) > r ) {\n\n\t\t\t// points of the projected triangle are outside the projected half-length of the aabb\n\t\t\t// the axis is seperating and we can exit\n\t\t\treturn false;\n\n\t\t}\n\n\t}\n\n\treturn true;\n\n}\n\nconst _points = [\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3()\n];\n\nconst _vector$1 = /*@__PURE__*/ new Vector3();\n\nconst _box = /*@__PURE__*/ new Box3();\n\n// triangle centered vertices\n\nconst _v0 = /*@__PURE__*/ new Vector3();\nconst _v1 = /*@__PURE__*/ new Vector3();\nconst _v2 = /*@__PURE__*/ new Vector3();\n\n// triangle edge vectors\n\nconst _f0 = /*@__PURE__*/ new Vector3();\nconst _f1 = /*@__PURE__*/ new Vector3();\nconst _f2 = /*@__PURE__*/ new Vector3();\n\nconst _center = /*@__PURE__*/ new Vector3();\nconst _extents = /*@__PURE__*/ new Vector3();\nconst _triangleNormal = /*@__PURE__*/ new Vector3();\nconst _testAxis = /*@__PURE__*/ new Vector3();\n\nconst _box$1 = /*@__PURE__*/ new Box3();\n\nclass Sphere {\n\n\tconstructor( center, radius ) {\n\n\t\tthis.center = ( center !== undefined ) ? center : new Vector3();\n\t\tthis.radius = ( radius !== undefined ) ? radius : - 1;\n\n\t}\n\n\tset( center, radius ) {\n\n\t\tthis.center.copy( center );\n\t\tthis.radius = radius;\n\n\t\treturn this;\n\n\t}\n\n\tsetFromPoints( points, optionalCenter ) {\n\n\t\tconst center = this.center;\n\n\t\tif ( optionalCenter !== undefined ) {\n\n\t\t\tcenter.copy( optionalCenter );\n\n\t\t} else {\n\n\t\t\t_box$1.setFromPoints( points ).getCenter( center );\n\n\t\t}\n\n\t\tlet maxRadiusSq = 0;\n\n\t\tfor ( let i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( points[ i ] ) );\n\n\t\t}\n\n\t\tthis.radius = Math.sqrt( maxRadiusSq );\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( sphere ) {\n\n\t\tthis.center.copy( sphere.center );\n\t\tthis.radius = sphere.radius;\n\n\t\treturn this;\n\n\t}\n\n\tisEmpty() {\n\n\t\treturn ( this.radius < 0 );\n\n\t}\n\n\tmakeEmpty() {\n\n\t\tthis.center.set( 0, 0, 0 );\n\t\tthis.radius = - 1;\n\n\t\treturn this;\n\n\t}\n\n\tcontainsPoint( point ) {\n\n\t\treturn ( point.distanceToSquared( this.center ) <= ( this.radius * this.radius ) );\n\n\t}\n\n\tdistanceToPoint( point ) {\n\n\t\treturn ( point.distanceTo( this.center ) - this.radius );\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\tconst radiusSum = this.radius + sphere.radius;\n\n\t\treturn sphere.center.distanceToSquared( this.center ) <= ( radiusSum * radiusSum );\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\treturn box.intersectsSphere( this );\n\n\t}\n\n\tintersectsPlane( plane ) {\n\n\t\treturn Math.abs( plane.distanceToPoint( this.center ) ) <= this.radius;\n\n\t}\n\n\tclampPoint( point, target ) {\n\n\t\tconst deltaLengthSq = this.center.distanceToSquared( point );\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Sphere: .clampPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\ttarget.copy( point );\n\n\t\tif ( deltaLengthSq > ( this.radius * this.radius ) ) {\n\n\t\t\ttarget.sub( this.center ).normalize();\n\t\t\ttarget.multiplyScalar( this.radius ).add( this.center );\n\n\t\t}\n\n\t\treturn target;\n\n\t}\n\n\tgetBoundingBox( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Sphere: .getBoundingBox() target is now required' );\n\t\t\ttarget = new Box3();\n\n\t\t}\n\n\t\tif ( this.isEmpty() ) {\n\n\t\t\t// Empty sphere produces empty bounding box\n\t\t\ttarget.makeEmpty();\n\t\t\treturn target;\n\n\t\t}\n\n\t\ttarget.set( this.center, this.center );\n\t\ttarget.expandByScalar( this.radius );\n\n\t\treturn target;\n\n\t}\n\n\tapplyMatrix4( matrix ) {\n\n\t\tthis.center.applyMatrix4( matrix );\n\t\tthis.radius = this.radius * matrix.getMaxScaleOnAxis();\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( offset ) {\n\n\t\tthis.center.add( offset );\n\n\t\treturn this;\n\n\t}\n\n\tequals( sphere ) {\n\n\t\treturn sphere.center.equals( this.center ) && ( sphere.radius === this.radius );\n\n\t}\n\n}\n\nconst _vector$2 = /*@__PURE__*/ new Vector3();\nconst _segCenter = /*@__PURE__*/ new Vector3();\nconst _segDir = /*@__PURE__*/ new Vector3();\nconst _diff = /*@__PURE__*/ new Vector3();\n\nconst _edge1 = /*@__PURE__*/ new Vector3();\nconst _edge2 = /*@__PURE__*/ new Vector3();\nconst _normal = /*@__PURE__*/ new Vector3();\n\nclass Ray {\n\n\tconstructor( origin, direction ) {\n\n\t\tthis.origin = ( origin !== undefined ) ? origin : new Vector3();\n\t\tthis.direction = ( direction !== undefined ) ? direction : new Vector3( 0, 0, - 1 );\n\n\t}\n\n\tset( origin, direction ) {\n\n\t\tthis.origin.copy( origin );\n\t\tthis.direction.copy( direction );\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( ray ) {\n\n\t\tthis.origin.copy( ray.origin );\n\t\tthis.direction.copy( ray.direction );\n\n\t\treturn this;\n\n\t}\n\n\tat( t, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Ray: .at() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( this.direction ).multiplyScalar( t ).add( this.origin );\n\n\t}\n\n\tlookAt( v ) {\n\n\t\tthis.direction.copy( v ).sub( this.origin ).normalize();\n\n\t\treturn this;\n\n\t}\n\n\trecast( t ) {\n\n\t\tthis.origin.copy( this.at( t, _vector$2 ) );\n\n\t\treturn this;\n\n\t}\n\n\tclosestPointToPoint( point, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Ray: .closestPointToPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\ttarget.subVectors( point, this.origin );\n\n\t\tconst directionDistance = target.dot( this.direction );\n\n\t\tif ( directionDistance < 0 ) {\n\n\t\t\treturn target.copy( this.origin );\n\n\t\t}\n\n\t\treturn target.copy( this.direction ).multiplyScalar( directionDistance ).add( this.origin );\n\n\t}\n\n\tdistanceToPoint( point ) {\n\n\t\treturn Math.sqrt( this.distanceSqToPoint( point ) );\n\n\t}\n\n\tdistanceSqToPoint( point ) {\n\n\t\tconst directionDistance = _vector$2.subVectors( point, this.origin ).dot( this.direction );\n\n\t\t// point behind the ray\n\n\t\tif ( directionDistance < 0 ) {\n\n\t\t\treturn this.origin.distanceToSquared( point );\n\n\t\t}\n\n\t\t_vector$2.copy( this.direction ).multiplyScalar( directionDistance ).add( this.origin );\n\n\t\treturn _vector$2.distanceToSquared( point );\n\n\t}\n\n\tdistanceSqToSegment( v0, v1, optionalPointOnRay, optionalPointOnSegment ) {\n\n\t\t// from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteDistRaySegment.h\n\t\t// It returns the min distance between the ray and the segment\n\t\t// defined by v0 and v1\n\t\t// It can also set two optional targets :\n\t\t// - The closest point on the ray\n\t\t// - The closest point on the segment\n\n\t\t_segCenter.copy( v0 ).add( v1 ).multiplyScalar( 0.5 );\n\t\t_segDir.copy( v1 ).sub( v0 ).normalize();\n\t\t_diff.copy( this.origin ).sub( _segCenter );\n\n\t\tconst segExtent = v0.distanceTo( v1 ) * 0.5;\n\t\tconst a01 = - this.direction.dot( _segDir );\n\t\tconst b0 = _diff.dot( this.direction );\n\t\tconst b1 = - _diff.dot( _segDir );\n\t\tconst c = _diff.lengthSq();\n\t\tconst det = Math.abs( 1 - a01 * a01 );\n\t\tlet s0, s1, sqrDist, extDet;\n\n\t\tif ( det > 0 ) {\n\n\t\t\t// The ray and segment are not parallel.\n\n\t\t\ts0 = a01 * b1 - b0;\n\t\t\ts1 = a01 * b0 - b1;\n\t\t\textDet = segExtent * det;\n\n\t\t\tif ( s0 >= 0 ) {\n\n\t\t\t\tif ( s1 >= - extDet ) {\n\n\t\t\t\t\tif ( s1 <= extDet ) {\n\n\t\t\t\t\t\t// region 0\n\t\t\t\t\t\t// Minimum at interior points of ray and segment.\n\n\t\t\t\t\t\tconst invDet = 1 / det;\n\t\t\t\t\t\ts0 *= invDet;\n\t\t\t\t\t\ts1 *= invDet;\n\t\t\t\t\t\tsqrDist = s0 * ( s0 + a01 * s1 + 2 * b0 ) + s1 * ( a01 * s0 + s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// region 1\n\n\t\t\t\t\t\ts1 = segExtent;\n\t\t\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// region 5\n\n\t\t\t\t\ts1 = - segExtent;\n\t\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( s1 <= - extDet ) {\n\n\t\t\t\t\t// region 4\n\n\t\t\t\t\ts0 = Math.max( 0, - ( - a01 * segExtent + b0 ) );\n\t\t\t\t\ts1 = ( s0 > 0 ) ? - segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t} else if ( s1 <= extDet ) {\n\n\t\t\t\t\t// region 3\n\n\t\t\t\t\ts0 = 0;\n\t\t\t\t\ts1 = Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\tsqrDist = s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// region 2\n\n\t\t\t\t\ts0 = Math.max( 0, - ( a01 * segExtent + b0 ) );\n\t\t\t\t\ts1 = ( s0 > 0 ) ? segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// Ray and segment are parallel.\n\n\t\t\ts1 = ( a01 > 0 ) ? - segExtent : segExtent;\n\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t}\n\n\t\tif ( optionalPointOnRay ) {\n\n\t\t\toptionalPointOnRay.copy( this.direction ).multiplyScalar( s0 ).add( this.origin );\n\n\t\t}\n\n\t\tif ( optionalPointOnSegment ) {\n\n\t\t\toptionalPointOnSegment.copy( _segDir ).multiplyScalar( s1 ).add( _segCenter );\n\n\t\t}\n\n\t\treturn sqrDist;\n\n\t}\n\n\tintersectSphere( sphere, target ) {\n\n\t\t_vector$2.subVectors( sphere.center, this.origin );\n\t\tconst tca = _vector$2.dot( this.direction );\n\t\tconst d2 = _vector$2.dot( _vector$2 ) - tca * tca;\n\t\tconst radius2 = sphere.radius * sphere.radius;\n\n\t\tif ( d2 > radius2 ) return null;\n\n\t\tconst thc = Math.sqrt( radius2 - d2 );\n\n\t\t// t0 = first intersect point - entrance on front of sphere\n\t\tconst t0 = tca - thc;\n\n\t\t// t1 = second intersect point - exit point on back of sphere\n\t\tconst t1 = tca + thc;\n\n\t\t// test to see if both t0 and t1 are behind the ray - if so, return null\n\t\tif ( t0 < 0 && t1 < 0 ) return null;\n\n\t\t// test to see if t0 is behind the ray:\n\t\t// if it is, the ray is inside the sphere, so return the second exit point scaled by t1,\n\t\t// in order to always return an intersect point that is in front of the ray.\n\t\tif ( t0 < 0 ) return this.at( t1, target );\n\n\t\t// else t0 is in front of the ray, so return the first collision point scaled by t0\n\t\treturn this.at( t0, target );\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\treturn this.distanceSqToPoint( sphere.center ) <= ( sphere.radius * sphere.radius );\n\n\t}\n\n\tdistanceToPlane( plane ) {\n\n\t\tconst denominator = plane.normal.dot( this.direction );\n\n\t\tif ( denominator === 0 ) {\n\n\t\t\t// line is coplanar, return origin\n\t\t\tif ( plane.distanceToPoint( this.origin ) === 0 ) {\n\n\t\t\t\treturn 0;\n\n\t\t\t}\n\n\t\t\t// Null is preferable to undefined since undefined means.... it is undefined\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst t = - ( this.origin.dot( plane.normal ) + plane.constant ) / denominator;\n\n\t\t// Return if the ray never intersects the plane\n\n\t\treturn t >= 0 ? t : null;\n\n\t}\n\n\tintersectPlane( plane, target ) {\n\n\t\tconst t = this.distanceToPlane( plane );\n\n\t\tif ( t === null ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\treturn this.at( t, target );\n\n\t}\n\n\tintersectsPlane( plane ) {\n\n\t\t// check if the ray lies on the plane first\n\n\t\tconst distToPoint = plane.distanceToPoint( this.origin );\n\n\t\tif ( distToPoint === 0 ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\tconst denominator = plane.normal.dot( this.direction );\n\n\t\tif ( denominator * distToPoint < 0 ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\t// ray origin is behind the plane (and is pointing behind it)\n\n\t\treturn false;\n\n\t}\n\n\tintersectBox( box, target ) {\n\n\t\tlet tmin, tmax, tymin, tymax, tzmin, tzmax;\n\n\t\tconst invdirx = 1 / this.direction.x,\n\t\t\tinvdiry = 1 / this.direction.y,\n\t\t\tinvdirz = 1 / this.direction.z;\n\n\t\tconst origin = this.origin;\n\n\t\tif ( invdirx >= 0 ) {\n\n\t\t\ttmin = ( box.min.x - origin.x ) * invdirx;\n\t\t\ttmax = ( box.max.x - origin.x ) * invdirx;\n\n\t\t} else {\n\n\t\t\ttmin = ( box.max.x - origin.x ) * invdirx;\n\t\t\ttmax = ( box.min.x - origin.x ) * invdirx;\n\n\t\t}\n\n\t\tif ( invdiry >= 0 ) {\n\n\t\t\ttymin = ( box.min.y - origin.y ) * invdiry;\n\t\t\ttymax = ( box.max.y - origin.y ) * invdiry;\n\n\t\t} else {\n\n\t\t\ttymin = ( box.max.y - origin.y ) * invdiry;\n\t\t\ttymax = ( box.min.y - origin.y ) * invdiry;\n\n\t\t}\n\n\t\tif ( ( tmin > tymax ) || ( tymin > tmax ) ) return null;\n\n\t\t// These lines also handle the case where tmin or tmax is NaN\n\t\t// (result of 0 * Infinity). x !== x returns true if x is NaN\n\n\t\tif ( tymin > tmin || tmin !== tmin ) tmin = tymin;\n\n\t\tif ( tymax < tmax || tmax !== tmax ) tmax = tymax;\n\n\t\tif ( invdirz >= 0 ) {\n\n\t\t\ttzmin = ( box.min.z - origin.z ) * invdirz;\n\t\t\ttzmax = ( box.max.z - origin.z ) * invdirz;\n\n\t\t} else {\n\n\t\t\ttzmin = ( box.max.z - origin.z ) * invdirz;\n\t\t\ttzmax = ( box.min.z - origin.z ) * invdirz;\n\n\t\t}\n\n\t\tif ( ( tmin > tzmax ) || ( tzmin > tmax ) ) return null;\n\n\t\tif ( tzmin > tmin || tmin !== tmin ) tmin = tzmin;\n\n\t\tif ( tzmax < tmax || tmax !== tmax ) tmax = tzmax;\n\n\t\t//return point closest to the ray (positive side)\n\n\t\tif ( tmax < 0 ) return null;\n\n\t\treturn this.at( tmin >= 0 ? tmin : tmax, target );\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\treturn this.intersectBox( box, _vector$2 ) !== null;\n\n\t}\n\n\tintersectTriangle( a, b, c, backfaceCulling, target ) {\n\n\t\t// Compute the offset origin, edges, and normal.\n\n\t\t// from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteIntrRay3Triangle3.h\n\n\t\t_edge1.subVectors( b, a );\n\t\t_edge2.subVectors( c, a );\n\t\t_normal.crossVectors( _edge1, _edge2 );\n\n\t\t// Solve Q + t*D = b1*E1 + b2*E2 (Q = kDiff, D = ray direction,\n\t\t// E1 = kEdge1, E2 = kEdge2, N = Cross(E1,E2)) by\n\t\t//   |Dot(D,N)|*b1 = sign(Dot(D,N))*Dot(D,Cross(Q,E2))\n\t\t//   |Dot(D,N)|*b2 = sign(Dot(D,N))*Dot(D,Cross(E1,Q))\n\t\t//   |Dot(D,N)|*t = -sign(Dot(D,N))*Dot(Q,N)\n\t\tlet DdN = this.direction.dot( _normal );\n\t\tlet sign;\n\n\t\tif ( DdN > 0 ) {\n\n\t\t\tif ( backfaceCulling ) return null;\n\t\t\tsign = 1;\n\n\t\t} else if ( DdN < 0 ) {\n\n\t\t\tsign = - 1;\n\t\t\tDdN = - DdN;\n\n\t\t} else {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t_diff.subVectors( this.origin, a );\n\t\tconst DdQxE2 = sign * this.direction.dot( _edge2.crossVectors( _diff, _edge2 ) );\n\n\t\t// b1 < 0, no intersection\n\t\tif ( DdQxE2 < 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst DdE1xQ = sign * this.direction.dot( _edge1.cross( _diff ) );\n\n\t\t// b2 < 0, no intersection\n\t\tif ( DdE1xQ < 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// b1+b2 > 1, no intersection\n\t\tif ( DdQxE2 + DdE1xQ > DdN ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// Line intersects triangle, check if ray does.\n\t\tconst QdN = - sign * _diff.dot( _normal );\n\n\t\t// t < 0, no intersection\n\t\tif ( QdN < 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// Ray intersects triangle.\n\t\treturn this.at( QdN / DdN, target );\n\n\t}\n\n\tapplyMatrix4( matrix4 ) {\n\n\t\tthis.origin.applyMatrix4( matrix4 );\n\t\tthis.direction.transformDirection( matrix4 );\n\n\t\treturn this;\n\n\t}\n\n\tequals( ray ) {\n\n\t\treturn ray.origin.equals( this.origin ) && ray.direction.equals( this.direction );\n\n\t}\n\n}\n\nclass Matrix4 {\n\n\tconstructor() {\n\n\t\tObject.defineProperty( this, 'isMatrix4', { value: true } );\n\n\t\tthis.elements = [\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, 1, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t];\n\n\t\tif ( arguments.length > 0 ) {\n\n\t\t\tconsole.error( 'THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.' );\n\n\t\t}\n\n\t}\n\n\tset( n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44 ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] = n11; te[ 4 ] = n12; te[ 8 ] = n13; te[ 12 ] = n14;\n\t\tte[ 1 ] = n21; te[ 5 ] = n22; te[ 9 ] = n23; te[ 13 ] = n24;\n\t\tte[ 2 ] = n31; te[ 6 ] = n32; te[ 10 ] = n33; te[ 14 ] = n34;\n\t\tte[ 3 ] = n41; te[ 7 ] = n42; te[ 11 ] = n43; te[ 15 ] = n44;\n\n\t\treturn this;\n\n\t}\n\n\tidentity() {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, 1, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new Matrix4().fromArray( this.elements );\n\n\t}\n\n\tcopy( m ) {\n\n\t\tconst te = this.elements;\n\t\tconst me = m.elements;\n\n\t\tte[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ]; te[ 3 ] = me[ 3 ];\n\t\tte[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ]; te[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ];\n\t\tte[ 8 ] = me[ 8 ]; te[ 9 ] = me[ 9 ]; te[ 10 ] = me[ 10 ]; te[ 11 ] = me[ 11 ];\n\t\tte[ 12 ] = me[ 12 ]; te[ 13 ] = me[ 13 ]; te[ 14 ] = me[ 14 ]; te[ 15 ] = me[ 15 ];\n\n\t\treturn this;\n\n\t}\n\n\tcopyPosition( m ) {\n\n\t\tconst te = this.elements, me = m.elements;\n\n\t\tte[ 12 ] = me[ 12 ];\n\t\tte[ 13 ] = me[ 13 ];\n\t\tte[ 14 ] = me[ 14 ];\n\n\t\treturn this;\n\n\t}\n\n\textractBasis( xAxis, yAxis, zAxis ) {\n\n\t\txAxis.setFromMatrixColumn( this, 0 );\n\t\tyAxis.setFromMatrixColumn( this, 1 );\n\t\tzAxis.setFromMatrixColumn( this, 2 );\n\n\t\treturn this;\n\n\t}\n\n\tmakeBasis( xAxis, yAxis, zAxis ) {\n\n\t\tthis.set(\n\t\t\txAxis.x, yAxis.x, zAxis.x, 0,\n\t\t\txAxis.y, yAxis.y, zAxis.y, 0,\n\t\t\txAxis.z, yAxis.z, zAxis.z, 0,\n\t\t\t0, 0, 0, 1\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\textractRotation( m ) {\n\n\t\t// this method does not support reflection matrices\n\n\t\tconst te = this.elements;\n\t\tconst me = m.elements;\n\n\t\tconst scaleX = 1 / _v1$1.setFromMatrixColumn( m, 0 ).length();\n\t\tconst scaleY = 1 / _v1$1.setFromMatrixColumn( m, 1 ).length();\n\t\tconst scaleZ = 1 / _v1$1.setFromMatrixColumn( m, 2 ).length();\n\n\t\tte[ 0 ] = me[ 0 ] * scaleX;\n\t\tte[ 1 ] = me[ 1 ] * scaleX;\n\t\tte[ 2 ] = me[ 2 ] * scaleX;\n\t\tte[ 3 ] = 0;\n\n\t\tte[ 4 ] = me[ 4 ] * scaleY;\n\t\tte[ 5 ] = me[ 5 ] * scaleY;\n\t\tte[ 6 ] = me[ 6 ] * scaleY;\n\t\tte[ 7 ] = 0;\n\n\t\tte[ 8 ] = me[ 8 ] * scaleZ;\n\t\tte[ 9 ] = me[ 9 ] * scaleZ;\n\t\tte[ 10 ] = me[ 10 ] * scaleZ;\n\t\tte[ 11 ] = 0;\n\n\t\tte[ 12 ] = 0;\n\t\tte[ 13 ] = 0;\n\t\tte[ 14 ] = 0;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationFromEuler( euler ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tconsole.error( 'THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\tconst te = this.elements;\n\n\t\tconst x = euler.x, y = euler.y, z = euler.z;\n\t\tconst a = Math.cos( x ), b = Math.sin( x );\n\t\tconst c = Math.cos( y ), d = Math.sin( y );\n\t\tconst e = Math.cos( z ), f = Math.sin( z );\n\n\t\tif ( euler.order === 'XYZ' ) {\n\n\t\t\tconst ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = - c * f;\n\t\t\tte[ 8 ] = d;\n\n\t\t\tte[ 1 ] = af + be * d;\n\t\t\tte[ 5 ] = ae - bf * d;\n\t\t\tte[ 9 ] = - b * c;\n\n\t\t\tte[ 2 ] = bf - ae * d;\n\t\t\tte[ 6 ] = be + af * d;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'YXZ' ) {\n\n\t\t\tconst ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[ 0 ] = ce + df * b;\n\t\t\tte[ 4 ] = de * b - cf;\n\t\t\tte[ 8 ] = a * d;\n\n\t\t\tte[ 1 ] = a * f;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = - b;\n\n\t\t\tte[ 2 ] = cf * b - de;\n\t\t\tte[ 6 ] = df + ce * b;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'ZXY' ) {\n\n\t\t\tconst ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[ 0 ] = ce - df * b;\n\t\t\tte[ 4 ] = - a * f;\n\t\t\tte[ 8 ] = de + cf * b;\n\n\t\t\tte[ 1 ] = cf + de * b;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = df - ce * b;\n\n\t\t\tte[ 2 ] = - a * d;\n\t\t\tte[ 6 ] = b;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'ZYX' ) {\n\n\t\t\tconst ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = be * d - af;\n\t\t\tte[ 8 ] = ae * d + bf;\n\n\t\t\tte[ 1 ] = c * f;\n\t\t\tte[ 5 ] = bf * d + ae;\n\t\t\tte[ 9 ] = af * d - be;\n\n\t\t\tte[ 2 ] = - d;\n\t\t\tte[ 6 ] = b * c;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'YZX' ) {\n\n\t\t\tconst ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = bd - ac * f;\n\t\t\tte[ 8 ] = bc * f + ad;\n\n\t\t\tte[ 1 ] = f;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = - b * e;\n\n\t\t\tte[ 2 ] = - d * e;\n\t\t\tte[ 6 ] = ad * f + bc;\n\t\t\tte[ 10 ] = ac - bd * f;\n\n\t\t} else if ( euler.order === 'XZY' ) {\n\n\t\t\tconst ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = - f;\n\t\t\tte[ 8 ] = d * e;\n\n\t\t\tte[ 1 ] = ac * f + bd;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = ad * f - bc;\n\n\t\t\tte[ 2 ] = bc * f - ad;\n\t\t\tte[ 6 ] = b * e;\n\t\t\tte[ 10 ] = bd * f + ac;\n\n\t\t}\n\n\t\t// bottom row\n\t\tte[ 3 ] = 0;\n\t\tte[ 7 ] = 0;\n\t\tte[ 11 ] = 0;\n\n\t\t// last column\n\t\tte[ 12 ] = 0;\n\t\tte[ 13 ] = 0;\n\t\tte[ 14 ] = 0;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationFromQuaternion( q ) {\n\n\t\treturn this.compose( _zero, q, _one );\n\n\t}\n\n\tlookAt( eye, target, up ) {\n\n\t\tconst te = this.elements;\n\n\t\t_z.subVectors( eye, target );\n\n\t\tif ( _z.lengthSq() === 0 ) {\n\n\t\t\t// eye and target are in the same position\n\n\t\t\t_z.z = 1;\n\n\t\t}\n\n\t\t_z.normalize();\n\t\t_x.crossVectors( up, _z );\n\n\t\tif ( _x.lengthSq() === 0 ) {\n\n\t\t\t// up and z are parallel\n\n\t\t\tif ( Math.abs( up.z ) === 1 ) {\n\n\t\t\t\t_z.x += 0.0001;\n\n\t\t\t} else {\n\n\t\t\t\t_z.z += 0.0001;\n\n\t\t\t}\n\n\t\t\t_z.normalize();\n\t\t\t_x.crossVectors( up, _z );\n\n\t\t}\n\n\t\t_x.normalize();\n\t\t_y.crossVectors( _z, _x );\n\n\t\tte[ 0 ] = _x.x; te[ 4 ] = _y.x; te[ 8 ] = _z.x;\n\t\tte[ 1 ] = _x.y; te[ 5 ] = _y.y; te[ 9 ] = _z.y;\n\t\tte[ 2 ] = _x.z; te[ 6 ] = _y.z; te[ 10 ] = _z.z;\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( m, n ) {\n\n\t\tif ( n !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.' );\n\t\t\treturn this.multiplyMatrices( m, n );\n\n\t\t}\n\n\t\treturn this.multiplyMatrices( this, m );\n\n\t}\n\n\tpremultiply( m ) {\n\n\t\treturn this.multiplyMatrices( m, this );\n\n\t}\n\n\tmultiplyMatrices( a, b ) {\n\n\t\tconst ae = a.elements;\n\t\tconst be = b.elements;\n\t\tconst te = this.elements;\n\n\t\tconst a11 = ae[ 0 ], a12 = ae[ 4 ], a13 = ae[ 8 ], a14 = ae[ 12 ];\n\t\tconst a21 = ae[ 1 ], a22 = ae[ 5 ], a23 = ae[ 9 ], a24 = ae[ 13 ];\n\t\tconst a31 = ae[ 2 ], a32 = ae[ 6 ], a33 = ae[ 10 ], a34 = ae[ 14 ];\n\t\tconst a41 = ae[ 3 ], a42 = ae[ 7 ], a43 = ae[ 11 ], a44 = ae[ 15 ];\n\n\t\tconst b11 = be[ 0 ], b12 = be[ 4 ], b13 = be[ 8 ], b14 = be[ 12 ];\n\t\tconst b21 = be[ 1 ], b22 = be[ 5 ], b23 = be[ 9 ], b24 = be[ 13 ];\n\t\tconst b31 = be[ 2 ], b32 = be[ 6 ], b33 = be[ 10 ], b34 = be[ 14 ];\n\t\tconst b41 = be[ 3 ], b42 = be[ 7 ], b43 = be[ 11 ], b44 = be[ 15 ];\n\n\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;\n\t\tte[ 4 ] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;\n\t\tte[ 8 ] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;\n\t\tte[ 12 ] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;\n\n\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;\n\t\tte[ 5 ] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;\n\t\tte[ 9 ] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;\n\t\tte[ 13 ] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;\n\n\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;\n\t\tte[ 6 ] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;\n\t\tte[ 10 ] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;\n\t\tte[ 14 ] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;\n\n\t\tte[ 3 ] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;\n\t\tte[ 7 ] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;\n\t\tte[ 11 ] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;\n\t\tte[ 15 ] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( s ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] *= s; te[ 4 ] *= s; te[ 8 ] *= s; te[ 12 ] *= s;\n\t\tte[ 1 ] *= s; te[ 5 ] *= s; te[ 9 ] *= s; te[ 13 ] *= s;\n\t\tte[ 2 ] *= s; te[ 6 ] *= s; te[ 10 ] *= s; te[ 14 ] *= s;\n\t\tte[ 3 ] *= s; te[ 7 ] *= s; te[ 11 ] *= s; te[ 15 ] *= s;\n\n\t\treturn this;\n\n\t}\n\n\tdeterminant() {\n\n\t\tconst te = this.elements;\n\n\t\tconst n11 = te[ 0 ], n12 = te[ 4 ], n13 = te[ 8 ], n14 = te[ 12 ];\n\t\tconst n21 = te[ 1 ], n22 = te[ 5 ], n23 = te[ 9 ], n24 = te[ 13 ];\n\t\tconst n31 = te[ 2 ], n32 = te[ 6 ], n33 = te[ 10 ], n34 = te[ 14 ];\n\t\tconst n41 = te[ 3 ], n42 = te[ 7 ], n43 = te[ 11 ], n44 = te[ 15 ];\n\n\t\t//TODO: make this more efficient\n\t\t//( based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm )\n\n\t\treturn (\n\t\t\tn41 * (\n\t\t\t\t+ n14 * n23 * n32\n\t\t\t\t - n13 * n24 * n32\n\t\t\t\t - n14 * n22 * n33\n\t\t\t\t + n12 * n24 * n33\n\t\t\t\t + n13 * n22 * n34\n\t\t\t\t - n12 * n23 * n34\n\t\t\t) +\n\t\t\tn42 * (\n\t\t\t\t+ n11 * n23 * n34\n\t\t\t\t - n11 * n24 * n33\n\t\t\t\t + n14 * n21 * n33\n\t\t\t\t - n13 * n21 * n34\n\t\t\t\t + n13 * n24 * n31\n\t\t\t\t - n14 * n23 * n31\n\t\t\t) +\n\t\t\tn43 * (\n\t\t\t\t+ n11 * n24 * n32\n\t\t\t\t - n11 * n22 * n34\n\t\t\t\t - n14 * n21 * n32\n\t\t\t\t + n12 * n21 * n34\n\t\t\t\t + n14 * n22 * n31\n\t\t\t\t - n12 * n24 * n31\n\t\t\t) +\n\t\t\tn44 * (\n\t\t\t\t- n13 * n22 * n31\n\t\t\t\t - n11 * n23 * n32\n\t\t\t\t + n11 * n22 * n33\n\t\t\t\t + n13 * n21 * n32\n\t\t\t\t - n12 * n21 * n33\n\t\t\t\t + n12 * n23 * n31\n\t\t\t)\n\n\t\t);\n\n\t}\n\n\ttranspose() {\n\n\t\tconst te = this.elements;\n\t\tlet tmp;\n\n\t\ttmp = te[ 1 ]; te[ 1 ] = te[ 4 ]; te[ 4 ] = tmp;\n\t\ttmp = te[ 2 ]; te[ 2 ] = te[ 8 ]; te[ 8 ] = tmp;\n\t\ttmp = te[ 6 ]; te[ 6 ] = te[ 9 ]; te[ 9 ] = tmp;\n\n\t\ttmp = te[ 3 ]; te[ 3 ] = te[ 12 ]; te[ 12 ] = tmp;\n\t\ttmp = te[ 7 ]; te[ 7 ] = te[ 13 ]; te[ 13 ] = tmp;\n\t\ttmp = te[ 11 ]; te[ 11 ] = te[ 14 ]; te[ 14 ] = tmp;\n\n\t\treturn this;\n\n\t}\n\n\tsetPosition( x, y, z ) {\n\n\t\tconst te = this.elements;\n\n\t\tif ( x.isVector3 ) {\n\n\t\t\tte[ 12 ] = x.x;\n\t\t\tte[ 13 ] = x.y;\n\t\t\tte[ 14 ] = x.z;\n\n\t\t} else {\n\n\t\t\tte[ 12 ] = x;\n\t\t\tte[ 13 ] = y;\n\t\t\tte[ 14 ] = z;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetInverse( m, throwOnDegenerate ) {\n\n\t\tif ( throwOnDegenerate !== undefined ) {\n\n\t\t\tconsole.warn( \"THREE.Matrix4: .getInverse() can no longer be configured to throw on degenerate.\" );\n\n\t\t}\n\n\t\t// based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm\n\t\tconst te = this.elements,\n\t\t\tme = m.elements,\n\n\t\t\tn11 = me[ 0 ], n21 = me[ 1 ], n31 = me[ 2 ], n41 = me[ 3 ],\n\t\t\tn12 = me[ 4 ], n22 = me[ 5 ], n32 = me[ 6 ], n42 = me[ 7 ],\n\t\t\tn13 = me[ 8 ], n23 = me[ 9 ], n33 = me[ 10 ], n43 = me[ 11 ],\n\t\t\tn14 = me[ 12 ], n24 = me[ 13 ], n34 = me[ 14 ], n44 = me[ 15 ],\n\n\t\t\tt11 = n23 * n34 * n42 - n24 * n33 * n42 + n24 * n32 * n43 - n22 * n34 * n43 - n23 * n32 * n44 + n22 * n33 * n44,\n\t\t\tt12 = n14 * n33 * n42 - n13 * n34 * n42 - n14 * n32 * n43 + n12 * n34 * n43 + n13 * n32 * n44 - n12 * n33 * n44,\n\t\t\tt13 = n13 * n24 * n42 - n14 * n23 * n42 + n14 * n22 * n43 - n12 * n24 * n43 - n13 * n22 * n44 + n12 * n23 * n44,\n\t\t\tt14 = n14 * n23 * n32 - n13 * n24 * n32 - n14 * n22 * n33 + n12 * n24 * n33 + n13 * n22 * n34 - n12 * n23 * n34;\n\n\t\tconst det = n11 * t11 + n21 * t12 + n31 * t13 + n41 * t14;\n\n\t\tif ( det === 0 ) return this.set( 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 );\n\n\t\tconst detInv = 1 / det;\n\n\t\tte[ 0 ] = t11 * detInv;\n\t\tte[ 1 ] = ( n24 * n33 * n41 - n23 * n34 * n41 - n24 * n31 * n43 + n21 * n34 * n43 + n23 * n31 * n44 - n21 * n33 * n44 ) * detInv;\n\t\tte[ 2 ] = ( n22 * n34 * n41 - n24 * n32 * n41 + n24 * n31 * n42 - n21 * n34 * n42 - n22 * n31 * n44 + n21 * n32 * n44 ) * detInv;\n\t\tte[ 3 ] = ( n23 * n32 * n41 - n22 * n33 * n41 - n23 * n31 * n42 + n21 * n33 * n42 + n22 * n31 * n43 - n21 * n32 * n43 ) * detInv;\n\n\t\tte[ 4 ] = t12 * detInv;\n\t\tte[ 5 ] = ( n13 * n34 * n41 - n14 * n33 * n41 + n14 * n31 * n43 - n11 * n34 * n43 - n13 * n31 * n44 + n11 * n33 * n44 ) * detInv;\n\t\tte[ 6 ] = ( n14 * n32 * n41 - n12 * n34 * n41 - n14 * n31 * n42 + n11 * n34 * n42 + n12 * n31 * n44 - n11 * n32 * n44 ) * detInv;\n\t\tte[ 7 ] = ( n12 * n33 * n41 - n13 * n32 * n41 + n13 * n31 * n42 - n11 * n33 * n42 - n12 * n31 * n43 + n11 * n32 * n43 ) * detInv;\n\n\t\tte[ 8 ] = t13 * detInv;\n\t\tte[ 9 ] = ( n14 * n23 * n41 - n13 * n24 * n41 - n14 * n21 * n43 + n11 * n24 * n43 + n13 * n21 * n44 - n11 * n23 * n44 ) * detInv;\n\t\tte[ 10 ] = ( n12 * n24 * n41 - n14 * n22 * n41 + n14 * n21 * n42 - n11 * n24 * n42 - n12 * n21 * n44 + n11 * n22 * n44 ) * detInv;\n\t\tte[ 11 ] = ( n13 * n22 * n41 - n12 * n23 * n41 - n13 * n21 * n42 + n11 * n23 * n42 + n12 * n21 * n43 - n11 * n22 * n43 ) * detInv;\n\n\t\tte[ 12 ] = t14 * detInv;\n\t\tte[ 13 ] = ( n13 * n24 * n31 - n14 * n23 * n31 + n14 * n21 * n33 - n11 * n24 * n33 - n13 * n21 * n34 + n11 * n23 * n34 ) * detInv;\n\t\tte[ 14 ] = ( n14 * n22 * n31 - n12 * n24 * n31 - n14 * n21 * n32 + n11 * n24 * n32 + n12 * n21 * n34 - n11 * n22 * n34 ) * detInv;\n\t\tte[ 15 ] = ( n12 * n23 * n31 - n13 * n22 * n31 + n13 * n21 * n32 - n11 * n23 * n32 - n12 * n21 * n33 + n11 * n22 * n33 ) * detInv;\n\n\t\treturn this;\n\n\t}\n\n\tscale( v ) {\n\n\t\tconst te = this.elements;\n\t\tconst x = v.x, y = v.y, z = v.z;\n\n\t\tte[ 0 ] *= x; te[ 4 ] *= y; te[ 8 ] *= z;\n\t\tte[ 1 ] *= x; te[ 5 ] *= y; te[ 9 ] *= z;\n\t\tte[ 2 ] *= x; te[ 6 ] *= y; te[ 10 ] *= z;\n\t\tte[ 3 ] *= x; te[ 7 ] *= y; te[ 11 ] *= z;\n\n\t\treturn this;\n\n\t}\n\n\tgetMaxScaleOnAxis() {\n\n\t\tconst te = this.elements;\n\n\t\tconst scaleXSq = te[ 0 ] * te[ 0 ] + te[ 1 ] * te[ 1 ] + te[ 2 ] * te[ 2 ];\n\t\tconst scaleYSq = te[ 4 ] * te[ 4 ] + te[ 5 ] * te[ 5 ] + te[ 6 ] * te[ 6 ];\n\t\tconst scaleZSq = te[ 8 ] * te[ 8 ] + te[ 9 ] * te[ 9 ] + te[ 10 ] * te[ 10 ];\n\n\t\treturn Math.sqrt( Math.max( scaleXSq, scaleYSq, scaleZSq ) );\n\n\t}\n\n\tmakeTranslation( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, x,\n\t\t\t0, 1, 0, y,\n\t\t\t0, 0, 1, z,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationX( theta ) {\n\n\t\tconst c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, c, - s, 0,\n\t\t\t0, s, c, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationY( theta ) {\n\n\t\tconst c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t c, 0, s, 0,\n\t\t\t 0, 1, 0, 0,\n\t\t\t- s, 0, c, 0,\n\t\t\t 0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationZ( theta ) {\n\n\t\tconst c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\tc, - s, 0, 0,\n\t\t\ts, c, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationAxis( axis, angle ) {\n\n\t\t// Based on http://www.gamedev.net/reference/articles/article1199.asp\n\n\t\tconst c = Math.cos( angle );\n\t\tconst s = Math.sin( angle );\n\t\tconst t = 1 - c;\n\t\tconst x = axis.x, y = axis.y, z = axis.z;\n\t\tconst tx = t * x, ty = t * y;\n\n\t\tthis.set(\n\n\t\t\ttx * x + c, tx * y - s * z, tx * z + s * y, 0,\n\t\t\ttx * y + s * z, ty * y + c, ty * z - s * x, 0,\n\t\t\ttx * z - s * y, ty * z + s * x, t * z * z + c, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeScale( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\tx, 0, 0, 0,\n\t\t\t0, y, 0, 0,\n\t\t\t0, 0, z, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeShear( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\t1, y, z, 0,\n\t\t\tx, 1, z, 0,\n\t\t\tx, y, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tcompose( position, quaternion, scale ) {\n\n\t\tconst te = this.elements;\n\n\t\tconst x = quaternion._x, y = quaternion._y, z = quaternion._z, w = quaternion._w;\n\t\tconst x2 = x + x,\ty2 = y + y, z2 = z + z;\n\t\tconst xx = x * x2, xy = x * y2, xz = x * z2;\n\t\tconst yy = y * y2, yz = y * z2, zz = z * z2;\n\t\tconst wx = w * x2, wy = w * y2, wz = w * z2;\n\n\t\tconst sx = scale.x, sy = scale.y, sz = scale.z;\n\n\t\tte[ 0 ] = ( 1 - ( yy + zz ) ) * sx;\n\t\tte[ 1 ] = ( xy + wz ) * sx;\n\t\tte[ 2 ] = ( xz - wy ) * sx;\n\t\tte[ 3 ] = 0;\n\n\t\tte[ 4 ] = ( xy - wz ) * sy;\n\t\tte[ 5 ] = ( 1 - ( xx + zz ) ) * sy;\n\t\tte[ 6 ] = ( yz + wx ) * sy;\n\t\tte[ 7 ] = 0;\n\n\t\tte[ 8 ] = ( xz + wy ) * sz;\n\t\tte[ 9 ] = ( yz - wx ) * sz;\n\t\tte[ 10 ] = ( 1 - ( xx + yy ) ) * sz;\n\t\tte[ 11 ] = 0;\n\n\t\tte[ 12 ] = position.x;\n\t\tte[ 13 ] = position.y;\n\t\tte[ 14 ] = position.z;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\tdecompose( position, quaternion, scale ) {\n\n\t\tconst te = this.elements;\n\n\t\tlet sx = _v1$1.set( te[ 0 ], te[ 1 ], te[ 2 ] ).length();\n\t\tconst sy = _v1$1.set( te[ 4 ], te[ 5 ], te[ 6 ] ).length();\n\t\tconst sz = _v1$1.set( te[ 8 ], te[ 9 ], te[ 10 ] ).length();\n\n\t\t// if determine is negative, we need to invert one scale\n\t\tconst det = this.determinant();\n\t\tif ( det < 0 ) sx = - sx;\n\n\t\tposition.x = te[ 12 ];\n\t\tposition.y = te[ 13 ];\n\t\tposition.z = te[ 14 ];\n\n\t\t// scale the rotation part\n\t\t_m1.copy( this );\n\n\t\tconst invSX = 1 / sx;\n\t\tconst invSY = 1 / sy;\n\t\tconst invSZ = 1 / sz;\n\n\t\t_m1.elements[ 0 ] *= invSX;\n\t\t_m1.elements[ 1 ] *= invSX;\n\t\t_m1.elements[ 2 ] *= invSX;\n\n\t\t_m1.elements[ 4 ] *= invSY;\n\t\t_m1.elements[ 5 ] *= invSY;\n\t\t_m1.elements[ 6 ] *= invSY;\n\n\t\t_m1.elements[ 8 ] *= invSZ;\n\t\t_m1.elements[ 9 ] *= invSZ;\n\t\t_m1.elements[ 10 ] *= invSZ;\n\n\t\tquaternion.setFromRotationMatrix( _m1 );\n\n\t\tscale.x = sx;\n\t\tscale.y = sy;\n\t\tscale.z = sz;\n\n\t\treturn this;\n\n\t}\n\n\tmakePerspective( left, right, top, bottom, near, far ) {\n\n\t\tif ( far === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.' );\n\n\t\t}\n\n\t\tconst te = this.elements;\n\t\tconst x = 2 * near / ( right - left );\n\t\tconst y = 2 * near / ( top - bottom );\n\n\t\tconst a = ( right + left ) / ( right - left );\n\t\tconst b = ( top + bottom ) / ( top - bottom );\n\t\tconst c = - ( far + near ) / ( far - near );\n\t\tconst d = - 2 * far * near / ( far - near );\n\n\t\tte[ 0 ] = x;\tte[ 4 ] = 0;\tte[ 8 ] = a;\tte[ 12 ] = 0;\n\t\tte[ 1 ] = 0;\tte[ 5 ] = y;\tte[ 9 ] = b;\tte[ 13 ] = 0;\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = c;\tte[ 14 ] = d;\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = - 1;\tte[ 15 ] = 0;\n\n\t\treturn this;\n\n\t}\n\n\tmakeOrthographic( left, right, top, bottom, near, far ) {\n\n\t\tconst te = this.elements;\n\t\tconst w = 1.0 / ( right - left );\n\t\tconst h = 1.0 / ( top - bottom );\n\t\tconst p = 1.0 / ( far - near );\n\n\t\tconst x = ( right + left ) * w;\n\t\tconst y = ( top + bottom ) * h;\n\t\tconst z = ( far + near ) * p;\n\n\t\tte[ 0 ] = 2 * w;\tte[ 4 ] = 0;\tte[ 8 ] = 0;\tte[ 12 ] = - x;\n\t\tte[ 1 ] = 0;\tte[ 5 ] = 2 * h;\tte[ 9 ] = 0;\tte[ 13 ] = - y;\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = - 2 * p;\tte[ 14 ] = - z;\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = 0;\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\tequals( matrix ) {\n\n\t\tconst te = this.elements;\n\t\tconst me = matrix.elements;\n\n\t\tfor ( let i = 0; i < 16; i ++ ) {\n\n\t\t\tif ( te[ i ] !== me[ i ] ) return false;\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tfor ( let i = 0; i < 16; i ++ ) {\n\n\t\t\tthis.elements[ i ] = array[ i + offset ];\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tconst te = this.elements;\n\n\t\tarray[ offset ] = te[ 0 ];\n\t\tarray[ offset + 1 ] = te[ 1 ];\n\t\tarray[ offset + 2 ] = te[ 2 ];\n\t\tarray[ offset + 3 ] = te[ 3 ];\n\n\t\tarray[ offset + 4 ] = te[ 4 ];\n\t\tarray[ offset + 5 ] = te[ 5 ];\n\t\tarray[ offset + 6 ] = te[ 6 ];\n\t\tarray[ offset + 7 ] = te[ 7 ];\n\n\t\tarray[ offset + 8 ] = te[ 8 ];\n\t\tarray[ offset + 9 ] = te[ 9 ];\n\t\tarray[ offset + 10 ] = te[ 10 ];\n\t\tarray[ offset + 11 ] = te[ 11 ];\n\n\t\tarray[ offset + 12 ] = te[ 12 ];\n\t\tarray[ offset + 13 ] = te[ 13 ];\n\t\tarray[ offset + 14 ] = te[ 14 ];\n\t\tarray[ offset + 15 ] = te[ 15 ];\n\n\t\treturn array;\n\n\t}\n\n}\n\nconst _v1$1 = /*@__PURE__*/ new Vector3();\nconst _m1 = /*@__PURE__*/ new Matrix4();\nconst _zero = /*@__PURE__*/ new Vector3( 0, 0, 0 );\nconst _one = /*@__PURE__*/ new Vector3( 1, 1, 1 );\nconst _x = /*@__PURE__*/ new Vector3();\nconst _y = /*@__PURE__*/ new Vector3();\nconst _z = /*@__PURE__*/ new Vector3();\n\nclass Euler {\n\n\tconstructor( x = 0, y = 0, z = 0, order = Euler.DefaultOrder ) {\n\n\t\tObject.defineProperty( this, 'isEuler', { value: true } );\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._order = order;\n\n\t}\n\n\tget x() {\n\n\t\treturn this._x;\n\n\t}\n\n\tset x( value ) {\n\n\t\tthis._x = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget y() {\n\n\t\treturn this._y;\n\n\t}\n\n\tset y( value ) {\n\n\t\tthis._y = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget z() {\n\n\t\treturn this._z;\n\n\t}\n\n\tset z( value ) {\n\n\t\tthis._z = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget order() {\n\n\t\treturn this._order;\n\n\t}\n\n\tset order( value ) {\n\n\t\tthis._order = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tset( x, y, z, order ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._order = order || this._order;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this._x, this._y, this._z, this._order );\n\n\t}\n\n\tcopy( euler ) {\n\n\t\tthis._x = euler._x;\n\t\tthis._y = euler._y;\n\t\tthis._z = euler._z;\n\t\tthis._order = euler._order;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromRotationMatrix( m, order, update ) {\n\n\t\tconst clamp = MathUtils.clamp;\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tconst te = m.elements;\n\t\tconst m11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ];\n\t\tconst m21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ];\n\t\tconst m31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\n\n\t\torder = order || this._order;\n\n\t\tswitch ( order ) {\n\n\t\t\tcase 'XYZ':\n\n\t\t\t\tthis._y = Math.asin( clamp( m13, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m13 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._x = Math.atan2( - m23, m33 );\n\t\t\t\t\tthis._z = Math.atan2( - m12, m11 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._x = Math.atan2( m32, m22 );\n\t\t\t\t\tthis._z = 0;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'YXZ':\n\n\t\t\t\tthis._x = Math.asin( - clamp( m23, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m23 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._y = Math.atan2( m13, m33 );\n\t\t\t\t\tthis._z = Math.atan2( m21, m22 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._y = Math.atan2( - m31, m11 );\n\t\t\t\t\tthis._z = 0;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZXY':\n\n\t\t\t\tthis._x = Math.asin( clamp( m32, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m32 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._y = Math.atan2( - m31, m33 );\n\t\t\t\t\tthis._z = Math.atan2( - m12, m22 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._y = 0;\n\t\t\t\t\tthis._z = Math.atan2( m21, m11 );\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZYX':\n\n\t\t\t\tthis._y = Math.asin( - clamp( m31, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m31 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._x = Math.atan2( m32, m33 );\n\t\t\t\t\tthis._z = Math.atan2( m21, m11 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._x = 0;\n\t\t\t\t\tthis._z = Math.atan2( - m12, m22 );\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'YZX':\n\n\t\t\t\tthis._z = Math.asin( clamp( m21, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m21 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._x = Math.atan2( - m23, m22 );\n\t\t\t\t\tthis._y = Math.atan2( - m31, m11 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._x = 0;\n\t\t\t\t\tthis._y = Math.atan2( m13, m33 );\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'XZY':\n\n\t\t\t\tthis._z = Math.asin( - clamp( m12, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m12 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._x = Math.atan2( m32, m22 );\n\t\t\t\t\tthis._y = Math.atan2( m13, m11 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._x = Math.atan2( - m23, m33 );\n\t\t\t\t\tthis._y = 0;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tconsole.warn( 'THREE.Euler: .setFromRotationMatrix() encountered an unknown order: ' + order );\n\n\t\t}\n\n\t\tthis._order = order;\n\n\t\tif ( update !== false ) this._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromQuaternion( q, order, update ) {\n\n\t\t_matrix.makeRotationFromQuaternion( q );\n\n\t\treturn this.setFromRotationMatrix( _matrix, order, update );\n\n\t}\n\n\tsetFromVector3( v, order ) {\n\n\t\treturn this.set( v.x, v.y, v.z, order || this._order );\n\n\t}\n\n\treorder( newOrder ) {\n\n\t\t// WARNING: this discards revolution information -bhouston\n\n\t\t_quaternion$1.setFromEuler( this );\n\n\t\treturn this.setFromQuaternion( _quaternion$1, newOrder );\n\n\t}\n\n\tequals( euler ) {\n\n\t\treturn ( euler._x === this._x ) && ( euler._y === this._y ) && ( euler._z === this._z ) && ( euler._order === this._order );\n\n\t}\n\n\tfromArray( array ) {\n\n\t\tthis._x = array[ 0 ];\n\t\tthis._y = array[ 1 ];\n\t\tthis._z = array[ 2 ];\n\t\tif ( array[ 3 ] !== undefined ) this._order = array[ 3 ];\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this._x;\n\t\tarray[ offset + 1 ] = this._y;\n\t\tarray[ offset + 2 ] = this._z;\n\t\tarray[ offset + 3 ] = this._order;\n\n\t\treturn array;\n\n\t}\n\n\ttoVector3( optionalResult ) {\n\n\t\tif ( optionalResult ) {\n\n\t\t\treturn optionalResult.set( this._x, this._y, this._z );\n\n\t\t} else {\n\n\t\t\treturn new Vector3( this._x, this._y, this._z );\n\n\t\t}\n\n\t}\n\n\t_onChange( callback ) {\n\n\t\tthis._onChangeCallback = callback;\n\n\t\treturn this;\n\n\t}\n\n\t_onChangeCallback() {}\n\n}\n\nEuler.DefaultOrder = 'XYZ';\nEuler.RotationOrders = [ 'XYZ', 'YZX', 'ZXY', 'XZY', 'YXZ', 'ZYX' ];\n\nconst _matrix = /*@__PURE__*/ new Matrix4();\nconst _quaternion$1 = /*@__PURE__*/ new Quaternion();\n\nclass Layers {\n\n\tconstructor() {\n\n\t\tthis.mask = 1 | 0;\n\n\t}\n\n\tset( channel ) {\n\n\t\tthis.mask = 1 << channel | 0;\n\n\t}\n\n\tenable( channel ) {\n\n\t\tthis.mask |= 1 << channel | 0;\n\n\t}\n\n\tenableAll() {\n\n\t\tthis.mask = 0xffffffff | 0;\n\n\t}\n\n\ttoggle( channel ) {\n\n\t\tthis.mask ^= 1 << channel | 0;\n\n\t}\n\n\tdisable( channel ) {\n\n\t\tthis.mask &= ~ ( 1 << channel | 0 );\n\n\t}\n\n\tdisableAll() {\n\n\t\tthis.mask = 0;\n\n\t}\n\n\ttest( layers ) {\n\n\t\treturn ( this.mask & layers.mask ) !== 0;\n\n\t}\n\n}\n\nlet _object3DId = 0;\n\nconst _v1$2 = new Vector3();\nconst _q1 = new Quaternion();\nconst _m1$1 = new Matrix4();\nconst _target = new Vector3();\n\nconst _position = new Vector3();\nconst _scale = new Vector3();\nconst _quaternion$2 = new Quaternion();\n\nconst _xAxis = new Vector3( 1, 0, 0 );\nconst _yAxis = new Vector3( 0, 1, 0 );\nconst _zAxis = new Vector3( 0, 0, 1 );\n\nconst _addedEvent = { type: 'added' };\nconst _removedEvent = { type: 'removed' };\n\nfunction Object3D() {\n\n\tObject.defineProperty( this, 'id', { value: _object3DId ++ } );\n\n\tthis.uuid = MathUtils.generateUUID();\n\n\tthis.name = '';\n\tthis.type = 'Object3D';\n\n\tthis.parent = null;\n\tthis.children = [];\n\n\tthis.up = Object3D.DefaultUp.clone();\n\n\tconst position = new Vector3();\n\tconst rotation = new Euler();\n\tconst quaternion = new Quaternion();\n\tconst scale = new Vector3( 1, 1, 1 );\n\n\tfunction onRotationChange() {\n\n\t\tquaternion.setFromEuler( rotation, false );\n\n\t}\n\n\tfunction onQuaternionChange() {\n\n\t\trotation.setFromQuaternion( quaternion, undefined, false );\n\n\t}\n\n\trotation._onChange( onRotationChange );\n\tquaternion._onChange( onQuaternionChange );\n\n\tObject.defineProperties( this, {\n\t\tposition: {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t\tvalue: position\n\t\t},\n\t\trotation: {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t\tvalue: rotation\n\t\t},\n\t\tquaternion: {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t\tvalue: quaternion\n\t\t},\n\t\tscale: {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t\tvalue: scale\n\t\t},\n\t\tmodelViewMatrix: {\n\t\t\tvalue: new Matrix4()\n\t\t},\n\t\tnormalMatrix: {\n\t\t\tvalue: new Matrix3()\n\t\t}\n\t} );\n\n\tthis.matrix = new Matrix4();\n\tthis.matrixWorld = new Matrix4();\n\n\tthis.matrixAutoUpdate = Object3D.DefaultMatrixAutoUpdate;\n\tthis.matrixWorldNeedsUpdate = false;\n\n\tthis.layers = new Layers();\n\tthis.visible = true;\n\n\tthis.castShadow = false;\n\tthis.receiveShadow = false;\n\n\tthis.frustumCulled = true;\n\tthis.renderOrder = 0;\n\n\tthis.userData = {};\n\n}\n\nObject3D.DefaultUp = new Vector3( 0, 1, 0 );\nObject3D.DefaultMatrixAutoUpdate = true;\n\nObject3D.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: Object3D,\n\n\tisObject3D: true,\n\n\tonBeforeRender: function () {},\n\tonAfterRender: function () {},\n\n\tapplyMatrix4: function ( matrix ) {\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tthis.matrix.premultiply( matrix );\n\n\t\tthis.matrix.decompose( this.position, this.quaternion, this.scale );\n\n\t},\n\n\tapplyQuaternion: function ( q ) {\n\n\t\tthis.quaternion.premultiply( q );\n\n\t\treturn this;\n\n\t},\n\n\tsetRotationFromAxisAngle: function ( axis, angle ) {\n\n\t\t// assumes axis is normalized\n\n\t\tthis.quaternion.setFromAxisAngle( axis, angle );\n\n\t},\n\n\tsetRotationFromEuler: function ( euler ) {\n\n\t\tthis.quaternion.setFromEuler( euler, true );\n\n\t},\n\n\tsetRotationFromMatrix: function ( m ) {\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tthis.quaternion.setFromRotationMatrix( m );\n\n\t},\n\n\tsetRotationFromQuaternion: function ( q ) {\n\n\t\t// assumes q is normalized\n\n\t\tthis.quaternion.copy( q );\n\n\t},\n\n\trotateOnAxis: function ( axis, angle ) {\n\n\t\t// rotate object on axis in object space\n\t\t// axis is assumed to be normalized\n\n\t\t_q1.setFromAxisAngle( axis, angle );\n\n\t\tthis.quaternion.multiply( _q1 );\n\n\t\treturn this;\n\n\t},\n\n\trotateOnWorldAxis: function ( axis, angle ) {\n\n\t\t// rotate object on axis in world space\n\t\t// axis is assumed to be normalized\n\t\t// method assumes no rotated parent\n\n\t\t_q1.setFromAxisAngle( axis, angle );\n\n\t\tthis.quaternion.premultiply( _q1 );\n\n\t\treturn this;\n\n\t},\n\n\trotateX: function ( angle ) {\n\n\t\treturn this.rotateOnAxis( _xAxis, angle );\n\n\t},\n\n\trotateY: function ( angle ) {\n\n\t\treturn this.rotateOnAxis( _yAxis, angle );\n\n\t},\n\n\trotateZ: function ( angle ) {\n\n\t\treturn this.rotateOnAxis( _zAxis, angle );\n\n\t},\n\n\ttranslateOnAxis: function ( axis, distance ) {\n\n\t\t// translate object by distance along axis in object space\n\t\t// axis is assumed to be normalized\n\n\t\t_v1$2.copy( axis ).applyQuaternion( this.quaternion );\n\n\t\tthis.position.add( _v1$2.multiplyScalar( distance ) );\n\n\t\treturn this;\n\n\t},\n\n\ttranslateX: function ( distance ) {\n\n\t\treturn this.translateOnAxis( _xAxis, distance );\n\n\t},\n\n\ttranslateY: function ( distance ) {\n\n\t\treturn this.translateOnAxis( _yAxis, distance );\n\n\t},\n\n\ttranslateZ: function ( distance ) {\n\n\t\treturn this.translateOnAxis( _zAxis, distance );\n\n\t},\n\n\tlocalToWorld: function ( vector ) {\n\n\t\treturn vector.applyMatrix4( this.matrixWorld );\n\n\t},\n\n\tworldToLocal: function ( vector ) {\n\n\t\treturn vector.applyMatrix4( _m1$1.getInverse( this.matrixWorld ) );\n\n\t},\n\n\tlookAt: function ( x, y, z ) {\n\n\t\t// This method does not support objects having non-uniformly-scaled parent(s)\n\n\t\tif ( x.isVector3 ) {\n\n\t\t\t_target.copy( x );\n\n\t\t} else {\n\n\t\t\t_target.set( x, y, z );\n\n\t\t}\n\n\t\tconst parent = this.parent;\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\t_position.setFromMatrixPosition( this.matrixWorld );\n\n\t\tif ( this.isCamera || this.isLight ) {\n\n\t\t\t_m1$1.lookAt( _position, _target, this.up );\n\n\t\t} else {\n\n\t\t\t_m1$1.lookAt( _target, _position, this.up );\n\n\t\t}\n\n\t\tthis.quaternion.setFromRotationMatrix( _m1$1 );\n\n\t\tif ( parent ) {\n\n\t\t\t_m1$1.extractRotation( parent.matrixWorld );\n\t\t\t_q1.setFromRotationMatrix( _m1$1 );\n\t\t\tthis.quaternion.premultiply( _q1.inverse() );\n\n\t\t}\n\n\t},\n\n\tadd: function ( object ) {\n\n\t\tif ( arguments.length > 1 ) {\n\n\t\t\tfor ( let i = 0; i < arguments.length; i ++ ) {\n\n\t\t\t\tthis.add( arguments[ i ] );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tif ( object === this ) {\n\n\t\t\tconsole.error( \"THREE.Object3D.add: object can't be added as a child of itself.\", object );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tif ( ( object && object.isObject3D ) ) {\n\n\t\t\tif ( object.parent !== null ) {\n\n\t\t\t\tobject.parent.remove( object );\n\n\t\t\t}\n\n\t\t\tobject.parent = this;\n\t\t\tthis.children.push( object );\n\n\t\t\tobject.dispatchEvent( _addedEvent );\n\n\t\t} else {\n\n\t\t\tconsole.error( \"THREE.Object3D.add: object not an instance of THREE.Object3D.\", object );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tremove: function ( object ) {\n\n\t\tif ( arguments.length > 1 ) {\n\n\t\t\tfor ( let i = 0; i < arguments.length; i ++ ) {\n\n\t\t\t\tthis.remove( arguments[ i ] );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst index = this.children.indexOf( object );\n\n\t\tif ( index !== - 1 ) {\n\n\t\t\tobject.parent = null;\n\t\t\tthis.children.splice( index, 1 );\n\n\t\t\tobject.dispatchEvent( _removedEvent );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tclear: function () {\n\n\t\tfor ( let i = 0; i < this.children.length; i ++ ) {\n\n\t\t\tconst object = this.children[ i ];\n\n\t\t\tobject.parent = null;\n\n\t\t\tobject.dispatchEvent( _removedEvent );\n\n\t\t}\n\n\t\tthis.children.length = 0;\n\n\t\treturn this;\n\n\n\t},\n\n\tattach: function ( object ) {\n\n\t\t// adds object as a child of this, while maintaining the object's world transform\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\t_m1$1.getInverse( this.matrixWorld );\n\n\t\tif ( object.parent !== null ) {\n\n\t\t\tobject.parent.updateWorldMatrix( true, false );\n\n\t\t\t_m1$1.multiply( object.parent.matrixWorld );\n\n\t\t}\n\n\t\tobject.applyMatrix4( _m1$1 );\n\n\t\tobject.updateWorldMatrix( false, false );\n\n\t\tthis.add( object );\n\n\t\treturn this;\n\n\t},\n\n\tgetObjectById: function ( id ) {\n\n\t\treturn this.getObjectByProperty( 'id', id );\n\n\t},\n\n\tgetObjectByName: function ( name ) {\n\n\t\treturn this.getObjectByProperty( 'name', name );\n\n\t},\n\n\tgetObjectByProperty: function ( name, value ) {\n\n\t\tif ( this[ name ] === value ) return this;\n\n\t\tfor ( let i = 0, l = this.children.length; i < l; i ++ ) {\n\n\t\t\tconst child = this.children[ i ];\n\t\t\tconst object = child.getObjectByProperty( name, value );\n\n\t\t\tif ( object !== undefined ) {\n\n\t\t\t\treturn object;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn undefined;\n\n\t},\n\n\tgetWorldPosition: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .getWorldPosition() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\treturn target.setFromMatrixPosition( this.matrixWorld );\n\n\t},\n\n\tgetWorldQuaternion: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .getWorldQuaternion() target is now required' );\n\t\t\ttarget = new Quaternion();\n\n\t\t}\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\tthis.matrixWorld.decompose( _position, target, _scale );\n\n\t\treturn target;\n\n\t},\n\n\tgetWorldScale: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .getWorldScale() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\tthis.matrixWorld.decompose( _position, _quaternion$2, target );\n\n\t\treturn target;\n\n\t},\n\n\tgetWorldDirection: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .getWorldDirection() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\tconst e = this.matrixWorld.elements;\n\n\t\treturn target.set( e[ 8 ], e[ 9 ], e[ 10 ] ).normalize();\n\n\t},\n\n\traycast: function () {},\n\n\ttraverse: function ( callback ) {\n\n\t\tcallback( this );\n\n\t\tconst children = this.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].traverse( callback );\n\n\t\t}\n\n\t},\n\n\ttraverseVisible: function ( callback ) {\n\n\t\tif ( this.visible === false ) return;\n\n\t\tcallback( this );\n\n\t\tconst children = this.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].traverseVisible( callback );\n\n\t\t}\n\n\t},\n\n\ttraverseAncestors: function ( callback ) {\n\n\t\tconst parent = this.parent;\n\n\t\tif ( parent !== null ) {\n\n\t\t\tcallback( parent );\n\n\t\t\tparent.traverseAncestors( callback );\n\n\t\t}\n\n\t},\n\n\tupdateMatrix: function () {\n\n\t\tthis.matrix.compose( this.position, this.quaternion, this.scale );\n\n\t\tthis.matrixWorldNeedsUpdate = true;\n\n\t},\n\n\tupdateMatrixWorld: function ( force ) {\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tif ( this.matrixWorldNeedsUpdate || force ) {\n\n\t\t\tif ( this.parent === null ) {\n\n\t\t\t\tthis.matrixWorld.copy( this.matrix );\n\n\t\t\t} else {\n\n\t\t\t\tthis.matrixWorld.multiplyMatrices( this.parent.matrixWorld, this.matrix );\n\n\t\t\t}\n\n\t\t\tthis.matrixWorldNeedsUpdate = false;\n\n\t\t\tforce = true;\n\n\t\t}\n\n\t\t// update children\n\n\t\tconst children = this.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].updateMatrixWorld( force );\n\n\t\t}\n\n\t},\n\n\tupdateWorldMatrix: function ( updateParents, updateChildren ) {\n\n\t\tconst parent = this.parent;\n\n\t\tif ( updateParents === true && parent !== null ) {\n\n\t\t\tparent.updateWorldMatrix( true, false );\n\n\t\t}\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tif ( this.parent === null ) {\n\n\t\t\tthis.matrixWorld.copy( this.matrix );\n\n\t\t} else {\n\n\t\t\tthis.matrixWorld.multiplyMatrices( this.parent.matrixWorld, this.matrix );\n\n\t\t}\n\n\t\t// update children\n\n\t\tif ( updateChildren === true ) {\n\n\t\t\tconst children = this.children;\n\n\t\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\t\tchildren[ i ].updateWorldMatrix( false, true );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\t// meta is a string when called from JSON.stringify\n\t\tconst isRootObject = ( meta === undefined || typeof meta === 'string' );\n\n\t\tconst output = {};\n\n\t\t// meta is a hash used to collect geometries, materials.\n\t\t// not providing it implies that this is the root object\n\t\t// being serialized.\n\t\tif ( isRootObject ) {\n\n\t\t\t// initialize meta obj\n\t\t\tmeta = {\n\t\t\t\tgeometries: {},\n\t\t\t\tmaterials: {},\n\t\t\t\ttextures: {},\n\t\t\t\timages: {},\n\t\t\t\tshapes: {}\n\t\t\t};\n\n\t\t\toutput.metadata = {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Object',\n\t\t\t\tgenerator: 'Object3D.toJSON'\n\t\t\t};\n\n\t\t}\n\n\t\t// standard Object3D serialization\n\n\t\tconst object = {};\n\n\t\tobject.uuid = this.uuid;\n\t\tobject.type = this.type;\n\n\t\tif ( this.name !== '' ) object.name = this.name;\n\t\tif ( this.castShadow === true ) object.castShadow = true;\n\t\tif ( this.receiveShadow === true ) object.receiveShadow = true;\n\t\tif ( this.visible === false ) object.visible = false;\n\t\tif ( this.frustumCulled === false ) object.frustumCulled = false;\n\t\tif ( this.renderOrder !== 0 ) object.renderOrder = this.renderOrder;\n\t\tif ( JSON.stringify( this.userData ) !== '{}' ) object.userData = this.userData;\n\n\t\tobject.layers = this.layers.mask;\n\t\tobject.matrix = this.matrix.toArray();\n\n\t\tif ( this.matrixAutoUpdate === false ) object.matrixAutoUpdate = false;\n\n\t\t// object specific properties\n\n\t\tif ( this.isInstancedMesh ) {\n\n\t\t\tobject.type = 'InstancedMesh';\n\t\t\tobject.count = this.count;\n\t\t\tobject.instanceMatrix = this.instanceMatrix.toJSON();\n\n\t\t}\n\n\t\t//\n\n\t\tfunction serialize( library, element ) {\n\n\t\t\tif ( library[ element.uuid ] === undefined ) {\n\n\t\t\t\tlibrary[ element.uuid ] = element.toJSON( meta );\n\n\t\t\t}\n\n\t\t\treturn element.uuid;\n\n\t\t}\n\n\t\tif ( this.isMesh || this.isLine || this.isPoints ) {\n\n\t\t\tobject.geometry = serialize( meta.geometries, this.geometry );\n\n\t\t\tconst parameters = this.geometry.parameters;\n\n\t\t\tif ( parameters !== undefined && parameters.shapes !== undefined ) {\n\n\t\t\t\tconst shapes = parameters.shapes;\n\n\t\t\t\tif ( Array.isArray( shapes ) ) {\n\n\t\t\t\t\tfor ( let i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\t\t\t\tconst shape = shapes[ i ];\n\n\t\t\t\t\t\tserialize( meta.shapes, shape );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tserialize( meta.shapes, shapes );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.material !== undefined ) {\n\n\t\t\tif ( Array.isArray( this.material ) ) {\n\n\t\t\t\tconst uuids = [];\n\n\t\t\t\tfor ( let i = 0, l = this.material.length; i < l; i ++ ) {\n\n\t\t\t\t\tuuids.push( serialize( meta.materials, this.material[ i ] ) );\n\n\t\t\t\t}\n\n\t\t\t\tobject.material = uuids;\n\n\t\t\t} else {\n\n\t\t\t\tobject.material = serialize( meta.materials, this.material );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tif ( this.children.length > 0 ) {\n\n\t\t\tobject.children = [];\n\n\t\t\tfor ( let i = 0; i < this.children.length; i ++ ) {\n\n\t\t\t\tobject.children.push( this.children[ i ].toJSON( meta ).object );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( isRootObject ) {\n\n\t\t\tconst geometries = extractFromCache( meta.geometries );\n\t\t\tconst materials = extractFromCache( meta.materials );\n\t\t\tconst textures = extractFromCache( meta.textures );\n\t\t\tconst images = extractFromCache( meta.images );\n\t\t\tconst shapes = extractFromCache( meta.shapes );\n\n\t\t\tif ( geometries.length > 0 ) output.geometries = geometries;\n\t\t\tif ( materials.length > 0 ) output.materials = materials;\n\t\t\tif ( textures.length > 0 ) output.textures = textures;\n\t\t\tif ( images.length > 0 ) output.images = images;\n\t\t\tif ( shapes.length > 0 ) output.shapes = shapes;\n\n\t\t}\n\n\t\toutput.object = object;\n\n\t\treturn output;\n\n\t\t// extract data from the cache hash\n\t\t// remove metadata on each item\n\t\t// and return as array\n\t\tfunction extractFromCache( cache ) {\n\n\t\t\tconst values = [];\n\t\t\tfor ( const key in cache ) {\n\n\t\t\t\tconst data = cache[ key ];\n\t\t\t\tdelete data.metadata;\n\t\t\t\tvalues.push( data );\n\n\t\t\t}\n\n\t\t\treturn values;\n\n\t\t}\n\n\t},\n\n\tclone: function ( recursive ) {\n\n\t\treturn new this.constructor().copy( this, recursive );\n\n\t},\n\n\tcopy: function ( source, recursive ) {\n\n\t\tif ( recursive === undefined ) recursive = true;\n\n\t\tthis.name = source.name;\n\n\t\tthis.up.copy( source.up );\n\n\t\tthis.position.copy( source.position );\n\t\tthis.rotation.order = source.rotation.order;\n\t\tthis.quaternion.copy( source.quaternion );\n\t\tthis.scale.copy( source.scale );\n\n\t\tthis.matrix.copy( source.matrix );\n\t\tthis.matrixWorld.copy( source.matrixWorld );\n\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\t\tthis.matrixWorldNeedsUpdate = source.matrixWorldNeedsUpdate;\n\n\t\tthis.layers.mask = source.layers.mask;\n\t\tthis.visible = source.visible;\n\n\t\tthis.castShadow = source.castShadow;\n\t\tthis.receiveShadow = source.receiveShadow;\n\n\t\tthis.frustumCulled = source.frustumCulled;\n\t\tthis.renderOrder = source.renderOrder;\n\n\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\n\n\t\tif ( recursive === true ) {\n\n\t\t\tfor ( let i = 0; i < source.children.length; i ++ ) {\n\n\t\t\t\tconst child = source.children[ i ];\n\t\t\t\tthis.add( child.clone() );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\nconst _vector1 = /*@__PURE__*/ new Vector3();\nconst _vector2 = /*@__PURE__*/ new Vector3();\nconst _normalMatrix = /*@__PURE__*/ new Matrix3();\n\nclass Plane {\n\n\tconstructor( normal, constant ) {\n\n\t\tObject.defineProperty( this, 'isPlane', { value: true } );\n\n\t\t// normal is assumed to be normalized\n\n\t\tthis.normal = ( normal !== undefined ) ? normal : new Vector3( 1, 0, 0 );\n\t\tthis.constant = ( constant !== undefined ) ? constant : 0;\n\n\t}\n\n\tset( normal, constant ) {\n\n\t\tthis.normal.copy( normal );\n\t\tthis.constant = constant;\n\n\t\treturn this;\n\n\t}\n\n\tsetComponents( x, y, z, w ) {\n\n\t\tthis.normal.set( x, y, z );\n\t\tthis.constant = w;\n\n\t\treturn this;\n\n\t}\n\n\tsetFromNormalAndCoplanarPoint( normal, point ) {\n\n\t\tthis.normal.copy( normal );\n\t\tthis.constant = - point.dot( this.normal );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromCoplanarPoints( a, b, c ) {\n\n\t\tconst normal = _vector1.subVectors( c, b ).cross( _vector2.subVectors( a, b ) ).normalize();\n\n\t\t// Q: should an error be thrown if normal is zero (e.g. degenerate plane)?\n\n\t\tthis.setFromNormalAndCoplanarPoint( normal, a );\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( plane ) {\n\n\t\tthis.normal.copy( plane.normal );\n\t\tthis.constant = plane.constant;\n\n\t\treturn this;\n\n\t}\n\n\tnormalize() {\n\n\t\t// Note: will lead to a divide by zero if the plane is invalid.\n\n\t\tconst inverseNormalLength = 1.0 / this.normal.length();\n\t\tthis.normal.multiplyScalar( inverseNormalLength );\n\t\tthis.constant *= inverseNormalLength;\n\n\t\treturn this;\n\n\t}\n\n\tnegate() {\n\n\t\tthis.constant *= - 1;\n\t\tthis.normal.negate();\n\n\t\treturn this;\n\n\t}\n\n\tdistanceToPoint( point ) {\n\n\t\treturn this.normal.dot( point ) + this.constant;\n\n\t}\n\n\tdistanceToSphere( sphere ) {\n\n\t\treturn this.distanceToPoint( sphere.center ) - sphere.radius;\n\n\t}\n\n\tprojectPoint( point, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Plane: .projectPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( this.normal ).multiplyScalar( - this.distanceToPoint( point ) ).add( point );\n\n\t}\n\n\tintersectLine( line, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Plane: .intersectLine() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tconst direction = line.delta( _vector1 );\n\n\t\tconst denominator = this.normal.dot( direction );\n\n\t\tif ( denominator === 0 ) {\n\n\t\t\t// line is coplanar, return origin\n\t\t\tif ( this.distanceToPoint( line.start ) === 0 ) {\n\n\t\t\t\treturn target.copy( line.start );\n\n\t\t\t}\n\n\t\t\t// Unsure if this is the correct method to handle this case.\n\t\t\treturn undefined;\n\n\t\t}\n\n\t\tconst t = - ( line.start.dot( this.normal ) + this.constant ) / denominator;\n\n\t\tif ( t < 0 || t > 1 ) {\n\n\t\t\treturn undefined;\n\n\t\t}\n\n\t\treturn target.copy( direction ).multiplyScalar( t ).add( line.start );\n\n\t}\n\n\tintersectsLine( line ) {\n\n\t\t// Note: this tests if a line intersects the plane, not whether it (or its end-points) are coplanar with it.\n\n\t\tconst startSign = this.distanceToPoint( line.start );\n\t\tconst endSign = this.distanceToPoint( line.end );\n\n\t\treturn ( startSign < 0 && endSign > 0 ) || ( endSign < 0 && startSign > 0 );\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\treturn box.intersectsPlane( this );\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\treturn sphere.intersectsPlane( this );\n\n\t}\n\n\tcoplanarPoint( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Plane: .coplanarPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( this.normal ).multiplyScalar( - this.constant );\n\n\t}\n\n\tapplyMatrix4( matrix, optionalNormalMatrix ) {\n\n\t\tconst normalMatrix = optionalNormalMatrix || _normalMatrix.getNormalMatrix( matrix );\n\n\t\tconst referencePoint = this.coplanarPoint( _vector1 ).applyMatrix4( matrix );\n\n\t\tconst normal = this.normal.applyMatrix3( normalMatrix ).normalize();\n\n\t\tthis.constant = - referencePoint.dot( normal );\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( offset ) {\n\n\t\tthis.constant -= offset.dot( this.normal );\n\n\t\treturn this;\n\n\t}\n\n\tequals( plane ) {\n\n\t\treturn plane.normal.equals( this.normal ) && ( plane.constant === this.constant );\n\n\t}\n\n}\n\nconst _v0$1 = /*@__PURE__*/ new Vector3();\nconst _v1$3 = /*@__PURE__*/ new Vector3();\nconst _v2$1 = /*@__PURE__*/ new Vector3();\nconst _v3 = /*@__PURE__*/ new Vector3();\n\nconst _vab = /*@__PURE__*/ new Vector3();\nconst _vac = /*@__PURE__*/ new Vector3();\nconst _vbc = /*@__PURE__*/ new Vector3();\nconst _vap = /*@__PURE__*/ new Vector3();\nconst _vbp = /*@__PURE__*/ new Vector3();\nconst _vcp = /*@__PURE__*/ new Vector3();\n\nclass Triangle {\n\n\tconstructor( a, b, c ) {\n\n\t\tthis.a = ( a !== undefined ) ? a : new Vector3();\n\t\tthis.b = ( b !== undefined ) ? b : new Vector3();\n\t\tthis.c = ( c !== undefined ) ? c : new Vector3();\n\n\t}\n\n\tstatic getNormal( a, b, c, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .getNormal() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\ttarget.subVectors( c, b );\n\t\t_v0$1.subVectors( a, b );\n\t\ttarget.cross( _v0$1 );\n\n\t\tconst targetLengthSq = target.lengthSq();\n\t\tif ( targetLengthSq > 0 ) {\n\n\t\t\treturn target.multiplyScalar( 1 / Math.sqrt( targetLengthSq ) );\n\n\t\t}\n\n\t\treturn target.set( 0, 0, 0 );\n\n\t}\n\n\t// static/instance method to calculate barycentric coordinates\n\t// based on: http://www.blackpawn.com/texts/pointinpoly/default.html\n\tstatic getBarycoord( point, a, b, c, target ) {\n\n\t\t_v0$1.subVectors( c, a );\n\t\t_v1$3.subVectors( b, a );\n\t\t_v2$1.subVectors( point, a );\n\n\t\tconst dot00 = _v0$1.dot( _v0$1 );\n\t\tconst dot01 = _v0$1.dot( _v1$3 );\n\t\tconst dot02 = _v0$1.dot( _v2$1 );\n\t\tconst dot11 = _v1$3.dot( _v1$3 );\n\t\tconst dot12 = _v1$3.dot( _v2$1 );\n\n\t\tconst denom = ( dot00 * dot11 - dot01 * dot01 );\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .getBarycoord() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\t// collinear or singular triangle\n\t\tif ( denom === 0 ) {\n\n\t\t\t// arbitrary location outside of triangle?\n\t\t\t// not sure if this is the best idea, maybe should be returning undefined\n\t\t\treturn target.set( - 2, - 1, - 1 );\n\n\t\t}\n\n\t\tconst invDenom = 1 / denom;\n\t\tconst u = ( dot11 * dot02 - dot01 * dot12 ) * invDenom;\n\t\tconst v = ( dot00 * dot12 - dot01 * dot02 ) * invDenom;\n\n\t\t// barycentric coordinates must always sum to 1\n\t\treturn target.set( 1 - u - v, v, u );\n\n\t}\n\n\tstatic containsPoint( point, a, b, c ) {\n\n\t\tthis.getBarycoord( point, a, b, c, _v3 );\n\n\t\treturn ( _v3.x >= 0 ) && ( _v3.y >= 0 ) && ( ( _v3.x + _v3.y ) <= 1 );\n\n\t}\n\n\tstatic getUV( point, p1, p2, p3, uv1, uv2, uv3, target ) {\n\n\t\tthis.getBarycoord( point, p1, p2, p3, _v3 );\n\n\t\ttarget.set( 0, 0 );\n\t\ttarget.addScaledVector( uv1, _v3.x );\n\t\ttarget.addScaledVector( uv2, _v3.y );\n\t\ttarget.addScaledVector( uv3, _v3.z );\n\n\t\treturn target;\n\n\t}\n\n\tstatic isFrontFacing( a, b, c, direction ) {\n\n\t\t_v0$1.subVectors( c, b );\n\t\t_v1$3.subVectors( a, b );\n\n\t\t// strictly front facing\n\t\treturn ( _v0$1.cross( _v1$3 ).dot( direction ) < 0 ) ? true : false;\n\n\t}\n\n\tset( a, b, c ) {\n\n\t\tthis.a.copy( a );\n\t\tthis.b.copy( b );\n\t\tthis.c.copy( c );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromPointsAndIndices( points, i0, i1, i2 ) {\n\n\t\tthis.a.copy( points[ i0 ] );\n\t\tthis.b.copy( points[ i1 ] );\n\t\tthis.c.copy( points[ i2 ] );\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( triangle ) {\n\n\t\tthis.a.copy( triangle.a );\n\t\tthis.b.copy( triangle.b );\n\t\tthis.c.copy( triangle.c );\n\n\t\treturn this;\n\n\t}\n\n\tgetArea() {\n\n\t\t_v0$1.subVectors( this.c, this.b );\n\t\t_v1$3.subVectors( this.a, this.b );\n\n\t\treturn _v0$1.cross( _v1$3 ).length() * 0.5;\n\n\t}\n\n\tgetMidpoint( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .getMidpoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.addVectors( this.a, this.b ).add( this.c ).multiplyScalar( 1 / 3 );\n\n\t}\n\n\tgetNormal( target ) {\n\n\t\treturn Triangle.getNormal( this.a, this.b, this.c, target );\n\n\t}\n\n\tgetPlane( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .getPlane() target is now required' );\n\t\t\ttarget = new Plane();\n\n\t\t}\n\n\t\treturn target.setFromCoplanarPoints( this.a, this.b, this.c );\n\n\t}\n\n\tgetBarycoord( point, target ) {\n\n\t\treturn Triangle.getBarycoord( point, this.a, this.b, this.c, target );\n\n\t}\n\n\tgetUV( point, uv1, uv2, uv3, target ) {\n\n\t\treturn Triangle.getUV( point, this.a, this.b, this.c, uv1, uv2, uv3, target );\n\n\t}\n\n\tcontainsPoint( point ) {\n\n\t\treturn Triangle.containsPoint( point, this.a, this.b, this.c );\n\n\t}\n\n\tisFrontFacing( direction ) {\n\n\t\treturn Triangle.isFrontFacing( this.a, this.b, this.c, direction );\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\treturn box.intersectsTriangle( this );\n\n\t}\n\n\tclosestPointToPoint( p, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .closestPointToPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tconst a = this.a, b = this.b, c = this.c;\n\t\tlet v, w;\n\n\t\t// algorithm thanks to Real-Time Collision Detection by Christer Ericson,\n\t\t// published by Morgan Kaufmann Publishers, (c) 2005 Elsevier Inc.,\n\t\t// under the accompanying license; see chapter 5.1.5 for detailed explanation.\n\t\t// basically, we're distinguishing which of the voronoi regions of the triangle\n\t\t// the point lies in with the minimum amount of redundant computation.\n\n\t\t_vab.subVectors( b, a );\n\t\t_vac.subVectors( c, a );\n\t\t_vap.subVectors( p, a );\n\t\tconst d1 = _vab.dot( _vap );\n\t\tconst d2 = _vac.dot( _vap );\n\t\tif ( d1 <= 0 && d2 <= 0 ) {\n\n\t\t\t// vertex region of A; barycentric coords (1, 0, 0)\n\t\t\treturn target.copy( a );\n\n\t\t}\n\n\t\t_vbp.subVectors( p, b );\n\t\tconst d3 = _vab.dot( _vbp );\n\t\tconst d4 = _vac.dot( _vbp );\n\t\tif ( d3 >= 0 && d4 <= d3 ) {\n\n\t\t\t// vertex region of B; barycentric coords (0, 1, 0)\n\t\t\treturn target.copy( b );\n\n\t\t}\n\n\t\tconst vc = d1 * d4 - d3 * d2;\n\t\tif ( vc <= 0 && d1 >= 0 && d3 <= 0 ) {\n\n\t\t\tv = d1 / ( d1 - d3 );\n\t\t\t// edge region of AB; barycentric coords (1-v, v, 0)\n\t\t\treturn target.copy( a ).addScaledVector( _vab, v );\n\n\t\t}\n\n\t\t_vcp.subVectors( p, c );\n\t\tconst d5 = _vab.dot( _vcp );\n\t\tconst d6 = _vac.dot( _vcp );\n\t\tif ( d6 >= 0 && d5 <= d6 ) {\n\n\t\t\t// vertex region of C; barycentric coords (0, 0, 1)\n\t\t\treturn target.copy( c );\n\n\t\t}\n\n\t\tconst vb = d5 * d2 - d1 * d6;\n\t\tif ( vb <= 0 && d2 >= 0 && d6 <= 0 ) {\n\n\t\t\tw = d2 / ( d2 - d6 );\n\t\t\t// edge region of AC; barycentric coords (1-w, 0, w)\n\t\t\treturn target.copy( a ).addScaledVector( _vac, w );\n\n\t\t}\n\n\t\tconst va = d3 * d6 - d5 * d4;\n\t\tif ( va <= 0 && ( d4 - d3 ) >= 0 && ( d5 - d6 ) >= 0 ) {\n\n\t\t\t_vbc.subVectors( c, b );\n\t\t\tw = ( d4 - d3 ) / ( ( d4 - d3 ) + ( d5 - d6 ) );\n\t\t\t// edge region of BC; barycentric coords (0, 1-w, w)\n\t\t\treturn target.copy( b ).addScaledVector( _vbc, w ); // edge region of BC\n\n\t\t}\n\n\t\t// face region\n\t\tconst denom = 1 / ( va + vb + vc );\n\t\t// u = va * denom\n\t\tv = vb * denom;\n\t\tw = vc * denom;\n\n\t\treturn target.copy( a ).addScaledVector( _vab, v ).addScaledVector( _vac, w );\n\n\t}\n\n\tequals( triangle ) {\n\n\t\treturn triangle.a.equals( this.a ) && triangle.b.equals( this.b ) && triangle.c.equals( this.c );\n\n\t}\n\n}\n\nconst _colorKeywords = { 'aliceblue': 0xF0F8FF, 'antiquewhite': 0xFAEBD7, 'aqua': 0x00FFFF, 'aquamarine': 0x7FFFD4, 'azure': 0xF0FFFF,\n\t'beige': 0xF5F5DC, 'bisque': 0xFFE4C4, 'black': 0x000000, 'blanchedalmond': 0xFFEBCD, 'blue': 0x0000FF, 'blueviolet': 0x8A2BE2,\n\t'brown': 0xA52A2A, 'burlywood': 0xDEB887, 'cadetblue': 0x5F9EA0, 'chartreuse': 0x7FFF00, 'chocolate': 0xD2691E, 'coral': 0xFF7F50,\n\t'cornflowerblue': 0x6495ED, 'cornsilk': 0xFFF8DC, 'crimson': 0xDC143C, 'cyan': 0x00FFFF, 'darkblue': 0x00008B, 'darkcyan': 0x008B8B,\n\t'darkgoldenrod': 0xB8860B, 'darkgray': 0xA9A9A9, 'darkgreen': 0x006400, 'darkgrey': 0xA9A9A9, 'darkkhaki': 0xBDB76B, 'darkmagenta': 0x8B008B,\n\t'darkolivegreen': 0x556B2F, 'darkorange': 0xFF8C00, 'darkorchid': 0x9932CC, 'darkred': 0x8B0000, 'darksalmon': 0xE9967A, 'darkseagreen': 0x8FBC8F,\n\t'darkslateblue': 0x483D8B, 'darkslategray': 0x2F4F4F, 'darkslategrey': 0x2F4F4F, 'darkturquoise': 0x00CED1, 'darkviolet': 0x9400D3,\n\t'deeppink': 0xFF1493, 'deepskyblue': 0x00BFFF, 'dimgray': 0x696969, 'dimgrey': 0x696969, 'dodgerblue': 0x1E90FF, 'firebrick': 0xB22222,\n\t'floralwhite': 0xFFFAF0, 'forestgreen': 0x228B22, 'fuchsia': 0xFF00FF, 'gainsboro': 0xDCDCDC, 'ghostwhite': 0xF8F8FF, 'gold': 0xFFD700,\n\t'goldenrod': 0xDAA520, 'gray': 0x808080, 'green': 0x008000, 'greenyellow': 0xADFF2F, 'grey': 0x808080, 'honeydew': 0xF0FFF0, 'hotpink': 0xFF69B4,\n\t'indianred': 0xCD5C5C, 'indigo': 0x4B0082, 'ivory': 0xFFFFF0, 'khaki': 0xF0E68C, 'lavender': 0xE6E6FA, 'lavenderblush': 0xFFF0F5, 'lawngreen': 0x7CFC00,\n\t'lemonchiffon': 0xFFFACD, 'lightblue': 0xADD8E6, 'lightcoral': 0xF08080, 'lightcyan': 0xE0FFFF, 'lightgoldenrodyellow': 0xFAFAD2, 'lightgray': 0xD3D3D3,\n\t'lightgreen': 0x90EE90, 'lightgrey': 0xD3D3D3, 'lightpink': 0xFFB6C1, 'lightsalmon': 0xFFA07A, 'lightseagreen': 0x20B2AA, 'lightskyblue': 0x87CEFA,\n\t'lightslategray': 0x778899, 'lightslategrey': 0x778899, 'lightsteelblue': 0xB0C4DE, 'lightyellow': 0xFFFFE0, 'lime': 0x00FF00, 'limegreen': 0x32CD32,\n\t'linen': 0xFAF0E6, 'magenta': 0xFF00FF, 'maroon': 0x800000, 'mediumaquamarine': 0x66CDAA, 'mediumblue': 0x0000CD, 'mediumorchid': 0xBA55D3,\n\t'mediumpurple': 0x9370DB, 'mediumseagreen': 0x3CB371, 'mediumslateblue': 0x7B68EE, 'mediumspringgreen': 0x00FA9A, 'mediumturquoise': 0x48D1CC,\n\t'mediumvioletred': 0xC71585, 'midnightblue': 0x191970, 'mintcream': 0xF5FFFA, 'mistyrose': 0xFFE4E1, 'moccasin': 0xFFE4B5, 'navajowhite': 0xFFDEAD,\n\t'navy': 0x000080, 'oldlace': 0xFDF5E6, 'olive': 0x808000, 'olivedrab': 0x6B8E23, 'orange': 0xFFA500, 'orangered': 0xFF4500, 'orchid': 0xDA70D6,\n\t'palegoldenrod': 0xEEE8AA, 'palegreen': 0x98FB98, 'paleturquoise': 0xAFEEEE, 'palevioletred': 0xDB7093, 'papayawhip': 0xFFEFD5, 'peachpuff': 0xFFDAB9,\n\t'peru': 0xCD853F, 'pink': 0xFFC0CB, 'plum': 0xDDA0DD, 'powderblue': 0xB0E0E6, 'purple': 0x800080, 'rebeccapurple': 0x663399, 'red': 0xFF0000, 'rosybrown': 0xBC8F8F,\n\t'royalblue': 0x4169E1, 'saddlebrown': 0x8B4513, 'salmon': 0xFA8072, 'sandybrown': 0xF4A460, 'seagreen': 0x2E8B57, 'seashell': 0xFFF5EE,\n\t'sienna': 0xA0522D, 'silver': 0xC0C0C0, 'skyblue': 0x87CEEB, 'slateblue': 0x6A5ACD, 'slategray': 0x708090, 'slategrey': 0x708090, 'snow': 0xFFFAFA,\n\t'springgreen': 0x00FF7F, 'steelblue': 0x4682B4, 'tan': 0xD2B48C, 'teal': 0x008080, 'thistle': 0xD8BFD8, 'tomato': 0xFF6347, 'turquoise': 0x40E0D0,\n\t'violet': 0xEE82EE, 'wheat': 0xF5DEB3, 'white': 0xFFFFFF, 'whitesmoke': 0xF5F5F5, 'yellow': 0xFFFF00, 'yellowgreen': 0x9ACD32 };\n\nconst _hslA = { h: 0, s: 0, l: 0 };\nconst _hslB = { h: 0, s: 0, l: 0 };\n\nfunction hue2rgb( p, q, t ) {\n\n\tif ( t < 0 ) t += 1;\n\tif ( t > 1 ) t -= 1;\n\tif ( t < 1 / 6 ) return p + ( q - p ) * 6 * t;\n\tif ( t < 1 / 2 ) return q;\n\tif ( t < 2 / 3 ) return p + ( q - p ) * 6 * ( 2 / 3 - t );\n\treturn p;\n\n}\n\nfunction SRGBToLinear( c ) {\n\n\treturn ( c < 0.04045 ) ? c * 0.0773993808 : Math.pow( c * 0.9478672986 + 0.0521327014, 2.4 );\n\n}\n\nfunction LinearToSRGB( c ) {\n\n\treturn ( c < 0.0031308 ) ? c * 12.92 : 1.055 * ( Math.pow( c, 0.41666 ) ) - 0.055;\n\n}\n\nclass Color {\n\n\tconstructor( r, g, b ) {\n\n\t\tObject.defineProperty( this, 'isColor', { value: true } );\n\n\t\tif ( g === undefined && b === undefined ) {\n\n\t\t\t// r is THREE.Color, hex or string\n\t\t\treturn this.set( r );\n\n\t\t}\n\n\t\treturn this.setRGB( r, g, b );\n\n\t}\n\n\tset( value ) {\n\n\t\tif ( value && value.isColor ) {\n\n\t\t\tthis.copy( value );\n\n\t\t} else if ( typeof value === 'number' ) {\n\n\t\t\tthis.setHex( value );\n\n\t\t} else if ( typeof value === 'string' ) {\n\n\t\t\tthis.setStyle( value );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetScalar( scalar ) {\n\n\t\tthis.r = scalar;\n\t\tthis.g = scalar;\n\t\tthis.b = scalar;\n\n\t\treturn this;\n\n\t}\n\n\tsetHex( hex ) {\n\n\t\thex = Math.floor( hex );\n\n\t\tthis.r = ( hex >> 16 & 255 ) / 255;\n\t\tthis.g = ( hex >> 8 & 255 ) / 255;\n\t\tthis.b = ( hex & 255 ) / 255;\n\n\t\treturn this;\n\n\t}\n\n\tsetRGB( r, g, b ) {\n\n\t\tthis.r = r;\n\t\tthis.g = g;\n\t\tthis.b = b;\n\n\t\treturn this;\n\n\t}\n\n\tsetHSL( h, s, l ) {\n\n\t\t// h,s,l ranges are in 0.0 - 1.0\n\t\th = MathUtils.euclideanModulo( h, 1 );\n\t\ts = MathUtils.clamp( s, 0, 1 );\n\t\tl = MathUtils.clamp( l, 0, 1 );\n\n\t\tif ( s === 0 ) {\n\n\t\t\tthis.r = this.g = this.b = l;\n\n\t\t} else {\n\n\t\t\tconst p = l <= 0.5 ? l * ( 1 + s ) : l + s - ( l * s );\n\t\t\tconst q = ( 2 * l ) - p;\n\n\t\t\tthis.r = hue2rgb( q, p, h + 1 / 3 );\n\t\t\tthis.g = hue2rgb( q, p, h );\n\t\t\tthis.b = hue2rgb( q, p, h - 1 / 3 );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetStyle( style ) {\n\n\t\tfunction handleAlpha( string ) {\n\n\t\t\tif ( string === undefined ) return;\n\n\t\t\tif ( parseFloat( string ) < 1 ) {\n\n\t\t\t\tconsole.warn( 'THREE.Color: Alpha component of ' + style + ' will be ignored.' );\n\n\t\t\t}\n\n\t\t}\n\n\n\t\tlet m;\n\n\t\tif ( m = /^((?:rgb|hsl)a?)\\(\\s*([^\\)]*)\\)/.exec( style ) ) {\n\n\t\t\t// rgb / hsl\n\n\t\t\tlet color;\n\t\t\tconst name = m[ 1 ];\n\t\t\tconst components = m[ 2 ];\n\n\t\t\tswitch ( name ) {\n\n\t\t\t\tcase 'rgb':\n\t\t\t\tcase 'rgba':\n\n\t\t\t\t\tif ( color = /^(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// rgb(255,0,0) rgba(255,0,0,0.5)\n\t\t\t\t\t\tthis.r = Math.min( 255, parseInt( color[ 1 ], 10 ) ) / 255;\n\t\t\t\t\t\tthis.g = Math.min( 255, parseInt( color[ 2 ], 10 ) ) / 255;\n\t\t\t\t\t\tthis.b = Math.min( 255, parseInt( color[ 3 ], 10 ) ) / 255;\n\n\t\t\t\t\t\thandleAlpha( color[ 5 ] );\n\n\t\t\t\t\t\treturn this;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( color = /^(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// rgb(100%,0%,0%) rgba(100%,0%,0%,0.5)\n\t\t\t\t\t\tthis.r = Math.min( 100, parseInt( color[ 1 ], 10 ) ) / 100;\n\t\t\t\t\t\tthis.g = Math.min( 100, parseInt( color[ 2 ], 10 ) ) / 100;\n\t\t\t\t\t\tthis.b = Math.min( 100, parseInt( color[ 3 ], 10 ) ) / 100;\n\n\t\t\t\t\t\thandleAlpha( color[ 5 ] );\n\n\t\t\t\t\t\treturn this;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'hsl':\n\t\t\t\tcase 'hsla':\n\n\t\t\t\t\tif ( color = /^([0-9]*\\.?[0-9]+)\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// hsl(120,50%,50%) hsla(120,50%,50%,0.5)\n\t\t\t\t\t\tconst h = parseFloat( color[ 1 ] ) / 360;\n\t\t\t\t\t\tconst s = parseInt( color[ 2 ], 10 ) / 100;\n\t\t\t\t\t\tconst l = parseInt( color[ 3 ], 10 ) / 100;\n\n\t\t\t\t\t\thandleAlpha( color[ 5 ] );\n\n\t\t\t\t\t\treturn this.setHSL( h, s, l );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t} else if ( m = /^\\#([A-Fa-f0-9]+)$/.exec( style ) ) {\n\n\t\t\t// hex color\n\n\t\t\tconst hex = m[ 1 ];\n\t\t\tconst size = hex.length;\n\n\t\t\tif ( size === 3 ) {\n\n\t\t\t\t// #ff0\n\t\t\t\tthis.r = parseInt( hex.charAt( 0 ) + hex.charAt( 0 ), 16 ) / 255;\n\t\t\t\tthis.g = parseInt( hex.charAt( 1 ) + hex.charAt( 1 ), 16 ) / 255;\n\t\t\t\tthis.b = parseInt( hex.charAt( 2 ) + hex.charAt( 2 ), 16 ) / 255;\n\n\t\t\t\treturn this;\n\n\t\t\t} else if ( size === 6 ) {\n\n\t\t\t\t// #ff0000\n\t\t\t\tthis.r = parseInt( hex.charAt( 0 ) + hex.charAt( 1 ), 16 ) / 255;\n\t\t\t\tthis.g = parseInt( hex.charAt( 2 ) + hex.charAt( 3 ), 16 ) / 255;\n\t\t\t\tthis.b = parseInt( hex.charAt( 4 ) + hex.charAt( 5 ), 16 ) / 255;\n\n\t\t\t\treturn this;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( style && style.length > 0 ) {\n\n\t\t\treturn this.setColorName( style );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetColorName( style ) {\n\n\t\t// color keywords\n\t\tconst hex = _colorKeywords[ style ];\n\n\t\tif ( hex !== undefined ) {\n\n\t\t\t// red\n\t\t\tthis.setHex( hex );\n\n\t\t} else {\n\n\t\t\t// unknown color\n\t\t\tconsole.warn( 'THREE.Color: Unknown color ' + style );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.r, this.g, this.b );\n\n\t}\n\n\tcopy( color ) {\n\n\t\tthis.r = color.r;\n\t\tthis.g = color.g;\n\t\tthis.b = color.b;\n\n\t\treturn this;\n\n\t}\n\n\tcopyGammaToLinear( color, gammaFactor ) {\n\n\t\tif ( gammaFactor === undefined ) gammaFactor = 2.0;\n\n\t\tthis.r = Math.pow( color.r, gammaFactor );\n\t\tthis.g = Math.pow( color.g, gammaFactor );\n\t\tthis.b = Math.pow( color.b, gammaFactor );\n\n\t\treturn this;\n\n\t}\n\n\tcopyLinearToGamma( color, gammaFactor ) {\n\n\t\tif ( gammaFactor === undefined ) gammaFactor = 2.0;\n\n\t\tconst safeInverse = ( gammaFactor > 0 ) ? ( 1.0 / gammaFactor ) : 1.0;\n\n\t\tthis.r = Math.pow( color.r, safeInverse );\n\t\tthis.g = Math.pow( color.g, safeInverse );\n\t\tthis.b = Math.pow( color.b, safeInverse );\n\n\t\treturn this;\n\n\t}\n\n\tconvertGammaToLinear( gammaFactor ) {\n\n\t\tthis.copyGammaToLinear( this, gammaFactor );\n\n\t\treturn this;\n\n\t}\n\n\tconvertLinearToGamma( gammaFactor ) {\n\n\t\tthis.copyLinearToGamma( this, gammaFactor );\n\n\t\treturn this;\n\n\t}\n\n\tcopySRGBToLinear( color ) {\n\n\t\tthis.r = SRGBToLinear( color.r );\n\t\tthis.g = SRGBToLinear( color.g );\n\t\tthis.b = SRGBToLinear( color.b );\n\n\t\treturn this;\n\n\t}\n\n\tcopyLinearToSRGB( color ) {\n\n\t\tthis.r = LinearToSRGB( color.r );\n\t\tthis.g = LinearToSRGB( color.g );\n\t\tthis.b = LinearToSRGB( color.b );\n\n\t\treturn this;\n\n\t}\n\n\tconvertSRGBToLinear() {\n\n\t\tthis.copySRGBToLinear( this );\n\n\t\treturn this;\n\n\t}\n\n\tconvertLinearToSRGB() {\n\n\t\tthis.copyLinearToSRGB( this );\n\n\t\treturn this;\n\n\t}\n\n\tgetHex() {\n\n\t\treturn ( this.r * 255 ) << 16 ^ ( this.g * 255 ) << 8 ^ ( this.b * 255 ) << 0;\n\n\t}\n\n\tgetHexString() {\n\n\t\treturn ( '000000' + this.getHex().toString( 16 ) ).slice( - 6 );\n\n\t}\n\n\tgetHSL( target ) {\n\n\t\t// h,s,l ranges are in 0.0 - 1.0\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Color: .getHSL() target is now required' );\n\t\t\ttarget = { h: 0, s: 0, l: 0 };\n\n\t\t}\n\n\t\tconst r = this.r, g = this.g, b = this.b;\n\n\t\tconst max = Math.max( r, g, b );\n\t\tconst min = Math.min( r, g, b );\n\n\t\tlet hue, saturation;\n\t\tconst lightness = ( min + max ) / 2.0;\n\n\t\tif ( min === max ) {\n\n\t\t\thue = 0;\n\t\t\tsaturation = 0;\n\n\t\t} else {\n\n\t\t\tconst delta = max - min;\n\n\t\t\tsaturation = lightness <= 0.5 ? delta / ( max + min ) : delta / ( 2 - max - min );\n\n\t\t\tswitch ( max ) {\n\n\t\t\t\tcase r: hue = ( g - b ) / delta + ( g < b ? 6 : 0 ); break;\n\t\t\t\tcase g: hue = ( b - r ) / delta + 2; break;\n\t\t\t\tcase b: hue = ( r - g ) / delta + 4; break;\n\n\t\t\t}\n\n\t\t\thue /= 6;\n\n\t\t}\n\n\t\ttarget.h = hue;\n\t\ttarget.s = saturation;\n\t\ttarget.l = lightness;\n\n\t\treturn target;\n\n\t}\n\n\tgetStyle() {\n\n\t\treturn 'rgb(' + ( ( this.r * 255 ) | 0 ) + ',' + ( ( this.g * 255 ) | 0 ) + ',' + ( ( this.b * 255 ) | 0 ) + ')';\n\n\t}\n\n\toffsetHSL( h, s, l ) {\n\n\t\tthis.getHSL( _hslA );\n\n\t\t_hslA.h += h; _hslA.s += s; _hslA.l += l;\n\n\t\tthis.setHSL( _hslA.h, _hslA.s, _hslA.l );\n\n\t\treturn this;\n\n\t}\n\n\tadd( color ) {\n\n\t\tthis.r += color.r;\n\t\tthis.g += color.g;\n\t\tthis.b += color.b;\n\n\t\treturn this;\n\n\t}\n\n\taddColors( color1, color2 ) {\n\n\t\tthis.r = color1.r + color2.r;\n\t\tthis.g = color1.g + color2.g;\n\t\tthis.b = color1.b + color2.b;\n\n\t\treturn this;\n\n\t}\n\n\taddScalar( s ) {\n\n\t\tthis.r += s;\n\t\tthis.g += s;\n\t\tthis.b += s;\n\n\t\treturn this;\n\n\t}\n\n\tsub( color ) {\n\n\t\tthis.r = Math.max( 0, this.r - color.r );\n\t\tthis.g = Math.max( 0, this.g - color.g );\n\t\tthis.b = Math.max( 0, this.b - color.b );\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( color ) {\n\n\t\tthis.r *= color.r;\n\t\tthis.g *= color.g;\n\t\tthis.b *= color.b;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( s ) {\n\n\t\tthis.r *= s;\n\t\tthis.g *= s;\n\t\tthis.b *= s;\n\n\t\treturn this;\n\n\t}\n\n\tlerp( color, alpha ) {\n\n\t\tthis.r += ( color.r - this.r ) * alpha;\n\t\tthis.g += ( color.g - this.g ) * alpha;\n\t\tthis.b += ( color.b - this.b ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpHSL( color, alpha ) {\n\n\t\tthis.getHSL( _hslA );\n\t\tcolor.getHSL( _hslB );\n\n\t\tconst h = MathUtils.lerp( _hslA.h, _hslB.h, alpha );\n\t\tconst s = MathUtils.lerp( _hslA.s, _hslB.s, alpha );\n\t\tconst l = MathUtils.lerp( _hslA.l, _hslB.l, alpha );\n\n\t\tthis.setHSL( h, s, l );\n\n\t\treturn this;\n\n\t}\n\n\tequals( c ) {\n\n\t\treturn ( c.r === this.r ) && ( c.g === this.g ) && ( c.b === this.b );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis.r = array[ offset ];\n\t\tthis.g = array[ offset + 1 ];\n\t\tthis.b = array[ offset + 2 ];\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this.r;\n\t\tarray[ offset + 1 ] = this.g;\n\t\tarray[ offset + 2 ] = this.b;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index ) {\n\n\t\tthis.r = attribute.getX( index );\n\t\tthis.g = attribute.getY( index );\n\t\tthis.b = attribute.getZ( index );\n\n\t\tif ( attribute.normalized === true ) {\n\n\t\t\t// assuming Uint8Array\n\n\t\t\tthis.r /= 255;\n\t\t\tthis.g /= 255;\n\t\t\tthis.b /= 255;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\treturn this.getHex();\n\n\t}\n\n}\n\nColor.NAMES = _colorKeywords;\nColor.prototype.r = 1;\nColor.prototype.g = 1;\nColor.prototype.b = 1;\n\nclass Face3 {\n\n\tconstructor( a, b, c, normal, color, materialIndex ) {\n\n\t\tthis.a = a;\n\t\tthis.b = b;\n\t\tthis.c = c;\n\n\t\tthis.normal = ( normal && normal.isVector3 ) ? normal : new Vector3();\n\t\tthis.vertexNormals = Array.isArray( normal ) ? normal : [];\n\n\t\tthis.color = ( color && color.isColor ) ? color : new Color();\n\t\tthis.vertexColors = Array.isArray( color ) ? color : [];\n\n\t\tthis.materialIndex = materialIndex !== undefined ? materialIndex : 0;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.a = source.a;\n\t\tthis.b = source.b;\n\t\tthis.c = source.c;\n\n\t\tthis.normal.copy( source.normal );\n\t\tthis.color.copy( source.color );\n\n\t\tthis.materialIndex = source.materialIndex;\n\n\t\tfor ( let i = 0, il = source.vertexNormals.length; i < il; i ++ ) {\n\n\t\t\tthis.vertexNormals[ i ] = source.vertexNormals[ i ].clone();\n\n\t\t}\n\n\t\tfor ( let i = 0, il = source.vertexColors.length; i < il; i ++ ) {\n\n\t\t\tthis.vertexColors[ i ] = source.vertexColors[ i ].clone();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nlet materialId = 0;\n\nfunction Material() {\n\n\tObject.defineProperty( this, 'id', { value: materialId ++ } );\n\n\tthis.uuid = MathUtils.generateUUID();\n\n\tthis.name = '';\n\tthis.type = 'Material';\n\n\tthis.fog = true;\n\n\tthis.blending = NormalBlending;\n\tthis.side = FrontSide;\n\tthis.flatShading = false;\n\tthis.vertexColors = false;\n\n\tthis.opacity = 1;\n\tthis.transparent = false;\n\n\tthis.blendSrc = SrcAlphaFactor;\n\tthis.blendDst = OneMinusSrcAlphaFactor;\n\tthis.blendEquation = AddEquation;\n\tthis.blendSrcAlpha = null;\n\tthis.blendDstAlpha = null;\n\tthis.blendEquationAlpha = null;\n\n\tthis.depthFunc = LessEqualDepth;\n\tthis.depthTest = true;\n\tthis.depthWrite = true;\n\n\tthis.stencilWriteMask = 0xff;\n\tthis.stencilFunc = AlwaysStencilFunc;\n\tthis.stencilRef = 0;\n\tthis.stencilFuncMask = 0xff;\n\tthis.stencilFail = KeepStencilOp;\n\tthis.stencilZFail = KeepStencilOp;\n\tthis.stencilZPass = KeepStencilOp;\n\tthis.stencilWrite = false;\n\n\tthis.clippingPlanes = null;\n\tthis.clipIntersection = false;\n\tthis.clipShadows = false;\n\n\tthis.shadowSide = null;\n\n\tthis.colorWrite = true;\n\n\tthis.precision = null; // override the renderer's default precision for this material\n\n\tthis.polygonOffset = false;\n\tthis.polygonOffsetFactor = 0;\n\tthis.polygonOffsetUnits = 0;\n\n\tthis.dithering = false;\n\n\tthis.alphaTest = 0;\n\tthis.premultipliedAlpha = false;\n\n\tthis.visible = true;\n\n\tthis.toneMapped = true;\n\n\tthis.userData = {};\n\n\tthis.version = 0;\n\n}\n\nMaterial.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: Material,\n\n\tisMaterial: true,\n\n\tonBeforeCompile: function ( /* shaderobject, renderer */ ) {},\n\n\tcustomProgramCacheKey: function () {\n\n\t\treturn this.onBeforeCompile.toString();\n\n\t},\n\n\tsetValues: function ( values ) {\n\n\t\tif ( values === undefined ) return;\n\n\t\tfor ( const key in values ) {\n\n\t\t\tconst newValue = values[ key ];\n\n\t\t\tif ( newValue === undefined ) {\n\n\t\t\t\tconsole.warn( \"THREE.Material: '\" + key + \"' parameter is undefined.\" );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\t// for backward compatability if shading is set in the constructor\n\t\t\tif ( key === 'shading' ) {\n\n\t\t\t\tconsole.warn( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\n\t\t\t\tthis.flatShading = ( newValue === FlatShading ) ? true : false;\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tconst currentValue = this[ key ];\n\n\t\t\tif ( currentValue === undefined ) {\n\n\t\t\t\tconsole.warn( \"THREE.\" + this.type + \": '\" + key + \"' is not a property of this material.\" );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tif ( currentValue && currentValue.isColor ) {\n\n\t\t\t\tcurrentValue.set( newValue );\n\n\t\t\t} else if ( ( currentValue && currentValue.isVector3 ) && ( newValue && newValue.isVector3 ) ) {\n\n\t\t\t\tcurrentValue.copy( newValue );\n\n\t\t\t} else {\n\n\t\t\t\tthis[ key ] = newValue;\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tconst isRoot = ( meta === undefined || typeof meta === 'string' );\n\n\t\tif ( isRoot ) {\n\n\t\t\tmeta = {\n\t\t\t\ttextures: {},\n\t\t\t\timages: {}\n\t\t\t};\n\n\t\t}\n\n\t\tconst data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Material',\n\t\t\t\tgenerator: 'Material.toJSON'\n\t\t\t}\n\t\t};\n\n\t\t// standard Material serialization\n\t\tdata.uuid = this.uuid;\n\t\tdata.type = this.type;\n\n\t\tif ( this.name !== '' ) data.name = this.name;\n\n\t\tif ( this.color && this.color.isColor ) data.color = this.color.getHex();\n\n\t\tif ( this.roughness !== undefined ) data.roughness = this.roughness;\n\t\tif ( this.metalness !== undefined ) data.metalness = this.metalness;\n\n\t\tif ( this.sheen && this.sheen.isColor ) data.sheen = this.sheen.getHex();\n\t\tif ( this.emissive && this.emissive.isColor ) data.emissive = this.emissive.getHex();\n\t\tif ( this.emissiveIntensity && this.emissiveIntensity !== 1 ) data.emissiveIntensity = this.emissiveIntensity;\n\n\t\tif ( this.specular && this.specular.isColor ) data.specular = this.specular.getHex();\n\t\tif ( this.shininess !== undefined ) data.shininess = this.shininess;\n\t\tif ( this.clearcoat !== undefined ) data.clearcoat = this.clearcoat;\n\t\tif ( this.clearcoatRoughness !== undefined ) data.clearcoatRoughness = this.clearcoatRoughness;\n\n\t\tif ( this.clearcoatMap && this.clearcoatMap.isTexture ) {\n\n\t\t\tdata.clearcoatMap = this.clearcoatMap.toJSON( meta ).uuid;\n\n\t\t}\n\n\t\tif ( this.clearcoatRoughnessMap && this.clearcoatRoughnessMap.isTexture ) {\n\n\t\t\tdata.clearcoatRoughnessMap = this.clearcoatRoughnessMap.toJSON( meta ).uuid;\n\n\t\t}\n\n\t\tif ( this.clearcoatNormalMap && this.clearcoatNormalMap.isTexture ) {\n\n\t\t\tdata.clearcoatNormalMap = this.clearcoatNormalMap.toJSON( meta ).uuid;\n\t\t\tdata.clearcoatNormalScale = this.clearcoatNormalScale.toArray();\n\n\t\t}\n\n\t\tif ( this.map && this.map.isTexture ) data.map = this.map.toJSON( meta ).uuid;\n\t\tif ( this.matcap && this.matcap.isTexture ) data.matcap = this.matcap.toJSON( meta ).uuid;\n\t\tif ( this.alphaMap && this.alphaMap.isTexture ) data.alphaMap = this.alphaMap.toJSON( meta ).uuid;\n\t\tif ( this.lightMap && this.lightMap.isTexture ) data.lightMap = this.lightMap.toJSON( meta ).uuid;\n\n\t\tif ( this.aoMap && this.aoMap.isTexture ) {\n\n\t\t\tdata.aoMap = this.aoMap.toJSON( meta ).uuid;\n\t\t\tdata.aoMapIntensity = this.aoMapIntensity;\n\n\t\t}\n\n\t\tif ( this.bumpMap && this.bumpMap.isTexture ) {\n\n\t\t\tdata.bumpMap = this.bumpMap.toJSON( meta ).uuid;\n\t\t\tdata.bumpScale = this.bumpScale;\n\n\t\t}\n\n\t\tif ( this.normalMap && this.normalMap.isTexture ) {\n\n\t\t\tdata.normalMap = this.normalMap.toJSON( meta ).uuid;\n\t\t\tdata.normalMapType = this.normalMapType;\n\t\t\tdata.normalScale = this.normalScale.toArray();\n\n\t\t}\n\n\t\tif ( this.displacementMap && this.displacementMap.isTexture ) {\n\n\t\t\tdata.displacementMap = this.displacementMap.toJSON( meta ).uuid;\n\t\t\tdata.displacementScale = this.displacementScale;\n\t\t\tdata.displacementBias = this.displacementBias;\n\n\t\t}\n\n\t\tif ( this.roughnessMap && this.roughnessMap.isTexture ) data.roughnessMap = this.roughnessMap.toJSON( meta ).uuid;\n\t\tif ( this.metalnessMap && this.metalnessMap.isTexture ) data.metalnessMap = this.metalnessMap.toJSON( meta ).uuid;\n\n\t\tif ( this.emissiveMap && this.emissiveMap.isTexture ) data.emissiveMap = this.emissiveMap.toJSON( meta ).uuid;\n\t\tif ( this.specularMap && this.specularMap.isTexture ) data.specularMap = this.specularMap.toJSON( meta ).uuid;\n\n\t\tif ( this.envMap && this.envMap.isTexture ) {\n\n\t\t\tdata.envMap = this.envMap.toJSON( meta ).uuid;\n\t\t\tdata.reflectivity = this.reflectivity; // Scale behind envMap\n\t\t\tdata.refractionRatio = this.refractionRatio;\n\n\t\t\tif ( this.combine !== undefined ) data.combine = this.combine;\n\t\t\tif ( this.envMapIntensity !== undefined ) data.envMapIntensity = this.envMapIntensity;\n\n\t\t}\n\n\t\tif ( this.gradientMap && this.gradientMap.isTexture ) {\n\n\t\t\tdata.gradientMap = this.gradientMap.toJSON( meta ).uuid;\n\n\t\t}\n\n\t\tif ( this.size !== undefined ) data.size = this.size;\n\t\tif ( this.sizeAttenuation !== undefined ) data.sizeAttenuation = this.sizeAttenuation;\n\n\t\tif ( this.blending !== NormalBlending ) data.blending = this.blending;\n\t\tif ( this.flatShading === true ) data.flatShading = this.flatShading;\n\t\tif ( this.side !== FrontSide ) data.side = this.side;\n\t\tif ( this.vertexColors ) data.vertexColors = true;\n\n\t\tif ( this.opacity < 1 ) data.opacity = this.opacity;\n\t\tif ( this.transparent === true ) data.transparent = this.transparent;\n\n\t\tdata.depthFunc = this.depthFunc;\n\t\tdata.depthTest = this.depthTest;\n\t\tdata.depthWrite = this.depthWrite;\n\n\t\tdata.stencilWrite = this.stencilWrite;\n\t\tdata.stencilWriteMask = this.stencilWriteMask;\n\t\tdata.stencilFunc = this.stencilFunc;\n\t\tdata.stencilRef = this.stencilRef;\n\t\tdata.stencilFuncMask = this.stencilFuncMask;\n\t\tdata.stencilFail = this.stencilFail;\n\t\tdata.stencilZFail = this.stencilZFail;\n\t\tdata.stencilZPass = this.stencilZPass;\n\n\t\t// rotation (SpriteMaterial)\n\t\tif ( this.rotation && this.rotation !== 0 ) data.rotation = this.rotation;\n\n\t\tif ( this.polygonOffset === true ) data.polygonOffset = true;\n\t\tif ( this.polygonOffsetFactor !== 0 ) data.polygonOffsetFactor = this.polygonOffsetFactor;\n\t\tif ( this.polygonOffsetUnits !== 0 ) data.polygonOffsetUnits = this.polygonOffsetUnits;\n\n\t\tif ( this.linewidth && this.linewidth !== 1 ) data.linewidth = this.linewidth;\n\t\tif ( this.dashSize !== undefined ) data.dashSize = this.dashSize;\n\t\tif ( this.gapSize !== undefined ) data.gapSize = this.gapSize;\n\t\tif ( this.scale !== undefined ) data.scale = this.scale;\n\n\t\tif ( this.dithering === true ) data.dithering = true;\n\n\t\tif ( this.alphaTest > 0 ) data.alphaTest = this.alphaTest;\n\t\tif ( this.premultipliedAlpha === true ) data.premultipliedAlpha = this.premultipliedAlpha;\n\n\t\tif ( this.wireframe === true ) data.wireframe = this.wireframe;\n\t\tif ( this.wireframeLinewidth > 1 ) data.wireframeLinewidth = this.wireframeLinewidth;\n\t\tif ( this.wireframeLinecap !== 'round' ) data.wireframeLinecap = this.wireframeLinecap;\n\t\tif ( this.wireframeLinejoin !== 'round' ) data.wireframeLinejoin = this.wireframeLinejoin;\n\n\t\tif ( this.morphTargets === true ) data.morphTargets = true;\n\t\tif ( this.morphNormals === true ) data.morphNormals = true;\n\t\tif ( this.skinning === true ) data.skinning = true;\n\n\t\tif ( this.visible === false ) data.visible = false;\n\n\t\tif ( this.toneMapped === false ) data.toneMapped = false;\n\n\t\tif ( JSON.stringify( this.userData ) !== '{}' ) data.userData = this.userData;\n\n\t\t// TODO: Copied from Object3D.toJSON\n\n\t\tfunction extractFromCache( cache ) {\n\n\t\t\tconst values = [];\n\n\t\t\tfor ( const key in cache ) {\n\n\t\t\t\tconst data = cache[ key ];\n\t\t\t\tdelete data.metadata;\n\t\t\t\tvalues.push( data );\n\n\t\t\t}\n\n\t\t\treturn values;\n\n\t\t}\n\n\t\tif ( isRoot ) {\n\n\t\t\tconst textures = extractFromCache( meta.textures );\n\t\t\tconst images = extractFromCache( meta.images );\n\n\t\t\tif ( textures.length > 0 ) data.textures = textures;\n\t\t\tif ( images.length > 0 ) data.images = images;\n\n\t\t}\n\n\t\treturn data;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.name = source.name;\n\n\t\tthis.fog = source.fog;\n\n\t\tthis.blending = source.blending;\n\t\tthis.side = source.side;\n\t\tthis.flatShading = source.flatShading;\n\t\tthis.vertexColors = source.vertexColors;\n\n\t\tthis.opacity = source.opacity;\n\t\tthis.transparent = source.transparent;\n\n\t\tthis.blendSrc = source.blendSrc;\n\t\tthis.blendDst = source.blendDst;\n\t\tthis.blendEquation = source.blendEquation;\n\t\tthis.blendSrcAlpha = source.blendSrcAlpha;\n\t\tthis.blendDstAlpha = source.blendDstAlpha;\n\t\tthis.blendEquationAlpha = source.blendEquationAlpha;\n\n\t\tthis.depthFunc = source.depthFunc;\n\t\tthis.depthTest = source.depthTest;\n\t\tthis.depthWrite = source.depthWrite;\n\n\t\tthis.stencilWriteMask = source.stencilWriteMask;\n\t\tthis.stencilFunc = source.stencilFunc;\n\t\tthis.stencilRef = source.stencilRef;\n\t\tthis.stencilFuncMask = source.stencilFuncMask;\n\t\tthis.stencilFail = source.stencilFail;\n\t\tthis.stencilZFail = source.stencilZFail;\n\t\tthis.stencilZPass = source.stencilZPass;\n\t\tthis.stencilWrite = source.stencilWrite;\n\n\t\tconst srcPlanes = source.clippingPlanes;\n\t\tlet dstPlanes = null;\n\n\t\tif ( srcPlanes !== null ) {\n\n\t\t\tconst n = srcPlanes.length;\n\t\t\tdstPlanes = new Array( n );\n\n\t\t\tfor ( let i = 0; i !== n; ++ i ) {\n\n\t\t\t\tdstPlanes[ i ] = srcPlanes[ i ].clone();\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.clippingPlanes = dstPlanes;\n\t\tthis.clipIntersection = source.clipIntersection;\n\t\tthis.clipShadows = source.clipShadows;\n\n\t\tthis.shadowSide = source.shadowSide;\n\n\t\tthis.colorWrite = source.colorWrite;\n\n\t\tthis.precision = source.precision;\n\n\t\tthis.polygonOffset = source.polygonOffset;\n\t\tthis.polygonOffsetFactor = source.polygonOffsetFactor;\n\t\tthis.polygonOffsetUnits = source.polygonOffsetUnits;\n\n\t\tthis.dithering = source.dithering;\n\n\t\tthis.alphaTest = source.alphaTest;\n\t\tthis.premultipliedAlpha = source.premultipliedAlpha;\n\n\t\tthis.visible = source.visible;\n\n\t\tthis.toneMapped = source.toneMapped;\n\n\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\n\n\t\treturn this;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\nObject.defineProperty( Material.prototype, 'needsUpdate', {\n\n\tset: function ( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n} );\n\n/**\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.Multiply,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  depthTest: <bool>,\n *  depthWrite: <bool>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>\n * }\n */\n\nfunction MeshBasicMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshBasicMaterial';\n\n\tthis.color = new Color( 0xffffff ); // emissive\n\n\tthis.map = null;\n\n\tthis.lightMap = null;\n\tthis.lightMapIntensity = 1.0;\n\n\tthis.aoMap = null;\n\tthis.aoMapIntensity = 1.0;\n\n\tthis.specularMap = null;\n\n\tthis.alphaMap = null;\n\n\tthis.envMap = null;\n\tthis.combine = MultiplyOperation;\n\tthis.reflectivity = 1;\n\tthis.refractionRatio = 0.98;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\tthis.wireframeLinecap = 'round';\n\tthis.wireframeLinejoin = 'round';\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshBasicMaterial.prototype = Object.create( Material.prototype );\nMeshBasicMaterial.prototype.constructor = MeshBasicMaterial;\n\nMeshBasicMaterial.prototype.isMeshBasicMaterial = true;\n\nMeshBasicMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\tthis.map = source.map;\n\n\tthis.lightMap = source.lightMap;\n\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\tthis.aoMap = source.aoMap;\n\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\tthis.specularMap = source.specularMap;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.envMap = source.envMap;\n\tthis.combine = source.combine;\n\tthis.reflectivity = source.reflectivity;\n\tthis.refractionRatio = source.refractionRatio;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\tthis.wireframeLinecap = source.wireframeLinecap;\n\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\n\treturn this;\n\n};\n\nconst _vector$3 = new Vector3();\nconst _vector2$1 = new Vector2();\n\nfunction BufferAttribute( array, itemSize, normalized ) {\n\n\tif ( Array.isArray( array ) ) {\n\n\t\tthrow new TypeError( 'THREE.BufferAttribute: array should be a Typed Array.' );\n\n\t}\n\n\tthis.name = '';\n\n\tthis.array = array;\n\tthis.itemSize = itemSize;\n\tthis.count = array !== undefined ? array.length / itemSize : 0;\n\tthis.normalized = normalized === true;\n\n\tthis.usage = StaticDrawUsage;\n\tthis.updateRange = { offset: 0, count: - 1 };\n\n\tthis.version = 0;\n\n}\n\nObject.defineProperty( BufferAttribute.prototype, 'needsUpdate', {\n\n\tset: function ( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n} );\n\nObject.assign( BufferAttribute.prototype, {\n\n\tisBufferAttribute: true,\n\n\tonUploadCallback: function () {},\n\n\tsetUsage: function ( value ) {\n\n\t\tthis.usage = value;\n\n\t\treturn this;\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.name = source.name;\n\t\tthis.array = new source.array.constructor( source.array );\n\t\tthis.itemSize = source.itemSize;\n\t\tthis.count = source.count;\n\t\tthis.normalized = source.normalized;\n\n\t\tthis.usage = source.usage;\n\n\t\treturn this;\n\n\t},\n\n\tcopyAt: function ( index1, attribute, index2 ) {\n\n\t\tindex1 *= this.itemSize;\n\t\tindex2 *= attribute.itemSize;\n\n\t\tfor ( let i = 0, l = this.itemSize; i < l; i ++ ) {\n\n\t\t\tthis.array[ index1 + i ] = attribute.array[ index2 + i ];\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcopyArray: function ( array ) {\n\n\t\tthis.array.set( array );\n\n\t\treturn this;\n\n\t},\n\n\tcopyColorsArray: function ( colors ) {\n\n\t\tconst array = this.array;\n\t\tlet offset = 0;\n\n\t\tfor ( let i = 0, l = colors.length; i < l; i ++ ) {\n\n\t\t\tlet color = colors[ i ];\n\n\t\t\tif ( color === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyColorsArray(): color is undefined', i );\n\t\t\t\tcolor = new Color();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = color.r;\n\t\t\tarray[ offset ++ ] = color.g;\n\t\t\tarray[ offset ++ ] = color.b;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcopyVector2sArray: function ( vectors ) {\n\n\t\tconst array = this.array;\n\t\tlet offset = 0;\n\n\t\tfor ( let i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tlet vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector2sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector2();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcopyVector3sArray: function ( vectors ) {\n\n\t\tconst array = this.array;\n\t\tlet offset = 0;\n\n\t\tfor ( let i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tlet vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector3sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector3();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\t\t\tarray[ offset ++ ] = vector.z;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcopyVector4sArray: function ( vectors ) {\n\n\t\tconst array = this.array;\n\t\tlet offset = 0;\n\n\t\tfor ( let i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tlet vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector4sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector4();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\t\t\tarray[ offset ++ ] = vector.z;\n\t\t\tarray[ offset ++ ] = vector.w;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tapplyMatrix3: function ( m ) {\n\n\t\tif ( this.itemSize === 2 ) {\n\n\t\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t\t_vector2$1.fromBufferAttribute( this, i );\n\t\t\t\t_vector2$1.applyMatrix3( m );\n\n\t\t\t\tthis.setXY( i, _vector2$1.x, _vector2$1.y );\n\n\t\t\t}\n\n\t\t} else if ( this.itemSize === 3 ) {\n\n\t\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t\t_vector$3.fromBufferAttribute( this, i );\n\t\t\t\t_vector$3.applyMatrix3( m );\n\n\t\t\t\tthis.setXYZ( i, _vector$3.x, _vector$3.y, _vector$3.z );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tapplyMatrix4: function ( m ) {\n\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$3.x = this.getX( i );\n\t\t\t_vector$3.y = this.getY( i );\n\t\t\t_vector$3.z = this.getZ( i );\n\n\t\t\t_vector$3.applyMatrix4( m );\n\n\t\t\tthis.setXYZ( i, _vector$3.x, _vector$3.y, _vector$3.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tapplyNormalMatrix: function ( m ) {\n\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$3.x = this.getX( i );\n\t\t\t_vector$3.y = this.getY( i );\n\t\t\t_vector$3.z = this.getZ( i );\n\n\t\t\t_vector$3.applyNormalMatrix( m );\n\n\t\t\tthis.setXYZ( i, _vector$3.x, _vector$3.y, _vector$3.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\ttransformDirection: function ( m ) {\n\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$3.x = this.getX( i );\n\t\t\t_vector$3.y = this.getY( i );\n\t\t\t_vector$3.z = this.getZ( i );\n\n\t\t\t_vector$3.transformDirection( m );\n\n\t\t\tthis.setXYZ( i, _vector$3.x, _vector$3.y, _vector$3.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tset: function ( value, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.array.set( value, offset );\n\n\t\treturn this;\n\n\t},\n\n\tgetX: function ( index ) {\n\n\t\treturn this.array[ index * this.itemSize ];\n\n\t},\n\n\tsetX: function ( index, x ) {\n\n\t\tthis.array[ index * this.itemSize ] = x;\n\n\t\treturn this;\n\n\t},\n\n\tgetY: function ( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 1 ];\n\n\t},\n\n\tsetY: function ( index, y ) {\n\n\t\tthis.array[ index * this.itemSize + 1 ] = y;\n\n\t\treturn this;\n\n\t},\n\n\tgetZ: function ( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 2 ];\n\n\t},\n\n\tsetZ: function ( index, z ) {\n\n\t\tthis.array[ index * this.itemSize + 2 ] = z;\n\n\t\treturn this;\n\n\t},\n\n\tgetW: function ( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 3 ];\n\n\t},\n\n\tsetW: function ( index, w ) {\n\n\t\tthis.array[ index * this.itemSize + 3 ] = w;\n\n\t\treturn this;\n\n\t},\n\n\tsetXY: function ( index, x, y ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetXYZ: function ( index, x, y, z ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\t\tthis.array[ index + 2 ] = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetXYZW: function ( index, x, y, z, w ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\t\tthis.array[ index + 2 ] = z;\n\t\tthis.array[ index + 3 ] = w;\n\n\t\treturn this;\n\n\t},\n\n\tonUpload: function ( callback ) {\n\n\t\tthis.onUploadCallback = callback;\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.array, this.itemSize ).copy( this );\n\n\t},\n\n\ttoJSON: function () {\n\n\t\treturn {\n\t\t\titemSize: this.itemSize,\n\t\t\ttype: this.array.constructor.name,\n\t\t\tarray: Array.prototype.slice.call( this.array ),\n\t\t\tnormalized: this.normalized\n\t\t};\n\n\t}\n\n} );\n\n//\n\nfunction Int8BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Int8Array( array ), itemSize, normalized );\n\n}\n\nInt8BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nInt8BufferAttribute.prototype.constructor = Int8BufferAttribute;\n\n\nfunction Uint8BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Uint8Array( array ), itemSize, normalized );\n\n}\n\nUint8BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nUint8BufferAttribute.prototype.constructor = Uint8BufferAttribute;\n\n\nfunction Uint8ClampedBufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Uint8ClampedArray( array ), itemSize, normalized );\n\n}\n\nUint8ClampedBufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nUint8ClampedBufferAttribute.prototype.constructor = Uint8ClampedBufferAttribute;\n\n\nfunction Int16BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Int16Array( array ), itemSize, normalized );\n\n}\n\nInt16BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nInt16BufferAttribute.prototype.constructor = Int16BufferAttribute;\n\n\nfunction Uint16BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Uint16Array( array ), itemSize, normalized );\n\n}\n\nUint16BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nUint16BufferAttribute.prototype.constructor = Uint16BufferAttribute;\n\n\nfunction Int32BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Int32Array( array ), itemSize, normalized );\n\n}\n\nInt32BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nInt32BufferAttribute.prototype.constructor = Int32BufferAttribute;\n\n\nfunction Uint32BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Uint32Array( array ), itemSize, normalized );\n\n}\n\nUint32BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nUint32BufferAttribute.prototype.constructor = Uint32BufferAttribute;\n\n\nfunction Float32BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Float32Array( array ), itemSize, normalized );\n\n}\n\nFloat32BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nFloat32BufferAttribute.prototype.constructor = Float32BufferAttribute;\n\n\nfunction Float64BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Float64Array( array ), itemSize, normalized );\n\n}\n\nFloat64BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nFloat64BufferAttribute.prototype.constructor = Float64BufferAttribute;\n\nclass DirectGeometry {\n\n\tconstructor() {\n\n\t\tthis.vertices = [];\n\t\tthis.normals = [];\n\t\tthis.colors = [];\n\t\tthis.uvs = [];\n\t\tthis.uvs2 = [];\n\n\t\tthis.groups = [];\n\n\t\tthis.morphTargets = {};\n\n\t\tthis.skinWeights = [];\n\t\tthis.skinIndices = [];\n\n\t\t// this.lineDistances = [];\n\n\t\tthis.boundingBox = null;\n\t\tthis.boundingSphere = null;\n\n\t\t// update flags\n\n\t\tthis.verticesNeedUpdate = false;\n\t\tthis.normalsNeedUpdate = false;\n\t\tthis.colorsNeedUpdate = false;\n\t\tthis.uvsNeedUpdate = false;\n\t\tthis.groupsNeedUpdate = false;\n\n\t}\n\n\tcomputeGroups( geometry ) {\n\n\t\tconst groups = [];\n\n\t\tlet group, i;\n\t\tlet materialIndex = undefined;\n\n\t\tconst faces = geometry.faces;\n\n\t\tfor ( i = 0; i < faces.length; i ++ ) {\n\n\t\t\tconst face = faces[ i ];\n\n\t\t\t// materials\n\n\t\t\tif ( face.materialIndex !== materialIndex ) {\n\n\t\t\t\tmaterialIndex = face.materialIndex;\n\n\t\t\t\tif ( group !== undefined ) {\n\n\t\t\t\t\tgroup.count = ( i * 3 ) - group.start;\n\t\t\t\t\tgroups.push( group );\n\n\t\t\t\t}\n\n\t\t\t\tgroup = {\n\t\t\t\t\tstart: i * 3,\n\t\t\t\t\tmaterialIndex: materialIndex\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( group !== undefined ) {\n\n\t\t\tgroup.count = ( i * 3 ) - group.start;\n\t\t\tgroups.push( group );\n\n\t\t}\n\n\t\tthis.groups = groups;\n\n\t}\n\n\tfromGeometry( geometry ) {\n\n\t\tconst faces = geometry.faces;\n\t\tconst vertices = geometry.vertices;\n\t\tconst faceVertexUvs = geometry.faceVertexUvs;\n\n\t\tconst hasFaceVertexUv = faceVertexUvs[ 0 ] && faceVertexUvs[ 0 ].length > 0;\n\t\tconst hasFaceVertexUv2 = faceVertexUvs[ 1 ] && faceVertexUvs[ 1 ].length > 0;\n\n\t\t// morphs\n\n\t\tconst morphTargets = geometry.morphTargets;\n\t\tconst morphTargetsLength = morphTargets.length;\n\n\t\tlet morphTargetsPosition;\n\n\t\tif ( morphTargetsLength > 0 ) {\n\n\t\t\tmorphTargetsPosition = [];\n\n\t\t\tfor ( let i = 0; i < morphTargetsLength; i ++ ) {\n\n\t\t\t\tmorphTargetsPosition[ i ] = {\n\t\t\t\t\tname: morphTargets[ i ].name,\n\t\t\t\t \tdata: []\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t\tthis.morphTargets.position = morphTargetsPosition;\n\n\t\t}\n\n\t\tconst morphNormals = geometry.morphNormals;\n\t\tconst morphNormalsLength = morphNormals.length;\n\n\t\tlet morphTargetsNormal;\n\n\t\tif ( morphNormalsLength > 0 ) {\n\n\t\t\tmorphTargetsNormal = [];\n\n\t\t\tfor ( let i = 0; i < morphNormalsLength; i ++ ) {\n\n\t\t\t\tmorphTargetsNormal[ i ] = {\n\t\t\t\t\tname: morphNormals[ i ].name,\n\t\t\t\t \tdata: []\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t\tthis.morphTargets.normal = morphTargetsNormal;\n\n\t\t}\n\n\t\t// skins\n\n\t\tconst skinIndices = geometry.skinIndices;\n\t\tconst skinWeights = geometry.skinWeights;\n\n\t\tconst hasSkinIndices = skinIndices.length === vertices.length;\n\t\tconst hasSkinWeights = skinWeights.length === vertices.length;\n\n\t\t//\n\n\t\tif ( vertices.length > 0 && faces.length === 0 ) {\n\n\t\t\tconsole.error( 'THREE.DirectGeometry: Faceless geometries are not supported.' );\n\n\t\t}\n\n\t\tfor ( let i = 0; i < faces.length; i ++ ) {\n\n\t\t\tconst face = faces[ i ];\n\n\t\t\tthis.vertices.push( vertices[ face.a ], vertices[ face.b ], vertices[ face.c ] );\n\n\t\t\tconst vertexNormals = face.vertexNormals;\n\n\t\t\tif ( vertexNormals.length === 3 ) {\n\n\t\t\t\tthis.normals.push( vertexNormals[ 0 ], vertexNormals[ 1 ], vertexNormals[ 2 ] );\n\n\t\t\t} else {\n\n\t\t\t\tconst normal = face.normal;\n\n\t\t\t\tthis.normals.push( normal, normal, normal );\n\n\t\t\t}\n\n\t\t\tconst vertexColors = face.vertexColors;\n\n\t\t\tif ( vertexColors.length === 3 ) {\n\n\t\t\t\tthis.colors.push( vertexColors[ 0 ], vertexColors[ 1 ], vertexColors[ 2 ] );\n\n\t\t\t} else {\n\n\t\t\t\tconst color = face.color;\n\n\t\t\t\tthis.colors.push( color, color, color );\n\n\t\t\t}\n\n\t\t\tif ( hasFaceVertexUv === true ) {\n\n\t\t\t\tconst vertexUvs = faceVertexUvs[ 0 ][ i ];\n\n\t\t\t\tif ( vertexUvs !== undefined ) {\n\n\t\t\t\t\tthis.uvs.push( vertexUvs[ 0 ], vertexUvs[ 1 ], vertexUvs[ 2 ] );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ', i );\n\n\t\t\t\t\tthis.uvs.push( new Vector2(), new Vector2(), new Vector2() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( hasFaceVertexUv2 === true ) {\n\n\t\t\t\tconst vertexUvs = faceVertexUvs[ 1 ][ i ];\n\n\t\t\t\tif ( vertexUvs !== undefined ) {\n\n\t\t\t\t\tthis.uvs2.push( vertexUvs[ 0 ], vertexUvs[ 1 ], vertexUvs[ 2 ] );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ', i );\n\n\t\t\t\t\tthis.uvs2.push( new Vector2(), new Vector2(), new Vector2() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// morphs\n\n\t\t\tfor ( let j = 0; j < morphTargetsLength; j ++ ) {\n\n\t\t\t\tconst morphTarget = morphTargets[ j ].vertices;\n\n\t\t\t\tmorphTargetsPosition[ j ].data.push( morphTarget[ face.a ], morphTarget[ face.b ], morphTarget[ face.c ] );\n\n\t\t\t}\n\n\t\t\tfor ( let j = 0; j < morphNormalsLength; j ++ ) {\n\n\t\t\t\tconst morphNormal = morphNormals[ j ].vertexNormals[ i ];\n\n\t\t\t\tmorphTargetsNormal[ j ].data.push( morphNormal.a, morphNormal.b, morphNormal.c );\n\n\t\t\t}\n\n\t\t\t// skins\n\n\t\t\tif ( hasSkinIndices ) {\n\n\t\t\t\tthis.skinIndices.push( skinIndices[ face.a ], skinIndices[ face.b ], skinIndices[ face.c ] );\n\n\t\t\t}\n\n\t\t\tif ( hasSkinWeights ) {\n\n\t\t\t\tthis.skinWeights.push( skinWeights[ face.a ], skinWeights[ face.b ], skinWeights[ face.c ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.computeGroups( geometry );\n\n\t\tthis.verticesNeedUpdate = geometry.verticesNeedUpdate;\n\t\tthis.normalsNeedUpdate = geometry.normalsNeedUpdate;\n\t\tthis.colorsNeedUpdate = geometry.colorsNeedUpdate;\n\t\tthis.uvsNeedUpdate = geometry.uvsNeedUpdate;\n\t\tthis.groupsNeedUpdate = geometry.groupsNeedUpdate;\n\n\t\tif ( geometry.boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = geometry.boundingSphere.clone();\n\n\t\t}\n\n\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = geometry.boundingBox.clone();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nfunction arrayMax( array ) {\n\n\tif ( array.length === 0 ) return - Infinity;\n\n\tlet max = array[ 0 ];\n\n\tfor ( let i = 1, l = array.length; i < l; ++ i ) {\n\n\t\tif ( array[ i ] > max ) max = array[ i ];\n\n\t}\n\n\treturn max;\n\n}\n\nlet _bufferGeometryId = 1; // BufferGeometry uses odd numbers as Id\n\nconst _m1$2 = new Matrix4();\nconst _obj = new Object3D();\nconst _offset = new Vector3();\nconst _box$2 = new Box3();\nconst _boxMorphTargets = new Box3();\nconst _vector$4 = new Vector3();\n\nfunction BufferGeometry() {\n\n\tObject.defineProperty( this, 'id', { value: _bufferGeometryId += 2 } );\n\n\tthis.uuid = MathUtils.generateUUID();\n\n\tthis.name = '';\n\tthis.type = 'BufferGeometry';\n\n\tthis.index = null;\n\tthis.attributes = {};\n\n\tthis.morphAttributes = {};\n\tthis.morphTargetsRelative = false;\n\n\tthis.groups = [];\n\n\tthis.boundingBox = null;\n\tthis.boundingSphere = null;\n\n\tthis.drawRange = { start: 0, count: Infinity };\n\n\tthis.userData = {};\n\n}\n\nBufferGeometry.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: BufferGeometry,\n\n\tisBufferGeometry: true,\n\n\tgetIndex: function () {\n\n\t\treturn this.index;\n\n\t},\n\n\tsetIndex: function ( index ) {\n\n\t\tif ( Array.isArray( index ) ) {\n\n\t\t\tthis.index = new ( arrayMax( index ) > 65535 ? Uint32BufferAttribute : Uint16BufferAttribute )( index, 1 );\n\n\t\t} else {\n\n\t\t\tthis.index = index;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetAttribute: function ( name ) {\n\n\t\treturn this.attributes[ name ];\n\n\t},\n\n\tsetAttribute: function ( name, attribute ) {\n\n\t\tthis.attributes[ name ] = attribute;\n\n\t\treturn this;\n\n\t},\n\n\tdeleteAttribute: function ( name ) {\n\n\t\tdelete this.attributes[ name ];\n\n\t\treturn this;\n\n\t},\n\n\taddGroup: function ( start, count, materialIndex ) {\n\n\t\tthis.groups.push( {\n\n\t\t\tstart: start,\n\t\t\tcount: count,\n\t\t\tmaterialIndex: materialIndex !== undefined ? materialIndex : 0\n\n\t\t} );\n\n\t},\n\n\tclearGroups: function () {\n\n\t\tthis.groups = [];\n\n\t},\n\n\tsetDrawRange: function ( start, count ) {\n\n\t\tthis.drawRange.start = start;\n\t\tthis.drawRange.count = count;\n\n\t},\n\n\tapplyMatrix4: function ( matrix ) {\n\n\t\tconst position = this.attributes.position;\n\n\t\tif ( position !== undefined ) {\n\n\t\t\tposition.applyMatrix4( matrix );\n\n\t\t\tposition.needsUpdate = true;\n\n\t\t}\n\n\t\tconst normal = this.attributes.normal;\n\n\t\tif ( normal !== undefined ) {\n\n\t\t\tconst normalMatrix = new Matrix3().getNormalMatrix( matrix );\n\n\t\t\tnormal.applyNormalMatrix( normalMatrix );\n\n\t\t\tnormal.needsUpdate = true;\n\n\t\t}\n\n\t\tconst tangent = this.attributes.tangent;\n\n\t\tif ( tangent !== undefined ) {\n\n\t\t\ttangent.transformDirection( matrix );\n\n\t\t\ttangent.needsUpdate = true;\n\n\t\t}\n\n\t\tif ( this.boundingBox !== null ) {\n\n\t\t\tthis.computeBoundingBox();\n\n\t\t}\n\n\t\tif ( this.boundingSphere !== null ) {\n\n\t\t\tthis.computeBoundingSphere();\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\trotateX: function ( angle ) {\n\n\t\t// rotate geometry around world x-axis\n\n\t\t_m1$2.makeRotationX( angle );\n\n\t\tthis.applyMatrix4( _m1$2 );\n\n\t\treturn this;\n\n\t},\n\n\trotateY: function ( angle ) {\n\n\t\t// rotate geometry around world y-axis\n\n\t\t_m1$2.makeRotationY( angle );\n\n\t\tthis.applyMatrix4( _m1$2 );\n\n\t\treturn this;\n\n\t},\n\n\trotateZ: function ( angle ) {\n\n\t\t// rotate geometry around world z-axis\n\n\t\t_m1$2.makeRotationZ( angle );\n\n\t\tthis.applyMatrix4( _m1$2 );\n\n\t\treturn this;\n\n\t},\n\n\ttranslate: function ( x, y, z ) {\n\n\t\t// translate geometry\n\n\t\t_m1$2.makeTranslation( x, y, z );\n\n\t\tthis.applyMatrix4( _m1$2 );\n\n\t\treturn this;\n\n\t},\n\n\tscale: function ( x, y, z ) {\n\n\t\t// scale geometry\n\n\t\t_m1$2.makeScale( x, y, z );\n\n\t\tthis.applyMatrix4( _m1$2 );\n\n\t\treturn this;\n\n\t},\n\n\tlookAt: function ( vector ) {\n\n\t\t_obj.lookAt( vector );\n\n\t\t_obj.updateMatrix();\n\n\t\tthis.applyMatrix4( _obj.matrix );\n\n\t\treturn this;\n\n\t},\n\n\tcenter: function () {\n\n\t\tthis.computeBoundingBox();\n\n\t\tthis.boundingBox.getCenter( _offset ).negate();\n\n\t\tthis.translate( _offset.x, _offset.y, _offset.z );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromObject: function ( object ) {\n\n\t\t// console.log( 'THREE.BufferGeometry.setFromObject(). Converting', object, this );\n\n\t\tconst geometry = object.geometry;\n\n\t\tif ( object.isPoints || object.isLine ) {\n\n\t\t\tconst positions = new Float32BufferAttribute( geometry.vertices.length * 3, 3 );\n\t\t\tconst colors = new Float32BufferAttribute( geometry.colors.length * 3, 3 );\n\n\t\t\tthis.setAttribute( 'position', positions.copyVector3sArray( geometry.vertices ) );\n\t\t\tthis.setAttribute( 'color', colors.copyColorsArray( geometry.colors ) );\n\n\t\t\tif ( geometry.lineDistances && geometry.lineDistances.length === geometry.vertices.length ) {\n\n\t\t\t\tconst lineDistances = new Float32BufferAttribute( geometry.lineDistances.length, 1 );\n\n\t\t\t\tthis.setAttribute( 'lineDistance', lineDistances.copyArray( geometry.lineDistances ) );\n\n\t\t\t}\n\n\t\t\tif ( geometry.boundingSphere !== null ) {\n\n\t\t\t\tthis.boundingSphere = geometry.boundingSphere.clone();\n\n\t\t\t}\n\n\t\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\t\tthis.boundingBox = geometry.boundingBox.clone();\n\n\t\t\t}\n\n\t\t} else if ( object.isMesh ) {\n\n\t\t\tif ( geometry && geometry.isGeometry ) {\n\n\t\t\t\tthis.fromGeometry( geometry );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetFromPoints: function ( points ) {\n\n\t\tconst position = [];\n\n\t\tfor ( let i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tconst point = points[ i ];\n\t\t\tposition.push( point.x, point.y, point.z || 0 );\n\n\t\t}\n\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( position, 3 ) );\n\n\t\treturn this;\n\n\t},\n\n\tupdateFromObject: function ( object ) {\n\n\t\tlet geometry = object.geometry;\n\n\t\tif ( object.isMesh ) {\n\n\t\t\tlet direct = geometry.__directGeometry;\n\n\t\t\tif ( geometry.elementsNeedUpdate === true ) {\n\n\t\t\t\tdirect = undefined;\n\t\t\t\tgeometry.elementsNeedUpdate = false;\n\n\t\t\t}\n\n\t\t\tif ( direct === undefined ) {\n\n\t\t\t\treturn this.fromGeometry( geometry );\n\n\t\t\t}\n\n\t\t\tdirect.verticesNeedUpdate = geometry.verticesNeedUpdate;\n\t\t\tdirect.normalsNeedUpdate = geometry.normalsNeedUpdate;\n\t\t\tdirect.colorsNeedUpdate = geometry.colorsNeedUpdate;\n\t\t\tdirect.uvsNeedUpdate = geometry.uvsNeedUpdate;\n\t\t\tdirect.groupsNeedUpdate = geometry.groupsNeedUpdate;\n\n\t\t\tgeometry.verticesNeedUpdate = false;\n\t\t\tgeometry.normalsNeedUpdate = false;\n\t\t\tgeometry.colorsNeedUpdate = false;\n\t\t\tgeometry.uvsNeedUpdate = false;\n\t\t\tgeometry.groupsNeedUpdate = false;\n\n\t\t\tgeometry = direct;\n\n\t\t}\n\n\t\tif ( geometry.verticesNeedUpdate === true ) {\n\n\t\t\tconst attribute = this.attributes.position;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyVector3sArray( geometry.vertices );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.verticesNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.normalsNeedUpdate === true ) {\n\n\t\t\tconst attribute = this.attributes.normal;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyVector3sArray( geometry.normals );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.normalsNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.colorsNeedUpdate === true ) {\n\n\t\t\tconst attribute = this.attributes.color;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyColorsArray( geometry.colors );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.colorsNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.uvsNeedUpdate ) {\n\n\t\t\tconst attribute = this.attributes.uv;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyVector2sArray( geometry.uvs );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.uvsNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.lineDistancesNeedUpdate ) {\n\n\t\t\tconst attribute = this.attributes.lineDistance;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyArray( geometry.lineDistances );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.lineDistancesNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.groupsNeedUpdate ) {\n\n\t\t\tgeometry.computeGroups( object.geometry );\n\t\t\tthis.groups = geometry.groups;\n\n\t\t\tgeometry.groupsNeedUpdate = false;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tfromGeometry: function ( geometry ) {\n\n\t\tgeometry.__directGeometry = new DirectGeometry().fromGeometry( geometry );\n\n\t\treturn this.fromDirectGeometry( geometry.__directGeometry );\n\n\t},\n\n\tfromDirectGeometry: function ( geometry ) {\n\n\t\tconst positions = new Float32Array( geometry.vertices.length * 3 );\n\t\tthis.setAttribute( 'position', new BufferAttribute( positions, 3 ).copyVector3sArray( geometry.vertices ) );\n\n\t\tif ( geometry.normals.length > 0 ) {\n\n\t\t\tconst normals = new Float32Array( geometry.normals.length * 3 );\n\t\t\tthis.setAttribute( 'normal', new BufferAttribute( normals, 3 ).copyVector3sArray( geometry.normals ) );\n\n\t\t}\n\n\t\tif ( geometry.colors.length > 0 ) {\n\n\t\t\tconst colors = new Float32Array( geometry.colors.length * 3 );\n\t\t\tthis.setAttribute( 'color', new BufferAttribute( colors, 3 ).copyColorsArray( geometry.colors ) );\n\n\t\t}\n\n\t\tif ( geometry.uvs.length > 0 ) {\n\n\t\t\tconst uvs = new Float32Array( geometry.uvs.length * 2 );\n\t\t\tthis.setAttribute( 'uv', new BufferAttribute( uvs, 2 ).copyVector2sArray( geometry.uvs ) );\n\n\t\t}\n\n\t\tif ( geometry.uvs2.length > 0 ) {\n\n\t\t\tconst uvs2 = new Float32Array( geometry.uvs2.length * 2 );\n\t\t\tthis.setAttribute( 'uv2', new BufferAttribute( uvs2, 2 ).copyVector2sArray( geometry.uvs2 ) );\n\n\t\t}\n\n\t\t// groups\n\n\t\tthis.groups = geometry.groups;\n\n\t\t// morphs\n\n\t\tfor ( const name in geometry.morphTargets ) {\n\n\t\t\tconst array = [];\n\t\t\tconst morphTargets = geometry.morphTargets[ name ];\n\n\t\t\tfor ( let i = 0, l = morphTargets.length; i < l; i ++ ) {\n\n\t\t\t\tconst morphTarget = morphTargets[ i ];\n\n\t\t\t\tconst attribute = new Float32BufferAttribute( morphTarget.data.length * 3, 3 );\n\t\t\t\tattribute.name = morphTarget.name;\n\n\t\t\t\tarray.push( attribute.copyVector3sArray( morphTarget.data ) );\n\n\t\t\t}\n\n\t\t\tthis.morphAttributes[ name ] = array;\n\n\t\t}\n\n\t\t// skinning\n\n\t\tif ( geometry.skinIndices.length > 0 ) {\n\n\t\t\tconst skinIndices = new Float32BufferAttribute( geometry.skinIndices.length * 4, 4 );\n\t\t\tthis.setAttribute( 'skinIndex', skinIndices.copyVector4sArray( geometry.skinIndices ) );\n\n\t\t}\n\n\t\tif ( geometry.skinWeights.length > 0 ) {\n\n\t\t\tconst skinWeights = new Float32BufferAttribute( geometry.skinWeights.length * 4, 4 );\n\t\t\tthis.setAttribute( 'skinWeight', skinWeights.copyVector4sArray( geometry.skinWeights ) );\n\n\t\t}\n\n\t\t//\n\n\t\tif ( geometry.boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = geometry.boundingSphere.clone();\n\n\t\t}\n\n\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = geometry.boundingBox.clone();\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcomputeBoundingBox: function () {\n\n\t\tif ( this.boundingBox === null ) {\n\n\t\t\tthis.boundingBox = new Box3();\n\n\t\t}\n\n\t\tconst position = this.attributes.position;\n\t\tconst morphAttributesPosition = this.morphAttributes.position;\n\n\t\tif ( position && position.isGLBufferAttribute ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set \"mesh.frustumCulled\" to \"false\".', this );\n\n\t\t\tthis.boundingBox.set(\n\t\t\t\tnew Vector3( - Infinity, - Infinity, - Infinity ),\n\t\t\t\tnew Vector3( + Infinity, + Infinity, + Infinity )\n\t\t\t);\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( position !== undefined ) {\n\n\t\t\tthis.boundingBox.setFromBufferAttribute( position );\n\n\t\t\t// process morph attributes if present\n\n\t\t\tif ( morphAttributesPosition ) {\n\n\t\t\t\tfor ( let i = 0, il = morphAttributesPosition.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst morphAttribute = morphAttributesPosition[ i ];\n\t\t\t\t\t_box$2.setFromBufferAttribute( morphAttribute );\n\n\t\t\t\t\tif ( this.morphTargetsRelative ) {\n\n\t\t\t\t\t\t_vector$4.addVectors( this.boundingBox.min, _box$2.min );\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _vector$4 );\n\n\t\t\t\t\t\t_vector$4.addVectors( this.boundingBox.max, _box$2.max );\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _vector$4 );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _box$2.min );\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _box$2.max );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tthis.boundingBox.makeEmpty();\n\n\t\t}\n\n\t\tif ( isNaN( this.boundingBox.min.x ) || isNaN( this.boundingBox.min.y ) || isNaN( this.boundingBox.min.z ) ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The \"position\" attribute is likely to have NaN values.', this );\n\n\t\t}\n\n\t},\n\n\tcomputeBoundingSphere: function () {\n\n\t\tif ( this.boundingSphere === null ) {\n\n\t\t\tthis.boundingSphere = new Sphere();\n\n\t\t}\n\n\t\tconst position = this.attributes.position;\n\t\tconst morphAttributesPosition = this.morphAttributes.position;\n\n\t\tif ( position && position.isGLBufferAttribute ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set \"mesh.frustumCulled\" to \"false\".', this );\n\n\t\t\tthis.boundingSphere.set( new Vector3(), Infinity );\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( position ) {\n\n\t\t\t// first, find the center of the bounding sphere\n\n\t\t\tconst center = this.boundingSphere.center;\n\n\t\t\t_box$2.setFromBufferAttribute( position );\n\n\t\t\t// process morph attributes if present\n\n\t\t\tif ( morphAttributesPosition ) {\n\n\t\t\t\tfor ( let i = 0, il = morphAttributesPosition.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst morphAttribute = morphAttributesPosition[ i ];\n\t\t\t\t\t_boxMorphTargets.setFromBufferAttribute( morphAttribute );\n\n\t\t\t\t\tif ( this.morphTargetsRelative ) {\n\n\t\t\t\t\t\t_vector$4.addVectors( _box$2.min, _boxMorphTargets.min );\n\t\t\t\t\t\t_box$2.expandByPoint( _vector$4 );\n\n\t\t\t\t\t\t_vector$4.addVectors( _box$2.max, _boxMorphTargets.max );\n\t\t\t\t\t\t_box$2.expandByPoint( _vector$4 );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t_box$2.expandByPoint( _boxMorphTargets.min );\n\t\t\t\t\t\t_box$2.expandByPoint( _boxMorphTargets.max );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t_box$2.getCenter( center );\n\n\t\t\t// second, try to find a boundingSphere with a radius smaller than the\n\t\t\t// boundingSphere of the boundingBox: sqrt(3) smaller in the best case\n\n\t\t\tlet maxRadiusSq = 0;\n\n\t\t\tfor ( let i = 0, il = position.count; i < il; i ++ ) {\n\n\t\t\t\t_vector$4.fromBufferAttribute( position, i );\n\n\t\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( _vector$4 ) );\n\n\t\t\t}\n\n\t\t\t// process morph attributes if present\n\n\t\t\tif ( morphAttributesPosition ) {\n\n\t\t\t\tfor ( let i = 0, il = morphAttributesPosition.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst morphAttribute = morphAttributesPosition[ i ];\n\t\t\t\t\tconst morphTargetsRelative = this.morphTargetsRelative;\n\n\t\t\t\t\tfor ( let j = 0, jl = morphAttribute.count; j < jl; j ++ ) {\n\n\t\t\t\t\t\t_vector$4.fromBufferAttribute( morphAttribute, j );\n\n\t\t\t\t\t\tif ( morphTargetsRelative ) {\n\n\t\t\t\t\t\t\t_offset.fromBufferAttribute( position, j );\n\t\t\t\t\t\t\t_vector$4.add( _offset );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( _vector$4 ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.boundingSphere.radius = Math.sqrt( maxRadiusSq );\n\n\t\t\tif ( isNaN( this.boundingSphere.radius ) ) {\n\n\t\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The \"position\" attribute is likely to have NaN values.', this );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tcomputeFaceNormals: function () {\n\n\t\t// backwards compatibility\n\n\t},\n\n\tcomputeVertexNormals: function () {\n\n\t\tconst index = this.index;\n\t\tconst positionAttribute = this.getAttribute( 'position' );\n\n\t\tif ( positionAttribute !== undefined ) {\n\n\t\t\tlet normalAttribute = this.getAttribute( 'normal' );\n\n\t\t\tif ( normalAttribute === undefined ) {\n\n\t\t\t\tnormalAttribute = new BufferAttribute( new Float32Array( positionAttribute.count * 3 ), 3 );\n\t\t\t\tthis.setAttribute( 'normal', normalAttribute );\n\n\t\t\t} else {\n\n\t\t\t\t// reset existing normals to zero\n\n\t\t\t\tfor ( let i = 0, il = normalAttribute.count; i < il; i ++ ) {\n\n\t\t\t\t\tnormalAttribute.setXYZ( i, 0, 0, 0 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst pA = new Vector3(), pB = new Vector3(), pC = new Vector3();\n\t\t\tconst nA = new Vector3(), nB = new Vector3(), nC = new Vector3();\n\t\t\tconst cb = new Vector3(), ab = new Vector3();\n\n\t\t\t// indexed elements\n\n\t\t\tif ( index ) {\n\n\t\t\t\tfor ( let i = 0, il = index.count; i < il; i += 3 ) {\n\n\t\t\t\t\tconst vA = index.getX( i + 0 );\n\t\t\t\t\tconst vB = index.getX( i + 1 );\n\t\t\t\t\tconst vC = index.getX( i + 2 );\n\n\t\t\t\t\tpA.fromBufferAttribute( positionAttribute, vA );\n\t\t\t\t\tpB.fromBufferAttribute( positionAttribute, vB );\n\t\t\t\t\tpC.fromBufferAttribute( positionAttribute, vC );\n\n\t\t\t\t\tcb.subVectors( pC, pB );\n\t\t\t\t\tab.subVectors( pA, pB );\n\t\t\t\t\tcb.cross( ab );\n\n\t\t\t\t\tnA.fromBufferAttribute( normalAttribute, vA );\n\t\t\t\t\tnB.fromBufferAttribute( normalAttribute, vB );\n\t\t\t\t\tnC.fromBufferAttribute( normalAttribute, vC );\n\n\t\t\t\t\tnA.add( cb );\n\t\t\t\t\tnB.add( cb );\n\t\t\t\t\tnC.add( cb );\n\n\t\t\t\t\tnormalAttribute.setXYZ( vA, nA.x, nA.y, nA.z );\n\t\t\t\t\tnormalAttribute.setXYZ( vB, nB.x, nB.y, nB.z );\n\t\t\t\t\tnormalAttribute.setXYZ( vC, nC.x, nC.y, nC.z );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// non-indexed elements (unconnected triangle soup)\n\n\t\t\t\tfor ( let i = 0, il = positionAttribute.count; i < il; i += 3 ) {\n\n\t\t\t\t\tpA.fromBufferAttribute( positionAttribute, i + 0 );\n\t\t\t\t\tpB.fromBufferAttribute( positionAttribute, i + 1 );\n\t\t\t\t\tpC.fromBufferAttribute( positionAttribute, i + 2 );\n\n\t\t\t\t\tcb.subVectors( pC, pB );\n\t\t\t\t\tab.subVectors( pA, pB );\n\t\t\t\t\tcb.cross( ab );\n\n\t\t\t\t\tnormalAttribute.setXYZ( i + 0, cb.x, cb.y, cb.z );\n\t\t\t\t\tnormalAttribute.setXYZ( i + 1, cb.x, cb.y, cb.z );\n\t\t\t\t\tnormalAttribute.setXYZ( i + 2, cb.x, cb.y, cb.z );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.normalizeNormals();\n\n\t\t\tnormalAttribute.needsUpdate = true;\n\n\t\t}\n\n\t},\n\n\tmerge: function ( geometry, offset ) {\n\n\t\tif ( ! ( geometry && geometry.isBufferGeometry ) ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.', geometry );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( offset === undefined ) {\n\n\t\t\toffset = 0;\n\n\t\t\tconsole.warn(\n\t\t\t\t'THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. '\n\t\t\t\t+ 'Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge.'\n\t\t\t);\n\n\t\t}\n\n\t\tconst attributes = this.attributes;\n\n\t\tfor ( const key in attributes ) {\n\n\t\t\tif ( geometry.attributes[ key ] === undefined ) continue;\n\n\t\t\tconst attribute1 = attributes[ key ];\n\t\t\tconst attributeArray1 = attribute1.array;\n\n\t\t\tconst attribute2 = geometry.attributes[ key ];\n\t\t\tconst attributeArray2 = attribute2.array;\n\n\t\t\tconst attributeOffset = attribute2.itemSize * offset;\n\t\t\tconst length = Math.min( attributeArray2.length, attributeArray1.length - attributeOffset );\n\n\t\t\tfor ( let i = 0, j = attributeOffset; i < length; i ++, j ++ ) {\n\n\t\t\t\tattributeArray1[ j ] = attributeArray2[ i ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tnormalizeNormals: function () {\n\n\t\tconst normals = this.attributes.normal;\n\n\t\tfor ( let i = 0, il = normals.count; i < il; i ++ ) {\n\n\t\t\t_vector$4.fromBufferAttribute( normals, i );\n\n\t\t\t_vector$4.normalize();\n\n\t\t\tnormals.setXYZ( i, _vector$4.x, _vector$4.y, _vector$4.z );\n\n\t\t}\n\n\t},\n\n\ttoNonIndexed: function () {\n\n\t\tfunction convertBufferAttribute( attribute, indices ) {\n\n\t\t\tconst array = attribute.array;\n\t\t\tconst itemSize = attribute.itemSize;\n\t\t\tconst normalized = attribute.normalized;\n\n\t\t\tconst array2 = new array.constructor( indices.length * itemSize );\n\n\t\t\tlet index = 0, index2 = 0;\n\n\t\t\tfor ( let i = 0, l = indices.length; i < l; i ++ ) {\n\n\t\t\t\tindex = indices[ i ] * itemSize;\n\n\t\t\t\tfor ( let j = 0; j < itemSize; j ++ ) {\n\n\t\t\t\t\tarray2[ index2 ++ ] = array[ index ++ ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn new BufferAttribute( array2, itemSize, normalized );\n\n\t\t}\n\n\t\t//\n\n\t\tif ( this.index === null ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed.' );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst geometry2 = new BufferGeometry();\n\n\t\tconst indices = this.index.array;\n\t\tconst attributes = this.attributes;\n\n\t\t// attributes\n\n\t\tfor ( const name in attributes ) {\n\n\t\t\tconst attribute = attributes[ name ];\n\n\t\t\tconst newAttribute = convertBufferAttribute( attribute, indices );\n\n\t\t\tgeometry2.setAttribute( name, newAttribute );\n\n\t\t}\n\n\t\t// morph attributes\n\n\t\tconst morphAttributes = this.morphAttributes;\n\n\t\tfor ( const name in morphAttributes ) {\n\n\t\t\tconst morphArray = [];\n\t\t\tconst morphAttribute = morphAttributes[ name ]; // morphAttribute: array of Float32BufferAttributes\n\n\t\t\tfor ( let i = 0, il = morphAttribute.length; i < il; i ++ ) {\n\n\t\t\t\tconst attribute = morphAttribute[ i ];\n\n\t\t\t\tconst newAttribute = convertBufferAttribute( attribute, indices );\n\n\t\t\t\tmorphArray.push( newAttribute );\n\n\t\t\t}\n\n\t\t\tgeometry2.morphAttributes[ name ] = morphArray;\n\n\t\t}\n\n\t\tgeometry2.morphTargetsRelative = this.morphTargetsRelative;\n\n\t\t// groups\n\n\t\tconst groups = this.groups;\n\n\t\tfor ( let i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\tconst group = groups[ i ];\n\t\t\tgeometry2.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t}\n\n\t\treturn geometry2;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tconst data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'BufferGeometry',\n\t\t\t\tgenerator: 'BufferGeometry.toJSON'\n\t\t\t}\n\t\t};\n\n\t\t// standard BufferGeometry serialization\n\n\t\tdata.uuid = this.uuid;\n\t\tdata.type = this.type;\n\t\tif ( this.name !== '' ) data.name = this.name;\n\t\tif ( Object.keys( this.userData ).length > 0 ) data.userData = this.userData;\n\n\t\tif ( this.parameters !== undefined ) {\n\n\t\t\tconst parameters = this.parameters;\n\n\t\t\tfor ( const key in parameters ) {\n\n\t\t\t\tif ( parameters[ key ] !== undefined ) data[ key ] = parameters[ key ];\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tdata.data = { attributes: {} };\n\n\t\tconst index = this.index;\n\n\t\tif ( index !== null ) {\n\n\t\t\tdata.data.index = {\n\t\t\t\ttype: index.array.constructor.name,\n\t\t\t\tarray: Array.prototype.slice.call( index.array )\n\t\t\t};\n\n\t\t}\n\n\t\tconst attributes = this.attributes;\n\n\t\tfor ( const key in attributes ) {\n\n\t\t\tconst attribute = attributes[ key ];\n\n\t\t\tconst attributeData = attribute.toJSON( data.data );\n\n\t\t\tif ( attribute.name !== '' ) attributeData.name = attribute.name;\n\n\t\t\tdata.data.attributes[ key ] = attributeData;\n\n\t\t}\n\n\t\tconst morphAttributes = {};\n\t\tlet hasMorphAttributes = false;\n\n\t\tfor ( const key in this.morphAttributes ) {\n\n\t\t\tconst attributeArray = this.morphAttributes[ key ];\n\n\t\t\tconst array = [];\n\n\t\t\tfor ( let i = 0, il = attributeArray.length; i < il; i ++ ) {\n\n\t\t\t\tconst attribute = attributeArray[ i ];\n\n\t\t\t\tconst attributeData = attribute.toJSON( data.data );\n\n\t\t\t\tif ( attribute.name !== '' ) attributeData.name = attribute.name;\n\n\t\t\t\tarray.push( attributeData );\n\n\t\t\t}\n\n\t\t\tif ( array.length > 0 ) {\n\n\t\t\t\tmorphAttributes[ key ] = array;\n\n\t\t\t\thasMorphAttributes = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( hasMorphAttributes ) {\n\n\t\t\tdata.data.morphAttributes = morphAttributes;\n\t\t\tdata.data.morphTargetsRelative = this.morphTargetsRelative;\n\n\t\t}\n\n\t\tconst groups = this.groups;\n\n\t\tif ( groups.length > 0 ) {\n\n\t\t\tdata.data.groups = JSON.parse( JSON.stringify( groups ) );\n\n\t\t}\n\n\t\tconst boundingSphere = this.boundingSphere;\n\n\t\tif ( boundingSphere !== null ) {\n\n\t\t\tdata.data.boundingSphere = {\n\t\t\t\tcenter: boundingSphere.center.toArray(),\n\t\t\t\tradius: boundingSphere.radius\n\t\t\t};\n\n\t\t}\n\n\t\treturn data;\n\n\t},\n\n\tclone: function () {\n\n\t\t/*\n\t\t // Handle primitives\n\n\t\t const parameters = this.parameters;\n\n\t\t if ( parameters !== undefined ) {\n\n\t\t const values = [];\n\n\t\t for ( const key in parameters ) {\n\n\t\t values.push( parameters[ key ] );\n\n\t\t }\n\n\t\t const geometry = Object.create( this.constructor.prototype );\n\t\t this.constructor.apply( geometry, values );\n\t\t return geometry;\n\n\t\t }\n\n\t\t return new this.constructor().copy( this );\n\t\t */\n\n\t\treturn new BufferGeometry().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\t// reset\n\n\t\tthis.index = null;\n\t\tthis.attributes = {};\n\t\tthis.morphAttributes = {};\n\t\tthis.groups = [];\n\t\tthis.boundingBox = null;\n\t\tthis.boundingSphere = null;\n\n\t\t// used for storing cloned, shared data\n\n\t\tconst data = {};\n\n\t\t// name\n\n\t\tthis.name = source.name;\n\n\t\t// index\n\n\t\tconst index = source.index;\n\n\t\tif ( index !== null ) {\n\n\t\t\tthis.setIndex( index.clone( data ) );\n\n\t\t}\n\n\t\t// attributes\n\n\t\tconst attributes = source.attributes;\n\n\t\tfor ( const name in attributes ) {\n\n\t\t\tconst attribute = attributes[ name ];\n\t\t\tthis.setAttribute( name, attribute.clone( data ) );\n\n\t\t}\n\n\t\t// morph attributes\n\n\t\tconst morphAttributes = source.morphAttributes;\n\n\t\tfor ( const name in morphAttributes ) {\n\n\t\t\tconst array = [];\n\t\t\tconst morphAttribute = morphAttributes[ name ]; // morphAttribute: array of Float32BufferAttributes\n\n\t\t\tfor ( let i = 0, l = morphAttribute.length; i < l; i ++ ) {\n\n\t\t\t\tarray.push( morphAttribute[ i ].clone( data ) );\n\n\t\t\t}\n\n\t\t\tthis.morphAttributes[ name ] = array;\n\n\t\t}\n\n\t\tthis.morphTargetsRelative = source.morphTargetsRelative;\n\n\t\t// groups\n\n\t\tconst groups = source.groups;\n\n\t\tfor ( let i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\tconst group = groups[ i ];\n\t\t\tthis.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t}\n\n\t\t// bounding box\n\n\t\tconst boundingBox = source.boundingBox;\n\n\t\tif ( boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = boundingBox.clone();\n\n\t\t}\n\n\t\t// bounding sphere\n\n\t\tconst boundingSphere = source.boundingSphere;\n\n\t\tif ( boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = boundingSphere.clone();\n\n\t\t}\n\n\t\t// draw range\n\n\t\tthis.drawRange.start = source.drawRange.start;\n\t\tthis.drawRange.count = source.drawRange.count;\n\n\t\t// user data\n\n\t\tthis.userData = source.userData;\n\n\t\treturn this;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\nconst _inverseMatrix = new Matrix4();\nconst _ray = new Ray();\nconst _sphere = new Sphere();\n\nconst _vA = new Vector3();\nconst _vB = new Vector3();\nconst _vC = new Vector3();\n\nconst _tempA = new Vector3();\nconst _tempB = new Vector3();\nconst _tempC = new Vector3();\n\nconst _morphA = new Vector3();\nconst _morphB = new Vector3();\nconst _morphC = new Vector3();\n\nconst _uvA = new Vector2();\nconst _uvB = new Vector2();\nconst _uvC = new Vector2();\n\nconst _intersectionPoint = new Vector3();\nconst _intersectionPointWorld = new Vector3();\n\nfunction Mesh( geometry, material ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Mesh';\n\n\tthis.geometry = geometry !== undefined ? geometry : new BufferGeometry();\n\tthis.material = material !== undefined ? material : new MeshBasicMaterial();\n\n\tthis.updateMorphTargets();\n\n}\n\nMesh.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Mesh,\n\n\tisMesh: true,\n\n\tcopy: function ( source ) {\n\n\t\tObject3D.prototype.copy.call( this, source );\n\n\t\tif ( source.morphTargetInfluences !== undefined ) {\n\n\t\t\tthis.morphTargetInfluences = source.morphTargetInfluences.slice();\n\n\t\t}\n\n\t\tif ( source.morphTargetDictionary !== undefined ) {\n\n\t\t\tthis.morphTargetDictionary = Object.assign( {}, source.morphTargetDictionary );\n\n\t\t}\n\n\t\tthis.material = source.material;\n\t\tthis.geometry = source.geometry;\n\n\t\treturn this;\n\n\t},\n\n\tupdateMorphTargets: function () {\n\n\t\tconst geometry = this.geometry;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tconst morphAttributes = geometry.morphAttributes;\n\t\t\tconst keys = Object.keys( morphAttributes );\n\n\t\t\tif ( keys.length > 0 ) {\n\n\t\t\t\tconst morphAttribute = morphAttributes[ keys[ 0 ] ];\n\n\t\t\t\tif ( morphAttribute !== undefined ) {\n\n\t\t\t\t\tthis.morphTargetInfluences = [];\n\t\t\t\t\tthis.morphTargetDictionary = {};\n\n\t\t\t\t\tfor ( let m = 0, ml = morphAttribute.length; m < ml; m ++ ) {\n\n\t\t\t\t\t\tconst name = morphAttribute[ m ].name || String( m );\n\n\t\t\t\t\t\tthis.morphTargetInfluences.push( 0 );\n\t\t\t\t\t\tthis.morphTargetDictionary[ name ] = m;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst morphTargets = geometry.morphTargets;\n\n\t\t\tif ( morphTargets !== undefined && morphTargets.length > 0 ) {\n\n\t\t\t\tconsole.error( 'THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\traycast: function ( raycaster, intersects ) {\n\n\t\tconst geometry = this.geometry;\n\t\tconst material = this.material;\n\t\tconst matrixWorld = this.matrixWorld;\n\n\t\tif ( material === undefined ) return;\n\n\t\t// Checking boundingSphere distance to ray\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere.copy( geometry.boundingSphere );\n\t\t_sphere.applyMatrix4( matrixWorld );\n\n\t\tif ( raycaster.ray.intersectsSphere( _sphere ) === false ) return;\n\n\t\t//\n\n\t\t_inverseMatrix.getInverse( matrixWorld );\n\t\t_ray.copy( raycaster.ray ).applyMatrix4( _inverseMatrix );\n\n\t\t// Check boundingBox before continuing\n\n\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\tif ( _ray.intersectsBox( geometry.boundingBox ) === false ) return;\n\n\t\t}\n\n\t\tlet intersection;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tconst index = geometry.index;\n\t\t\tconst position = geometry.attributes.position;\n\t\t\tconst morphPosition = geometry.morphAttributes.position;\n\t\t\tconst morphTargetsRelative = geometry.morphTargetsRelative;\n\t\t\tconst uv = geometry.attributes.uv;\n\t\t\tconst uv2 = geometry.attributes.uv2;\n\t\t\tconst groups = geometry.groups;\n\t\t\tconst drawRange = geometry.drawRange;\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\t// indexed buffer geometry\n\n\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\tfor ( let i = 0, il = groups.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tconst group = groups[ i ];\n\t\t\t\t\t\tconst groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\tconst start = Math.max( group.start, drawRange.start );\n\t\t\t\t\t\tconst end = Math.min( ( group.start + group.count ), ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\t\tfor ( let j = start, jl = end; j < jl; j += 3 ) {\n\n\t\t\t\t\t\t\tconst a = index.getX( j );\n\t\t\t\t\t\t\tconst b = index.getX( j + 1 );\n\t\t\t\t\t\t\tconst c = index.getX( j + 2 );\n\n\t\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, groupMaterial, raycaster, _ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\n\n\t\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( j / 3 ); // triangle number in indexed buffer semantics\n\t\t\t\t\t\t\t\tintersection.face.materialIndex = group.materialIndex;\n\t\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\t\t\tconst end = Math.min( index.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\tfor ( let i = start, il = end; i < il; i += 3 ) {\n\n\t\t\t\t\t\tconst a = index.getX( i );\n\t\t\t\t\t\tconst b = index.getX( i + 1 );\n\t\t\t\t\t\tconst c = index.getX( i + 2 );\n\n\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, material, raycaster, _ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\n\n\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( i / 3 ); // triangle number in indexed buffer semantics\n\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( position !== undefined ) {\n\n\t\t\t\t// non-indexed buffer geometry\n\n\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\tfor ( let i = 0, il = groups.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tconst group = groups[ i ];\n\t\t\t\t\t\tconst groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\tconst start = Math.max( group.start, drawRange.start );\n\t\t\t\t\t\tconst end = Math.min( ( group.start + group.count ), ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\t\tfor ( let j = start, jl = end; j < jl; j += 3 ) {\n\n\t\t\t\t\t\t\tconst a = j;\n\t\t\t\t\t\t\tconst b = j + 1;\n\t\t\t\t\t\t\tconst c = j + 2;\n\n\t\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, groupMaterial, raycaster, _ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\n\n\t\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( j / 3 ); // triangle number in non-indexed buffer semantics\n\t\t\t\t\t\t\t\tintersection.face.materialIndex = group.materialIndex;\n\t\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\t\t\tconst end = Math.min( position.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\tfor ( let i = start, il = end; i < il; i += 3 ) {\n\n\t\t\t\t\t\tconst a = i;\n\t\t\t\t\t\tconst b = i + 1;\n\t\t\t\t\t\tconst c = i + 2;\n\n\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, material, raycaster, _ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\n\n\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( i / 3 ); // triangle number in non-indexed buffer semantics\n\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\tconst isMultiMaterial = Array.isArray( material );\n\n\t\t\tconst vertices = geometry.vertices;\n\t\t\tconst faces = geometry.faces;\n\t\t\tlet uvs;\n\n\t\t\tconst faceVertexUvs = geometry.faceVertexUvs[ 0 ];\n\t\t\tif ( faceVertexUvs.length > 0 ) uvs = faceVertexUvs;\n\n\t\t\tfor ( let f = 0, fl = faces.length; f < fl; f ++ ) {\n\n\t\t\t\tconst face = faces[ f ];\n\t\t\t\tconst faceMaterial = isMultiMaterial ? material[ face.materialIndex ] : material;\n\n\t\t\t\tif ( faceMaterial === undefined ) continue;\n\n\t\t\t\tconst fvA = vertices[ face.a ];\n\t\t\t\tconst fvB = vertices[ face.b ];\n\t\t\t\tconst fvC = vertices[ face.c ];\n\n\t\t\t\tintersection = checkIntersection( this, faceMaterial, raycaster, _ray, fvA, fvB, fvC, _intersectionPoint );\n\n\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\tif ( uvs && uvs[ f ] ) {\n\n\t\t\t\t\t\tconst uvs_f = uvs[ f ];\n\t\t\t\t\t\t_uvA.copy( uvs_f[ 0 ] );\n\t\t\t\t\t\t_uvB.copy( uvs_f[ 1 ] );\n\t\t\t\t\t\t_uvC.copy( uvs_f[ 2 ] );\n\n\t\t\t\t\t\tintersection.uv = Triangle.getUV( _intersectionPoint, fvA, fvB, fvC, _uvA, _uvB, _uvC, new Vector2() );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tintersection.face = face;\n\t\t\t\t\tintersection.faceIndex = f;\n\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n} );\n\nfunction checkIntersection( object, material, raycaster, ray, pA, pB, pC, point ) {\n\n\tlet intersect;\n\n\tif ( material.side === BackSide ) {\n\n\t\tintersect = ray.intersectTriangle( pC, pB, pA, true, point );\n\n\t} else {\n\n\t\tintersect = ray.intersectTriangle( pA, pB, pC, material.side !== DoubleSide, point );\n\n\t}\n\n\tif ( intersect === null ) return null;\n\n\t_intersectionPointWorld.copy( point );\n\t_intersectionPointWorld.applyMatrix4( object.matrixWorld );\n\n\tconst distance = raycaster.ray.origin.distanceTo( _intersectionPointWorld );\n\n\tif ( distance < raycaster.near || distance > raycaster.far ) return null;\n\n\treturn {\n\t\tdistance: distance,\n\t\tpoint: _intersectionPointWorld.clone(),\n\t\tobject: object\n\t};\n\n}\n\nfunction checkBufferGeometryIntersection( object, material, raycaster, ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c ) {\n\n\t_vA.fromBufferAttribute( position, a );\n\t_vB.fromBufferAttribute( position, b );\n\t_vC.fromBufferAttribute( position, c );\n\n\tconst morphInfluences = object.morphTargetInfluences;\n\n\tif ( material.morphTargets && morphPosition && morphInfluences ) {\n\n\t\t_morphA.set( 0, 0, 0 );\n\t\t_morphB.set( 0, 0, 0 );\n\t\t_morphC.set( 0, 0, 0 );\n\n\t\tfor ( let i = 0, il = morphPosition.length; i < il; i ++ ) {\n\n\t\t\tconst influence = morphInfluences[ i ];\n\t\t\tconst morphAttribute = morphPosition[ i ];\n\n\t\t\tif ( influence === 0 ) continue;\n\n\t\t\t_tempA.fromBufferAttribute( morphAttribute, a );\n\t\t\t_tempB.fromBufferAttribute( morphAttribute, b );\n\t\t\t_tempC.fromBufferAttribute( morphAttribute, c );\n\n\t\t\tif ( morphTargetsRelative ) {\n\n\t\t\t\t_morphA.addScaledVector( _tempA, influence );\n\t\t\t\t_morphB.addScaledVector( _tempB, influence );\n\t\t\t\t_morphC.addScaledVector( _tempC, influence );\n\n\t\t\t} else {\n\n\t\t\t\t_morphA.addScaledVector( _tempA.sub( _vA ), influence );\n\t\t\t\t_morphB.addScaledVector( _tempB.sub( _vB ), influence );\n\t\t\t\t_morphC.addScaledVector( _tempC.sub( _vC ), influence );\n\n\t\t\t}\n\n\t\t}\n\n\t\t_vA.add( _morphA );\n\t\t_vB.add( _morphB );\n\t\t_vC.add( _morphC );\n\n\t}\n\n\tif ( object.isSkinnedMesh ) {\n\n\t\tobject.boneTransform( a, _vA );\n\t\tobject.boneTransform( b, _vB );\n\t\tobject.boneTransform( c, _vC );\n\n\t}\n\n\tconst intersection = checkIntersection( object, material, raycaster, ray, _vA, _vB, _vC, _intersectionPoint );\n\n\tif ( intersection ) {\n\n\t\tif ( uv ) {\n\n\t\t\t_uvA.fromBufferAttribute( uv, a );\n\t\t\t_uvB.fromBufferAttribute( uv, b );\n\t\t\t_uvC.fromBufferAttribute( uv, c );\n\n\t\t\tintersection.uv = Triangle.getUV( _intersectionPoint, _vA, _vB, _vC, _uvA, _uvB, _uvC, new Vector2() );\n\n\t\t}\n\n\t\tif ( uv2 ) {\n\n\t\t\t_uvA.fromBufferAttribute( uv2, a );\n\t\t\t_uvB.fromBufferAttribute( uv2, b );\n\t\t\t_uvC.fromBufferAttribute( uv2, c );\n\n\t\t\tintersection.uv2 = Triangle.getUV( _intersectionPoint, _vA, _vB, _vC, _uvA, _uvB, _uvC, new Vector2() );\n\n\t\t}\n\n\t\tconst face = new Face3( a, b, c );\n\t\tTriangle.getNormal( _vA, _vB, _vC, face.normal );\n\n\t\tintersection.face = face;\n\n\t}\n\n\treturn intersection;\n\n}\n\nclass BoxBufferGeometry extends BufferGeometry {\n\n\tconstructor( width = 1, height = 1, depth = 1, widthSegments = 1, heightSegments = 1, depthSegments = 1 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'BoxBufferGeometry';\n\n\t\tthis.parameters = {\n\t\t\twidth: width,\n\t\t\theight: height,\n\t\t\tdepth: depth,\n\t\t\twidthSegments: widthSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\tdepthSegments: depthSegments\n\t\t};\n\n\t\tconst scope = this;\n\n\t\t// segments\n\n\t\twidthSegments = Math.floor( widthSegments );\n\t\theightSegments = Math.floor( heightSegments );\n\t\tdepthSegments = Math.floor( depthSegments );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tlet numberOfVertices = 0;\n\t\tlet groupStart = 0;\n\n\t\t// build each side of the box geometry\n\n\t\tbuildPlane( 'z', 'y', 'x', - 1, - 1, depth, height, width, depthSegments, heightSegments, 0 ); // px\n\t\tbuildPlane( 'z', 'y', 'x', 1, - 1, depth, height, - width, depthSegments, heightSegments, 1 ); // nx\n\t\tbuildPlane( 'x', 'z', 'y', 1, 1, width, depth, height, widthSegments, depthSegments, 2 ); // py\n\t\tbuildPlane( 'x', 'z', 'y', 1, - 1, width, depth, - height, widthSegments, depthSegments, 3 ); // ny\n\t\tbuildPlane( 'x', 'y', 'z', 1, - 1, width, height, depth, widthSegments, heightSegments, 4 ); // pz\n\t\tbuildPlane( 'x', 'y', 'z', - 1, - 1, width, height, - depth, widthSegments, heightSegments, 5 ); // nz\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t\tfunction buildPlane( u, v, w, udir, vdir, width, height, depth, gridX, gridY, materialIndex ) {\n\n\t\t\tconst segmentWidth = width / gridX;\n\t\t\tconst segmentHeight = height / gridY;\n\n\t\t\tconst widthHalf = width / 2;\n\t\t\tconst heightHalf = height / 2;\n\t\t\tconst depthHalf = depth / 2;\n\n\t\t\tconst gridX1 = gridX + 1;\n\t\t\tconst gridY1 = gridY + 1;\n\n\t\t\tlet vertexCounter = 0;\n\t\t\tlet groupCount = 0;\n\n\t\t\tconst vector = new Vector3();\n\n\t\t\t// generate vertices, normals and uvs\n\n\t\t\tfor ( let iy = 0; iy < gridY1; iy ++ ) {\n\n\t\t\t\tconst y = iy * segmentHeight - heightHalf;\n\n\t\t\t\tfor ( let ix = 0; ix < gridX1; ix ++ ) {\n\n\t\t\t\t\tconst x = ix * segmentWidth - widthHalf;\n\n\t\t\t\t\t// set values to correct vector component\n\n\t\t\t\t\tvector[ u ] = x * udir;\n\t\t\t\t\tvector[ v ] = y * vdir;\n\t\t\t\t\tvector[ w ] = depthHalf;\n\n\t\t\t\t\t// now apply vector to vertex buffer\n\n\t\t\t\t\tvertices.push( vector.x, vector.y, vector.z );\n\n\t\t\t\t\t// set values to correct vector component\n\n\t\t\t\t\tvector[ u ] = 0;\n\t\t\t\t\tvector[ v ] = 0;\n\t\t\t\t\tvector[ w ] = depth > 0 ? 1 : - 1;\n\n\t\t\t\t\t// now apply vector to normal buffer\n\n\t\t\t\t\tnormals.push( vector.x, vector.y, vector.z );\n\n\t\t\t\t\t// uvs\n\n\t\t\t\t\tuvs.push( ix / gridX );\n\t\t\t\t\tuvs.push( 1 - ( iy / gridY ) );\n\n\t\t\t\t\t// counters\n\n\t\t\t\t\tvertexCounter += 1;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// indices\n\n\t\t\t// 1. you need three indices to draw a single face\n\t\t\t// 2. a single segment consists of two faces\n\t\t\t// 3. so we need to generate six (2*3) indices per segment\n\n\t\t\tfor ( let iy = 0; iy < gridY; iy ++ ) {\n\n\t\t\t\tfor ( let ix = 0; ix < gridX; ix ++ ) {\n\n\t\t\t\t\tconst a = numberOfVertices + ix + gridX1 * iy;\n\t\t\t\t\tconst b = numberOfVertices + ix + gridX1 * ( iy + 1 );\n\t\t\t\t\tconst c = numberOfVertices + ( ix + 1 ) + gridX1 * ( iy + 1 );\n\t\t\t\t\tconst d = numberOfVertices + ( ix + 1 ) + gridX1 * iy;\n\n\t\t\t\t\t// faces\n\n\t\t\t\t\tindices.push( a, b, d );\n\t\t\t\t\tindices.push( b, c, d );\n\n\t\t\t\t\t// increase counter\n\n\t\t\t\t\tgroupCount += 6;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// add a group to the geometry. this will ensure multi material support\n\n\t\t\tscope.addGroup( groupStart, groupCount, materialIndex );\n\n\t\t\t// calculate new start value for groups\n\n\t\t\tgroupStart += groupCount;\n\n\t\t\t// update total number of vertices\n\n\t\t\tnumberOfVertices += vertexCounter;\n\n\t\t}\n\n\t}\n\n}\n\n/**\n * Uniform Utilities\n */\n\nfunction cloneUniforms( src ) {\n\n\tconst dst = {};\n\n\tfor ( const u in src ) {\n\n\t\tdst[ u ] = {};\n\n\t\tfor ( const p in src[ u ] ) {\n\n\t\t\tconst property = src[ u ][ p ];\n\n\t\t\tif ( property && ( property.isColor ||\n\t\t\t\tproperty.isMatrix3 || property.isMatrix4 ||\n\t\t\t\tproperty.isVector2 || property.isVector3 || property.isVector4 ||\n\t\t\t\tproperty.isTexture ) ) {\n\n\t\t\t\tdst[ u ][ p ] = property.clone();\n\n\t\t\t} else if ( Array.isArray( property ) ) {\n\n\t\t\t\tdst[ u ][ p ] = property.slice();\n\n\t\t\t} else {\n\n\t\t\t\tdst[ u ][ p ] = property;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn dst;\n\n}\n\nfunction mergeUniforms( uniforms ) {\n\n\tconst merged = {};\n\n\tfor ( let u = 0; u < uniforms.length; u ++ ) {\n\n\t\tconst tmp = cloneUniforms( uniforms[ u ] );\n\n\t\tfor ( const p in tmp ) {\n\n\t\t\tmerged[ p ] = tmp[ p ];\n\n\t\t}\n\n\t}\n\n\treturn merged;\n\n}\n\n// Legacy\n\nconst UniformsUtils = { clone: cloneUniforms, merge: mergeUniforms };\n\nvar default_vertex = \"void main() {\\n\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n}\";\n\nvar default_fragment = \"void main() {\\n\\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\\n}\";\n\n/**\n * parameters = {\n *  defines: { \"label\" : \"value\" },\n *  uniforms: { \"parameter1\": { value: 1.0 }, \"parameter2\": { value2: 2 } },\n *\n *  fragmentShader: <string>,\n *  vertexShader: <string>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  lights: <bool>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction ShaderMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'ShaderMaterial';\n\n\tthis.defines = {};\n\tthis.uniforms = {};\n\n\tthis.vertexShader = default_vertex;\n\tthis.fragmentShader = default_fragment;\n\n\tthis.linewidth = 1;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\n\tthis.fog = false; // set to use scene fog\n\tthis.lights = false; // set to use scene lights\n\tthis.clipping = false; // set to use user-defined clipping planes\n\n\tthis.skinning = false; // set to use skinning attribute streams\n\tthis.morphTargets = false; // set to use morph targets\n\tthis.morphNormals = false; // set to use morph normals\n\n\tthis.extensions = {\n\t\tderivatives: false, // set to use derivatives\n\t\tfragDepth: false, // set to use fragment depth values\n\t\tdrawBuffers: false, // set to use draw buffers\n\t\tshaderTextureLOD: false // set to use shader texture LOD\n\t};\n\n\t// When rendered geometry doesn't include these attributes but the material does,\n\t// use these default values in WebGL. This avoids errors when buffer data is missing.\n\tthis.defaultAttributeValues = {\n\t\t'color': [ 1, 1, 1 ],\n\t\t'uv': [ 0, 0 ],\n\t\t'uv2': [ 0, 0 ]\n\t};\n\n\tthis.index0AttributeName = undefined;\n\tthis.uniformsNeedUpdate = false;\n\n\tthis.glslVersion = null;\n\n\tif ( parameters !== undefined ) {\n\n\t\tif ( parameters.attributes !== undefined ) {\n\n\t\t\tconsole.error( 'THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead.' );\n\n\t\t}\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n}\n\nShaderMaterial.prototype = Object.create( Material.prototype );\nShaderMaterial.prototype.constructor = ShaderMaterial;\n\nShaderMaterial.prototype.isShaderMaterial = true;\n\nShaderMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.fragmentShader = source.fragmentShader;\n\tthis.vertexShader = source.vertexShader;\n\n\tthis.uniforms = cloneUniforms( source.uniforms );\n\n\tthis.defines = Object.assign( {}, source.defines );\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\tthis.lights = source.lights;\n\tthis.clipping = source.clipping;\n\n\tthis.skinning = source.skinning;\n\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\tthis.extensions = Object.assign( {}, source.extensions );\n\n\tthis.glslVersion = source.glslVersion;\n\n\treturn this;\n\n};\n\nShaderMaterial.prototype.toJSON = function ( meta ) {\n\n\tconst data = Material.prototype.toJSON.call( this, meta );\n\n\tdata.glslVersion = this.glslVersion;\n\tdata.uniforms = {};\n\n\tfor ( const name in this.uniforms ) {\n\n\t\tconst uniform = this.uniforms[ name ];\n\t\tconst value = uniform.value;\n\n\t\tif ( value && value.isTexture ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 't',\n\t\t\t\tvalue: value.toJSON( meta ).uuid\n\t\t\t};\n\n\t\t} else if ( value && value.isColor ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 'c',\n\t\t\t\tvalue: value.getHex()\n\t\t\t};\n\n\t\t} else if ( value && value.isVector2 ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 'v2',\n\t\t\t\tvalue: value.toArray()\n\t\t\t};\n\n\t\t} else if ( value && value.isVector3 ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 'v3',\n\t\t\t\tvalue: value.toArray()\n\t\t\t};\n\n\t\t} else if ( value && value.isVector4 ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 'v4',\n\t\t\t\tvalue: value.toArray()\n\t\t\t};\n\n\t\t} else if ( value && value.isMatrix3 ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 'm3',\n\t\t\t\tvalue: value.toArray()\n\t\t\t};\n\n\t\t} else if ( value && value.isMatrix4 ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 'm4',\n\t\t\t\tvalue: value.toArray()\n\t\t\t};\n\n\t\t} else {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\tvalue: value\n\t\t\t};\n\n\t\t\t// note: the array variants v2v, v3v, v4v, m4v and tv are not supported so far\n\n\t\t}\n\n\t}\n\n\tif ( Object.keys( this.defines ).length > 0 ) data.defines = this.defines;\n\n\tdata.vertexShader = this.vertexShader;\n\tdata.fragmentShader = this.fragmentShader;\n\n\tconst extensions = {};\n\n\tfor ( const key in this.extensions ) {\n\n\t\tif ( this.extensions[ key ] === true ) extensions[ key ] = true;\n\n\t}\n\n\tif ( Object.keys( extensions ).length > 0 ) data.extensions = extensions;\n\n\treturn data;\n\n};\n\nfunction Camera() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Camera';\n\n\tthis.matrixWorldInverse = new Matrix4();\n\n\tthis.projectionMatrix = new Matrix4();\n\tthis.projectionMatrixInverse = new Matrix4();\n\n}\n\nCamera.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Camera,\n\n\tisCamera: true,\n\n\tcopy: function ( source, recursive ) {\n\n\t\tObject3D.prototype.copy.call( this, source, recursive );\n\n\t\tthis.matrixWorldInverse.copy( source.matrixWorldInverse );\n\n\t\tthis.projectionMatrix.copy( source.projectionMatrix );\n\t\tthis.projectionMatrixInverse.copy( source.projectionMatrixInverse );\n\n\t\treturn this;\n\n\t},\n\n\tgetWorldDirection: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Camera: .getWorldDirection() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\tconst e = this.matrixWorld.elements;\n\n\t\treturn target.set( - e[ 8 ], - e[ 9 ], - e[ 10 ] ).normalize();\n\n\t},\n\n\tupdateMatrixWorld: function ( force ) {\n\n\t\tObject3D.prototype.updateMatrixWorld.call( this, force );\n\n\t\tthis.matrixWorldInverse.getInverse( this.matrixWorld );\n\n\t},\n\n\tupdateWorldMatrix: function ( updateParents, updateChildren ) {\n\n\t\tObject3D.prototype.updateWorldMatrix.call( this, updateParents, updateChildren );\n\n\t\tthis.matrixWorldInverse.getInverse( this.matrixWorld );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n} );\n\nfunction PerspectiveCamera( fov, aspect, near, far ) {\n\n\tCamera.call( this );\n\n\tthis.type = 'PerspectiveCamera';\n\n\tthis.fov = fov !== undefined ? fov : 50;\n\tthis.zoom = 1;\n\n\tthis.near = near !== undefined ? near : 0.1;\n\tthis.far = far !== undefined ? far : 2000;\n\tthis.focus = 10;\n\n\tthis.aspect = aspect !== undefined ? aspect : 1;\n\tthis.view = null;\n\n\tthis.filmGauge = 35;\t// width of the film (default in millimeters)\n\tthis.filmOffset = 0;\t// horizontal film offset (same unit as gauge)\n\n\tthis.updateProjectionMatrix();\n\n}\n\nPerspectiveCamera.prototype = Object.assign( Object.create( Camera.prototype ), {\n\n\tconstructor: PerspectiveCamera,\n\n\tisPerspectiveCamera: true,\n\n\tcopy: function ( source, recursive ) {\n\n\t\tCamera.prototype.copy.call( this, source, recursive );\n\n\t\tthis.fov = source.fov;\n\t\tthis.zoom = source.zoom;\n\n\t\tthis.near = source.near;\n\t\tthis.far = source.far;\n\t\tthis.focus = source.focus;\n\n\t\tthis.aspect = source.aspect;\n\t\tthis.view = source.view === null ? null : Object.assign( {}, source.view );\n\n\t\tthis.filmGauge = source.filmGauge;\n\t\tthis.filmOffset = source.filmOffset;\n\n\t\treturn this;\n\n\t},\n\n\t/**\n\t * Sets the FOV by focal length in respect to the current .filmGauge.\n\t *\n\t * The default film gauge is 35, so that the focal length can be specified for\n\t * a 35mm (full frame) camera.\n\t *\n\t * Values for focal length and film gauge must have the same unit.\n\t */\n\tsetFocalLength: function ( focalLength ) {\n\n\t\t// see http://www.bobatkins.com/photography/technical/field_of_view.html\n\t\tconst vExtentSlope = 0.5 * this.getFilmHeight() / focalLength;\n\n\t\tthis.fov = MathUtils.RAD2DEG * 2 * Math.atan( vExtentSlope );\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\t/**\n\t * Calculates the focal length from the current .fov and .filmGauge.\n\t */\n\tgetFocalLength: function () {\n\n\t\tconst vExtentSlope = Math.tan( MathUtils.DEG2RAD * 0.5 * this.fov );\n\n\t\treturn 0.5 * this.getFilmHeight() / vExtentSlope;\n\n\t},\n\n\tgetEffectiveFOV: function () {\n\n\t\treturn MathUtils.RAD2DEG * 2 * Math.atan(\n\t\t\tMath.tan( MathUtils.DEG2RAD * 0.5 * this.fov ) / this.zoom );\n\n\t},\n\n\tgetFilmWidth: function () {\n\n\t\t// film not completely covered in portrait format (aspect < 1)\n\t\treturn this.filmGauge * Math.min( this.aspect, 1 );\n\n\t},\n\n\tgetFilmHeight: function () {\n\n\t\t// film not completely covered in landscape format (aspect > 1)\n\t\treturn this.filmGauge / Math.max( this.aspect, 1 );\n\n\t},\n\n\t/**\n\t * Sets an offset in a larger frustum. This is useful for multi-window or\n\t * multi-monitor/multi-machine setups.\n\t *\n\t * For example, if you have 3x2 monitors and each monitor is 1920x1080 and\n\t * the monitors are in grid like this\n\t *\n\t *   +---+---+---+\n\t *   | A | B | C |\n\t *   +---+---+---+\n\t *   | D | E | F |\n\t *   +---+---+---+\n\t *\n\t * then for each monitor you would call it like this\n\t *\n\t *   const w = 1920;\n\t *   const h = 1080;\n\t *   const fullWidth = w * 3;\n\t *   const fullHeight = h * 2;\n\t *\n\t *   --A--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 0, w, h );\n\t *   --B--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 0, w, h );\n\t *   --C--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 0, w, h );\n\t *   --D--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 1, w, h );\n\t *   --E--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 1, w, h );\n\t *   --F--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 1, w, h );\n\t *\n\t *   Note there is no reason monitors have to be the same size or in a grid.\n\t */\n\tsetViewOffset: function ( fullWidth, fullHeight, x, y, width, height ) {\n\n\t\tthis.aspect = fullWidth / fullHeight;\n\n\t\tif ( this.view === null ) {\n\n\t\t\tthis.view = {\n\t\t\t\tenabled: true,\n\t\t\t\tfullWidth: 1,\n\t\t\t\tfullHeight: 1,\n\t\t\t\toffsetX: 0,\n\t\t\t\toffsetY: 0,\n\t\t\t\twidth: 1,\n\t\t\t\theight: 1\n\t\t\t};\n\n\t\t}\n\n\t\tthis.view.enabled = true;\n\t\tthis.view.fullWidth = fullWidth;\n\t\tthis.view.fullHeight = fullHeight;\n\t\tthis.view.offsetX = x;\n\t\tthis.view.offsetY = y;\n\t\tthis.view.width = width;\n\t\tthis.view.height = height;\n\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\tclearViewOffset: function () {\n\n\t\tif ( this.view !== null ) {\n\n\t\t\tthis.view.enabled = false;\n\n\t\t}\n\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\tupdateProjectionMatrix: function () {\n\n\t\tconst near = this.near;\n\t\tlet top = near * Math.tan( MathUtils.DEG2RAD * 0.5 * this.fov ) / this.zoom;\n\t\tlet height = 2 * top;\n\t\tlet width = this.aspect * height;\n\t\tlet left = - 0.5 * width;\n\t\tconst view = this.view;\n\n\t\tif ( this.view !== null && this.view.enabled ) {\n\n\t\t\tconst fullWidth = view.fullWidth,\n\t\t\t\tfullHeight = view.fullHeight;\n\n\t\t\tleft += view.offsetX * width / fullWidth;\n\t\t\ttop -= view.offsetY * height / fullHeight;\n\t\t\twidth *= view.width / fullWidth;\n\t\t\theight *= view.height / fullHeight;\n\n\t\t}\n\n\t\tconst skew = this.filmOffset;\n\t\tif ( skew !== 0 ) left += near * skew / this.getFilmWidth();\n\n\t\tthis.projectionMatrix.makePerspective( left, left + width, top, top - height, near, this.far );\n\n\t\tthis.projectionMatrixInverse.getInverse( this.projectionMatrix );\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tconst data = Object3D.prototype.toJSON.call( this, meta );\n\n\t\tdata.object.fov = this.fov;\n\t\tdata.object.zoom = this.zoom;\n\n\t\tdata.object.near = this.near;\n\t\tdata.object.far = this.far;\n\t\tdata.object.focus = this.focus;\n\n\t\tdata.object.aspect = this.aspect;\n\n\t\tif ( this.view !== null ) data.object.view = Object.assign( {}, this.view );\n\n\t\tdata.object.filmGauge = this.filmGauge;\n\t\tdata.object.filmOffset = this.filmOffset;\n\n\t\treturn data;\n\n\t}\n\n} );\n\nconst fov = 90, aspect = 1;\n\nfunction CubeCamera( near, far, renderTarget ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'CubeCamera';\n\n\tif ( renderTarget.isWebGLCubeRenderTarget !== true ) {\n\n\t\tconsole.error( 'THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.' );\n\t\treturn;\n\n\t}\n\n\tthis.renderTarget = renderTarget;\n\n\tconst cameraPX = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraPX.layers = this.layers;\n\tcameraPX.up.set( 0, - 1, 0 );\n\tcameraPX.lookAt( new Vector3( 1, 0, 0 ) );\n\tthis.add( cameraPX );\n\n\tconst cameraNX = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraNX.layers = this.layers;\n\tcameraNX.up.set( 0, - 1, 0 );\n\tcameraNX.lookAt( new Vector3( - 1, 0, 0 ) );\n\tthis.add( cameraNX );\n\n\tconst cameraPY = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraPY.layers = this.layers;\n\tcameraPY.up.set( 0, 0, 1 );\n\tcameraPY.lookAt( new Vector3( 0, 1, 0 ) );\n\tthis.add( cameraPY );\n\n\tconst cameraNY = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraNY.layers = this.layers;\n\tcameraNY.up.set( 0, 0, - 1 );\n\tcameraNY.lookAt( new Vector3( 0, - 1, 0 ) );\n\tthis.add( cameraNY );\n\n\tconst cameraPZ = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraPZ.layers = this.layers;\n\tcameraPZ.up.set( 0, - 1, 0 );\n\tcameraPZ.lookAt( new Vector3( 0, 0, 1 ) );\n\tthis.add( cameraPZ );\n\n\tconst cameraNZ = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraNZ.layers = this.layers;\n\tcameraNZ.up.set( 0, - 1, 0 );\n\tcameraNZ.lookAt( new Vector3( 0, 0, - 1 ) );\n\tthis.add( cameraNZ );\n\n\tthis.update = function ( renderer, scene ) {\n\n\t\tif ( this.parent === null ) this.updateMatrixWorld();\n\n\t\tconst currentXrEnabled = renderer.xr.enabled;\n\t\tconst currentRenderTarget = renderer.getRenderTarget();\n\n\t\trenderer.xr.enabled = false;\n\n\t\tconst generateMipmaps = renderTarget.texture.generateMipmaps;\n\n\t\trenderTarget.texture.generateMipmaps = false;\n\n\t\trenderer.setRenderTarget( renderTarget, 0 );\n\t\trenderer.render( scene, cameraPX );\n\n\t\trenderer.setRenderTarget( renderTarget, 1 );\n\t\trenderer.render( scene, cameraNX );\n\n\t\trenderer.setRenderTarget( renderTarget, 2 );\n\t\trenderer.render( scene, cameraPY );\n\n\t\trenderer.setRenderTarget( renderTarget, 3 );\n\t\trenderer.render( scene, cameraNY );\n\n\t\trenderer.setRenderTarget( renderTarget, 4 );\n\t\trenderer.render( scene, cameraPZ );\n\n\t\trenderTarget.texture.generateMipmaps = generateMipmaps;\n\n\t\trenderer.setRenderTarget( renderTarget, 5 );\n\t\trenderer.render( scene, cameraNZ );\n\n\t\trenderer.setRenderTarget( currentRenderTarget );\n\n\t\trenderer.xr.enabled = currentXrEnabled;\n\n\t};\n\n}\n\nCubeCamera.prototype = Object.create( Object3D.prototype );\nCubeCamera.prototype.constructor = CubeCamera;\n\nfunction CubeTexture( images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding ) {\n\n\timages = images !== undefined ? images : [];\n\tmapping = mapping !== undefined ? mapping : CubeReflectionMapping;\n\tformat = format !== undefined ? format : RGBFormat;\n\n\tTexture.call( this, images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\tthis.flipY = false;\n\n\t// Why CubeTexture._needsFlipEnvMap is necessary:\n\t//\n\t// By convention -- likely based on the RenderMan spec from the 1990's -- cube maps are specified by WebGL (and three.js)\n\t// in a coordinate system in which positive-x is to the right when looking up the positive-z axis -- in other words,\n\t// in a left-handed coordinate system. By continuing this convention, preexisting cube maps continued to render correctly.\n\n\t// three.js uses a right-handed coordinate system. So environment maps used in three.js appear to have px and nx swapped\n\t// and the flag _needsFlipEnvMap controls this conversion. The flip is not required (and thus _needsFlipEnvMap is set to false)\n\t// when using WebGLCubeRenderTarget.texture as a cube texture.\n\n\tthis._needsFlipEnvMap = true;\n\n}\n\nCubeTexture.prototype = Object.create( Texture.prototype );\nCubeTexture.prototype.constructor = CubeTexture;\n\nCubeTexture.prototype.isCubeTexture = true;\n\nObject.defineProperty( CubeTexture.prototype, 'images', {\n\n\tget: function () {\n\n\t\treturn this.image;\n\n\t},\n\n\tset: function ( value ) {\n\n\t\tthis.image = value;\n\n\t}\n\n} );\n\nfunction WebGLCubeRenderTarget( size, options, dummy ) {\n\n\tif ( Number.isInteger( options ) ) {\n\n\t\tconsole.warn( 'THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )' );\n\n\t\toptions = dummy;\n\n\t}\n\n\tWebGLRenderTarget.call( this, size, size, options );\n\n\toptions = options || {};\n\n\tthis.texture = new CubeTexture( undefined, options.mapping, options.wrapS, options.wrapT, options.magFilter, options.minFilter, options.format, options.type, options.anisotropy, options.encoding );\n\n\tthis.texture._needsFlipEnvMap = false;\n\n}\n\nWebGLCubeRenderTarget.prototype = Object.create( WebGLRenderTarget.prototype );\nWebGLCubeRenderTarget.prototype.constructor = WebGLCubeRenderTarget;\n\nWebGLCubeRenderTarget.prototype.isWebGLCubeRenderTarget = true;\n\nWebGLCubeRenderTarget.prototype.fromEquirectangularTexture = function ( renderer, texture ) {\n\n\tthis.texture.type = texture.type;\n\tthis.texture.format = RGBAFormat; // see #18859\n\tthis.texture.encoding = texture.encoding;\n\n\tthis.texture.generateMipmaps = texture.generateMipmaps;\n\tthis.texture.minFilter = texture.minFilter;\n\tthis.texture.magFilter = texture.magFilter;\n\n\tconst shader = {\n\n\t\tuniforms: {\n\t\t\ttEquirect: { value: null },\n\t\t},\n\n\t\tvertexShader: /* glsl */`\n\n\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t#include <begin_vertex>\n\t\t\t\t#include <project_vertex>\n\n\t\t\t}\n\t\t`,\n\n\t\tfragmentShader: /* glsl */`\n\n\t\t\tuniform sampler2D tEquirect;\n\n\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t}\n\t\t`\n\t};\n\n\tconst geometry = new BoxBufferGeometry( 5, 5, 5 );\n\n\tconst material = new ShaderMaterial( {\n\n\t\tname: 'CubemapFromEquirect',\n\n\t\tuniforms: cloneUniforms( shader.uniforms ),\n\t\tvertexShader: shader.vertexShader,\n\t\tfragmentShader: shader.fragmentShader,\n\t\tside: BackSide,\n\t\tblending: NoBlending\n\n\t} );\n\n\tmaterial.uniforms.tEquirect.value = texture;\n\n\tconst mesh = new Mesh( geometry, material );\n\n\tconst currentMinFilter = texture.minFilter;\n\n\t// Avoid blurred poles\n\tif ( texture.minFilter === LinearMipmapLinearFilter ) texture.minFilter = LinearFilter;\n\n\tconst camera = new CubeCamera( 1, 10, this );\n\tcamera.update( renderer, mesh );\n\n\ttexture.minFilter = currentMinFilter;\n\n\tmesh.geometry.dispose();\n\tmesh.material.dispose();\n\n\treturn this;\n\n};\n\nWebGLCubeRenderTarget.prototype.clear = function ( renderer, color, depth, stencil ) {\n\n\tconst currentRenderTarget = renderer.getRenderTarget();\n\n\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\trenderer.setRenderTarget( this, i );\n\n\t\trenderer.clear( color, depth, stencil );\n\n\t}\n\n\trenderer.setRenderTarget( currentRenderTarget );\n\n};\n\nfunction DataTexture( data, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, encoding ) {\n\n\tTexture.call( this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\tthis.image = { data: data || null, width: width || 1, height: height || 1 };\n\n\tthis.magFilter = magFilter !== undefined ? magFilter : NearestFilter;\n\tthis.minFilter = minFilter !== undefined ? minFilter : NearestFilter;\n\n\tthis.generateMipmaps = false;\n\tthis.flipY = false;\n\tthis.unpackAlignment = 1;\n\n\tthis.needsUpdate = true;\n\n}\n\nDataTexture.prototype = Object.create( Texture.prototype );\nDataTexture.prototype.constructor = DataTexture;\n\nDataTexture.prototype.isDataTexture = true;\n\nconst _sphere$1 = /*@__PURE__*/ new Sphere();\nconst _vector$5 = /*@__PURE__*/ new Vector3();\n\nclass Frustum {\n\n\tconstructor( p0, p1, p2, p3, p4, p5 ) {\n\n\t\tthis.planes = [\n\n\t\t\t( p0 !== undefined ) ? p0 : new Plane(),\n\t\t\t( p1 !== undefined ) ? p1 : new Plane(),\n\t\t\t( p2 !== undefined ) ? p2 : new Plane(),\n\t\t\t( p3 !== undefined ) ? p3 : new Plane(),\n\t\t\t( p4 !== undefined ) ? p4 : new Plane(),\n\t\t\t( p5 !== undefined ) ? p5 : new Plane()\n\n\t\t];\n\n\t}\n\n\tset( p0, p1, p2, p3, p4, p5 ) {\n\n\t\tconst planes = this.planes;\n\n\t\tplanes[ 0 ].copy( p0 );\n\t\tplanes[ 1 ].copy( p1 );\n\t\tplanes[ 2 ].copy( p2 );\n\t\tplanes[ 3 ].copy( p3 );\n\t\tplanes[ 4 ].copy( p4 );\n\t\tplanes[ 5 ].copy( p5 );\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( frustum ) {\n\n\t\tconst planes = this.planes;\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tplanes[ i ].copy( frustum.planes[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetFromProjectionMatrix( m ) {\n\n\t\tconst planes = this.planes;\n\t\tconst me = m.elements;\n\t\tconst me0 = me[ 0 ], me1 = me[ 1 ], me2 = me[ 2 ], me3 = me[ 3 ];\n\t\tconst me4 = me[ 4 ], me5 = me[ 5 ], me6 = me[ 6 ], me7 = me[ 7 ];\n\t\tconst me8 = me[ 8 ], me9 = me[ 9 ], me10 = me[ 10 ], me11 = me[ 11 ];\n\t\tconst me12 = me[ 12 ], me13 = me[ 13 ], me14 = me[ 14 ], me15 = me[ 15 ];\n\n\t\tplanes[ 0 ].setComponents( me3 - me0, me7 - me4, me11 - me8, me15 - me12 ).normalize();\n\t\tplanes[ 1 ].setComponents( me3 + me0, me7 + me4, me11 + me8, me15 + me12 ).normalize();\n\t\tplanes[ 2 ].setComponents( me3 + me1, me7 + me5, me11 + me9, me15 + me13 ).normalize();\n\t\tplanes[ 3 ].setComponents( me3 - me1, me7 - me5, me11 - me9, me15 - me13 ).normalize();\n\t\tplanes[ 4 ].setComponents( me3 - me2, me7 - me6, me11 - me10, me15 - me14 ).normalize();\n\t\tplanes[ 5 ].setComponents( me3 + me2, me7 + me6, me11 + me10, me15 + me14 ).normalize();\n\n\t\treturn this;\n\n\t}\n\n\tintersectsObject( object ) {\n\n\t\tconst geometry = object.geometry;\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere$1.copy( geometry.boundingSphere ).applyMatrix4( object.matrixWorld );\n\n\t\treturn this.intersectsSphere( _sphere$1 );\n\n\t}\n\n\tintersectsSprite( sprite ) {\n\n\t\t_sphere$1.center.set( 0, 0, 0 );\n\t\t_sphere$1.radius = 0.7071067811865476;\n\t\t_sphere$1.applyMatrix4( sprite.matrixWorld );\n\n\t\treturn this.intersectsSphere( _sphere$1 );\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\tconst planes = this.planes;\n\t\tconst center = sphere.center;\n\t\tconst negRadius = - sphere.radius;\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tconst distance = planes[ i ].distanceToPoint( center );\n\n\t\t\tif ( distance < negRadius ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\tconst planes = this.planes;\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tconst plane = planes[ i ];\n\n\t\t\t// corner at max distance\n\n\t\t\t_vector$5.x = plane.normal.x > 0 ? box.max.x : box.min.x;\n\t\t\t_vector$5.y = plane.normal.y > 0 ? box.max.y : box.min.y;\n\t\t\t_vector$5.z = plane.normal.z > 0 ? box.max.z : box.min.z;\n\n\t\t\tif ( plane.distanceToPoint( _vector$5 ) < 0 ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tcontainsPoint( point ) {\n\n\t\tconst planes = this.planes;\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tif ( planes[ i ].distanceToPoint( point ) < 0 ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n}\n\nfunction WebGLAnimation() {\n\n\tlet context = null;\n\tlet isAnimating = false;\n\tlet animationLoop = null;\n\tlet requestId = null;\n\n\tfunction onAnimationFrame( time, frame ) {\n\n\t\tanimationLoop( time, frame );\n\n\t\trequestId = context.requestAnimationFrame( onAnimationFrame );\n\n\t}\n\n\treturn {\n\n\t\tstart: function () {\n\n\t\t\tif ( isAnimating === true ) return;\n\t\t\tif ( animationLoop === null ) return;\n\n\t\t\trequestId = context.requestAnimationFrame( onAnimationFrame );\n\n\t\t\tisAnimating = true;\n\n\t\t},\n\n\t\tstop: function () {\n\n\t\t\tcontext.cancelAnimationFrame( requestId );\n\n\t\t\tisAnimating = false;\n\n\t\t},\n\n\t\tsetAnimationLoop: function ( callback ) {\n\n\t\t\tanimationLoop = callback;\n\n\t\t},\n\n\t\tsetContext: function ( value ) {\n\n\t\t\tcontext = value;\n\n\t\t}\n\n\t};\n\n}\n\nfunction WebGLAttributes( gl, capabilities ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\n\tconst buffers = new WeakMap();\n\n\tfunction createBuffer( attribute, bufferType ) {\n\n\t\tconst array = attribute.array;\n\t\tconst usage = attribute.usage;\n\n\t\tconst buffer = gl.createBuffer();\n\n\t\tgl.bindBuffer( bufferType, buffer );\n\t\tgl.bufferData( bufferType, array, usage );\n\n\t\tattribute.onUploadCallback();\n\n\t\tlet type = 5126;\n\n\t\tif ( array instanceof Float32Array ) {\n\n\t\t\ttype = 5126;\n\n\t\t} else if ( array instanceof Float64Array ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLAttributes: Unsupported data buffer format: Float64Array.' );\n\n\t\t} else if ( array instanceof Uint16Array ) {\n\n\t\t\ttype = 5123;\n\n\t\t} else if ( array instanceof Int16Array ) {\n\n\t\t\ttype = 5122;\n\n\t\t} else if ( array instanceof Uint32Array ) {\n\n\t\t\ttype = 5125;\n\n\t\t} else if ( array instanceof Int32Array ) {\n\n\t\t\ttype = 5124;\n\n\t\t} else if ( array instanceof Int8Array ) {\n\n\t\t\ttype = 5120;\n\n\t\t} else if ( array instanceof Uint8Array ) {\n\n\t\t\ttype = 5121;\n\n\t\t}\n\n\t\treturn {\n\t\t\tbuffer: buffer,\n\t\t\ttype: type,\n\t\t\tbytesPerElement: array.BYTES_PER_ELEMENT,\n\t\t\tversion: attribute.version\n\t\t};\n\n\t}\n\n\tfunction updateBuffer( buffer, attribute, bufferType ) {\n\n\t\tconst array = attribute.array;\n\t\tconst updateRange = attribute.updateRange;\n\n\t\tgl.bindBuffer( bufferType, buffer );\n\n\t\tif ( updateRange.count === - 1 ) {\n\n\t\t\t// Not using update ranges\n\n\t\t\tgl.bufferSubData( bufferType, 0, array );\n\n\t\t} else {\n\n\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\tgl.bufferSubData( bufferType, updateRange.offset * array.BYTES_PER_ELEMENT,\n\t\t\t\t\tarray, updateRange.offset, updateRange.count );\n\n\t\t\t} else {\n\n\t\t\t\tgl.bufferSubData( bufferType, updateRange.offset * array.BYTES_PER_ELEMENT,\n\t\t\t\t\tarray.subarray( updateRange.offset, updateRange.offset + updateRange.count ) );\n\n\t\t\t}\n\n\t\t\tupdateRange.count = - 1; // reset range\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction get( attribute ) {\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\treturn buffers.get( attribute );\n\n\t}\n\n\tfunction remove( attribute ) {\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\tconst data = buffers.get( attribute );\n\n\t\tif ( data ) {\n\n\t\t\tgl.deleteBuffer( data.buffer );\n\n\t\t\tbuffers.delete( attribute );\n\n\t\t}\n\n\t}\n\n\tfunction update( attribute, bufferType ) {\n\n\t\tif ( attribute.isGLBufferAttribute ) {\n\n\t\t\tvar cached = buffers.get( attribute );\n\n\t\t\tif ( ! cached || cached.version < attribute.version ) {\n\n\t\t\t\tbuffers.set( attribute, {\n\t\t\t\t\tbuffer: attribute.buffer,\n\t\t\t\t\ttype: attribute.type,\n\t\t\t\t\tbytesPerElement: attribute.elementSize,\n\t\t\t\t\tversion: attribute.version\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\tconst data = buffers.get( attribute );\n\n\t\tif ( data === undefined ) {\n\n\t\t\tbuffers.set( attribute, createBuffer( attribute, bufferType ) );\n\n\t\t} else if ( data.version < attribute.version ) {\n\n\t\t\tupdateBuffer( data.buffer, attribute, bufferType );\n\n\t\t\tdata.version = attribute.version;\n\n\t\t}\n\n\t}\n\n\treturn {\n\n\t\tget: get,\n\t\tremove: remove,\n\t\tupdate: update\n\n\t};\n\n}\n\nclass PlaneBufferGeometry extends BufferGeometry {\n\n\tconstructor( width, height, widthSegments, heightSegments ) {\n\n\t\tsuper();\n\t\tthis.type = 'PlaneBufferGeometry';\n\n\t\tthis.parameters = {\n\t\t\twidth: width,\n\t\t\theight: height,\n\t\t\twidthSegments: widthSegments,\n\t\t\theightSegments: heightSegments\n\t\t};\n\n\t\twidth = width || 1;\n\t\theight = height || 1;\n\n\t\tconst width_half = width / 2;\n\t\tconst height_half = height / 2;\n\n\t\tconst gridX = Math.floor( widthSegments ) || 1;\n\t\tconst gridY = Math.floor( heightSegments ) || 1;\n\n\t\tconst gridX1 = gridX + 1;\n\t\tconst gridY1 = gridY + 1;\n\n\t\tconst segment_width = width / gridX;\n\t\tconst segment_height = height / gridY;\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// generate vertices, normals and uvs\n\n\t\tfor ( let iy = 0; iy < gridY1; iy ++ ) {\n\n\t\t\tconst y = iy * segment_height - height_half;\n\n\t\t\tfor ( let ix = 0; ix < gridX1; ix ++ ) {\n\n\t\t\t\tconst x = ix * segment_width - width_half;\n\n\t\t\t\tvertices.push( x, - y, 0 );\n\n\t\t\t\tnormals.push( 0, 0, 1 );\n\n\t\t\t\tuvs.push( ix / gridX );\n\t\t\t\tuvs.push( 1 - ( iy / gridY ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// indices\n\n\t\tfor ( let iy = 0; iy < gridY; iy ++ ) {\n\n\t\t\tfor ( let ix = 0; ix < gridX; ix ++ ) {\n\n\t\t\t\tconst a = ix + gridX1 * iy;\n\t\t\t\tconst b = ix + gridX1 * ( iy + 1 );\n\t\t\t\tconst c = ( ix + 1 ) + gridX1 * ( iy + 1 );\n\t\t\t\tconst d = ( ix + 1 ) + gridX1 * iy;\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t}\n\n}\n\nvar alphamap_fragment = \"#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\\n#endif\";\n\nvar alphamap_pars_fragment = \"#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\";\n\nvar alphatest_fragment = \"#ifdef ALPHATEST\\n\\tif ( diffuseColor.a < ALPHATEST ) discard;\\n#endif\";\n\nvar aomap_fragment = \"#ifdef USE_AOMAP\\n\\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\\n\\treflectedLight.indirectDiffuse *= ambientOcclusion;\\n\\t#if defined( USE_ENVMAP ) && defined( STANDARD )\\n\\t\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\t\\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\\n\\t#endif\\n#endif\";\n\nvar aomap_pars_fragment = \"#ifdef USE_AOMAP\\n\\tuniform sampler2D aoMap;\\n\\tuniform float aoMapIntensity;\\n#endif\";\n\nvar begin_vertex = \"vec3 transformed = vec3( position );\";\n\nvar beginnormal_vertex = \"vec3 objectNormal = vec3( normal );\\n#ifdef USE_TANGENT\\n\\tvec3 objectTangent = vec3( tangent.xyz );\\n#endif\";\n\nvar bsdfs = \"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\\n\\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\\n\\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\\n\\tvec4 r = roughness * c0 + c1;\\n\\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\\n\\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\\n}\\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\\n\\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\\n\\tif( cutoffDistance > 0.0 ) {\\n\\t\\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\\n\\t}\\n\\treturn distanceFalloff;\\n#else\\n\\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\\n\\t\\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\\n\\t}\\n\\treturn 1.0;\\n#endif\\n}\\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\\n\\treturn RECIPROCAL_PI * diffuseColor;\\n}\\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\\n\\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\\n\\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\\n}\\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\\n\\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\\n\\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\\n\\treturn Fr * fresnel + F0;\\n}\\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\treturn 1.0 / ( gl * gv );\\n}\\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\treturn 0.5 / max( gv + gl, EPSILON );\\n}\\nfloat D_GGX( const in float alpha, const in float dotNH ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\\n\\treturn RECIPROCAL_PI * a2 / pow2( denom );\\n}\\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat alpha = pow2( roughness );\\n\\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\\n\\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tfloat dotNH = saturate( dot( normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\\n\\tfloat D = D_GGX( alpha, dotNH );\\n\\treturn F * ( G * D );\\n}\\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\\n\\tconst float LUT_SIZE = 64.0;\\n\\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\\n\\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\\n\\tfloat dotNV = saturate( dot( N, V ) );\\n\\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\\n\\tuv = uv * LUT_SCALE + LUT_BIAS;\\n\\treturn uv;\\n}\\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\\n\\tfloat l = length( f );\\n\\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\\n}\\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\\n\\tfloat x = dot( v1, v2 );\\n\\tfloat y = abs( x );\\n\\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\\n\\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\\n\\tfloat v = a / b;\\n\\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\\n\\treturn cross( v1, v2 ) * theta_sintheta;\\n}\\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\\n\\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\\n\\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\\n\\tvec3 lightNormal = cross( v1, v2 );\\n\\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\\n\\tvec3 T1, T2;\\n\\tT1 = normalize( V - N * dot( V, N ) );\\n\\tT2 = - cross( N, T1 );\\n\\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\\n\\tvec3 coords[ 4 ];\\n\\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\\n\\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\\n\\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\\n\\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\\n\\tcoords[ 0 ] = normalize( coords[ 0 ] );\\n\\tcoords[ 1 ] = normalize( coords[ 1 ] );\\n\\tcoords[ 2 ] = normalize( coords[ 2 ] );\\n\\tcoords[ 3 ] = normalize( coords[ 3 ] );\\n\\tvec3 vectorFormFactor = vec3( 0.0 );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\\n\\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\\n\\treturn vec3( result );\\n}\\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\\n\\treturn specularColor * brdf.x + brdf.y;\\n}\\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\\n\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\\n\\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\\n\\tvec3 FssEss = F * brdf.x + brdf.y;\\n\\tfloat Ess = brdf.x + brdf.y;\\n\\tfloat Ems = 1.0 - Ess;\\n\\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\\n\\tsingleScatter += FssEss;\\n\\tmultiScatter += Fms * Ems;\\n}\\nfloat G_BlinnPhong_Implicit( ) {\\n\\treturn 0.25;\\n}\\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\\n\\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\\n}\\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\\n\\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\\n\\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_BlinnPhong_Implicit( );\\n\\tfloat D = D_BlinnPhong( shininess, dotNH );\\n\\treturn F * ( G * D );\\n}\\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\\n\\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\\n}\\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\\n\\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\\n}\\n#if defined( USE_SHEEN )\\nfloat D_Charlie(float roughness, float NoH) {\\n\\tfloat invAlpha = 1.0 / roughness;\\n\\tfloat cos2h = NoH * NoH;\\n\\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\\n}\\nfloat V_Neubelt(float NoV, float NoL) {\\n\\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\\n}\\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\\n\\tvec3 N = geometry.normal;\\n\\tvec3 V = geometry.viewDir;\\n\\tvec3 H = normalize( V + L );\\n\\tfloat dotNH = saturate( dot( N, H ) );\\n\\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\\n}\\n#endif\";\n\nvar bumpmap_pars_fragment = \"#ifdef USE_BUMPMAP\\n\\tuniform sampler2D bumpMap;\\n\\tuniform float bumpScale;\\n\\tvec2 dHdxy_fwd() {\\n\\t\\tvec2 dSTdx = dFdx( vUv );\\n\\t\\tvec2 dSTdy = dFdy( vUv );\\n\\t\\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\\n\\t\\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\\n\\t\\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\\n\\t\\treturn vec2( dBx, dBy );\\n\\t}\\n\\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\\n\\t\\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\\n\\t\\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\\n\\t\\tvec3 vN = surf_norm;\\n\\t\\tvec3 R1 = cross( vSigmaY, vN );\\n\\t\\tvec3 R2 = cross( vN, vSigmaX );\\n\\t\\tfloat fDet = dot( vSigmaX, R1 );\\n\\t\\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\\n\\t\\treturn normalize( abs( fDet ) * surf_norm - vGrad );\\n\\t}\\n#endif\";\n\nvar clipping_planes_fragment = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvec4 plane;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\\n\\t\\tplane = clippingPlanes[ i ];\\n\\t\\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\\n\\t\\tbool clipped = true;\\n\\t\\t#pragma unroll_loop_start\\n\\t\\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\\n\\t\\t\\tplane = clippingPlanes[ i ];\\n\\t\\t\\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\\n\\t\\t}\\n\\t\\t#pragma unroll_loop_end\\n\\t\\tif ( clipped ) discard;\\n\\t#endif\\n#endif\";\n\nvar clipping_planes_pars_fragment = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvarying vec3 vClipPosition;\\n\\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\\n#endif\";\n\nvar clipping_planes_pars_vertex = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvarying vec3 vClipPosition;\\n#endif\";\n\nvar clipping_planes_vertex = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvClipPosition = - mvPosition.xyz;\\n#endif\";\n\nvar color_fragment = \"#ifdef USE_COLOR\\n\\tdiffuseColor.rgb *= vColor;\\n#endif\";\n\nvar color_pars_fragment = \"#ifdef USE_COLOR\\n\\tvarying vec3 vColor;\\n#endif\";\n\nvar color_pars_vertex = \"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\\n\\tvarying vec3 vColor;\\n#endif\";\n\nvar color_vertex = \"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\\n\\tvColor = vec3( 1.0 );\\n#endif\\n#ifdef USE_COLOR\\n\\tvColor.xyz *= color.xyz;\\n#endif\\n#ifdef USE_INSTANCING_COLOR\\n\\tvColor.xyz *= instanceColor.xyz;\\n#endif\";\n\nvar common = \"#define PI 3.141592653589793\\n#define PI2 6.283185307179586\\n#define PI_HALF 1.5707963267948966\\n#define RECIPROCAL_PI 0.3183098861837907\\n#define RECIPROCAL_PI2 0.15915494309189535\\n#define EPSILON 1e-6\\n#ifndef saturate\\n#define saturate(a) clamp( a, 0.0, 1.0 )\\n#endif\\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\\nfloat pow2( const in float x ) { return x*x; }\\nfloat pow3( const in float x ) { return x*x*x; }\\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\\nhighp float rand( const in vec2 uv ) {\\n\\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\\n\\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\\n\\treturn fract(sin(sn) * c);\\n}\\n#ifdef HIGH_PRECISION\\n\\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\\n#else\\n\\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\\n\\tfloat precisionSafeLength( vec3 v ) {\\n\\t\\tfloat maxComponent = max3( abs( v ) );\\n\\t\\treturn length( v / maxComponent ) * maxComponent;\\n\\t}\\n#endif\\nstruct IncidentLight {\\n\\tvec3 color;\\n\\tvec3 direction;\\n\\tbool visible;\\n};\\nstruct ReflectedLight {\\n\\tvec3 directDiffuse;\\n\\tvec3 directSpecular;\\n\\tvec3 indirectDiffuse;\\n\\tvec3 indirectSpecular;\\n};\\nstruct GeometricContext {\\n\\tvec3 position;\\n\\tvec3 normal;\\n\\tvec3 viewDir;\\n#ifdef CLEARCOAT\\n\\tvec3 clearcoatNormal;\\n#endif\\n};\\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\\n}\\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\\n}\\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\tfloat distance = dot( planeNormal, point - pointOnPlane );\\n\\treturn - distance * planeNormal + point;\\n}\\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn sign( dot( point - pointOnPlane, planeNormal ) );\\n}\\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\\n}\\nmat3 transposeMat3( const in mat3 m ) {\\n\\tmat3 tmp;\\n\\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\\n\\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\\n\\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\\n\\treturn tmp;\\n}\\nfloat linearToRelativeLuminance( const in vec3 color ) {\\n\\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\\n\\treturn dot( weights, color.rgb );\\n}\\nbool isPerspectiveMatrix( mat4 m ) {\\n\\treturn m[ 2 ][ 3 ] == - 1.0;\\n}\\nvec2 equirectUv( in vec3 dir ) {\\n\\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\\n\\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\treturn vec2( u, v );\\n}\";\n\nvar cube_uv_reflection_fragment = \"#ifdef ENVMAP_TYPE_CUBE_UV\\n\\t#define cubeUV_maxMipLevel 8.0\\n\\t#define cubeUV_minMipLevel 4.0\\n\\t#define cubeUV_maxTileSize 256.0\\n\\t#define cubeUV_minTileSize 16.0\\n\\tfloat getFace( vec3 direction ) {\\n\\t\\tvec3 absDirection = abs( direction );\\n\\t\\tfloat face = - 1.0;\\n\\t\\tif ( absDirection.x > absDirection.z ) {\\n\\t\\t\\tif ( absDirection.x > absDirection.y )\\n\\t\\t\\t\\tface = direction.x > 0.0 ? 0.0 : 3.0;\\n\\t\\t\\telse\\n\\t\\t\\t\\tface = direction.y > 0.0 ? 1.0 : 4.0;\\n\\t\\t} else {\\n\\t\\t\\tif ( absDirection.z > absDirection.y )\\n\\t\\t\\t\\tface = direction.z > 0.0 ? 2.0 : 5.0;\\n\\t\\t\\telse\\n\\t\\t\\t\\tface = direction.y > 0.0 ? 1.0 : 4.0;\\n\\t\\t}\\n\\t\\treturn face;\\n\\t}\\n\\tvec2 getUV( vec3 direction, float face ) {\\n\\t\\tvec2 uv;\\n\\t\\tif ( face == 0.0 ) {\\n\\t\\t\\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\\n\\t\\t} else if ( face == 1.0 ) {\\n\\t\\t\\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\\n\\t\\t} else if ( face == 2.0 ) {\\n\\t\\t\\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\\n\\t\\t} else if ( face == 3.0 ) {\\n\\t\\t\\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\\n\\t\\t} else if ( face == 4.0 ) {\\n\\t\\t\\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\\n\\t\\t} else {\\n\\t\\t\\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\\n\\t\\t}\\n\\t\\treturn 0.5 * ( uv + 1.0 );\\n\\t}\\n\\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\\n\\t\\tfloat face = getFace( direction );\\n\\t\\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\\n\\t\\tmipInt = max( mipInt, cubeUV_minMipLevel );\\n\\t\\tfloat faceSize = exp2( mipInt );\\n\\t\\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\\n\\t\\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\\n\\t\\tvec2 f = fract( uv );\\n\\t\\tuv += 0.5 - f;\\n\\t\\tif ( face > 2.0 ) {\\n\\t\\t\\tuv.y += faceSize;\\n\\t\\t\\tface -= 3.0;\\n\\t\\t}\\n\\t\\tuv.x += face * faceSize;\\n\\t\\tif ( mipInt < cubeUV_maxMipLevel ) {\\n\\t\\t\\tuv.y += 2.0 * cubeUV_maxTileSize;\\n\\t\\t}\\n\\t\\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\\n\\t\\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\\n\\t\\tuv *= texelSize;\\n\\t\\tvec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\\n\\t\\tuv.x += texelSize;\\n\\t\\tvec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\\n\\t\\tuv.y += texelSize;\\n\\t\\tvec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\\n\\t\\tuv.x -= texelSize;\\n\\t\\tvec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\\n\\t\\tvec3 tm = mix( tl, tr, f.x );\\n\\t\\tvec3 bm = mix( bl, br, f.x );\\n\\t\\treturn mix( tm, bm, f.y );\\n\\t}\\n\\t#define r0 1.0\\n\\t#define v0 0.339\\n\\t#define m0 - 2.0\\n\\t#define r1 0.8\\n\\t#define v1 0.276\\n\\t#define m1 - 1.0\\n\\t#define r4 0.4\\n\\t#define v4 0.046\\n\\t#define m4 2.0\\n\\t#define r5 0.305\\n\\t#define v5 0.016\\n\\t#define m5 3.0\\n\\t#define r6 0.21\\n\\t#define v6 0.0038\\n\\t#define m6 4.0\\n\\tfloat roughnessToMip( float roughness ) {\\n\\t\\tfloat mip = 0.0;\\n\\t\\tif ( roughness >= r1 ) {\\n\\t\\t\\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\\n\\t\\t} else if ( roughness >= r4 ) {\\n\\t\\t\\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\\n\\t\\t} else if ( roughness >= r5 ) {\\n\\t\\t\\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\\n\\t\\t} else if ( roughness >= r6 ) {\\n\\t\\t\\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\\n\\t\\t} else {\\n\\t\\t\\tmip = - 2.0 * log2( 1.16 * roughness );\\t\\t}\\n\\t\\treturn mip;\\n\\t}\\n\\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\\n\\t\\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\\n\\t\\tfloat mipF = fract( mip );\\n\\t\\tfloat mipInt = floor( mip );\\n\\t\\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\\n\\t\\tif ( mipF == 0.0 ) {\\n\\t\\t\\treturn vec4( color0, 1.0 );\\n\\t\\t} else {\\n\\t\\t\\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\\n\\t\\t\\treturn vec4( mix( color0, color1, mipF ), 1.0 );\\n\\t\\t}\\n\\t}\\n#endif\";\n\nvar defaultnormal_vertex = \"vec3 transformedNormal = objectNormal;\\n#ifdef USE_INSTANCING\\n\\tmat3 m = mat3( instanceMatrix );\\n\\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\\n\\ttransformedNormal = m * transformedNormal;\\n#endif\\ntransformedNormal = normalMatrix * transformedNormal;\\n#ifdef FLIP_SIDED\\n\\ttransformedNormal = - transformedNormal;\\n#endif\\n#ifdef USE_TANGENT\\n\\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\\n\\t#ifdef FLIP_SIDED\\n\\t\\ttransformedTangent = - transformedTangent;\\n\\t#endif\\n#endif\";\n\nvar displacementmap_pars_vertex = \"#ifdef USE_DISPLACEMENTMAP\\n\\tuniform sampler2D displacementMap;\\n\\tuniform float displacementScale;\\n\\tuniform float displacementBias;\\n#endif\";\n\nvar displacementmap_vertex = \"#ifdef USE_DISPLACEMENTMAP\\n\\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\\n#endif\";\n\nvar emissivemap_fragment = \"#ifdef USE_EMISSIVEMAP\\n\\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\\n\\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\\n\\ttotalEmissiveRadiance *= emissiveColor.rgb;\\n#endif\";\n\nvar emissivemap_pars_fragment = \"#ifdef USE_EMISSIVEMAP\\n\\tuniform sampler2D emissiveMap;\\n#endif\";\n\nvar encodings_fragment = \"gl_FragColor = linearToOutputTexel( gl_FragColor );\";\n\nvar encodings_pars_fragment = \"\\nvec4 LinearToLinear( in vec4 value ) {\\n\\treturn value;\\n}\\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\\n}\\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\\n}\\nvec4 sRGBToLinear( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\\n}\\nvec4 LinearTosRGB( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\\n}\\nvec4 RGBEToLinear( in vec4 value ) {\\n\\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\\n}\\nvec4 LinearToRGBE( in vec4 value ) {\\n\\tfloat maxComponent = max( max( value.r, value.g ), value.b );\\n\\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\\n\\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\\n}\\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\\n}\\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\\n\\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\\n\\tM = ceil( M * 255.0 ) / 255.0;\\n\\treturn vec4( value.rgb / ( M * maxRange ), M );\\n}\\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\\n}\\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\\n\\tfloat D = max( maxRange / maxRGB, 1.0 );\\n\\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\\n\\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\\n}\\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\\nvec4 LinearToLogLuv( in vec4 value ) {\\n\\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\\n\\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\\n\\tvec4 vResult;\\n\\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\\n\\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\\n\\tvResult.w = fract( Le );\\n\\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\\n\\treturn vResult;\\n}\\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\\nvec4 LogLuvToLinear( in vec4 value ) {\\n\\tfloat Le = value.z * 255.0 + value.w;\\n\\tvec3 Xp_Y_XYZp;\\n\\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\\n\\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\\n\\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\\n\\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\\n\\treturn vec4( max( vRGB, 0.0 ), 1.0 );\\n}\";\n\nvar envmap_fragment = \"#ifdef USE_ENVMAP\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvec3 cameraToFrag;\\n\\t\\tif ( isOrthographic ) {\\n\\t\\t\\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\\n\\t\\t} else {\\n\\t\\t\\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\\n\\t\\t}\\n\\t\\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#else\\n\\t\\tvec3 reflectVec = vReflect;\\n\\t#endif\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\\n\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\\n\\t#else\\n\\t\\tvec4 envColor = vec4( 0.0 );\\n\\t#endif\\n\\t#ifndef ENVMAP_TYPE_CUBE_UV\\n\\t\\tenvColor = envMapTexelToLinear( envColor );\\n\\t#endif\\n\\t#ifdef ENVMAP_BLENDING_MULTIPLY\\n\\t\\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_MIX )\\n\\t\\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_ADD )\\n\\t\\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\\n\\t#endif\\n#endif\";\n\nvar envmap_common_pars_fragment = \"#ifdef USE_ENVMAP\\n\\tuniform float envMapIntensity;\\n\\tuniform float flipEnvMap;\\n\\tuniform int maxMipLevel;\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tuniform samplerCube envMap;\\n\\t#else\\n\\t\\tuniform sampler2D envMap;\\n\\t#endif\\n\\t\\n#endif\";\n\nvar envmap_pars_fragment = \"#ifdef USE_ENVMAP\\n\\tuniform float reflectivity;\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\t#define ENV_WORLDPOS\\n\\t#endif\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t\\tuniform float refractionRatio;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t#endif\\n#endif\";\n\nvar envmap_pars_vertex = \"#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\\n\\t\\t#define ENV_WORLDPOS\\n\\t#endif\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\t\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n#endif\";\n\nvar envmap_vertex = \"#ifdef USE_ENVMAP\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvWorldPosition = worldPosition.xyz;\\n\\t#else\\n\\t\\tvec3 cameraToVertex;\\n\\t\\tif ( isOrthographic ) {\\n\\t\\t\\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\\n\\t\\t} else {\\n\\t\\t\\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\\n\\t\\t}\\n\\t\\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvReflect = reflect( cameraToVertex, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#endif\\n#endif\";\n\nvar fog_vertex = \"#ifdef USE_FOG\\n\\tfogDepth = - mvPosition.z;\\n#endif\";\n\nvar fog_pars_vertex = \"#ifdef USE_FOG\\n\\tvarying float fogDepth;\\n#endif\";\n\nvar fog_fragment = \"#ifdef USE_FOG\\n\\t#ifdef FOG_EXP2\\n\\t\\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\\n\\t#else\\n\\t\\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\\n\\t#endif\\n\\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\\n#endif\";\n\nvar fog_pars_fragment = \"#ifdef USE_FOG\\n\\tuniform vec3 fogColor;\\n\\tvarying float fogDepth;\\n\\t#ifdef FOG_EXP2\\n\\t\\tuniform float fogDensity;\\n\\t#else\\n\\t\\tuniform float fogNear;\\n\\t\\tuniform float fogFar;\\n\\t#endif\\n#endif\";\n\nvar gradientmap_pars_fragment = \"#ifdef USE_GRADIENTMAP\\n\\tuniform sampler2D gradientMap;\\n#endif\\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\\n\\tfloat dotNL = dot( normal, lightDirection );\\n\\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\\n\\t#ifdef USE_GRADIENTMAP\\n\\t\\treturn texture2D( gradientMap, coord ).rgb;\\n\\t#else\\n\\t\\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\\n\\t#endif\\n}\";\n\nvar lightmap_fragment = \"#ifdef USE_LIGHTMAP\\n\\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\\n\\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\\n#endif\";\n\nvar lightmap_pars_fragment = \"#ifdef USE_LIGHTMAP\\n\\tuniform sampler2D lightMap;\\n\\tuniform float lightMapIntensity;\\n#endif\";\n\nvar lights_lambert_vertex = \"vec3 diffuse = vec3( 1.0 );\\nGeometricContext geometry;\\ngeometry.position = mvPosition.xyz;\\ngeometry.normal = normalize( transformedNormal );\\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\\nGeometricContext backGeometry;\\nbackGeometry.position = geometry.position;\\nbackGeometry.normal = -geometry.normal;\\nbackGeometry.viewDir = geometry.viewDir;\\nvLightFront = vec3( 0.0 );\\nvIndirectFront = vec3( 0.0 );\\n#ifdef DOUBLE_SIDED\\n\\tvLightBack = vec3( 0.0 );\\n\\tvIndirectBack = vec3( 0.0 );\\n#endif\\nIncidentLight directLight;\\nfloat dotNL;\\nvec3 directLightColor_Diffuse;\\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\\n#ifdef DOUBLE_SIDED\\n\\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\\n\\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\\n#endif\\n#if NUM_POINT_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if NUM_DIR_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\";\n\nvar lights_pars_begin = \"uniform bool receiveShadow;\\nuniform vec3 ambientLightColor;\\nuniform vec3 lightProbe[ 9 ];\\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\\n\\tfloat x = normal.x, y = normal.y, z = normal.z;\\n\\tvec3 result = shCoefficients[ 0 ] * 0.886227;\\n\\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\\n\\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\\n\\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\\n\\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\\n\\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\\n\\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\\n\\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\\n\\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\\n\\treturn result;\\n}\\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\\n\\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\\n\\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\\n\\treturn irradiance;\\n}\\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\\n\\tvec3 irradiance = ambientLightColor;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treturn irradiance;\\n}\\n#if NUM_DIR_LIGHTS > 0\\n\\tstruct DirectionalLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t};\\n\\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\\n\\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tdirectLight.color = directionalLight.color;\\n\\t\\tdirectLight.direction = directionalLight.direction;\\n\\t\\tdirectLight.visible = true;\\n\\t}\\n#endif\\n#if NUM_POINT_LIGHTS > 0\\n\\tstruct PointLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t};\\n\\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\\n\\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tvec3 lVector = pointLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tdirectLight.color = pointLight.color;\\n\\t\\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\\n\\t\\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\\n\\t}\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\tstruct SpotLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t\\tfloat coneCos;\\n\\t\\tfloat penumbraCos;\\n\\t};\\n\\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\\n\\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tvec3 lVector = spotLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tfloat angleCos = dot( directLight.direction, spotLight.direction );\\n\\t\\tif ( angleCos > spotLight.coneCos ) {\\n\\t\\t\\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\\n\\t\\t\\tdirectLight.color = spotLight.color;\\n\\t\\t\\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\\n\\t\\t\\tdirectLight.visible = true;\\n\\t\\t} else {\\n\\t\\t\\tdirectLight.color = vec3( 0.0 );\\n\\t\\t\\tdirectLight.visible = false;\\n\\t\\t}\\n\\t}\\n#endif\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tstruct RectAreaLight {\\n\\t\\tvec3 color;\\n\\t\\tvec3 position;\\n\\t\\tvec3 halfWidth;\\n\\t\\tvec3 halfHeight;\\n\\t};\\n\\tuniform sampler2D ltc_1;\\tuniform sampler2D ltc_2;\\n\\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\tstruct HemisphereLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 skyColor;\\n\\t\\tvec3 groundColor;\\n\\t};\\n\\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\\n\\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\\n\\t\\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\\n\\t\\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\\n\\t\\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tirradiance *= PI;\\n\\t\\t#endif\\n\\t\\treturn irradiance;\\n\\t}\\n#endif\";\n\nvar envmap_physical_pars_fragment = \"#if defined( USE_ENVMAP )\\n\\t#ifdef ENVMAP_MODE_REFRACTION\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n\\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\\n\\t\\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\\n\\t\\t#else\\n\\t\\t\\tvec4 envMapColor = vec4( 0.0 );\\n\\t\\t#endif\\n\\t\\treturn PI * envMapColor.rgb * envMapIntensity;\\n\\t}\\n\\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\\n\\t\\tfloat maxMIPLevelScalar = float( maxMIPLevel );\\n\\t\\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\\n\\t\\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\\n\\t\\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\\n\\t}\\n\\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( -viewDir, normal );\\n\\t\\t\\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( -viewDir, normal, refractionRatio );\\n\\t\\t#endif\\n\\t\\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\\n\\t\\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\\n\\t\\t#endif\\n\\t\\treturn envMapColor.rgb * envMapIntensity;\\n\\t}\\n#endif\";\n\nvar lights_toon_fragment = \"ToonMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\";\n\nvar lights_toon_pars_fragment = \"varying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\nstruct ToonMaterial {\\n\\tvec3 diffuseColor;\\n};\\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Toon\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Toon\\n#define Material_LightProbeLOD( material )\\t(0)\";\n\nvar lights_phong_fragment = \"BlinnPhongMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\\nmaterial.specularColor = specular;\\nmaterial.specularShininess = shininess;\\nmaterial.specularStrength = specularStrength;\";\n\nvar lights_phong_pars_fragment = \"varying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\nstruct BlinnPhongMaterial {\\n\\tvec3 diffuseColor;\\n\\tvec3 specularColor;\\n\\tfloat specularShininess;\\n\\tfloat specularStrength;\\n};\\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n\\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\\n}\\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_BlinnPhong\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_BlinnPhong\\n#define Material_LightProbeLOD( material )\\t(0)\";\n\nvar lights_physical_fragment = \"PhysicalMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\\n#ifdef REFLECTIVITY\\n\\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\\n#else\\n\\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\\n#endif\\n#ifdef CLEARCOAT\\n\\tmaterial.clearcoat = clearcoat;\\n\\tmaterial.clearcoatRoughness = clearcoatRoughness;\\n\\t#ifdef USE_CLEARCOATMAP\\n\\t\\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\\n\\t#endif\\n\\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\\n\\t\\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\\n\\t#endif\\n\\tmaterial.clearcoat = saturate( material.clearcoat );\\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\\n\\tmaterial.clearcoatRoughness += geometryRoughness;\\n\\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\\n#endif\\n#ifdef USE_SHEEN\\n\\tmaterial.sheenColor = sheen;\\n#endif\";\n\nvar lights_physical_pars_fragment = \"struct PhysicalMaterial {\\n\\tvec3 diffuseColor;\\n\\tfloat specularRoughness;\\n\\tvec3 specularColor;\\n#ifdef CLEARCOAT\\n\\tfloat clearcoat;\\n\\tfloat clearcoatRoughness;\\n#endif\\n#ifdef USE_SHEEN\\n\\tvec3 sheenColor;\\n#endif\\n};\\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\\n\\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\\n}\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t\\tvec3 normal = geometry.normal;\\n\\t\\tvec3 viewDir = geometry.viewDir;\\n\\t\\tvec3 position = geometry.position;\\n\\t\\tvec3 lightPos = rectAreaLight.position;\\n\\t\\tvec3 halfWidth = rectAreaLight.halfWidth;\\n\\t\\tvec3 halfHeight = rectAreaLight.halfHeight;\\n\\t\\tvec3 lightColor = rectAreaLight.color;\\n\\t\\tfloat roughness = material.specularRoughness;\\n\\t\\tvec3 rectCoords[ 4 ];\\n\\t\\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\\t\\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\\n\\t\\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\\n\\t\\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\\n\\t\\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\\n\\t\\tvec4 t1 = texture2D( ltc_1, uv );\\n\\t\\tvec4 t2 = texture2D( ltc_2, uv );\\n\\t\\tmat3 mInv = mat3(\\n\\t\\t\\tvec3( t1.x, 0, t1.y ),\\n\\t\\t\\tvec3(    0, 1,    0 ),\\n\\t\\t\\tvec3( t1.z, 0, t1.w )\\n\\t\\t);\\n\\t\\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\\n\\t\\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\\n\\t\\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\\n\\t}\\n#endif\\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\t#ifdef CLEARCOAT\\n\\t\\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\\n\\t\\tvec3 ccIrradiance = ccDotNL * directLight.color;\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tccIrradiance *= PI;\\n\\t\\t#endif\\n\\t\\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\\n\\t\\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\\n\\t#else\\n\\t\\tfloat clearcoatDHR = 0.0;\\n\\t#endif\\n\\t#ifdef USE_SHEEN\\n\\t\\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\\n\\t\\t\\tmaterial.specularRoughness,\\n\\t\\t\\tdirectLight.direction,\\n\\t\\t\\tgeometry,\\n\\t\\t\\tmaterial.sheenColor\\n\\t\\t);\\n\\t#else\\n\\t\\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\\n\\t#endif\\n\\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\\n\\t#ifdef CLEARCOAT\\n\\t\\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\\n\\t\\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\\n\\t\\tfloat ccDotNL = ccDotNV;\\n\\t\\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\\n\\t#else\\n\\t\\tfloat clearcoatDHR = 0.0;\\n\\t#endif\\n\\tfloat clearcoatInv = 1.0 - clearcoatDHR;\\n\\tvec3 singleScattering = vec3( 0.0 );\\n\\tvec3 multiScattering = vec3( 0.0 );\\n\\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\\n\\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\\n\\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\\n\\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\\n\\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\\n\\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Physical\\n#define RE_Direct_RectArea\\t\\tRE_Direct_RectArea_Physical\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Physical\\n#define RE_IndirectSpecular\\t\\tRE_IndirectSpecular_Physical\\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\\n\\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\\n}\";\n\nvar lights_fragment_begin = \"\\nGeometricContext geometry;\\ngeometry.position = - vViewPosition;\\ngeometry.normal = normal;\\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\\n#ifdef CLEARCOAT\\n\\tgeometry.clearcoatNormal = clearcoatNormal;\\n#endif\\nIncidentLight directLight;\\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tPointLight pointLight;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\\n\\tPointLightShadow pointLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tpointLight = pointLights[ i ];\\n\\t\\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\\n\\t\\tpointLightShadow = pointLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tSpotLight spotLight;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\\n\\tSpotLightShadow spotLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tspotLight = spotLights[ i ];\\n\\t\\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\\n\\t\\tspotLightShadow = spotLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tDirectionalLight directionalLight;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\\n\\tDirectionalLightShadow directionalLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLights[ i ];\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\\n\\t\\tdirectionalLightShadow = directionalLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\\n\\tRectAreaLight rectAreaLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\\n\\t\\trectAreaLight = rectAreaLights[ i ];\\n\\t\\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if defined( RE_IndirectDiffuse )\\n\\tvec3 iblIrradiance = vec3( 0.0 );\\n\\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\\n\\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\\n\\t#if ( NUM_HEMI_LIGHTS > 0 )\\n\\t\\t#pragma unroll_loop_start\\n\\t\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\t\\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t}\\n\\t\\t#pragma unroll_loop_end\\n\\t#endif\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tvec3 radiance = vec3( 0.0 );\\n\\tvec3 clearcoatRadiance = vec3( 0.0 );\\n#endif\";\n\nvar lights_fragment_maps = \"#if defined( RE_IndirectDiffuse )\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\\n\\t\\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tlightMapIrradiance *= PI;\\n\\t\\t#endif\\n\\t\\tirradiance += lightMapIrradiance;\\n\\t#endif\\n\\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\\n\\t#endif\\n#endif\\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\\n\\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\\n\\t#ifdef CLEARCOAT\\n\\t\\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\\n\\t#endif\\n#endif\";\n\nvar lights_fragment_end = \"#if defined( RE_IndirectDiffuse )\\n\\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\\n#endif\";\n\nvar logdepthbuf_fragment = \"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\\n#endif\";\n\nvar logdepthbuf_pars_fragment = \"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tuniform float logDepthBufFC;\\n\\tvarying float vFragDepth;\\n\\tvarying float vIsPerspective;\\n#endif\";\n\nvar logdepthbuf_pars_vertex = \"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvarying float vFragDepth;\\n\\t\\tvarying float vIsPerspective;\\n\\t#else\\n\\t\\tuniform float logDepthBufFC;\\n\\t#endif\\n#endif\";\n\nvar logdepthbuf_vertex = \"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvFragDepth = 1.0 + gl_Position.w;\\n\\t\\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\\n\\t#else\\n\\t\\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\\n\\t\\t\\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\\n\\t\\t\\tgl_Position.z *= gl_Position.w;\\n\\t\\t}\\n\\t#endif\\n#endif\";\n\nvar map_fragment = \"#ifdef USE_MAP\\n\\tvec4 texelColor = texture2D( map, vUv );\\n\\ttexelColor = mapTexelToLinear( texelColor );\\n\\tdiffuseColor *= texelColor;\\n#endif\";\n\nvar map_pars_fragment = \"#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\";\n\nvar map_particle_fragment = \"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\\n\\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\\n#endif\\n#ifdef USE_MAP\\n\\tvec4 mapTexel = texture2D( map, uv );\\n\\tdiffuseColor *= mapTexelToLinear( mapTexel );\\n#endif\\n#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\\n#endif\";\n\nvar map_particle_pars_fragment = \"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\\n\\tuniform mat3 uvTransform;\\n#endif\\n#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\\n#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\";\n\nvar metalnessmap_fragment = \"float metalnessFactor = metalness;\\n#ifdef USE_METALNESSMAP\\n\\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\\n\\tmetalnessFactor *= texelMetalness.b;\\n#endif\";\n\nvar metalnessmap_pars_fragment = \"#ifdef USE_METALNESSMAP\\n\\tuniform sampler2D metalnessMap;\\n#endif\";\n\nvar morphnormal_vertex = \"#ifdef USE_MORPHNORMALS\\n\\tobjectNormal *= morphTargetBaseInfluence;\\n\\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\\n\\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\\n\\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\\n\\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\\n#endif\";\n\nvar morphtarget_pars_vertex = \"#ifdef USE_MORPHTARGETS\\n\\tuniform float morphTargetBaseInfluence;\\n\\t#ifndef USE_MORPHNORMALS\\n\\t\\tuniform float morphTargetInfluences[ 8 ];\\n\\t#else\\n\\t\\tuniform float morphTargetInfluences[ 4 ];\\n\\t#endif\\n#endif\";\n\nvar morphtarget_vertex = \"#ifdef USE_MORPHTARGETS\\n\\ttransformed *= morphTargetBaseInfluence;\\n\\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\\n\\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\\n\\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\\n\\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\\n\\t#ifndef USE_MORPHNORMALS\\n\\t\\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\\n\\t\\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\\n\\t\\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\\n\\t\\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\\n\\t#endif\\n#endif\";\n\nvar normal_fragment_begin = \"#ifdef FLAT_SHADED\\n\\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\\n\\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\\n\\tvec3 normal = normalize( cross( fdx, fdy ) );\\n#else\\n\\tvec3 normal = normalize( vNormal );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t#endif\\n\\t#ifdef USE_TANGENT\\n\\t\\tvec3 tangent = normalize( vTangent );\\n\\t\\tvec3 bitangent = normalize( vBitangent );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\t\\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\t#endif\\n\\t\\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\\n\\t\\t\\tmat3 vTBN = mat3( tangent, bitangent, normal );\\n\\t\\t#endif\\n\\t#endif\\n#endif\\nvec3 geometryNormal = normal;\";\n\nvar normal_fragment_maps = \"#ifdef OBJECTSPACE_NORMALMAP\\n\\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\t#ifdef FLIP_SIDED\\n\\t\\tnormal = - normal;\\n\\t#endif\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t#endif\\n\\tnormal = normalize( normalMatrix * normal );\\n#elif defined( TANGENTSPACE_NORMALMAP )\\n\\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\tmapN.xy *= normalScale;\\n\\t#ifdef USE_TANGENT\\n\\t\\tnormal = normalize( vTBN * mapN );\\n\\t#else\\n\\t\\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN );\\n\\t#endif\\n#elif defined( USE_BUMPMAP )\\n\\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\\n#endif\";\n\nvar normalmap_pars_fragment = \"#ifdef USE_NORMALMAP\\n\\tuniform sampler2D normalMap;\\n\\tuniform vec2 normalScale;\\n#endif\\n#ifdef OBJECTSPACE_NORMALMAP\\n\\tuniform mat3 normalMatrix;\\n#endif\\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\\n\\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {\\n\\t\\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\\n\\t\\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\\n\\t\\tvec2 st0 = dFdx( vUv.st );\\n\\t\\tvec2 st1 = dFdy( vUv.st );\\n\\t\\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\\n\\t\\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\\n\\t\\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\\n\\t\\tvec3 N = normalize( surf_norm );\\n\\t\\tmat3 tsn = mat3( S, T, N );\\n\\t\\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\treturn normalize( tsn * mapN );\\n\\t}\\n#endif\";\n\nvar clearcoat_normal_fragment_begin = \"#ifdef CLEARCOAT\\n\\tvec3 clearcoatNormal = geometryNormal;\\n#endif\";\n\nvar clearcoat_normal_fragment_maps = \"#ifdef USE_CLEARCOAT_NORMALMAP\\n\\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\\n\\tclearcoatMapN.xy *= clearcoatNormalScale;\\n\\t#ifdef USE_TANGENT\\n\\t\\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\\n\\t#else\\n\\t\\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );\\n\\t#endif\\n#endif\";\n\nvar clearcoat_pars_fragment = \"#ifdef USE_CLEARCOATMAP\\n\\tuniform sampler2D clearcoatMap;\\n#endif\\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\\n\\tuniform sampler2D clearcoatRoughnessMap;\\n#endif\\n#ifdef USE_CLEARCOAT_NORMALMAP\\n\\tuniform sampler2D clearcoatNormalMap;\\n\\tuniform vec2 clearcoatNormalScale;\\n#endif\";\n\nvar packing = \"vec3 packNormalToRGB( const in vec3 normal ) {\\n\\treturn normalize( normal ) * 0.5 + 0.5;\\n}\\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\\n\\treturn 2.0 * rgb.xyz - 1.0;\\n}\\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\\nconst float ShiftRight8 = 1. / 256.;\\nvec4 packDepthToRGBA( const in float v ) {\\n\\tvec4 r = vec4( fract( v * PackFactors ), v );\\n\\tr.yzw -= r.xyz * ShiftRight8;\\treturn r * PackUpscale;\\n}\\nfloat unpackRGBAToDepth( const in vec4 v ) {\\n\\treturn dot( v, UnpackFactors );\\n}\\nvec4 pack2HalfToRGBA( vec2 v ) {\\n\\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\\n\\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\\n}\\nvec2 unpackRGBATo2Half( vec4 v ) {\\n\\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\\n}\\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn ( viewZ + near ) / ( near - far );\\n}\\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\\n\\treturn linearClipZ * ( near - far ) - near;\\n}\\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\\n}\\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\\n\\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\\n}\";\n\nvar premultiplied_alpha_fragment = \"#ifdef PREMULTIPLIED_ALPHA\\n\\tgl_FragColor.rgb *= gl_FragColor.a;\\n#endif\";\n\nvar project_vertex = \"vec4 mvPosition = vec4( transformed, 1.0 );\\n#ifdef USE_INSTANCING\\n\\tmvPosition = instanceMatrix * mvPosition;\\n#endif\\nmvPosition = modelViewMatrix * mvPosition;\\ngl_Position = projectionMatrix * mvPosition;\";\n\nvar dithering_fragment = \"#ifdef DITHERING\\n\\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\\n#endif\";\n\nvar dithering_pars_fragment = \"#ifdef DITHERING\\n\\tvec3 dithering( vec3 color ) {\\n\\t\\tfloat grid_position = rand( gl_FragCoord.xy );\\n\\t\\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\\n\\t\\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\\n\\t\\treturn color + dither_shift_RGB;\\n\\t}\\n#endif\";\n\nvar roughnessmap_fragment = \"float roughnessFactor = roughness;\\n#ifdef USE_ROUGHNESSMAP\\n\\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\\n\\troughnessFactor *= texelRoughness.g;\\n#endif\";\n\nvar roughnessmap_pars_fragment = \"#ifdef USE_ROUGHNESSMAP\\n\\tuniform sampler2D roughnessMap;\\n#endif\";\n\nvar shadowmap_pars_fragment = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tstruct DirectionalLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tstruct SpotLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tstruct PointLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t\\tfloat shadowCameraNear;\\n\\t\\t\\tfloat shadowCameraFar;\\n\\t\\t};\\n\\t\\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\\n\\t\\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\\n\\t}\\n\\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\\n\\t\\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\\n\\t}\\n\\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\\n\\t\\tfloat occlusion = 1.0;\\n\\t\\tvec2 distribution = texture2DDistribution( shadow, uv );\\n\\t\\tfloat hard_shadow = step( compare , distribution.x );\\n\\t\\tif (hard_shadow != 1.0 ) {\\n\\t\\t\\tfloat distance = compare - distribution.x ;\\n\\t\\t\\tfloat variance = max( 0.00000, distribution.y * distribution.y );\\n\\t\\t\\tfloat softness_probability = variance / (variance + distance * distance );\\t\\t\\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\\t\\t\\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\\n\\t\\t}\\n\\t\\treturn occlusion;\\n\\t}\\n\\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\\n\\t\\tfloat shadow = 1.0;\\n\\t\\tshadowCoord.xyz /= shadowCoord.w;\\n\\t\\tshadowCoord.z += shadowBias;\\n\\t\\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\\n\\t\\tbool inFrustum = all( inFrustumVec );\\n\\t\\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\\n\\t\\tbool frustumTest = all( frustumTestVec );\\n\\t\\tif ( frustumTest ) {\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx0 = - texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy0 = - texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx1 = + texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy1 = + texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx2 = dx0 / 2.0;\\n\\t\\t\\tfloat dy2 = dy0 / 2.0;\\n\\t\\t\\tfloat dx3 = dx1 / 2.0;\\n\\t\\t\\tfloat dy3 = dy1 / 2.0;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\n\\t\\t\\t) * ( 1.0 / 17.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx = texelSize.x;\\n\\t\\t\\tfloat dy = texelSize.y;\\n\\t\\t\\tvec2 uv = shadowCoord.xy;\\n\\t\\t\\tvec2 f = fract( uv * shadowMapSize + 0.5 );\\n\\t\\t\\tuv -= f * texelSize;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.x ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.x ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.y ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.y ) +\\n\\t\\t\\t\\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t\\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t\\t  f.x ),\\n\\t\\t\\t\\t\\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t\\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t\\t  f.x ),\\n\\t\\t\\t\\t\\t f.y )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_VSM )\\n\\t\\t\\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#else\\n\\t\\t\\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#endif\\n\\t\\t}\\n\\t\\treturn shadow;\\n\\t}\\n\\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\\n\\t\\tvec3 absV = abs( v );\\n\\t\\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\\n\\t\\tabsV *= scaleToCube;\\n\\t\\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\\n\\t\\tvec2 planar = v.xy;\\n\\t\\tfloat almostATexel = 1.5 * texelSizeY;\\n\\t\\tfloat almostOne = 1.0 - almostATexel;\\n\\t\\tif ( absV.z >= almostOne ) {\\n\\t\\t\\tif ( v.z > 0.0 )\\n\\t\\t\\t\\tplanar.x = 4.0 - v.x;\\n\\t\\t} else if ( absV.x >= almostOne ) {\\n\\t\\t\\tfloat signX = sign( v.x );\\n\\t\\t\\tplanar.x = v.z * signX + 2.0 * signX;\\n\\t\\t} else if ( absV.y >= almostOne ) {\\n\\t\\t\\tfloat signY = sign( v.y );\\n\\t\\t\\tplanar.x = v.x + 2.0 * signY + 2.0;\\n\\t\\t\\tplanar.y = v.z * signY - 2.0;\\n\\t\\t}\\n\\t\\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\\n\\t}\\n\\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\\n\\t\\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\\n\\t\\tvec3 lightToPosition = shadowCoord.xyz;\\n\\t\\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\\t\\tdp += shadowBias;\\n\\t\\tvec3 bd3D = normalize( lightToPosition );\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\\n\\t\\t\\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\\n\\t\\t\\treturn (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#else\\n\\t\\t\\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\\n\\t\\t#endif\\n\\t}\\n#endif\";\n\nvar shadowmap_pars_vertex = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tstruct DirectionalLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tstruct SpotLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tstruct PointLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t\\tfloat shadowCameraNear;\\n\\t\\t\\tfloat shadowCameraFar;\\n\\t\\t};\\n\\t\\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t#endif\\n#endif\";\n\nvar shadowmap_vertex = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\n\\t\\tvec4 shadowWorldPosition;\\n\\t#endif\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\\n\\t\\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\\n\\t\\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\\n\\t\\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n#endif\";\n\nvar shadowmask_pars_fragment = \"float getShadowMask() {\\n\\tfloat shadow = 1.0;\\n\\t#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\tDirectionalLightShadow directionalLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\tSpotLightShadow spotLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tspotLight = spotLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\tPointLightShadow pointLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tpointLight = pointLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#endif\\n\\treturn shadow;\\n}\";\n\nvar skinbase_vertex = \"#ifdef USE_SKINNING\\n\\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\\n\\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\\n\\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\\n\\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\\n#endif\";\n\nvar skinning_pars_vertex = \"#ifdef USE_SKINNING\\n\\tuniform mat4 bindMatrix;\\n\\tuniform mat4 bindMatrixInverse;\\n\\t#ifdef BONE_TEXTURE\\n\\t\\tuniform highp sampler2D boneTexture;\\n\\t\\tuniform int boneTextureSize;\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tfloat j = i * 4.0;\\n\\t\\t\\tfloat x = mod( j, float( boneTextureSize ) );\\n\\t\\t\\tfloat y = floor( j / float( boneTextureSize ) );\\n\\t\\t\\tfloat dx = 1.0 / float( boneTextureSize );\\n\\t\\t\\tfloat dy = 1.0 / float( boneTextureSize );\\n\\t\\t\\ty = dy * ( y + 0.5 );\\n\\t\\t\\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\\n\\t\\t\\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\\n\\t\\t\\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\\n\\t\\t\\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\\n\\t\\t\\tmat4 bone = mat4( v1, v2, v3, v4 );\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#else\\n\\t\\tuniform mat4 boneMatrices[ MAX_BONES ];\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tmat4 bone = boneMatrices[ int(i) ];\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#endif\\n#endif\";\n\nvar skinning_vertex = \"#ifdef USE_SKINNING\\n\\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\\n\\tvec4 skinned = vec4( 0.0 );\\n\\tskinned += boneMatX * skinVertex * skinWeight.x;\\n\\tskinned += boneMatY * skinVertex * skinWeight.y;\\n\\tskinned += boneMatZ * skinVertex * skinWeight.z;\\n\\tskinned += boneMatW * skinVertex * skinWeight.w;\\n\\ttransformed = ( bindMatrixInverse * skinned ).xyz;\\n#endif\";\n\nvar skinnormal_vertex = \"#ifdef USE_SKINNING\\n\\tmat4 skinMatrix = mat4( 0.0 );\\n\\tskinMatrix += skinWeight.x * boneMatX;\\n\\tskinMatrix += skinWeight.y * boneMatY;\\n\\tskinMatrix += skinWeight.z * boneMatZ;\\n\\tskinMatrix += skinWeight.w * boneMatW;\\n\\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\\n\\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\\n\\t#ifdef USE_TANGENT\\n\\t\\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\\n\\t#endif\\n#endif\";\n\nvar specularmap_fragment = \"float specularStrength;\\n#ifdef USE_SPECULARMAP\\n\\tvec4 texelSpecular = texture2D( specularMap, vUv );\\n\\tspecularStrength = texelSpecular.r;\\n#else\\n\\tspecularStrength = 1.0;\\n#endif\";\n\nvar specularmap_pars_fragment = \"#ifdef USE_SPECULARMAP\\n\\tuniform sampler2D specularMap;\\n#endif\";\n\nvar tonemapping_fragment = \"#if defined( TONE_MAPPING )\\n\\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\\n#endif\";\n\nvar tonemapping_pars_fragment = \"#ifndef saturate\\n#define saturate(a) clamp( a, 0.0, 1.0 )\\n#endif\\nuniform float toneMappingExposure;\\nvec3 LinearToneMapping( vec3 color ) {\\n\\treturn toneMappingExposure * color;\\n}\\nvec3 ReinhardToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( color / ( vec3( 1.0 ) + color ) );\\n}\\nvec3 OptimizedCineonToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\tcolor = max( vec3( 0.0 ), color - 0.004 );\\n\\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\\n}\\nvec3 RRTAndODTFit( vec3 v ) {\\n\\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\\n\\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\\n\\treturn a / b;\\n}\\nvec3 ACESFilmicToneMapping( vec3 color ) {\\n\\tconst mat3 ACESInputMat = mat3(\\n\\t\\tvec3( 0.59719, 0.07600, 0.02840 ),\\t\\tvec3( 0.35458, 0.90834, 0.13383 ),\\n\\t\\tvec3( 0.04823, 0.01566, 0.83777 )\\n\\t);\\n\\tconst mat3 ACESOutputMat = mat3(\\n\\t\\tvec3(  1.60475, -0.10208, -0.00327 ),\\t\\tvec3( -0.53108,  1.10813, -0.07276 ),\\n\\t\\tvec3( -0.07367, -0.00605,  1.07602 )\\n\\t);\\n\\tcolor *= toneMappingExposure / 0.6;\\n\\tcolor = ACESInputMat * color;\\n\\tcolor = RRTAndODTFit( color );\\n\\tcolor = ACESOutputMat * color;\\n\\treturn saturate( color );\\n}\\nvec3 CustomToneMapping( vec3 color ) { return color; }\";\n\nvar transmissionmap_fragment = \"#ifdef USE_TRANSMISSIONMAP\\n\\ttotalTransmission *= texture2D( transmissionMap, vUv ).r;\\n#endif\";\n\nvar transmissionmap_pars_fragment = \"#ifdef USE_TRANSMISSIONMAP\\n\\tuniform sampler2D transmissionMap;\\n#endif\";\n\nvar uv_pars_fragment = \"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\\n\\tvarying vec2 vUv;\\n#endif\";\n\nvar uv_pars_vertex = \"#ifdef USE_UV\\n\\t#ifdef UVS_VERTEX_ONLY\\n\\t\\tvec2 vUv;\\n\\t#else\\n\\t\\tvarying vec2 vUv;\\n\\t#endif\\n\\tuniform mat3 uvTransform;\\n#endif\";\n\nvar uv_vertex = \"#ifdef USE_UV\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n#endif\";\n\nvar uv2_pars_fragment = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvarying vec2 vUv2;\\n#endif\";\n\nvar uv2_pars_vertex = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tattribute vec2 uv2;\\n\\tvarying vec2 vUv2;\\n\\tuniform mat3 uv2Transform;\\n#endif\";\n\nvar uv2_vertex = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\\n#endif\";\n\nvar worldpos_vertex = \"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\\n\\tvec4 worldPosition = vec4( transformed, 1.0 );\\n\\t#ifdef USE_INSTANCING\\n\\t\\tworldPosition = instanceMatrix * worldPosition;\\n\\t#endif\\n\\tworldPosition = modelMatrix * worldPosition;\\n#endif\";\n\nvar background_frag = \"uniform sampler2D t2D;\\nvarying vec2 vUv;\\nvoid main() {\\n\\tvec4 texColor = texture2D( t2D, vUv );\\n\\tgl_FragColor = mapTexelToLinear( texColor );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\nvar background_vert = \"varying vec2 vUv;\\nuniform mat3 uvTransform;\\nvoid main() {\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n\\tgl_Position = vec4( position.xy, 1.0, 1.0 );\\n}\";\n\nvar cube_frag = \"#include <envmap_common_pars_fragment>\\nuniform float opacity;\\nvarying vec3 vWorldDirection;\\n#include <cube_uv_reflection_fragment>\\nvoid main() {\\n\\tvec3 vReflect = vWorldDirection;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = envColor;\\n\\tgl_FragColor.a *= opacity;\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\nvar cube_vert = \"varying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\tgl_Position.z = gl_Position.w;\\n}\";\n\nvar depth_frag = \"#if DEPTH_PACKING == 3200\\n\\tuniform float opacity;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvarying vec2 vHighPrecisionZW;\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tdiffuseColor.a = opacity;\\n\\t#endif\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\\n\\t#elif DEPTH_PACKING == 3201\\n\\t\\tgl_FragColor = packDepthToRGBA( fragCoordZ );\\n\\t#endif\\n}\";\n\nvar depth_vert = \"#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvarying vec2 vHighPrecisionZW;\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvHighPrecisionZW = gl_Position.zw;\\n}\";\n\nvar distanceRGBA_frag = \"#define DISTANCE\\nuniform vec3 referencePosition;\\nuniform float nearDistance;\\nuniform float farDistance;\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main () {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\tfloat dist = length( vWorldPosition - referencePosition );\\n\\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\\n\\tdist = saturate( dist );\\n\\tgl_FragColor = packDepthToRGBA( dist );\\n}\";\n\nvar distanceRGBA_vert = \"#define DISTANCE\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvWorldPosition = worldPosition.xyz;\\n}\";\n\nvar equirect_frag = \"uniform sampler2D tEquirect;\\nvarying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvec3 direction = normalize( vWorldDirection );\\n\\tvec2 sampleUV = equirectUv( direction );\\n\\tvec4 texColor = texture2D( tEquirect, sampleUV );\\n\\tgl_FragColor = mapTexelToLinear( texColor );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\nvar equirect_vert = \"varying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n}\";\n\nvar linedashed_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\nuniform float dashSize;\\nuniform float totalSize;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\\n\\t\\tdiscard;\\n\\t}\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <color_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n}\";\n\nvar linedashed_vert = \"uniform float scale;\\nattribute float lineDistance;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\tvLineDistance = scale * lineDistance;\\n\\t#include <color_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshbasic_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <fog_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\n\\t\\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\\n\\t\\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vec3( 1.0 );\\n\\t#endif\\n\\t#include <aomap_fragment>\\n\\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\\n\\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshbasic_vert = \"#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_ENVMAP\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshlambert_frag = \"uniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float opacity;\\nvarying vec3 vLightFront;\\nvarying vec3 vIndirectFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n\\tvarying vec3 vIndirectBack;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <fog_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <emissivemap_fragment>\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vIndirectFront;\\n\\t#endif\\n\\t#include <lightmap_fragment>\\n\\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\\n\\t#else\\n\\t\\treflectedLight.directDiffuse = vLightFront;\\n\\t#endif\\n\\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshlambert_vert = \"#define LAMBERT\\nvarying vec3 vLightFront;\\nvarying vec3 vIndirectFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n\\tvarying vec3 vIndirectBack;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <lights_lambert_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshmatcap_frag = \"#define MATCAP\\nuniform vec3 diffuse;\\nuniform float opacity;\\nuniform sampler2D matcap;\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\tvec3 viewDir = normalize( vViewPosition );\\n\\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\\n\\tvec3 y = cross( viewDir, x );\\n\\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\\n\\t#ifdef USE_MATCAP\\n\\t\\tvec4 matcapColor = texture2D( matcap, uv );\\n\\t\\tmatcapColor = matcapTexelToLinear( matcapColor );\\n\\t#else\\n\\t\\tvec4 matcapColor = vec4( 1.0 );\\n\\t#endif\\n\\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshmatcap_vert = \"#define MATCAP\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <color_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#ifndef FLAT_SHADED\\n\\t\\tvNormal = normalize( transformedNormal );\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n}\";\n\nvar meshtoon_frag = \"#define TOON\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <gradientmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <lights_toon_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_toon_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshtoon_vert = \"#define TOON\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshphong_frag = \"#define PHONG\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform vec3 specular;\\nuniform float shininess;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <lights_phong_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_phong_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshphong_vert = \"#define PHONG\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshphysical_frag = \"#define STANDARD\\n#ifdef PHYSICAL\\n\\t#define REFLECTIVITY\\n\\t#define CLEARCOAT\\n\\t#define TRANSMISSION\\n#endif\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float roughness;\\nuniform float metalness;\\nuniform float opacity;\\n#ifdef TRANSMISSION\\n\\tuniform float transmission;\\n#endif\\n#ifdef REFLECTIVITY\\n\\tuniform float reflectivity;\\n#endif\\n#ifdef CLEARCOAT\\n\\tuniform float clearcoat;\\n\\tuniform float clearcoatRoughness;\\n#endif\\n#ifdef USE_SHEEN\\n\\tuniform vec3 sheen;\\n#endif\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <transmissionmap_pars_fragment>\\n#include <bsdfs>\\n#include <cube_uv_reflection_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_physical_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <lights_pars_begin>\\n#include <lights_physical_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <clearcoat_pars_fragment>\\n#include <roughnessmap_pars_fragment>\\n#include <metalnessmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#ifdef TRANSMISSION\\n\\t\\tfloat totalTransmission = transmission;\\n\\t#endif\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <roughnessmap_fragment>\\n\\t#include <metalnessmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <clearcoat_normal_fragment_begin>\\n\\t#include <clearcoat_normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <transmissionmap_fragment>\\n\\t#include <lights_physical_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\t#ifdef TRANSMISSION\\n\\t\\tdiffuseColor.a *= mix( saturate( 1. - totalTransmission + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) ), 1.0, metalness );\\n\\t#endif\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshphysical_vert = \"#define STANDARD\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n\\t#ifdef USE_TANGENT\\n\\t\\tvTangent = normalize( transformedTangent );\\n\\t\\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\\n\\t#endif\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar normal_frag = \"#define NORMAL\\nuniform float opacity;\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\\n}\";\n\nvar normal_vert = \"#define NORMAL\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n\\t#ifdef USE_TANGENT\\n\\t\\tvTangent = normalize( transformedTangent );\\n\\t\\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\\n\\t#endif\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvViewPosition = - mvPosition.xyz;\\n#endif\\n}\";\n\nvar points_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <map_particle_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_particle_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n}\";\n\nvar points_vert = \"uniform float size;\\nuniform float scale;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <color_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <project_vertex>\\n\\tgl_PointSize = size;\\n\\t#ifdef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\\n\\t\\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\\n\\t#endif\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar shadow_frag = \"uniform vec3 color;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\nvoid main() {\\n\\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\nvar shadow_vert = \"#include <common>\\n#include <fog_pars_vertex>\\n#include <shadowmap_pars_vertex>\\nvoid main() {\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar sprite_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\nvar sprite_vert = \"uniform float rotation;\\nuniform vec2 center;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\\n\\tvec2 scale;\\n\\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\\n\\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\\n\\t#ifndef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\\n\\t\\tif ( isPerspective ) scale *= - mvPosition.z;\\n\\t#endif\\n\\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\\n\\tvec2 rotatedPosition;\\n\\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\\n\\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\\n\\tmvPosition.xy += rotatedPosition;\\n\\tgl_Position = projectionMatrix * mvPosition;\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nconst ShaderChunk = {\n\talphamap_fragment: alphamap_fragment,\n\talphamap_pars_fragment: alphamap_pars_fragment,\n\talphatest_fragment: alphatest_fragment,\n\taomap_fragment: aomap_fragment,\n\taomap_pars_fragment: aomap_pars_fragment,\n\tbegin_vertex: begin_vertex,\n\tbeginnormal_vertex: beginnormal_vertex,\n\tbsdfs: bsdfs,\n\tbumpmap_pars_fragment: bumpmap_pars_fragment,\n\tclipping_planes_fragment: clipping_planes_fragment,\n\tclipping_planes_pars_fragment: clipping_planes_pars_fragment,\n\tclipping_planes_pars_vertex: clipping_planes_pars_vertex,\n\tclipping_planes_vertex: clipping_planes_vertex,\n\tcolor_fragment: color_fragment,\n\tcolor_pars_fragment: color_pars_fragment,\n\tcolor_pars_vertex: color_pars_vertex,\n\tcolor_vertex: color_vertex,\n\tcommon: common,\n\tcube_uv_reflection_fragment: cube_uv_reflection_fragment,\n\tdefaultnormal_vertex: defaultnormal_vertex,\n\tdisplacementmap_pars_vertex: displacementmap_pars_vertex,\n\tdisplacementmap_vertex: displacementmap_vertex,\n\temissivemap_fragment: emissivemap_fragment,\n\temissivemap_pars_fragment: emissivemap_pars_fragment,\n\tencodings_fragment: encodings_fragment,\n\tencodings_pars_fragment: encodings_pars_fragment,\n\tenvmap_fragment: envmap_fragment,\n\tenvmap_common_pars_fragment: envmap_common_pars_fragment,\n\tenvmap_pars_fragment: envmap_pars_fragment,\n\tenvmap_pars_vertex: envmap_pars_vertex,\n\tenvmap_physical_pars_fragment: envmap_physical_pars_fragment,\n\tenvmap_vertex: envmap_vertex,\n\tfog_vertex: fog_vertex,\n\tfog_pars_vertex: fog_pars_vertex,\n\tfog_fragment: fog_fragment,\n\tfog_pars_fragment: fog_pars_fragment,\n\tgradientmap_pars_fragment: gradientmap_pars_fragment,\n\tlightmap_fragment: lightmap_fragment,\n\tlightmap_pars_fragment: lightmap_pars_fragment,\n\tlights_lambert_vertex: lights_lambert_vertex,\n\tlights_pars_begin: lights_pars_begin,\n\tlights_toon_fragment: lights_toon_fragment,\n\tlights_toon_pars_fragment: lights_toon_pars_fragment,\n\tlights_phong_fragment: lights_phong_fragment,\n\tlights_phong_pars_fragment: lights_phong_pars_fragment,\n\tlights_physical_fragment: lights_physical_fragment,\n\tlights_physical_pars_fragment: lights_physical_pars_fragment,\n\tlights_fragment_begin: lights_fragment_begin,\n\tlights_fragment_maps: lights_fragment_maps,\n\tlights_fragment_end: lights_fragment_end,\n\tlogdepthbuf_fragment: logdepthbuf_fragment,\n\tlogdepthbuf_pars_fragment: logdepthbuf_pars_fragment,\n\tlogdepthbuf_pars_vertex: logdepthbuf_pars_vertex,\n\tlogdepthbuf_vertex: logdepthbuf_vertex,\n\tmap_fragment: map_fragment,\n\tmap_pars_fragment: map_pars_fragment,\n\tmap_particle_fragment: map_particle_fragment,\n\tmap_particle_pars_fragment: map_particle_pars_fragment,\n\tmetalnessmap_fragment: metalnessmap_fragment,\n\tmetalnessmap_pars_fragment: metalnessmap_pars_fragment,\n\tmorphnormal_vertex: morphnormal_vertex,\n\tmorphtarget_pars_vertex: morphtarget_pars_vertex,\n\tmorphtarget_vertex: morphtarget_vertex,\n\tnormal_fragment_begin: normal_fragment_begin,\n\tnormal_fragment_maps: normal_fragment_maps,\n\tnormalmap_pars_fragment: normalmap_pars_fragment,\n\tclearcoat_normal_fragment_begin: clearcoat_normal_fragment_begin,\n\tclearcoat_normal_fragment_maps: clearcoat_normal_fragment_maps,\n\tclearcoat_pars_fragment: clearcoat_pars_fragment,\n\tpacking: packing,\n\tpremultiplied_alpha_fragment: premultiplied_alpha_fragment,\n\tproject_vertex: project_vertex,\n\tdithering_fragment: dithering_fragment,\n\tdithering_pars_fragment: dithering_pars_fragment,\n\troughnessmap_fragment: roughnessmap_fragment,\n\troughnessmap_pars_fragment: roughnessmap_pars_fragment,\n\tshadowmap_pars_fragment: shadowmap_pars_fragment,\n\tshadowmap_pars_vertex: shadowmap_pars_vertex,\n\tshadowmap_vertex: shadowmap_vertex,\n\tshadowmask_pars_fragment: shadowmask_pars_fragment,\n\tskinbase_vertex: skinbase_vertex,\n\tskinning_pars_vertex: skinning_pars_vertex,\n\tskinning_vertex: skinning_vertex,\n\tskinnormal_vertex: skinnormal_vertex,\n\tspecularmap_fragment: specularmap_fragment,\n\tspecularmap_pars_fragment: specularmap_pars_fragment,\n\ttonemapping_fragment: tonemapping_fragment,\n\ttonemapping_pars_fragment: tonemapping_pars_fragment,\n\ttransmissionmap_fragment: transmissionmap_fragment,\n\ttransmissionmap_pars_fragment: transmissionmap_pars_fragment,\n\tuv_pars_fragment: uv_pars_fragment,\n\tuv_pars_vertex: uv_pars_vertex,\n\tuv_vertex: uv_vertex,\n\tuv2_pars_fragment: uv2_pars_fragment,\n\tuv2_pars_vertex: uv2_pars_vertex,\n\tuv2_vertex: uv2_vertex,\n\tworldpos_vertex: worldpos_vertex,\n\n\tbackground_frag: background_frag,\n\tbackground_vert: background_vert,\n\tcube_frag: cube_frag,\n\tcube_vert: cube_vert,\n\tdepth_frag: depth_frag,\n\tdepth_vert: depth_vert,\n\tdistanceRGBA_frag: distanceRGBA_frag,\n\tdistanceRGBA_vert: distanceRGBA_vert,\n\tequirect_frag: equirect_frag,\n\tequirect_vert: equirect_vert,\n\tlinedashed_frag: linedashed_frag,\n\tlinedashed_vert: linedashed_vert,\n\tmeshbasic_frag: meshbasic_frag,\n\tmeshbasic_vert: meshbasic_vert,\n\tmeshlambert_frag: meshlambert_frag,\n\tmeshlambert_vert: meshlambert_vert,\n\tmeshmatcap_frag: meshmatcap_frag,\n\tmeshmatcap_vert: meshmatcap_vert,\n\tmeshtoon_frag: meshtoon_frag,\n\tmeshtoon_vert: meshtoon_vert,\n\tmeshphong_frag: meshphong_frag,\n\tmeshphong_vert: meshphong_vert,\n\tmeshphysical_frag: meshphysical_frag,\n\tmeshphysical_vert: meshphysical_vert,\n\tnormal_frag: normal_frag,\n\tnormal_vert: normal_vert,\n\tpoints_frag: points_frag,\n\tpoints_vert: points_vert,\n\tshadow_frag: shadow_frag,\n\tshadow_vert: shadow_vert,\n\tsprite_frag: sprite_frag,\n\tsprite_vert: sprite_vert\n};\n\n/**\n * Uniforms library for shared webgl shaders\n */\n\nconst UniformsLib = {\n\n\tcommon: {\n\n\t\tdiffuse: { value: new Color( 0xeeeeee ) },\n\t\topacity: { value: 1.0 },\n\n\t\tmap: { value: null },\n\t\tuvTransform: { value: new Matrix3() },\n\t\tuv2Transform: { value: new Matrix3() },\n\n\t\talphaMap: { value: null },\n\n\t},\n\n\tspecularmap: {\n\n\t\tspecularMap: { value: null },\n\n\t},\n\n\tenvmap: {\n\n\t\tenvMap: { value: null },\n\t\tflipEnvMap: { value: - 1 },\n\t\treflectivity: { value: 1.0 },\n\t\trefractionRatio: { value: 0.98 },\n\t\tmaxMipLevel: { value: 0 }\n\n\t},\n\n\taomap: {\n\n\t\taoMap: { value: null },\n\t\taoMapIntensity: { value: 1 }\n\n\t},\n\n\tlightmap: {\n\n\t\tlightMap: { value: null },\n\t\tlightMapIntensity: { value: 1 }\n\n\t},\n\n\temissivemap: {\n\n\t\temissiveMap: { value: null }\n\n\t},\n\n\tbumpmap: {\n\n\t\tbumpMap: { value: null },\n\t\tbumpScale: { value: 1 }\n\n\t},\n\n\tnormalmap: {\n\n\t\tnormalMap: { value: null },\n\t\tnormalScale: { value: new Vector2( 1, 1 ) }\n\n\t},\n\n\tdisplacementmap: {\n\n\t\tdisplacementMap: { value: null },\n\t\tdisplacementScale: { value: 1 },\n\t\tdisplacementBias: { value: 0 }\n\n\t},\n\n\troughnessmap: {\n\n\t\troughnessMap: { value: null }\n\n\t},\n\n\tmetalnessmap: {\n\n\t\tmetalnessMap: { value: null }\n\n\t},\n\n\tgradientmap: {\n\n\t\tgradientMap: { value: null }\n\n\t},\n\n\tfog: {\n\n\t\tfogDensity: { value: 0.00025 },\n\t\tfogNear: { value: 1 },\n\t\tfogFar: { value: 2000 },\n\t\tfogColor: { value: new Color( 0xffffff ) }\n\n\t},\n\n\tlights: {\n\n\t\tambientLightColor: { value: [] },\n\n\t\tlightProbe: { value: [] },\n\n\t\tdirectionalLights: { value: [], properties: {\n\t\t\tdirection: {},\n\t\t\tcolor: {}\n\t\t} },\n\n\t\tdirectionalLightShadows: { value: [], properties: {\n\t\t\tshadowBias: {},\n\t\t\tshadowNormalBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {}\n\t\t} },\n\n\t\tdirectionalShadowMap: { value: [] },\n\t\tdirectionalShadowMatrix: { value: [] },\n\n\t\tspotLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\tdirection: {},\n\t\t\tdistance: {},\n\t\t\tconeCos: {},\n\t\t\tpenumbraCos: {},\n\t\t\tdecay: {}\n\t\t} },\n\n\t\tspotLightShadows: { value: [], properties: {\n\t\t\tshadowBias: {},\n\t\t\tshadowNormalBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {}\n\t\t} },\n\n\t\tspotShadowMap: { value: [] },\n\t\tspotShadowMatrix: { value: [] },\n\n\t\tpointLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\tdecay: {},\n\t\t\tdistance: {}\n\t\t} },\n\n\t\tpointLightShadows: { value: [], properties: {\n\t\t\tshadowBias: {},\n\t\t\tshadowNormalBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {},\n\t\t\tshadowCameraNear: {},\n\t\t\tshadowCameraFar: {}\n\t\t} },\n\n\t\tpointShadowMap: { value: [] },\n\t\tpointShadowMatrix: { value: [] },\n\n\t\themisphereLights: { value: [], properties: {\n\t\t\tdirection: {},\n\t\t\tskyColor: {},\n\t\t\tgroundColor: {}\n\t\t} },\n\n\t\t// TODO (abelnation): RectAreaLight BRDF data needs to be moved from example to main src\n\t\trectAreaLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\twidth: {},\n\t\t\theight: {}\n\t\t} },\n\n\t\tltc_1: { value: null },\n\t\tltc_2: { value: null }\n\n\t},\n\n\tpoints: {\n\n\t\tdiffuse: { value: new Color( 0xeeeeee ) },\n\t\topacity: { value: 1.0 },\n\t\tsize: { value: 1.0 },\n\t\tscale: { value: 1.0 },\n\t\tmap: { value: null },\n\t\talphaMap: { value: null },\n\t\tuvTransform: { value: new Matrix3() }\n\n\t},\n\n\tsprite: {\n\n\t\tdiffuse: { value: new Color( 0xeeeeee ) },\n\t\topacity: { value: 1.0 },\n\t\tcenter: { value: new Vector2( 0.5, 0.5 ) },\n\t\trotation: { value: 0.0 },\n\t\tmap: { value: null },\n\t\talphaMap: { value: null },\n\t\tuvTransform: { value: new Matrix3() }\n\n\t}\n\n};\n\nconst ShaderLib = {\n\n\tbasic: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshbasic_vert,\n\t\tfragmentShader: ShaderChunk.meshbasic_frag\n\n\t},\n\n\tlambert: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshlambert_vert,\n\t\tfragmentShader: ShaderChunk.meshlambert_frag\n\n\t},\n\n\tphong: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) },\n\t\t\t\tspecular: { value: new Color( 0x111111 ) },\n\t\t\t\tshininess: { value: 30 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshphong_vert,\n\t\tfragmentShader: ShaderChunk.meshphong_frag\n\n\t},\n\n\tstandard: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.roughnessmap,\n\t\t\tUniformsLib.metalnessmap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) },\n\t\t\t\troughness: { value: 1.0 },\n\t\t\t\tmetalness: { value: 0.0 },\n\t\t\t\tenvMapIntensity: { value: 1 } // temporary\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshphysical_vert,\n\t\tfragmentShader: ShaderChunk.meshphysical_frag\n\n\t},\n\n\ttoon: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.gradientmap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshtoon_vert,\n\t\tfragmentShader: ShaderChunk.meshtoon_frag\n\n\t},\n\n\tmatcap: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tmatcap: { value: null }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshmatcap_vert,\n\t\tfragmentShader: ShaderChunk.meshmatcap_frag\n\n\t},\n\n\tpoints: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.points,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.points_vert,\n\t\tfragmentShader: ShaderChunk.points_frag\n\n\t},\n\n\tdashed: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tscale: { value: 1 },\n\t\t\t\tdashSize: { value: 1 },\n\t\t\t\ttotalSize: { value: 2 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.linedashed_vert,\n\t\tfragmentShader: ShaderChunk.linedashed_frag\n\n\t},\n\n\tdepth: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.displacementmap\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.depth_vert,\n\t\tfragmentShader: ShaderChunk.depth_frag\n\n\t},\n\n\tnormal: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\t{\n\t\t\t\topacity: { value: 1.0 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.normal_vert,\n\t\tfragmentShader: ShaderChunk.normal_frag\n\n\t},\n\n\tsprite: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.sprite,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.sprite_vert,\n\t\tfragmentShader: ShaderChunk.sprite_frag\n\n\t},\n\n\tbackground: {\n\n\t\tuniforms: {\n\t\t\tuvTransform: { value: new Matrix3() },\n\t\t\tt2D: { value: null },\n\t\t},\n\n\t\tvertexShader: ShaderChunk.background_vert,\n\t\tfragmentShader: ShaderChunk.background_frag\n\n\t},\n\t/* -------------------------------------------------------------------------\n\t//\tCube map shader\n\t ------------------------------------------------------------------------- */\n\n\tcube: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.envmap,\n\t\t\t{\n\t\t\t\topacity: { value: 1.0 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.cube_vert,\n\t\tfragmentShader: ShaderChunk.cube_frag\n\n\t},\n\n\tequirect: {\n\n\t\tuniforms: {\n\t\t\ttEquirect: { value: null },\n\t\t},\n\n\t\tvertexShader: ShaderChunk.equirect_vert,\n\t\tfragmentShader: ShaderChunk.equirect_frag\n\n\t},\n\n\tdistanceRGBA: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.displacementmap,\n\t\t\t{\n\t\t\t\treferencePosition: { value: new Vector3() },\n\t\t\t\tnearDistance: { value: 1 },\n\t\t\t\tfarDistance: { value: 1000 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.distanceRGBA_vert,\n\t\tfragmentShader: ShaderChunk.distanceRGBA_frag\n\n\t},\n\n\tshadow: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.lights,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tcolor: { value: new Color( 0x00000 ) },\n\t\t\t\topacity: { value: 1.0 }\n\t\t\t},\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.shadow_vert,\n\t\tfragmentShader: ShaderChunk.shadow_frag\n\n\t}\n\n};\n\nShaderLib.physical = {\n\n\tuniforms: mergeUniforms( [\n\t\tShaderLib.standard.uniforms,\n\t\t{\n\t\t\tclearcoat: { value: 0 },\n\t\t\tclearcoatMap: { value: null },\n\t\t\tclearcoatRoughness: { value: 0 },\n\t\t\tclearcoatRoughnessMap: { value: null },\n\t\t\tclearcoatNormalScale: { value: new Vector2( 1, 1 ) },\n\t\t\tclearcoatNormalMap: { value: null },\n\t\t\tsheen: { value: new Color( 0x000000 ) },\n\t\t\ttransmission: { value: 0 },\n\t\t\ttransmissionMap: { value: null },\n\t\t}\n\t] ),\n\n\tvertexShader: ShaderChunk.meshphysical_vert,\n\tfragmentShader: ShaderChunk.meshphysical_frag\n\n};\n\nfunction WebGLBackground( renderer, cubemaps, state, objects, premultipliedAlpha ) {\n\n\tconst clearColor = new Color( 0x000000 );\n\tlet clearAlpha = 0;\n\n\tlet planeMesh;\n\tlet boxMesh;\n\n\tlet currentBackground = null;\n\tlet currentBackgroundVersion = 0;\n\tlet currentTonemapping = null;\n\n\tfunction render( renderList, scene, camera, forceClear ) {\n\n\t\tlet background = scene.isScene === true ? scene.background : null;\n\n\t\tif ( background && background.isTexture ) {\n\n\t\t\tbackground = cubemaps.get( background );\n\n\t\t}\n\n\t\t// Ignore background in AR\n\t\t// TODO: Reconsider this.\n\n\t\tconst xr = renderer.xr;\n\t\tconst session = xr.getSession && xr.getSession();\n\n\t\tif ( session && session.environmentBlendMode === 'additive' ) {\n\n\t\t\tbackground = null;\n\n\t\t}\n\n\t\tif ( background === null ) {\n\n\t\t\tsetClear( clearColor, clearAlpha );\n\n\t\t} else if ( background && background.isColor ) {\n\n\t\t\tsetClear( background, 1 );\n\t\t\tforceClear = true;\n\n\t\t}\n\n\t\tif ( renderer.autoClear || forceClear ) {\n\n\t\t\trenderer.clear( renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil );\n\n\t\t}\n\n\t\tif ( background && ( background.isCubeTexture || background.isWebGLCubeRenderTarget || background.mapping === CubeUVReflectionMapping ) ) {\n\n\t\t\tif ( boxMesh === undefined ) {\n\n\t\t\t\tboxMesh = new Mesh(\n\t\t\t\t\tnew BoxBufferGeometry( 1, 1, 1 ),\n\t\t\t\t\tnew ShaderMaterial( {\n\t\t\t\t\t\tname: 'BackgroundCubeMaterial',\n\t\t\t\t\t\tuniforms: cloneUniforms( ShaderLib.cube.uniforms ),\n\t\t\t\t\t\tvertexShader: ShaderLib.cube.vertexShader,\n\t\t\t\t\t\tfragmentShader: ShaderLib.cube.fragmentShader,\n\t\t\t\t\t\tside: BackSide,\n\t\t\t\t\t\tdepthTest: false,\n\t\t\t\t\t\tdepthWrite: false,\n\t\t\t\t\t\tfog: false\n\t\t\t\t\t} )\n\t\t\t\t);\n\n\t\t\t\tboxMesh.geometry.deleteAttribute( 'normal' );\n\t\t\t\tboxMesh.geometry.deleteAttribute( 'uv' );\n\n\t\t\t\tboxMesh.onBeforeRender = function ( renderer, scene, camera ) {\n\n\t\t\t\t\tthis.matrixWorld.copyPosition( camera.matrixWorld );\n\n\t\t\t\t};\n\n\t\t\t\t// enable code injection for non-built-in material\n\t\t\t\tObject.defineProperty( boxMesh.material, 'envMap', {\n\n\t\t\t\t\tget: function () {\n\n\t\t\t\t\t\treturn this.uniforms.envMap.value;\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\tobjects.update( boxMesh );\n\n\t\t\t}\n\n\t\t\tif ( background.isWebGLCubeRenderTarget ) {\n\n\t\t\t\t// TODO Deprecate\n\n\t\t\t\tbackground = background.texture;\n\n\t\t\t}\n\n\t\t\tboxMesh.material.uniforms.envMap.value = background;\n\t\t\tboxMesh.material.uniforms.flipEnvMap.value = ( background.isCubeTexture && background._needsFlipEnvMap ) ? - 1 : 1;\n\n\t\t\tif ( currentBackground !== background ||\n\t\t\t\tcurrentBackgroundVersion !== background.version ||\n\t\t\t\tcurrentTonemapping !== renderer.toneMapping ) {\n\n\t\t\t\tboxMesh.material.needsUpdate = true;\n\n\t\t\t\tcurrentBackground = background;\n\t\t\t\tcurrentBackgroundVersion = background.version;\n\t\t\t\tcurrentTonemapping = renderer.toneMapping;\n\n\t\t\t}\n\n\t\t\t// push to the pre-sorted opaque render list\n\t\t\trenderList.unshift( boxMesh, boxMesh.geometry, boxMesh.material, 0, 0, null );\n\n\t\t} else if ( background && background.isTexture ) {\n\n\t\t\tif ( planeMesh === undefined ) {\n\n\t\t\t\tplaneMesh = new Mesh(\n\t\t\t\t\tnew PlaneBufferGeometry( 2, 2 ),\n\t\t\t\t\tnew ShaderMaterial( {\n\t\t\t\t\t\tname: 'BackgroundMaterial',\n\t\t\t\t\t\tuniforms: cloneUniforms( ShaderLib.background.uniforms ),\n\t\t\t\t\t\tvertexShader: ShaderLib.background.vertexShader,\n\t\t\t\t\t\tfragmentShader: ShaderLib.background.fragmentShader,\n\t\t\t\t\t\tside: FrontSide,\n\t\t\t\t\t\tdepthTest: false,\n\t\t\t\t\t\tdepthWrite: false,\n\t\t\t\t\t\tfog: false\n\t\t\t\t\t} )\n\t\t\t\t);\n\n\t\t\t\tplaneMesh.geometry.deleteAttribute( 'normal' );\n\n\t\t\t\t// enable code injection for non-built-in material\n\t\t\t\tObject.defineProperty( planeMesh.material, 'map', {\n\n\t\t\t\t\tget: function () {\n\n\t\t\t\t\t\treturn this.uniforms.t2D.value;\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\tobjects.update( planeMesh );\n\n\t\t\t}\n\n\t\t\tplaneMesh.material.uniforms.t2D.value = background;\n\n\t\t\tif ( background.matrixAutoUpdate === true ) {\n\n\t\t\t\tbackground.updateMatrix();\n\n\t\t\t}\n\n\t\t\tplaneMesh.material.uniforms.uvTransform.value.copy( background.matrix );\n\n\t\t\tif ( currentBackground !== background ||\n\t\t\t\tcurrentBackgroundVersion !== background.version ||\n\t\t\t\tcurrentTonemapping !== renderer.toneMapping ) {\n\n\t\t\t\tplaneMesh.material.needsUpdate = true;\n\n\t\t\t\tcurrentBackground = background;\n\t\t\t\tcurrentBackgroundVersion = background.version;\n\t\t\t\tcurrentTonemapping = renderer.toneMapping;\n\n\t\t\t}\n\n\n\t\t\t// push to the pre-sorted opaque render list\n\t\t\trenderList.unshift( planeMesh, planeMesh.geometry, planeMesh.material, 0, 0, null );\n\n\t\t}\n\n\t}\n\n\tfunction setClear( color, alpha ) {\n\n\t\tstate.buffers.color.setClear( color.r, color.g, color.b, alpha, premultipliedAlpha );\n\n\t}\n\n\treturn {\n\n\t\tgetClearColor: function () {\n\n\t\t\treturn clearColor;\n\n\t\t},\n\t\tsetClearColor: function ( color, alpha ) {\n\n\t\t\tclearColor.set( color );\n\t\t\tclearAlpha = alpha !== undefined ? alpha : 1;\n\t\t\tsetClear( clearColor, clearAlpha );\n\n\t\t},\n\t\tgetClearAlpha: function () {\n\n\t\t\treturn clearAlpha;\n\n\t\t},\n\t\tsetClearAlpha: function ( alpha ) {\n\n\t\t\tclearAlpha = alpha;\n\t\t\tsetClear( clearColor, clearAlpha );\n\n\t\t},\n\t\trender: render\n\n\t};\n\n}\n\nfunction WebGLBindingStates( gl, extensions, attributes, capabilities ) {\n\n\tconst maxVertexAttributes = gl.getParameter( 34921 );\n\n\tconst extension = capabilities.isWebGL2 ? null : extensions.get( 'OES_vertex_array_object' );\n\tconst vaoAvailable = capabilities.isWebGL2 || extension !== null;\n\n\tconst bindingStates = {};\n\n\tconst defaultState = createBindingState( null );\n\tlet currentState = defaultState;\n\n\tfunction setup( object, material, program, geometry, index ) {\n\n\t\tlet updateBuffers = false;\n\n\t\tif ( vaoAvailable ) {\n\n\t\t\tconst state = getBindingState( geometry, program, material );\n\n\t\t\tif ( currentState !== state ) {\n\n\t\t\t\tcurrentState = state;\n\t\t\t\tbindVertexArrayObject( currentState.object );\n\n\t\t\t}\n\n\t\t\tupdateBuffers = needsUpdate( geometry, index );\n\n\t\t\tif ( updateBuffers ) saveCache( geometry, index );\n\n\t\t} else {\n\n\t\t\tconst wireframe = ( material.wireframe === true );\n\n\t\t\tif ( currentState.geometry !== geometry.id ||\n\t\t\t\tcurrentState.program !== program.id ||\n\t\t\t\tcurrentState.wireframe !== wireframe ) {\n\n\t\t\t\tcurrentState.geometry = geometry.id;\n\t\t\t\tcurrentState.program = program.id;\n\t\t\t\tcurrentState.wireframe = wireframe;\n\n\t\t\t\tupdateBuffers = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( object.isInstancedMesh === true ) {\n\n\t\t\tupdateBuffers = true;\n\n\t\t}\n\n\t\tif ( index !== null ) {\n\n\t\t\tattributes.update( index, 34963 );\n\n\t\t}\n\n\t\tif ( updateBuffers ) {\n\n\t\t\tsetupVertexAttributes( object, material, program, geometry );\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\tgl.bindBuffer( 34963, attributes.get( index ).buffer );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction createVertexArrayObject() {\n\n\t\tif ( capabilities.isWebGL2 ) return gl.createVertexArray();\n\n\t\treturn extension.createVertexArrayOES();\n\n\t}\n\n\tfunction bindVertexArrayObject( vao ) {\n\n\t\tif ( capabilities.isWebGL2 ) return gl.bindVertexArray( vao );\n\n\t\treturn extension.bindVertexArrayOES( vao );\n\n\t}\n\n\tfunction deleteVertexArrayObject( vao ) {\n\n\t\tif ( capabilities.isWebGL2 ) return gl.deleteVertexArray( vao );\n\n\t\treturn extension.deleteVertexArrayOES( vao );\n\n\t}\n\n\tfunction getBindingState( geometry, program, material ) {\n\n\t\tconst wireframe = ( material.wireframe === true );\n\n\t\tlet programMap = bindingStates[ geometry.id ];\n\n\t\tif ( programMap === undefined ) {\n\n\t\t\tprogramMap = {};\n\t\t\tbindingStates[ geometry.id ] = programMap;\n\n\t\t}\n\n\t\tlet stateMap = programMap[ program.id ];\n\n\t\tif ( stateMap === undefined ) {\n\n\t\t\tstateMap = {};\n\t\t\tprogramMap[ program.id ] = stateMap;\n\n\t\t}\n\n\t\tlet state = stateMap[ wireframe ];\n\n\t\tif ( state === undefined ) {\n\n\t\t\tstate = createBindingState( createVertexArrayObject() );\n\t\t\tstateMap[ wireframe ] = state;\n\n\t\t}\n\n\t\treturn state;\n\n\t}\n\n\tfunction createBindingState( vao ) {\n\n\t\tconst newAttributes = [];\n\t\tconst enabledAttributes = [];\n\t\tconst attributeDivisors = [];\n\n\t\tfor ( let i = 0; i < maxVertexAttributes; i ++ ) {\n\n\t\t\tnewAttributes[ i ] = 0;\n\t\t\tenabledAttributes[ i ] = 0;\n\t\t\tattributeDivisors[ i ] = 0;\n\n\t\t}\n\n\t\treturn {\n\n\t\t\t// for backward compatibility on non-VAO support browser\n\t\t\tgeometry: null,\n\t\t\tprogram: null,\n\t\t\twireframe: false,\n\n\t\t\tnewAttributes: newAttributes,\n\t\t\tenabledAttributes: enabledAttributes,\n\t\t\tattributeDivisors: attributeDivisors,\n\t\t\tobject: vao,\n\t\t\tattributes: {},\n\t\t\tindex: null\n\n\t\t};\n\n\t}\n\n\tfunction needsUpdate( geometry, index ) {\n\n\t\tconst cachedAttributes = currentState.attributes;\n\t\tconst geometryAttributes = geometry.attributes;\n\n\t\tif ( Object.keys( cachedAttributes ).length !== Object.keys( geometryAttributes ).length ) return true;\n\n\t\tfor ( const key in geometryAttributes ) {\n\n\t\t\tconst cachedAttribute = cachedAttributes[ key ];\n\t\t\tconst geometryAttribute = geometryAttributes[ key ];\n\n\t\t\tif ( cachedAttribute === undefined ) return true;\n\n\t\t\tif ( cachedAttribute.attribute !== geometryAttribute ) return true;\n\n\t\t\tif ( cachedAttribute.data !== geometryAttribute.data ) return true;\n\n\t\t}\n\n\t\tif ( currentState.index !== index ) return true;\n\n\t\treturn false;\n\n\t}\n\n\tfunction saveCache( geometry, index ) {\n\n\t\tconst cache = {};\n\t\tconst attributes = geometry.attributes;\n\n\t\tfor ( const key in attributes ) {\n\n\t\t\tconst attribute = attributes[ key ];\n\n\t\t\tconst data = {};\n\t\t\tdata.attribute = attribute;\n\n\t\t\tif ( attribute.data ) {\n\n\t\t\t\tdata.data = attribute.data;\n\n\t\t\t}\n\n\t\t\tcache[ key ] = data;\n\n\t\t}\n\n\t\tcurrentState.attributes = cache;\n\n\t\tcurrentState.index = index;\n\n\t}\n\n\tfunction initAttributes() {\n\n\t\tconst newAttributes = currentState.newAttributes;\n\n\t\tfor ( let i = 0, il = newAttributes.length; i < il; i ++ ) {\n\n\t\t\tnewAttributes[ i ] = 0;\n\n\t\t}\n\n\t}\n\n\tfunction enableAttribute( attribute ) {\n\n\t\tenableAttributeAndDivisor( attribute, 0 );\n\n\t}\n\n\tfunction enableAttributeAndDivisor( attribute, meshPerAttribute ) {\n\n\t\tconst newAttributes = currentState.newAttributes;\n\t\tconst enabledAttributes = currentState.enabledAttributes;\n\t\tconst attributeDivisors = currentState.attributeDivisors;\n\n\t\tnewAttributes[ attribute ] = 1;\n\n\t\tif ( enabledAttributes[ attribute ] === 0 ) {\n\n\t\t\tgl.enableVertexAttribArray( attribute );\n\t\t\tenabledAttributes[ attribute ] = 1;\n\n\t\t}\n\n\t\tif ( attributeDivisors[ attribute ] !== meshPerAttribute ) {\n\n\t\t\tconst extension = capabilities.isWebGL2 ? gl : extensions.get( 'ANGLE_instanced_arrays' );\n\n\t\t\textension[ capabilities.isWebGL2 ? 'vertexAttribDivisor' : 'vertexAttribDivisorANGLE' ]( attribute, meshPerAttribute );\n\t\t\tattributeDivisors[ attribute ] = meshPerAttribute;\n\n\t\t}\n\n\t}\n\n\tfunction disableUnusedAttributes() {\n\n\t\tconst newAttributes = currentState.newAttributes;\n\t\tconst enabledAttributes = currentState.enabledAttributes;\n\n\t\tfor ( let i = 0, il = enabledAttributes.length; i < il; i ++ ) {\n\n\t\t\tif ( enabledAttributes[ i ] !== newAttributes[ i ] ) {\n\n\t\t\t\tgl.disableVertexAttribArray( i );\n\t\t\t\tenabledAttributes[ i ] = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction vertexAttribPointer( index, size, type, normalized, stride, offset ) {\n\n\t\tif ( capabilities.isWebGL2 === true && ( type === 5124 || type === 5125 ) ) {\n\n\t\t\tgl.vertexAttribIPointer( index, size, type, stride, offset );\n\n\t\t} else {\n\n\t\t\tgl.vertexAttribPointer( index, size, type, normalized, stride, offset );\n\n\t\t}\n\n\t}\n\n\tfunction setupVertexAttributes( object, material, program, geometry ) {\n\n\t\tif ( capabilities.isWebGL2 === false && ( object.isInstancedMesh || geometry.isInstancedBufferGeometry ) ) {\n\n\t\t\tif ( extensions.get( 'ANGLE_instanced_arrays' ) === null ) return;\n\n\t\t}\n\n\t\tinitAttributes();\n\n\t\tconst geometryAttributes = geometry.attributes;\n\n\t\tconst programAttributes = program.getAttributes();\n\n\t\tconst materialDefaultAttributeValues = material.defaultAttributeValues;\n\n\t\tfor ( const name in programAttributes ) {\n\n\t\t\tconst programAttribute = programAttributes[ name ];\n\n\t\t\tif ( programAttribute >= 0 ) {\n\n\t\t\t\tconst geometryAttribute = geometryAttributes[ name ];\n\n\t\t\t\tif ( geometryAttribute !== undefined ) {\n\n\t\t\t\t\tconst normalized = geometryAttribute.normalized;\n\t\t\t\t\tconst size = geometryAttribute.itemSize;\n\n\t\t\t\t\tconst attribute = attributes.get( geometryAttribute );\n\n\t\t\t\t\t// TODO Attribute may not be available on context restore\n\n\t\t\t\t\tif ( attribute === undefined ) continue;\n\n\t\t\t\t\tconst buffer = attribute.buffer;\n\t\t\t\t\tconst type = attribute.type;\n\t\t\t\t\tconst bytesPerElement = attribute.bytesPerElement;\n\n\t\t\t\t\tif ( geometryAttribute.isInterleavedBufferAttribute ) {\n\n\t\t\t\t\t\tconst data = geometryAttribute.data;\n\t\t\t\t\t\tconst stride = data.stride;\n\t\t\t\t\t\tconst offset = geometryAttribute.offset;\n\n\t\t\t\t\t\tif ( data && data.isInstancedInterleavedBuffer ) {\n\n\t\t\t\t\t\t\tenableAttributeAndDivisor( programAttribute, data.meshPerAttribute );\n\n\t\t\t\t\t\t\tif ( geometry._maxInstanceCount === undefined ) {\n\n\t\t\t\t\t\t\t\tgeometry._maxInstanceCount = data.meshPerAttribute * data.count;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tenableAttribute( programAttribute );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tgl.bindBuffer( 34962, buffer );\n\t\t\t\t\t\tvertexAttribPointer( programAttribute, size, type, normalized, stride * bytesPerElement, offset * bytesPerElement );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( geometryAttribute.isInstancedBufferAttribute ) {\n\n\t\t\t\t\t\t\tenableAttributeAndDivisor( programAttribute, geometryAttribute.meshPerAttribute );\n\n\t\t\t\t\t\t\tif ( geometry._maxInstanceCount === undefined ) {\n\n\t\t\t\t\t\t\t\tgeometry._maxInstanceCount = geometryAttribute.meshPerAttribute * geometryAttribute.count;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tenableAttribute( programAttribute );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tgl.bindBuffer( 34962, buffer );\n\t\t\t\t\t\tvertexAttribPointer( programAttribute, size, type, normalized, 0, 0 );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( name === 'instanceMatrix' ) {\n\n\t\t\t\t\tconst attribute = attributes.get( object.instanceMatrix );\n\n\t\t\t\t\t// TODO Attribute may not be available on context restore\n\n\t\t\t\t\tif ( attribute === undefined ) continue;\n\n\t\t\t\t\tconst buffer = attribute.buffer;\n\t\t\t\t\tconst type = attribute.type;\n\n\t\t\t\t\tenableAttributeAndDivisor( programAttribute + 0, 1 );\n\t\t\t\t\tenableAttributeAndDivisor( programAttribute + 1, 1 );\n\t\t\t\t\tenableAttributeAndDivisor( programAttribute + 2, 1 );\n\t\t\t\t\tenableAttributeAndDivisor( programAttribute + 3, 1 );\n\n\t\t\t\t\tgl.bindBuffer( 34962, buffer );\n\n\t\t\t\t\tgl.vertexAttribPointer( programAttribute + 0, 4, type, false, 64, 0 );\n\t\t\t\t\tgl.vertexAttribPointer( programAttribute + 1, 4, type, false, 64, 16 );\n\t\t\t\t\tgl.vertexAttribPointer( programAttribute + 2, 4, type, false, 64, 32 );\n\t\t\t\t\tgl.vertexAttribPointer( programAttribute + 3, 4, type, false, 64, 48 );\n\n\t\t\t\t} else if ( name === 'instanceColor' ) {\n\n\t\t\t\t\tconst attribute = attributes.get( object.instanceColor );\n\n\t\t\t\t\t// TODO Attribute may not be available on context restore\n\n\t\t\t\t\tif ( attribute === undefined ) continue;\n\n\t\t\t\t\tconst buffer = attribute.buffer;\n\t\t\t\t\tconst type = attribute.type;\n\n\t\t\t\t\tenableAttributeAndDivisor( programAttribute, 1 );\n\n\t\t\t\t\tgl.bindBuffer( 34962, buffer );\n\n\t\t\t\t\tgl.vertexAttribPointer( programAttribute, 3, type, false, 12, 0 );\n\n\t\t\t\t} else if ( materialDefaultAttributeValues !== undefined ) {\n\n\t\t\t\t\tconst value = materialDefaultAttributeValues[ name ];\n\n\t\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\t\tswitch ( value.length ) {\n\n\t\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\t\tgl.vertexAttrib2fv( programAttribute, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\t\tgl.vertexAttrib3fv( programAttribute, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 4:\n\t\t\t\t\t\t\t\tgl.vertexAttrib4fv( programAttribute, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tgl.vertexAttrib1fv( programAttribute, value );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tdisableUnusedAttributes();\n\n\t}\n\n\tfunction dispose() {\n\n\t\treset();\n\n\t\tfor ( const geometryId in bindingStates ) {\n\n\t\t\tconst programMap = bindingStates[ geometryId ];\n\n\t\t\tfor ( const programId in programMap ) {\n\n\t\t\t\tconst stateMap = programMap[ programId ];\n\n\t\t\t\tfor ( const wireframe in stateMap ) {\n\n\t\t\t\t\tdeleteVertexArrayObject( stateMap[ wireframe ].object );\n\n\t\t\t\t\tdelete stateMap[ wireframe ];\n\n\t\t\t\t}\n\n\t\t\t\tdelete programMap[ programId ];\n\n\t\t\t}\n\n\t\t\tdelete bindingStates[ geometryId ];\n\n\t\t}\n\n\t}\n\n\tfunction releaseStatesOfGeometry( geometry ) {\n\n\t\tif ( bindingStates[ geometry.id ] === undefined ) return;\n\n\t\tconst programMap = bindingStates[ geometry.id ];\n\n\t\tfor ( const programId in programMap ) {\n\n\t\t\tconst stateMap = programMap[ programId ];\n\n\t\t\tfor ( const wireframe in stateMap ) {\n\n\t\t\t\tdeleteVertexArrayObject( stateMap[ wireframe ].object );\n\n\t\t\t\tdelete stateMap[ wireframe ];\n\n\t\t\t}\n\n\t\t\tdelete programMap[ programId ];\n\n\t\t}\n\n\t\tdelete bindingStates[ geometry.id ];\n\n\t}\n\n\tfunction releaseStatesOfProgram( program ) {\n\n\t\tfor ( const geometryId in bindingStates ) {\n\n\t\t\tconst programMap = bindingStates[ geometryId ];\n\n\t\t\tif ( programMap[ program.id ] === undefined ) continue;\n\n\t\t\tconst stateMap = programMap[ program.id ];\n\n\t\t\tfor ( const wireframe in stateMap ) {\n\n\t\t\t\tdeleteVertexArrayObject( stateMap[ wireframe ].object );\n\n\t\t\t\tdelete stateMap[ wireframe ];\n\n\t\t\t}\n\n\t\t\tdelete programMap[ program.id ];\n\n\t\t}\n\n\t}\n\n\tfunction reset() {\n\n\t\tresetDefaultState();\n\n\t\tif ( currentState === defaultState ) return;\n\n\t\tcurrentState = defaultState;\n\t\tbindVertexArrayObject( currentState.object );\n\n\t}\n\n\t// for backward-compatilibity\n\n\tfunction resetDefaultState() {\n\n\t\tdefaultState.geometry = null;\n\t\tdefaultState.program = null;\n\t\tdefaultState.wireframe = false;\n\n\t}\n\n\treturn {\n\n\t\tsetup: setup,\n\t\treset: reset,\n\t\tresetDefaultState: resetDefaultState,\n\t\tdispose: dispose,\n\t\treleaseStatesOfGeometry: releaseStatesOfGeometry,\n\t\treleaseStatesOfProgram: releaseStatesOfProgram,\n\n\t\tinitAttributes: initAttributes,\n\t\tenableAttribute: enableAttribute,\n\t\tdisableUnusedAttributes: disableUnusedAttributes\n\n\t};\n\n}\n\nfunction WebGLBufferRenderer( gl, extensions, info, capabilities ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\n\tlet mode;\n\n\tfunction setMode( value ) {\n\n\t\tmode = value;\n\n\t}\n\n\tfunction render( start, count ) {\n\n\t\tgl.drawArrays( mode, start, count );\n\n\t\tinfo.update( count, mode, 1 );\n\n\t}\n\n\tfunction renderInstances( start, count, primcount ) {\n\n\t\tif ( primcount === 0 ) return;\n\n\t\tlet extension, methodName;\n\n\t\tif ( isWebGL2 ) {\n\n\t\t\textension = gl;\n\t\t\tmethodName = 'drawArraysInstanced';\n\n\t\t} else {\n\n\t\t\textension = extensions.get( 'ANGLE_instanced_arrays' );\n\t\t\tmethodName = 'drawArraysInstancedANGLE';\n\n\t\t\tif ( extension === null ) {\n\n\t\t\t\tconsole.error( 'THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\textension[ methodName ]( mode, start, count, primcount );\n\n\t\tinfo.update( count, mode, primcount );\n\n\t}\n\n\t//\n\n\tthis.setMode = setMode;\n\tthis.render = render;\n\tthis.renderInstances = renderInstances;\n\n}\n\nfunction WebGLCapabilities( gl, extensions, parameters ) {\n\n\tlet maxAnisotropy;\n\n\tfunction getMaxAnisotropy() {\n\n\t\tif ( maxAnisotropy !== undefined ) return maxAnisotropy;\n\n\t\tconst extension = extensions.get( 'EXT_texture_filter_anisotropic' );\n\n\t\tif ( extension !== null ) {\n\n\t\t\tmaxAnisotropy = gl.getParameter( extension.MAX_TEXTURE_MAX_ANISOTROPY_EXT );\n\n\t\t} else {\n\n\t\t\tmaxAnisotropy = 0;\n\n\t\t}\n\n\t\treturn maxAnisotropy;\n\n\t}\n\n\tfunction getMaxPrecision( precision ) {\n\n\t\tif ( precision === 'highp' ) {\n\n\t\t\tif ( gl.getShaderPrecisionFormat( 35633, 36338 ).precision > 0 &&\n\t\t\t\tgl.getShaderPrecisionFormat( 35632, 36338 ).precision > 0 ) {\n\n\t\t\t\treturn 'highp';\n\n\t\t\t}\n\n\t\t\tprecision = 'mediump';\n\n\t\t}\n\n\t\tif ( precision === 'mediump' ) {\n\n\t\t\tif ( gl.getShaderPrecisionFormat( 35633, 36337 ).precision > 0 &&\n\t\t\t\tgl.getShaderPrecisionFormat( 35632, 36337 ).precision > 0 ) {\n\n\t\t\t\treturn 'mediump';\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn 'lowp';\n\n\t}\n\n\t/* eslint-disable no-undef */\n\tconst isWebGL2 = ( typeof WebGL2RenderingContext !== 'undefined' && gl instanceof WebGL2RenderingContext ) ||\n\t\t( typeof WebGL2ComputeRenderingContext !== 'undefined' && gl instanceof WebGL2ComputeRenderingContext );\n\t/* eslint-enable no-undef */\n\n\tlet precision = parameters.precision !== undefined ? parameters.precision : 'highp';\n\tconst maxPrecision = getMaxPrecision( precision );\n\n\tif ( maxPrecision !== precision ) {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer:', precision, 'not supported, using', maxPrecision, 'instead.' );\n\t\tprecision = maxPrecision;\n\n\t}\n\n\tconst logarithmicDepthBuffer = parameters.logarithmicDepthBuffer === true;\n\n\tconst maxTextures = gl.getParameter( 34930 );\n\tconst maxVertexTextures = gl.getParameter( 35660 );\n\tconst maxTextureSize = gl.getParameter( 3379 );\n\tconst maxCubemapSize = gl.getParameter( 34076 );\n\n\tconst maxAttributes = gl.getParameter( 34921 );\n\tconst maxVertexUniforms = gl.getParameter( 36347 );\n\tconst maxVaryings = gl.getParameter( 36348 );\n\tconst maxFragmentUniforms = gl.getParameter( 36349 );\n\n\tconst vertexTextures = maxVertexTextures > 0;\n\tconst floatFragmentTextures = isWebGL2 || !! extensions.get( 'OES_texture_float' );\n\tconst floatVertexTextures = vertexTextures && floatFragmentTextures;\n\n\tconst maxSamples = isWebGL2 ? gl.getParameter( 36183 ) : 0;\n\n\treturn {\n\n\t\tisWebGL2: isWebGL2,\n\n\t\tgetMaxAnisotropy: getMaxAnisotropy,\n\t\tgetMaxPrecision: getMaxPrecision,\n\n\t\tprecision: precision,\n\t\tlogarithmicDepthBuffer: logarithmicDepthBuffer,\n\n\t\tmaxTextures: maxTextures,\n\t\tmaxVertexTextures: maxVertexTextures,\n\t\tmaxTextureSize: maxTextureSize,\n\t\tmaxCubemapSize: maxCubemapSize,\n\n\t\tmaxAttributes: maxAttributes,\n\t\tmaxVertexUniforms: maxVertexUniforms,\n\t\tmaxVaryings: maxVaryings,\n\t\tmaxFragmentUniforms: maxFragmentUniforms,\n\n\t\tvertexTextures: vertexTextures,\n\t\tfloatFragmentTextures: floatFragmentTextures,\n\t\tfloatVertexTextures: floatVertexTextures,\n\n\t\tmaxSamples: maxSamples\n\n\t};\n\n}\n\nfunction WebGLClipping( properties ) {\n\n\tconst scope = this;\n\n\tlet globalState = null,\n\t\tnumGlobalPlanes = 0,\n\t\tlocalClippingEnabled = false,\n\t\trenderingShadows = false;\n\n\tconst plane = new Plane(),\n\t\tviewNormalMatrix = new Matrix3(),\n\n\t\tuniform = { value: null, needsUpdate: false };\n\n\tthis.uniform = uniform;\n\tthis.numPlanes = 0;\n\tthis.numIntersection = 0;\n\n\tthis.init = function ( planes, enableLocalClipping, camera ) {\n\n\t\tconst enabled =\n\t\t\tplanes.length !== 0 ||\n\t\t\tenableLocalClipping ||\n\t\t\t// enable state of previous frame - the clipping code has to\n\t\t\t// run another frame in order to reset the state:\n\t\t\tnumGlobalPlanes !== 0 ||\n\t\t\tlocalClippingEnabled;\n\n\t\tlocalClippingEnabled = enableLocalClipping;\n\n\t\tglobalState = projectPlanes( planes, camera, 0 );\n\t\tnumGlobalPlanes = planes.length;\n\n\t\treturn enabled;\n\n\t};\n\n\tthis.beginShadows = function () {\n\n\t\trenderingShadows = true;\n\t\tprojectPlanes( null );\n\n\t};\n\n\tthis.endShadows = function () {\n\n\t\trenderingShadows = false;\n\t\tresetGlobalState();\n\n\t};\n\n\tthis.setState = function ( material, camera, useCache ) {\n\n\t\tconst planes = material.clippingPlanes,\n\t\t\tclipIntersection = material.clipIntersection,\n\t\t\tclipShadows = material.clipShadows;\n\n\t\tconst materialProperties = properties.get( material );\n\n\t\tif ( ! localClippingEnabled || planes === null || planes.length === 0 || renderingShadows && ! clipShadows ) {\n\n\t\t\t// there's no local clipping\n\n\t\t\tif ( renderingShadows ) {\n\n\t\t\t\t// there's no global clipping\n\n\t\t\t\tprojectPlanes( null );\n\n\t\t\t} else {\n\n\t\t\t\tresetGlobalState();\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst nGlobal = renderingShadows ? 0 : numGlobalPlanes,\n\t\t\t\tlGlobal = nGlobal * 4;\n\n\t\t\tlet dstArray = materialProperties.clippingState || null;\n\n\t\t\tuniform.value = dstArray; // ensure unique state\n\n\t\t\tdstArray = projectPlanes( planes, camera, lGlobal, useCache );\n\n\t\t\tfor ( let i = 0; i !== lGlobal; ++ i ) {\n\n\t\t\t\tdstArray[ i ] = globalState[ i ];\n\n\t\t\t}\n\n\t\t\tmaterialProperties.clippingState = dstArray;\n\t\t\tthis.numIntersection = clipIntersection ? this.numPlanes : 0;\n\t\t\tthis.numPlanes += nGlobal;\n\n\t\t}\n\n\n\t};\n\n\tfunction resetGlobalState() {\n\n\t\tif ( uniform.value !== globalState ) {\n\n\t\t\tuniform.value = globalState;\n\t\t\tuniform.needsUpdate = numGlobalPlanes > 0;\n\n\t\t}\n\n\t\tscope.numPlanes = numGlobalPlanes;\n\t\tscope.numIntersection = 0;\n\n\t}\n\n\tfunction projectPlanes( planes, camera, dstOffset, skipTransform ) {\n\n\t\tconst nPlanes = planes !== null ? planes.length : 0;\n\t\tlet dstArray = null;\n\n\t\tif ( nPlanes !== 0 ) {\n\n\t\t\tdstArray = uniform.value;\n\n\t\t\tif ( skipTransform !== true || dstArray === null ) {\n\n\t\t\t\tconst flatSize = dstOffset + nPlanes * 4,\n\t\t\t\t\tviewMatrix = camera.matrixWorldInverse;\n\n\t\t\t\tviewNormalMatrix.getNormalMatrix( viewMatrix );\n\n\t\t\t\tif ( dstArray === null || dstArray.length < flatSize ) {\n\n\t\t\t\t\tdstArray = new Float32Array( flatSize );\n\n\t\t\t\t}\n\n\t\t\t\tfor ( let i = 0, i4 = dstOffset; i !== nPlanes; ++ i, i4 += 4 ) {\n\n\t\t\t\t\tplane.copy( planes[ i ] ).applyMatrix4( viewMatrix, viewNormalMatrix );\n\n\t\t\t\t\tplane.normal.toArray( dstArray, i4 );\n\t\t\t\t\tdstArray[ i4 + 3 ] = plane.constant;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tuniform.value = dstArray;\n\t\t\tuniform.needsUpdate = true;\n\n\t\t}\n\n\t\tscope.numPlanes = nPlanes;\n\t\tscope.numIntersection = 0;\n\n\t\treturn dstArray;\n\n\t}\n\n}\n\nfunction WebGLCubeMaps( renderer ) {\n\n\tlet cubemaps = new WeakMap();\n\n\tfunction mapTextureMapping( texture, mapping ) {\n\n\t\tif ( mapping === EquirectangularReflectionMapping ) {\n\n\t\t\ttexture.mapping = CubeReflectionMapping;\n\n\t\t} else if ( mapping === EquirectangularRefractionMapping ) {\n\n\t\t\ttexture.mapping = CubeRefractionMapping;\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n\tfunction get( texture ) {\n\n\t\tif ( texture && texture.isTexture ) {\n\n\t\t\tconst mapping = texture.mapping;\n\n\t\t\tif ( mapping === EquirectangularReflectionMapping || mapping === EquirectangularRefractionMapping ) {\n\n\t\t\t\tif ( cubemaps.has( texture ) ) {\n\n\t\t\t\t\tconst cubemap = cubemaps.get( texture ).texture;\n\t\t\t\t\treturn mapTextureMapping( cubemap, texture.mapping );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconst image = texture.image;\n\n\t\t\t\t\tif ( image && image.height > 0 ) {\n\n\t\t\t\t\t\tconst currentRenderList = renderer.getRenderList();\n\t\t\t\t\t\tconst currentRenderTarget = renderer.getRenderTarget();\n\t\t\t\t\t\tconst currentRenderState = renderer.getRenderState();\n\n\t\t\t\t\t\tconst renderTarget = new WebGLCubeRenderTarget( image.height / 2 );\n\t\t\t\t\t\trenderTarget.fromEquirectangularTexture( renderer, texture );\n\t\t\t\t\t\tcubemaps.set( texture, renderTarget );\n\n\t\t\t\t\t\trenderer.setRenderTarget( currentRenderTarget );\n\t\t\t\t\t\trenderer.setRenderList( currentRenderList );\n\t\t\t\t\t\trenderer.setRenderState( currentRenderState );\n\n\t\t\t\t\t\ttexture.addEventListener( 'dispose', onTextureDispose );\n\n\t\t\t\t\t\treturn mapTextureMapping( renderTarget.texture, texture.mapping );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// image not yet ready. try the conversion next frame\n\n\t\t\t\t\t\treturn null;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n\tfunction onTextureDispose( event ) {\n\n\t\tconst texture = event.target;\n\n\t\ttexture.removeEventListener( 'dispose', onTextureDispose );\n\n\t\tconst cubemap = cubemaps.get( texture );\n\n\t\tif ( cubemap !== undefined ) {\n\n\t\t\tcubemaps.delete( texture );\n\t\t\tcubemap.dispose();\n\n\t\t}\n\n\t}\n\n\tfunction dispose() {\n\n\t\tcubemaps = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tdispose: dispose\n\t};\n\n}\n\nfunction WebGLExtensions( gl ) {\n\n\tconst extensions = {};\n\n\treturn {\n\n\t\thas: function ( name ) {\n\n\t\t\tif ( extensions[ name ] !== undefined ) {\n\n\t\t\t\treturn extensions[ name ] !== null;\n\n\t\t\t}\n\n\t\t\tlet extension;\n\n\t\t\tswitch ( name ) {\n\n\t\t\t\tcase 'WEBGL_depth_texture':\n\t\t\t\t\textension = gl.getExtension( 'WEBGL_depth_texture' ) || gl.getExtension( 'MOZ_WEBGL_depth_texture' ) || gl.getExtension( 'WEBKIT_WEBGL_depth_texture' );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'EXT_texture_filter_anisotropic':\n\t\t\t\t\textension = gl.getExtension( 'EXT_texture_filter_anisotropic' ) || gl.getExtension( 'MOZ_EXT_texture_filter_anisotropic' ) || gl.getExtension( 'WEBKIT_EXT_texture_filter_anisotropic' );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'WEBGL_compressed_texture_s3tc':\n\t\t\t\t\textension = gl.getExtension( 'WEBGL_compressed_texture_s3tc' ) || gl.getExtension( 'MOZ_WEBGL_compressed_texture_s3tc' ) || gl.getExtension( 'WEBKIT_WEBGL_compressed_texture_s3tc' );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'WEBGL_compressed_texture_pvrtc':\n\t\t\t\t\textension = gl.getExtension( 'WEBGL_compressed_texture_pvrtc' ) || gl.getExtension( 'WEBKIT_WEBGL_compressed_texture_pvrtc' );\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\textension = gl.getExtension( name );\n\n\t\t\t}\n\n\t\t\textensions[ name ] = extension;\n\n\t\t\treturn extension !== null;\n\n\t\t},\n\n\t\tget: function ( name ) {\n\n\t\t\tif ( ! this.has( name ) ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: ' + name + ' extension not supported.' );\n\n\t\t\t}\n\n\t\t\treturn extensions[ name ];\n\n\t\t}\n\n\t};\n\n}\n\nfunction WebGLGeometries( gl, attributes, info, bindingStates ) {\n\n\tconst geometries = new WeakMap();\n\tconst wireframeAttributes = new WeakMap();\n\n\tfunction onGeometryDispose( event ) {\n\n\t\tconst geometry = event.target;\n\t\tconst buffergeometry = geometries.get( geometry );\n\n\t\tif ( buffergeometry.index !== null ) {\n\n\t\t\tattributes.remove( buffergeometry.index );\n\n\t\t}\n\n\t\tfor ( const name in buffergeometry.attributes ) {\n\n\t\t\tattributes.remove( buffergeometry.attributes[ name ] );\n\n\t\t}\n\n\t\tgeometry.removeEventListener( 'dispose', onGeometryDispose );\n\n\t\tgeometries.delete( geometry );\n\n\t\tconst attribute = wireframeAttributes.get( buffergeometry );\n\n\t\tif ( attribute ) {\n\n\t\t\tattributes.remove( attribute );\n\t\t\twireframeAttributes.delete( buffergeometry );\n\n\t\t}\n\n\t\tbindingStates.releaseStatesOfGeometry( buffergeometry );\n\n\t\tif ( geometry.isInstancedBufferGeometry === true ) {\n\n\t\t\tdelete geometry._maxInstanceCount;\n\n\t\t}\n\n\t\t//\n\n\t\tinfo.memory.geometries --;\n\n\t}\n\n\tfunction get( object, geometry ) {\n\n\t\tlet buffergeometry = geometries.get( geometry );\n\n\t\tif ( buffergeometry ) return buffergeometry;\n\n\t\tgeometry.addEventListener( 'dispose', onGeometryDispose );\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tbuffergeometry = geometry;\n\n\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\tif ( geometry._bufferGeometry === undefined ) {\n\n\t\t\t\tgeometry._bufferGeometry = new BufferGeometry().setFromObject( object );\n\n\t\t\t}\n\n\t\t\tbuffergeometry = geometry._bufferGeometry;\n\n\t\t}\n\n\t\tgeometries.set( geometry, buffergeometry );\n\n\t\tinfo.memory.geometries ++;\n\n\t\treturn buffergeometry;\n\n\t}\n\n\tfunction update( geometry ) {\n\n\t\tconst geometryAttributes = geometry.attributes;\n\n\t\t// Updating index buffer in VAO now. See WebGLBindingStates.\n\n\t\tfor ( const name in geometryAttributes ) {\n\n\t\t\tattributes.update( geometryAttributes[ name ], 34962 );\n\n\t\t}\n\n\t\t// morph targets\n\n\t\tconst morphAttributes = geometry.morphAttributes;\n\n\t\tfor ( const name in morphAttributes ) {\n\n\t\t\tconst array = morphAttributes[ name ];\n\n\t\t\tfor ( let i = 0, l = array.length; i < l; i ++ ) {\n\n\t\t\t\tattributes.update( array[ i ], 34962 );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction updateWireframeAttribute( geometry ) {\n\n\t\tconst indices = [];\n\n\t\tconst geometryIndex = geometry.index;\n\t\tconst geometryPosition = geometry.attributes.position;\n\t\tlet version = 0;\n\n\t\tif ( geometryIndex !== null ) {\n\n\t\t\tconst array = geometryIndex.array;\n\t\t\tversion = geometryIndex.version;\n\n\t\t\tfor ( let i = 0, l = array.length; i < l; i += 3 ) {\n\n\t\t\t\tconst a = array[ i + 0 ];\n\t\t\t\tconst b = array[ i + 1 ];\n\t\t\t\tconst c = array[ i + 2 ];\n\n\t\t\t\tindices.push( a, b, b, c, c, a );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst array = geometryPosition.array;\n\t\t\tversion = geometryPosition.version;\n\n\t\t\tfor ( let i = 0, l = ( array.length / 3 ) - 1; i < l; i += 3 ) {\n\n\t\t\t\tconst a = i + 0;\n\t\t\t\tconst b = i + 1;\n\t\t\t\tconst c = i + 2;\n\n\t\t\t\tindices.push( a, b, b, c, c, a );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst attribute = new ( arrayMax( indices ) > 65535 ? Uint32BufferAttribute : Uint16BufferAttribute )( indices, 1 );\n\t\tattribute.version = version;\n\n\t\t// Updating index buffer in VAO now. See WebGLBindingStates\n\n\t\t//\n\n\t\tconst previousAttribute = wireframeAttributes.get( geometry );\n\n\t\tif ( previousAttribute ) attributes.remove( previousAttribute );\n\n\t\t//\n\n\t\twireframeAttributes.set( geometry, attribute );\n\n\t}\n\n\tfunction getWireframeAttribute( geometry ) {\n\n\t\tconst currentAttribute = wireframeAttributes.get( geometry );\n\n\t\tif ( currentAttribute ) {\n\n\t\t\tconst geometryIndex = geometry.index;\n\n\t\t\tif ( geometryIndex !== null ) {\n\n\t\t\t\t// if the attribute is obsolete, create a new one\n\n\t\t\t\tif ( currentAttribute.version < geometryIndex.version ) {\n\n\t\t\t\t\tupdateWireframeAttribute( geometry );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tupdateWireframeAttribute( geometry );\n\n\t\t}\n\n\t\treturn wireframeAttributes.get( geometry );\n\n\t}\n\n\treturn {\n\n\t\tget: get,\n\t\tupdate: update,\n\n\t\tgetWireframeAttribute: getWireframeAttribute\n\n\t};\n\n}\n\nfunction WebGLIndexedBufferRenderer( gl, extensions, info, capabilities ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\n\tlet mode;\n\n\tfunction setMode( value ) {\n\n\t\tmode = value;\n\n\t}\n\n\tlet type, bytesPerElement;\n\n\tfunction setIndex( value ) {\n\n\t\ttype = value.type;\n\t\tbytesPerElement = value.bytesPerElement;\n\n\t}\n\n\tfunction render( start, count ) {\n\n\t\tgl.drawElements( mode, count, type, start * bytesPerElement );\n\n\t\tinfo.update( count, mode, 1 );\n\n\t}\n\n\tfunction renderInstances( start, count, primcount ) {\n\n\t\tif ( primcount === 0 ) return;\n\n\t\tlet extension, methodName;\n\n\t\tif ( isWebGL2 ) {\n\n\t\t\textension = gl;\n\t\t\tmethodName = 'drawElementsInstanced';\n\n\t\t} else {\n\n\t\t\textension = extensions.get( 'ANGLE_instanced_arrays' );\n\t\t\tmethodName = 'drawElementsInstancedANGLE';\n\n\t\t\tif ( extension === null ) {\n\n\t\t\t\tconsole.error( 'THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\textension[ methodName ]( mode, count, type, start * bytesPerElement, primcount );\n\n\t\tinfo.update( count, mode, primcount );\n\n\t}\n\n\t//\n\n\tthis.setMode = setMode;\n\tthis.setIndex = setIndex;\n\tthis.render = render;\n\tthis.renderInstances = renderInstances;\n\n}\n\nfunction WebGLInfo( gl ) {\n\n\tconst memory = {\n\t\tgeometries: 0,\n\t\ttextures: 0\n\t};\n\n\tconst render = {\n\t\tframe: 0,\n\t\tcalls: 0,\n\t\ttriangles: 0,\n\t\tpoints: 0,\n\t\tlines: 0\n\t};\n\n\tfunction update( count, mode, instanceCount ) {\n\n\t\trender.calls ++;\n\n\t\tswitch ( mode ) {\n\n\t\t\tcase 4:\n\t\t\t\trender.triangles += instanceCount * ( count / 3 );\n\t\t\t\tbreak;\n\n\t\t\tcase 1:\n\t\t\t\trender.lines += instanceCount * ( count / 2 );\n\t\t\t\tbreak;\n\n\t\t\tcase 3:\n\t\t\t\trender.lines += instanceCount * ( count - 1 );\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\t\t\t\trender.lines += instanceCount * count;\n\t\t\t\tbreak;\n\n\t\t\tcase 0:\n\t\t\t\trender.points += instanceCount * count;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tconsole.error( 'THREE.WebGLInfo: Unknown draw mode:', mode );\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\tfunction reset() {\n\n\t\trender.frame ++;\n\t\trender.calls = 0;\n\t\trender.triangles = 0;\n\t\trender.points = 0;\n\t\trender.lines = 0;\n\n\t}\n\n\treturn {\n\t\tmemory: memory,\n\t\trender: render,\n\t\tprograms: null,\n\t\tautoReset: true,\n\t\treset: reset,\n\t\tupdate: update\n\t};\n\n}\n\nfunction numericalSort( a, b ) {\n\n\treturn a[ 0 ] - b[ 0 ];\n\n}\n\nfunction absNumericalSort( a, b ) {\n\n\treturn Math.abs( b[ 1 ] ) - Math.abs( a[ 1 ] );\n\n}\n\nfunction WebGLMorphtargets( gl ) {\n\n\tconst influencesList = {};\n\tconst morphInfluences = new Float32Array( 8 );\n\n\tconst workInfluences = [];\n\n\tfor ( let i = 0; i < 8; i ++ ) {\n\n\t\tworkInfluences[ i ] = [ i, 0 ];\n\n\t}\n\n\tfunction update( object, geometry, material, program ) {\n\n\t\tconst objectInfluences = object.morphTargetInfluences;\n\n\t\t// When object doesn't have morph target influences defined, we treat it as a 0-length array\n\t\t// This is important to make sure we set up morphTargetBaseInfluence / morphTargetInfluences\n\n\t\tconst length = objectInfluences === undefined ? 0 : objectInfluences.length;\n\n\t\tlet influences = influencesList[ geometry.id ];\n\n\t\tif ( influences === undefined ) {\n\n\t\t\t// initialise list\n\n\t\t\tinfluences = [];\n\n\t\t\tfor ( let i = 0; i < length; i ++ ) {\n\n\t\t\t\tinfluences[ i ] = [ i, 0 ];\n\n\t\t\t}\n\n\t\t\tinfluencesList[ geometry.id ] = influences;\n\n\t\t}\n\n\t\t// Collect influences\n\n\t\tfor ( let i = 0; i < length; i ++ ) {\n\n\t\t\tconst influence = influences[ i ];\n\n\t\t\tinfluence[ 0 ] = i;\n\t\t\tinfluence[ 1 ] = objectInfluences[ i ];\n\n\t\t}\n\n\t\tinfluences.sort( absNumericalSort );\n\n\t\tfor ( let i = 0; i < 8; i ++ ) {\n\n\t\t\tif ( i < length && influences[ i ][ 1 ] ) {\n\n\t\t\t\tworkInfluences[ i ][ 0 ] = influences[ i ][ 0 ];\n\t\t\t\tworkInfluences[ i ][ 1 ] = influences[ i ][ 1 ];\n\n\t\t\t} else {\n\n\t\t\t\tworkInfluences[ i ][ 0 ] = Number.MAX_SAFE_INTEGER;\n\t\t\t\tworkInfluences[ i ][ 1 ] = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t\tworkInfluences.sort( numericalSort );\n\n\t\tconst morphTargets = material.morphTargets && geometry.morphAttributes.position;\n\t\tconst morphNormals = material.morphNormals && geometry.morphAttributes.normal;\n\n\t\tlet morphInfluencesSum = 0;\n\n\t\tfor ( let i = 0; i < 8; i ++ ) {\n\n\t\t\tconst influence = workInfluences[ i ];\n\t\t\tconst index = influence[ 0 ];\n\t\t\tconst value = influence[ 1 ];\n\n\t\t\tif ( index !== Number.MAX_SAFE_INTEGER && value ) {\n\n\t\t\t\tif ( morphTargets && geometry.getAttribute( 'morphTarget' + i ) !== morphTargets[ index ] ) {\n\n\t\t\t\t\tgeometry.setAttribute( 'morphTarget' + i, morphTargets[ index ] );\n\n\t\t\t\t}\n\n\t\t\t\tif ( morphNormals && geometry.getAttribute( 'morphNormal' + i ) !== morphNormals[ index ] ) {\n\n\t\t\t\t\tgeometry.setAttribute( 'morphNormal' + i, morphNormals[ index ] );\n\n\t\t\t\t}\n\n\t\t\t\tmorphInfluences[ i ] = value;\n\t\t\t\tmorphInfluencesSum += value;\n\n\t\t\t} else {\n\n\t\t\t\tif ( morphTargets && geometry.getAttribute( 'morphTarget' + i ) !== undefined ) {\n\n\t\t\t\t\tgeometry.deleteAttribute( 'morphTarget' + i );\n\n\t\t\t\t}\n\n\t\t\t\tif ( morphNormals && geometry.getAttribute( 'morphNormal' + i ) !== undefined ) {\n\n\t\t\t\t\tgeometry.deleteAttribute( 'morphNormal' + i );\n\n\t\t\t\t}\n\n\t\t\t\tmorphInfluences[ i ] = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// GLSL shader uses formula baseinfluence * base + sum(target * influence)\n\t\t// This allows us to switch between absolute morphs and relative morphs without changing shader code\n\t\t// When baseinfluence = 1 - sum(influence), the above is equivalent to sum((target - base) * influence)\n\t\tconst morphBaseInfluence = geometry.morphTargetsRelative ? 1 : 1 - morphInfluencesSum;\n\n\t\tprogram.getUniforms().setValue( gl, 'morphTargetBaseInfluence', morphBaseInfluence );\n\t\tprogram.getUniforms().setValue( gl, 'morphTargetInfluences', morphInfluences );\n\n\t}\n\n\treturn {\n\n\t\tupdate: update\n\n\t};\n\n}\n\nfunction WebGLObjects( gl, geometries, attributes, info ) {\n\n\tlet updateMap = new WeakMap();\n\n\tfunction update( object ) {\n\n\t\tconst frame = info.render.frame;\n\n\t\tconst geometry = object.geometry;\n\t\tconst buffergeometry = geometries.get( object, geometry );\n\n\t\t// Update once per frame\n\n\t\tif ( updateMap.get( buffergeometry ) !== frame ) {\n\n\t\t\tif ( geometry.isGeometry ) {\n\n\t\t\t\tbuffergeometry.updateFromObject( object );\n\n\t\t\t}\n\n\t\t\tgeometries.update( buffergeometry );\n\n\t\t\tupdateMap.set( buffergeometry, frame );\n\n\t\t}\n\n\t\tif ( object.isInstancedMesh ) {\n\n\t\t\tattributes.update( object.instanceMatrix, 34962 );\n\n\t\t\tif ( object.instanceColor !== null ) {\n\n\t\t\t\tattributes.update( object.instanceColor, 34962 );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn buffergeometry;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tupdateMap = new WeakMap();\n\n\t}\n\n\treturn {\n\n\t\tupdate: update,\n\t\tdispose: dispose\n\n\t};\n\n}\n\nfunction DataTexture2DArray( data, width, height, depth ) {\n\n\tTexture.call( this, null );\n\n\tthis.image = { data: data || null, width: width || 1, height: height || 1, depth: depth || 1 };\n\n\tthis.magFilter = NearestFilter;\n\tthis.minFilter = NearestFilter;\n\n\tthis.wrapR = ClampToEdgeWrapping;\n\n\tthis.generateMipmaps = false;\n\tthis.flipY = false;\n\n\tthis.needsUpdate = true;\n\n}\n\nDataTexture2DArray.prototype = Object.create( Texture.prototype );\nDataTexture2DArray.prototype.constructor = DataTexture2DArray;\nDataTexture2DArray.prototype.isDataTexture2DArray = true;\n\nfunction DataTexture3D( data, width, height, depth ) {\n\n\t// We're going to add .setXXX() methods for setting properties later.\n\t// Users can still set in DataTexture3D directly.\n\t//\n\t//\tconst texture = new THREE.DataTexture3D( data, width, height, depth );\n\t// \ttexture.anisotropy = 16;\n\t//\n\t// See #14839\n\n\tTexture.call( this, null );\n\n\tthis.image = { data: data || null, width: width || 1, height: height || 1, depth: depth || 1 };\n\n\tthis.magFilter = NearestFilter;\n\tthis.minFilter = NearestFilter;\n\n\tthis.wrapR = ClampToEdgeWrapping;\n\n\tthis.generateMipmaps = false;\n\tthis.flipY = false;\n\n\tthis.needsUpdate = true;\n\n\n}\n\nDataTexture3D.prototype = Object.create( Texture.prototype );\nDataTexture3D.prototype.constructor = DataTexture3D;\nDataTexture3D.prototype.isDataTexture3D = true;\n\n/**\n * Uniforms of a program.\n * Those form a tree structure with a special top-level container for the root,\n * which you get by calling 'new WebGLUniforms( gl, program )'.\n *\n *\n * Properties of inner nodes including the top-level container:\n *\n * .seq - array of nested uniforms\n * .map - nested uniforms by name\n *\n *\n * Methods of all nodes except the top-level container:\n *\n * .setValue( gl, value, [textures] )\n *\n * \t\tuploads a uniform value(s)\n *  \tthe 'textures' parameter is needed for sampler uniforms\n *\n *\n * Static methods of the top-level container (textures factorizations):\n *\n * .upload( gl, seq, values, textures )\n *\n * \t\tsets uniforms in 'seq' to 'values[id].value'\n *\n * .seqWithValue( seq, values ) : filteredSeq\n *\n * \t\tfilters 'seq' entries with corresponding entry in values\n *\n *\n * Methods of the top-level container (textures factorizations):\n *\n * .setValue( gl, name, value, textures )\n *\n * \t\tsets uniform with  name 'name' to 'value'\n *\n * .setOptional( gl, obj, prop )\n *\n * \t\tlike .set for an optional property of the object\n *\n */\n\nconst emptyTexture = new Texture();\nconst emptyTexture2dArray = new DataTexture2DArray();\nconst emptyTexture3d = new DataTexture3D();\nconst emptyCubeTexture = new CubeTexture();\n\n// --- Utilities ---\n\n// Array Caches (provide typed arrays for temporary by size)\n\nconst arrayCacheF32 = [];\nconst arrayCacheI32 = [];\n\n// Float32Array caches used for uploading Matrix uniforms\n\nconst mat4array = new Float32Array( 16 );\nconst mat3array = new Float32Array( 9 );\nconst mat2array = new Float32Array( 4 );\n\n// Flattening for arrays of vectors and matrices\n\nfunction flatten( array, nBlocks, blockSize ) {\n\n\tconst firstElem = array[ 0 ];\n\n\tif ( firstElem <= 0 || firstElem > 0 ) return array;\n\t// unoptimized: ! isNaN( firstElem )\n\t// see http://jacksondunstan.com/articles/983\n\n\tconst n = nBlocks * blockSize;\n\tlet r = arrayCacheF32[ n ];\n\n\tif ( r === undefined ) {\n\n\t\tr = new Float32Array( n );\n\t\tarrayCacheF32[ n ] = r;\n\n\t}\n\n\tif ( nBlocks !== 0 ) {\n\n\t\tfirstElem.toArray( r, 0 );\n\n\t\tfor ( let i = 1, offset = 0; i !== nBlocks; ++ i ) {\n\n\t\t\toffset += blockSize;\n\t\t\tarray[ i ].toArray( r, offset );\n\n\t\t}\n\n\t}\n\n\treturn r;\n\n}\n\nfunction arraysEqual( a, b ) {\n\n\tif ( a.length !== b.length ) return false;\n\n\tfor ( let i = 0, l = a.length; i < l; i ++ ) {\n\n\t\tif ( a[ i ] !== b[ i ] ) return false;\n\n\t}\n\n\treturn true;\n\n}\n\nfunction copyArray( a, b ) {\n\n\tfor ( let i = 0, l = b.length; i < l; i ++ ) {\n\n\t\ta[ i ] = b[ i ];\n\n\t}\n\n}\n\n// Texture unit allocation\n\nfunction allocTexUnits( textures, n ) {\n\n\tlet r = arrayCacheI32[ n ];\n\n\tif ( r === undefined ) {\n\n\t\tr = new Int32Array( n );\n\t\tarrayCacheI32[ n ] = r;\n\n\t}\n\n\tfor ( let i = 0; i !== n; ++ i ) {\n\n\t\tr[ i ] = textures.allocateTextureUnit();\n\n\t}\n\n\treturn r;\n\n}\n\n// --- Setters ---\n\n// Note: Defining these methods externally, because they come in a bunch\n// and this way their names minify.\n\n// Single scalar\n\nfunction setValueV1f( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( cache[ 0 ] === v ) return;\n\n\tgl.uniform1f( this.addr, v );\n\n\tcache[ 0 ] = v;\n\n}\n\n// Single float vector (from flat array or THREE.VectorN)\n\nfunction setValueV2f( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y ) {\n\n\t\t\tgl.uniform2f( this.addr, v.x, v.y );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform2fv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\nfunction setValueV3f( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y || cache[ 2 ] !== v.z ) {\n\n\t\t\tgl.uniform3f( this.addr, v.x, v.y, v.z );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\t\t\tcache[ 2 ] = v.z;\n\n\t\t}\n\n\t} else if ( v.r !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.r || cache[ 1 ] !== v.g || cache[ 2 ] !== v.b ) {\n\n\t\t\tgl.uniform3f( this.addr, v.r, v.g, v.b );\n\n\t\t\tcache[ 0 ] = v.r;\n\t\t\tcache[ 1 ] = v.g;\n\t\t\tcache[ 2 ] = v.b;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform3fv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\nfunction setValueV4f( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y || cache[ 2 ] !== v.z || cache[ 3 ] !== v.w ) {\n\n\t\t\tgl.uniform4f( this.addr, v.x, v.y, v.z, v.w );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\t\t\tcache[ 2 ] = v.z;\n\t\t\tcache[ 3 ] = v.w;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform4fv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\n// Single matrix (from flat array or MatrixN)\n\nfunction setValueM2( gl, v ) {\n\n\tconst cache = this.cache;\n\tconst elements = v.elements;\n\n\tif ( elements === undefined ) {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniformMatrix2fv( this.addr, false, v );\n\n\t\tcopyArray( cache, v );\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, elements ) ) return;\n\n\t\tmat2array.set( elements );\n\n\t\tgl.uniformMatrix2fv( this.addr, false, mat2array );\n\n\t\tcopyArray( cache, elements );\n\n\t}\n\n}\n\nfunction setValueM3( gl, v ) {\n\n\tconst cache = this.cache;\n\tconst elements = v.elements;\n\n\tif ( elements === undefined ) {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniformMatrix3fv( this.addr, false, v );\n\n\t\tcopyArray( cache, v );\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, elements ) ) return;\n\n\t\tmat3array.set( elements );\n\n\t\tgl.uniformMatrix3fv( this.addr, false, mat3array );\n\n\t\tcopyArray( cache, elements );\n\n\t}\n\n}\n\nfunction setValueM4( gl, v ) {\n\n\tconst cache = this.cache;\n\tconst elements = v.elements;\n\n\tif ( elements === undefined ) {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniformMatrix4fv( this.addr, false, v );\n\n\t\tcopyArray( cache, v );\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, elements ) ) return;\n\n\t\tmat4array.set( elements );\n\n\t\tgl.uniformMatrix4fv( this.addr, false, mat4array );\n\n\t\tcopyArray( cache, elements );\n\n\t}\n\n}\n\n// Single texture (2D / Cube)\n\nfunction setValueT1( gl, v, textures ) {\n\n\tconst cache = this.cache;\n\tconst unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.safeSetTexture2D( v || emptyTexture, unit );\n\n}\n\nfunction setValueT2DArray1( gl, v, textures ) {\n\n\tconst cache = this.cache;\n\tconst unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.setTexture2DArray( v || emptyTexture2dArray, unit );\n\n}\n\nfunction setValueT3D1( gl, v, textures ) {\n\n\tconst cache = this.cache;\n\tconst unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.setTexture3D( v || emptyTexture3d, unit );\n\n}\n\nfunction setValueT6( gl, v, textures ) {\n\n\tconst cache = this.cache;\n\tconst unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.safeSetTextureCube( v || emptyCubeTexture, unit );\n\n}\n\n// Integer / Boolean vectors or arrays thereof (always flat arrays)\n\nfunction setValueV1i( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( cache[ 0 ] === v ) return;\n\n\tgl.uniform1i( this.addr, v );\n\n\tcache[ 0 ] = v;\n\n}\n\nfunction setValueV2i( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform2iv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\nfunction setValueV3i( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform3iv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\nfunction setValueV4i( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform4iv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\n// uint\n\nfunction setValueV1ui( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( cache[ 0 ] === v ) return;\n\n\tgl.uniform1ui( this.addr, v );\n\n\tcache[ 0 ] = v;\n\n}\n\n// Helper to pick the right setter for the singular case\n\nfunction getSingularSetter( type ) {\n\n\tswitch ( type ) {\n\n\t\tcase 0x1406: return setValueV1f; // FLOAT\n\t\tcase 0x8b50: return setValueV2f; // _VEC2\n\t\tcase 0x8b51: return setValueV3f; // _VEC3\n\t\tcase 0x8b52: return setValueV4f; // _VEC4\n\n\t\tcase 0x8b5a: return setValueM2; // _MAT2\n\t\tcase 0x8b5b: return setValueM3; // _MAT3\n\t\tcase 0x8b5c: return setValueM4; // _MAT4\n\n\t\tcase 0x1404: case 0x8b56: return setValueV1i; // INT, BOOL\n\t\tcase 0x8b53: case 0x8b57: return setValueV2i; // _VEC2\n\t\tcase 0x8b54: case 0x8b58: return setValueV3i; // _VEC3\n\t\tcase 0x8b55: case 0x8b59: return setValueV4i; // _VEC4\n\n\t\tcase 0x1405: return setValueV1ui; // UINT\n\n\t\tcase 0x8b5e: // SAMPLER_2D\n\t\tcase 0x8d66: // SAMPLER_EXTERNAL_OES\n\t\tcase 0x8dca: // INT_SAMPLER_2D\n\t\tcase 0x8dd2: // UNSIGNED_INT_SAMPLER_2D\n\t\tcase 0x8b62: // SAMPLER_2D_SHADOW\n\t\t\treturn setValueT1;\n\n\t\tcase 0x8b5f: // SAMPLER_3D\n\t\tcase 0x8dcb: // INT_SAMPLER_3D\n\t\tcase 0x8dd3: // UNSIGNED_INT_SAMPLER_3D\n\t\t\treturn setValueT3D1;\n\n\t\tcase 0x8b60: // SAMPLER_CUBE\n\t\tcase 0x8dcc: // INT_SAMPLER_CUBE\n\t\tcase 0x8dd4: // UNSIGNED_INT_SAMPLER_CUBE\n\t\tcase 0x8dc5: // SAMPLER_CUBE_SHADOW\n\t\t\treturn setValueT6;\n\n\t\tcase 0x8dc1: // SAMPLER_2D_ARRAY\n\t\tcase 0x8dcf: // INT_SAMPLER_2D_ARRAY\n\t\tcase 0x8dd7: // UNSIGNED_INT_SAMPLER_2D_ARRAY\n\t\tcase 0x8dc4: // SAMPLER_2D_ARRAY_SHADOW\n\t\t\treturn setValueT2DArray1;\n\n\t}\n\n}\n\n// Array of scalars\nfunction setValueV1fArray( gl, v ) {\n\n\tgl.uniform1fv( this.addr, v );\n\n}\n\n// Integer / Boolean vectors or arrays thereof (always flat arrays)\nfunction setValueV1iArray( gl, v ) {\n\n\tgl.uniform1iv( this.addr, v );\n\n}\n\nfunction setValueV2iArray( gl, v ) {\n\n\tgl.uniform2iv( this.addr, v );\n\n}\n\nfunction setValueV3iArray( gl, v ) {\n\n\tgl.uniform3iv( this.addr, v );\n\n}\n\nfunction setValueV4iArray( gl, v ) {\n\n\tgl.uniform4iv( this.addr, v );\n\n}\n\n\n// Array of vectors (flat or from THREE classes)\n\nfunction setValueV2fArray( gl, v ) {\n\n\tconst data = flatten( v, this.size, 2 );\n\n\tgl.uniform2fv( this.addr, data );\n\n}\n\nfunction setValueV3fArray( gl, v ) {\n\n\tconst data = flatten( v, this.size, 3 );\n\n\tgl.uniform3fv( this.addr, data );\n\n}\n\nfunction setValueV4fArray( gl, v ) {\n\n\tconst data = flatten( v, this.size, 4 );\n\n\tgl.uniform4fv( this.addr, data );\n\n}\n\n// Array of matrices (flat or from THREE clases)\n\nfunction setValueM2Array( gl, v ) {\n\n\tconst data = flatten( v, this.size, 4 );\n\n\tgl.uniformMatrix2fv( this.addr, false, data );\n\n}\n\nfunction setValueM3Array( gl, v ) {\n\n\tconst data = flatten( v, this.size, 9 );\n\n\tgl.uniformMatrix3fv( this.addr, false, data );\n\n}\n\nfunction setValueM4Array( gl, v ) {\n\n\tconst data = flatten( v, this.size, 16 );\n\n\tgl.uniformMatrix4fv( this.addr, false, data );\n\n}\n\n// Array of textures (2D / Cube)\n\nfunction setValueT1Array( gl, v, textures ) {\n\n\tconst n = v.length;\n\n\tconst units = allocTexUnits( textures, n );\n\n\tgl.uniform1iv( this.addr, units );\n\n\tfor ( let i = 0; i !== n; ++ i ) {\n\n\t\ttextures.safeSetTexture2D( v[ i ] || emptyTexture, units[ i ] );\n\n\t}\n\n}\n\nfunction setValueT6Array( gl, v, textures ) {\n\n\tconst n = v.length;\n\n\tconst units = allocTexUnits( textures, n );\n\n\tgl.uniform1iv( this.addr, units );\n\n\tfor ( let i = 0; i !== n; ++ i ) {\n\n\t\ttextures.safeSetTextureCube( v[ i ] || emptyCubeTexture, units[ i ] );\n\n\t}\n\n}\n\n// Helper to pick the right setter for a pure (bottom-level) array\n\nfunction getPureArraySetter( type ) {\n\n\tswitch ( type ) {\n\n\t\tcase 0x1406: return setValueV1fArray; // FLOAT\n\t\tcase 0x8b50: return setValueV2fArray; // _VEC2\n\t\tcase 0x8b51: return setValueV3fArray; // _VEC3\n\t\tcase 0x8b52: return setValueV4fArray; // _VEC4\n\n\t\tcase 0x8b5a: return setValueM2Array; // _MAT2\n\t\tcase 0x8b5b: return setValueM3Array; // _MAT3\n\t\tcase 0x8b5c: return setValueM4Array; // _MAT4\n\n\t\tcase 0x1404: case 0x8b56: return setValueV1iArray; // INT, BOOL\n\t\tcase 0x8b53: case 0x8b57: return setValueV2iArray; // _VEC2\n\t\tcase 0x8b54: case 0x8b58: return setValueV3iArray; // _VEC3\n\t\tcase 0x8b55: case 0x8b59: return setValueV4iArray; // _VEC4\n\n\t\tcase 0x8b5e: // SAMPLER_2D\n\t\tcase 0x8d66: // SAMPLER_EXTERNAL_OES\n\t\tcase 0x8dca: // INT_SAMPLER_2D\n\t\tcase 0x8dd2: // UNSIGNED_INT_SAMPLER_2D\n\t\tcase 0x8b62: // SAMPLER_2D_SHADOW\n\t\t\treturn setValueT1Array;\n\n\t\tcase 0x8b60: // SAMPLER_CUBE\n\t\tcase 0x8dcc: // INT_SAMPLER_CUBE\n\t\tcase 0x8dd4: // UNSIGNED_INT_SAMPLER_CUBE\n\t\tcase 0x8dc5: // SAMPLER_CUBE_SHADOW\n\t\t\treturn setValueT6Array;\n\n\t}\n\n}\n\n// --- Uniform Classes ---\n\nfunction SingleUniform( id, activeInfo, addr ) {\n\n\tthis.id = id;\n\tthis.addr = addr;\n\tthis.cache = [];\n\tthis.setValue = getSingularSetter( activeInfo.type );\n\n\t// this.path = activeInfo.name; // DEBUG\n\n}\n\nfunction PureArrayUniform( id, activeInfo, addr ) {\n\n\tthis.id = id;\n\tthis.addr = addr;\n\tthis.cache = [];\n\tthis.size = activeInfo.size;\n\tthis.setValue = getPureArraySetter( activeInfo.type );\n\n\t// this.path = activeInfo.name; // DEBUG\n\n}\n\nPureArrayUniform.prototype.updateCache = function ( data ) {\n\n\tconst cache = this.cache;\n\n\tif ( data instanceof Float32Array && cache.length !== data.length ) {\n\n\t\tthis.cache = new Float32Array( data.length );\n\n\t}\n\n\tcopyArray( cache, data );\n\n};\n\nfunction StructuredUniform( id ) {\n\n\tthis.id = id;\n\n\tthis.seq = [];\n\tthis.map = {};\n\n}\n\nStructuredUniform.prototype.setValue = function ( gl, value, textures ) {\n\n\tconst seq = this.seq;\n\n\tfor ( let i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\tconst u = seq[ i ];\n\t\tu.setValue( gl, value[ u.id ], textures );\n\n\t}\n\n};\n\n// --- Top-level ---\n\n// Parser - builds up the property tree from the path strings\n\nconst RePathPart = /([\\w\\d_]+)(\\])?(\\[|\\.)?/g;\n\n// extracts\n// \t- the identifier (member name or array index)\n//  - followed by an optional right bracket (found when array index)\n//  - followed by an optional left bracket or dot (type of subscript)\n//\n// Note: These portions can be read in a non-overlapping fashion and\n// allow straightforward parsing of the hierarchy that WebGL encodes\n// in the uniform names.\n\nfunction addUniform( container, uniformObject ) {\n\n\tcontainer.seq.push( uniformObject );\n\tcontainer.map[ uniformObject.id ] = uniformObject;\n\n}\n\nfunction parseUniform( activeInfo, addr, container ) {\n\n\tconst path = activeInfo.name,\n\t\tpathLength = path.length;\n\n\t// reset RegExp object, because of the early exit of a previous run\n\tRePathPart.lastIndex = 0;\n\n\twhile ( true ) {\n\n\t\tconst match = RePathPart.exec( path ),\n\t\t\tmatchEnd = RePathPart.lastIndex;\n\n\t\tlet id = match[ 1 ];\n\t\tconst idIsIndex = match[ 2 ] === ']',\n\t\t\tsubscript = match[ 3 ];\n\n\t\tif ( idIsIndex ) id = id | 0; // convert to integer\n\n\t\tif ( subscript === undefined || subscript === '[' && matchEnd + 2 === pathLength ) {\n\n\t\t\t// bare name or \"pure\" bottom-level array \"[0]\" suffix\n\n\t\t\taddUniform( container, subscript === undefined ?\n\t\t\t\tnew SingleUniform( id, activeInfo, addr ) :\n\t\t\t\tnew PureArrayUniform( id, activeInfo, addr ) );\n\n\t\t\tbreak;\n\n\t\t} else {\n\n\t\t\t// step into inner node / create it in case it doesn't exist\n\n\t\t\tconst map = container.map;\n\t\t\tlet next = map[ id ];\n\n\t\t\tif ( next === undefined ) {\n\n\t\t\t\tnext = new StructuredUniform( id );\n\t\t\t\taddUniform( container, next );\n\n\t\t\t}\n\n\t\t\tcontainer = next;\n\n\t\t}\n\n\t}\n\n}\n\n// Root Container\n\nfunction WebGLUniforms( gl, program ) {\n\n\tthis.seq = [];\n\tthis.map = {};\n\n\tconst n = gl.getProgramParameter( program, 35718 );\n\n\tfor ( let i = 0; i < n; ++ i ) {\n\n\t\tconst info = gl.getActiveUniform( program, i ),\n\t\t\taddr = gl.getUniformLocation( program, info.name );\n\n\t\tparseUniform( info, addr, this );\n\n\t}\n\n}\n\nWebGLUniforms.prototype.setValue = function ( gl, name, value, textures ) {\n\n\tconst u = this.map[ name ];\n\n\tif ( u !== undefined ) u.setValue( gl, value, textures );\n\n};\n\nWebGLUniforms.prototype.setOptional = function ( gl, object, name ) {\n\n\tconst v = object[ name ];\n\n\tif ( v !== undefined ) this.setValue( gl, name, v );\n\n};\n\n\n// Static interface\n\nWebGLUniforms.upload = function ( gl, seq, values, textures ) {\n\n\tfor ( let i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\tconst u = seq[ i ],\n\t\t\tv = values[ u.id ];\n\n\t\tif ( v.needsUpdate !== false ) {\n\n\t\t\t// note: always updating when .needsUpdate is undefined\n\t\t\tu.setValue( gl, v.value, textures );\n\n\t\t}\n\n\t}\n\n};\n\nWebGLUniforms.seqWithValue = function ( seq, values ) {\n\n\tconst r = [];\n\n\tfor ( let i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\tconst u = seq[ i ];\n\t\tif ( u.id in values ) r.push( u );\n\n\t}\n\n\treturn r;\n\n};\n\nfunction WebGLShader( gl, type, string ) {\n\n\tconst shader = gl.createShader( type );\n\n\tgl.shaderSource( shader, string );\n\tgl.compileShader( shader );\n\n\treturn shader;\n\n}\n\nlet programIdCount = 0;\n\nfunction addLineNumbers( string ) {\n\n\tconst lines = string.split( '\\n' );\n\n\tfor ( let i = 0; i < lines.length; i ++ ) {\n\n\t\tlines[ i ] = ( i + 1 ) + ': ' + lines[ i ];\n\n\t}\n\n\treturn lines.join( '\\n' );\n\n}\n\nfunction getEncodingComponents( encoding ) {\n\n\tswitch ( encoding ) {\n\n\t\tcase LinearEncoding:\n\t\t\treturn [ 'Linear', '( value )' ];\n\t\tcase sRGBEncoding:\n\t\t\treturn [ 'sRGB', '( value )' ];\n\t\tcase RGBEEncoding:\n\t\t\treturn [ 'RGBE', '( value )' ];\n\t\tcase RGBM7Encoding:\n\t\t\treturn [ 'RGBM', '( value, 7.0 )' ];\n\t\tcase RGBM16Encoding:\n\t\t\treturn [ 'RGBM', '( value, 16.0 )' ];\n\t\tcase RGBDEncoding:\n\t\t\treturn [ 'RGBD', '( value, 256.0 )' ];\n\t\tcase GammaEncoding:\n\t\t\treturn [ 'Gamma', '( value, float( GAMMA_FACTOR ) )' ];\n\t\tcase LogLuvEncoding:\n\t\t\treturn [ 'LogLuv', '( value )' ];\n\t\tdefault:\n\t\t\tconsole.warn( 'THREE.WebGLProgram: Unsupported encoding:', encoding );\n\t\t\treturn [ 'Linear', '( value )' ];\n\n\t}\n\n}\n\nfunction getShaderErrors( gl, shader, type ) {\n\n\tconst status = gl.getShaderParameter( shader, 35713 );\n\tconst log = gl.getShaderInfoLog( shader ).trim();\n\n\tif ( status && log === '' ) return '';\n\n\t// --enable-privileged-webgl-extension\n\t// console.log( '**' + type + '**', gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( shader ) );\n\n\tconst source = gl.getShaderSource( shader );\n\n\treturn 'THREE.WebGLShader: gl.getShaderInfoLog() ' + type + '\\n' + log + addLineNumbers( source );\n\n}\n\nfunction getTexelDecodingFunction( functionName, encoding ) {\n\n\tconst components = getEncodingComponents( encoding );\n\treturn 'vec4 ' + functionName + '( vec4 value ) { return ' + components[ 0 ] + 'ToLinear' + components[ 1 ] + '; }';\n\n}\n\nfunction getTexelEncodingFunction( functionName, encoding ) {\n\n\tconst components = getEncodingComponents( encoding );\n\treturn 'vec4 ' + functionName + '( vec4 value ) { return LinearTo' + components[ 0 ] + components[ 1 ] + '; }';\n\n}\n\nfunction getToneMappingFunction( functionName, toneMapping ) {\n\n\tlet toneMappingName;\n\n\tswitch ( toneMapping ) {\n\n\t\tcase LinearToneMapping:\n\t\t\ttoneMappingName = 'Linear';\n\t\t\tbreak;\n\n\t\tcase ReinhardToneMapping:\n\t\t\ttoneMappingName = 'Reinhard';\n\t\t\tbreak;\n\n\t\tcase CineonToneMapping:\n\t\t\ttoneMappingName = 'OptimizedCineon';\n\t\t\tbreak;\n\n\t\tcase ACESFilmicToneMapping:\n\t\t\ttoneMappingName = 'ACESFilmic';\n\t\t\tbreak;\n\n\t\tcase CustomToneMapping:\n\t\t\ttoneMappingName = 'Custom';\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tconsole.warn( 'THREE.WebGLProgram: Unsupported toneMapping:', toneMapping );\n\t\t\ttoneMappingName = 'Linear';\n\n\t}\n\n\treturn 'vec3 ' + functionName + '( vec3 color ) { return ' + toneMappingName + 'ToneMapping( color ); }';\n\n}\n\nfunction generateExtensions( parameters ) {\n\n\tconst chunks = [\n\t\t( parameters.extensionDerivatives || parameters.envMapCubeUV || parameters.bumpMap || parameters.tangentSpaceNormalMap || parameters.clearcoatNormalMap || parameters.flatShading || parameters.shaderID === 'physical' ) ? '#extension GL_OES_standard_derivatives : enable' : '',\n\t\t( parameters.extensionFragDepth || parameters.logarithmicDepthBuffer ) && parameters.rendererExtensionFragDepth ? '#extension GL_EXT_frag_depth : enable' : '',\n\t\t( parameters.extensionDrawBuffers && parameters.rendererExtensionDrawBuffers ) ? '#extension GL_EXT_draw_buffers : require' : '',\n\t\t( parameters.extensionShaderTextureLOD || parameters.envMap ) && parameters.rendererExtensionShaderTextureLod ? '#extension GL_EXT_shader_texture_lod : enable' : ''\n\t];\n\n\treturn chunks.filter( filterEmptyLine ).join( '\\n' );\n\n}\n\nfunction generateDefines( defines ) {\n\n\tconst chunks = [];\n\n\tfor ( const name in defines ) {\n\n\t\tconst value = defines[ name ];\n\n\t\tif ( value === false ) continue;\n\n\t\tchunks.push( '#define ' + name + ' ' + value );\n\n\t}\n\n\treturn chunks.join( '\\n' );\n\n}\n\nfunction fetchAttributeLocations( gl, program ) {\n\n\tconst attributes = {};\n\n\tconst n = gl.getProgramParameter( program, 35721 );\n\n\tfor ( let i = 0; i < n; i ++ ) {\n\n\t\tconst info = gl.getActiveAttrib( program, i );\n\t\tconst name = info.name;\n\n\t\t// console.log( 'THREE.WebGLProgram: ACTIVE VERTEX ATTRIBUTE:', name, i );\n\n\t\tattributes[ name ] = gl.getAttribLocation( program, name );\n\n\t}\n\n\treturn attributes;\n\n}\n\nfunction filterEmptyLine( string ) {\n\n\treturn string !== '';\n\n}\n\nfunction replaceLightNums( string, parameters ) {\n\n\treturn string\n\t\t.replace( /NUM_DIR_LIGHTS/g, parameters.numDirLights )\n\t\t.replace( /NUM_SPOT_LIGHTS/g, parameters.numSpotLights )\n\t\t.replace( /NUM_RECT_AREA_LIGHTS/g, parameters.numRectAreaLights )\n\t\t.replace( /NUM_POINT_LIGHTS/g, parameters.numPointLights )\n\t\t.replace( /NUM_HEMI_LIGHTS/g, parameters.numHemiLights )\n\t\t.replace( /NUM_DIR_LIGHT_SHADOWS/g, parameters.numDirLightShadows )\n\t\t.replace( /NUM_SPOT_LIGHT_SHADOWS/g, parameters.numSpotLightShadows )\n\t\t.replace( /NUM_POINT_LIGHT_SHADOWS/g, parameters.numPointLightShadows );\n\n}\n\nfunction replaceClippingPlaneNums( string, parameters ) {\n\n\treturn string\n\t\t.replace( /NUM_CLIPPING_PLANES/g, parameters.numClippingPlanes )\n\t\t.replace( /UNION_CLIPPING_PLANES/g, ( parameters.numClippingPlanes - parameters.numClipIntersection ) );\n\n}\n\n// Resolve Includes\n\nconst includePattern = /^[ \\t]*#include +<([\\w\\d./]+)>/gm;\n\nfunction resolveIncludes( string ) {\n\n\treturn string.replace( includePattern, includeReplacer );\n\n}\n\nfunction includeReplacer( match, include ) {\n\n\tconst string = ShaderChunk[ include ];\n\n\tif ( string === undefined ) {\n\n\t\tthrow new Error( 'Can not resolve #include <' + include + '>' );\n\n\t}\n\n\treturn resolveIncludes( string );\n\n}\n\n// Unroll Loops\n\nconst deprecatedUnrollLoopPattern = /#pragma unroll_loop[\\s]+?for \\( int i \\= (\\d+)\\; i < (\\d+)\\; i \\+\\+ \\) \\{([\\s\\S]+?)(?=\\})\\}/g;\nconst unrollLoopPattern = /#pragma unroll_loop_start\\s+for\\s*\\(\\s*int\\s+i\\s*=\\s*(\\d+)\\s*;\\s*i\\s*<\\s*(\\d+)\\s*;\\s*i\\s*\\+\\+\\s*\\)\\s*{([\\s\\S]+?)}\\s+#pragma unroll_loop_end/g;\n\nfunction unrollLoops( string ) {\n\n\treturn string\n\t\t.replace( unrollLoopPattern, loopReplacer )\n\t\t.replace( deprecatedUnrollLoopPattern, deprecatedLoopReplacer );\n\n}\n\nfunction deprecatedLoopReplacer( match, start, end, snippet ) {\n\n\tconsole.warn( 'WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead.' );\n\treturn loopReplacer( match, start, end, snippet );\n\n}\n\nfunction loopReplacer( match, start, end, snippet ) {\n\n\tlet string = '';\n\n\tfor ( let i = parseInt( start ); i < parseInt( end ); i ++ ) {\n\n\t\tstring += snippet\n\t\t\t.replace( /\\[\\s*i\\s*\\]/g, '[ ' + i + ' ]' )\n\t\t\t.replace( /UNROLLED_LOOP_INDEX/g, i );\n\n\t}\n\n\treturn string;\n\n}\n\n//\n\nfunction generatePrecision( parameters ) {\n\n\tlet precisionstring = \"precision \" + parameters.precision + \" float;\\nprecision \" + parameters.precision + \" int;\";\n\n\tif ( parameters.precision === \"highp\" ) {\n\n\t\tprecisionstring += \"\\n#define HIGH_PRECISION\";\n\n\t} else if ( parameters.precision === \"mediump\" ) {\n\n\t\tprecisionstring += \"\\n#define MEDIUM_PRECISION\";\n\n\t} else if ( parameters.precision === \"lowp\" ) {\n\n\t\tprecisionstring += \"\\n#define LOW_PRECISION\";\n\n\t}\n\n\treturn precisionstring;\n\n}\n\nfunction generateShadowMapTypeDefine( parameters ) {\n\n\tlet shadowMapTypeDefine = 'SHADOWMAP_TYPE_BASIC';\n\n\tif ( parameters.shadowMapType === PCFShadowMap ) {\n\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF';\n\n\t} else if ( parameters.shadowMapType === PCFSoftShadowMap ) {\n\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF_SOFT';\n\n\t} else if ( parameters.shadowMapType === VSMShadowMap ) {\n\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_VSM';\n\n\t}\n\n\treturn shadowMapTypeDefine;\n\n}\n\nfunction generateEnvMapTypeDefine( parameters ) {\n\n\tlet envMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n\n\tif ( parameters.envMap ) {\n\n\t\tswitch ( parameters.envMapMode ) {\n\n\t\t\tcase CubeReflectionMapping:\n\t\t\tcase CubeRefractionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n\t\t\t\tbreak;\n\n\t\t\tcase CubeUVReflectionMapping:\n\t\t\tcase CubeUVRefractionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_CUBE_UV';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\treturn envMapTypeDefine;\n\n}\n\nfunction generateEnvMapModeDefine( parameters ) {\n\n\tlet envMapModeDefine = 'ENVMAP_MODE_REFLECTION';\n\n\tif ( parameters.envMap ) {\n\n\t\tswitch ( parameters.envMapMode ) {\n\n\t\t\tcase CubeRefractionMapping:\n\t\t\tcase CubeUVRefractionMapping:\n\n\t\t\t\tenvMapModeDefine = 'ENVMAP_MODE_REFRACTION';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\treturn envMapModeDefine;\n\n}\n\nfunction generateEnvMapBlendingDefine( parameters ) {\n\n\tlet envMapBlendingDefine = 'ENVMAP_BLENDING_NONE';\n\n\tif ( parameters.envMap ) {\n\n\t\tswitch ( parameters.combine ) {\n\n\t\t\tcase MultiplyOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_MULTIPLY';\n\t\t\t\tbreak;\n\n\t\t\tcase MixOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_MIX';\n\t\t\t\tbreak;\n\n\t\t\tcase AddOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_ADD';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\treturn envMapBlendingDefine;\n\n}\n\nfunction WebGLProgram( renderer, cacheKey, parameters, bindingStates ) {\n\n\tconst gl = renderer.getContext();\n\n\tconst defines = parameters.defines;\n\n\tlet vertexShader = parameters.vertexShader;\n\tlet fragmentShader = parameters.fragmentShader;\n\n\tconst shadowMapTypeDefine = generateShadowMapTypeDefine( parameters );\n\tconst envMapTypeDefine = generateEnvMapTypeDefine( parameters );\n\tconst envMapModeDefine = generateEnvMapModeDefine( parameters );\n\tconst envMapBlendingDefine = generateEnvMapBlendingDefine( parameters );\n\n\n\tconst gammaFactorDefine = ( renderer.gammaFactor > 0 ) ? renderer.gammaFactor : 1.0;\n\n\tconst customExtensions = parameters.isWebGL2 ? '' : generateExtensions( parameters );\n\n\tconst customDefines = generateDefines( defines );\n\n\tconst program = gl.createProgram();\n\n\tlet prefixVertex, prefixFragment;\n\tlet versionString = parameters.glslVersion ? '#version ' + parameters.glslVersion + \"\\n\" : '';\n\n\tif ( parameters.isRawShaderMaterial ) {\n\n\t\tprefixVertex = [\n\n\t\t\tcustomDefines\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tif ( prefixVertex.length > 0 ) {\n\n\t\t\tprefixVertex += '\\n';\n\n\t\t}\n\n\t\tprefixFragment = [\n\n\t\t\tcustomExtensions,\n\t\t\tcustomDefines\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tif ( prefixFragment.length > 0 ) {\n\n\t\t\tprefixFragment += '\\n';\n\n\t\t}\n\n\t} else {\n\n\t\tprefixVertex = [\n\n\t\t\tgeneratePrecision( parameters ),\n\n\t\t\t'#define SHADER_NAME ' + parameters.shaderName,\n\n\t\t\tcustomDefines,\n\n\t\t\tparameters.instancing ? '#define USE_INSTANCING' : '',\n\t\t\tparameters.instancingColor ? '#define USE_INSTANCING_COLOR' : '',\n\n\t\t\tparameters.supportsVertexTextures ? '#define VERTEX_TEXTURES' : '',\n\n\t\t\t'#define GAMMA_FACTOR ' + gammaFactorDefine,\n\n\t\t\t'#define MAX_BONES ' + parameters.maxBones,\n\t\t\t( parameters.useFog && parameters.fog ) ? '#define USE_FOG' : '',\n\t\t\t( parameters.useFog && parameters.fogExp2 ) ? '#define FOG_EXP2' : '',\n\n\t\t\tparameters.map ? '#define USE_MAP' : '',\n\t\t\tparameters.envMap ? '#define USE_ENVMAP' : '',\n\t\t\tparameters.envMap ? '#define ' + envMapModeDefine : '',\n\t\t\tparameters.lightMap ? '#define USE_LIGHTMAP' : '',\n\t\t\tparameters.aoMap ? '#define USE_AOMAP' : '',\n\t\t\tparameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '',\n\t\t\tparameters.bumpMap ? '#define USE_BUMPMAP' : '',\n\t\t\tparameters.normalMap ? '#define USE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.objectSpaceNormalMap ) ? '#define OBJECTSPACE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.tangentSpaceNormalMap ) ? '#define TANGENTSPACE_NORMALMAP' : '',\n\n\t\t\tparameters.clearcoatMap ? '#define USE_CLEARCOATMAP' : '',\n\t\t\tparameters.clearcoatRoughnessMap ? '#define USE_CLEARCOAT_ROUGHNESSMAP' : '',\n\t\t\tparameters.clearcoatNormalMap ? '#define USE_CLEARCOAT_NORMALMAP' : '',\n\t\t\tparameters.displacementMap && parameters.supportsVertexTextures ? '#define USE_DISPLACEMENTMAP' : '',\n\t\t\tparameters.specularMap ? '#define USE_SPECULARMAP' : '',\n\t\t\tparameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '',\n\t\t\tparameters.metalnessMap ? '#define USE_METALNESSMAP' : '',\n\t\t\tparameters.alphaMap ? '#define USE_ALPHAMAP' : '',\n\t\t\tparameters.transmissionMap ? '#define USE_TRANSMISSIONMAP' : '',\n\n\t\t\tparameters.vertexTangents ? '#define USE_TANGENT' : '',\n\t\t\tparameters.vertexColors ? '#define USE_COLOR' : '',\n\t\t\tparameters.vertexUvs ? '#define USE_UV' : '',\n\t\t\tparameters.uvsVertexOnly ? '#define UVS_VERTEX_ONLY' : '',\n\n\t\t\tparameters.flatShading ? '#define FLAT_SHADED' : '',\n\n\t\t\tparameters.skinning ? '#define USE_SKINNING' : '',\n\t\t\tparameters.useVertexTexture ? '#define BONE_TEXTURE' : '',\n\n\t\t\tparameters.morphTargets ? '#define USE_MORPHTARGETS' : '',\n\t\t\tparameters.morphNormals && parameters.flatShading === false ? '#define USE_MORPHNORMALS' : '',\n\t\t\tparameters.doubleSided ? '#define DOUBLE_SIDED' : '',\n\t\t\tparameters.flipSided ? '#define FLIP_SIDED' : '',\n\n\t\t\tparameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',\n\t\t\tparameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '',\n\n\t\t\tparameters.sizeAttenuation ? '#define USE_SIZEATTENUATION' : '',\n\n\t\t\tparameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',\n\t\t\t( parameters.logarithmicDepthBuffer && parameters.rendererExtensionFragDepth ) ? '#define USE_LOGDEPTHBUF_EXT' : '',\n\n\t\t\t'uniform mat4 modelMatrix;',\n\t\t\t'uniform mat4 modelViewMatrix;',\n\t\t\t'uniform mat4 projectionMatrix;',\n\t\t\t'uniform mat4 viewMatrix;',\n\t\t\t'uniform mat3 normalMatrix;',\n\t\t\t'uniform vec3 cameraPosition;',\n\t\t\t'uniform bool isOrthographic;',\n\n\t\t\t'#ifdef USE_INSTANCING',\n\n\t\t\t'\tattribute mat4 instanceMatrix;',\n\n\t\t\t'#endif',\n\n\t\t\t'#ifdef USE_INSTANCING_COLOR',\n\n\t\t\t'\tattribute vec3 instanceColor;',\n\n\t\t\t'#endif',\n\n\t\t\t'attribute vec3 position;',\n\t\t\t'attribute vec3 normal;',\n\t\t\t'attribute vec2 uv;',\n\n\t\t\t'#ifdef USE_TANGENT',\n\n\t\t\t'\tattribute vec4 tangent;',\n\n\t\t\t'#endif',\n\n\t\t\t'#ifdef USE_COLOR',\n\n\t\t\t'\tattribute vec3 color;',\n\n\t\t\t'#endif',\n\n\t\t\t'#ifdef USE_MORPHTARGETS',\n\n\t\t\t'\tattribute vec3 morphTarget0;',\n\t\t\t'\tattribute vec3 morphTarget1;',\n\t\t\t'\tattribute vec3 morphTarget2;',\n\t\t\t'\tattribute vec3 morphTarget3;',\n\n\t\t\t'\t#ifdef USE_MORPHNORMALS',\n\n\t\t\t'\t\tattribute vec3 morphNormal0;',\n\t\t\t'\t\tattribute vec3 morphNormal1;',\n\t\t\t'\t\tattribute vec3 morphNormal2;',\n\t\t\t'\t\tattribute vec3 morphNormal3;',\n\n\t\t\t'\t#else',\n\n\t\t\t'\t\tattribute vec3 morphTarget4;',\n\t\t\t'\t\tattribute vec3 morphTarget5;',\n\t\t\t'\t\tattribute vec3 morphTarget6;',\n\t\t\t'\t\tattribute vec3 morphTarget7;',\n\n\t\t\t'\t#endif',\n\n\t\t\t'#endif',\n\n\t\t\t'#ifdef USE_SKINNING',\n\n\t\t\t'\tattribute vec4 skinIndex;',\n\t\t\t'\tattribute vec4 skinWeight;',\n\n\t\t\t'#endif',\n\n\t\t\t'\\n'\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tprefixFragment = [\n\n\t\t\tcustomExtensions,\n\n\t\t\tgeneratePrecision( parameters ),\n\n\t\t\t'#define SHADER_NAME ' + parameters.shaderName,\n\n\t\t\tcustomDefines,\n\n\t\t\tparameters.alphaTest ? '#define ALPHATEST ' + parameters.alphaTest + ( parameters.alphaTest % 1 ? '' : '.0' ) : '', // add '.0' if integer\n\n\t\t\t'#define GAMMA_FACTOR ' + gammaFactorDefine,\n\n\t\t\t( parameters.useFog && parameters.fog ) ? '#define USE_FOG' : '',\n\t\t\t( parameters.useFog && parameters.fogExp2 ) ? '#define FOG_EXP2' : '',\n\n\t\t\tparameters.map ? '#define USE_MAP' : '',\n\t\t\tparameters.matcap ? '#define USE_MATCAP' : '',\n\t\t\tparameters.envMap ? '#define USE_ENVMAP' : '',\n\t\t\tparameters.envMap ? '#define ' + envMapTypeDefine : '',\n\t\t\tparameters.envMap ? '#define ' + envMapModeDefine : '',\n\t\t\tparameters.envMap ? '#define ' + envMapBlendingDefine : '',\n\t\t\tparameters.lightMap ? '#define USE_LIGHTMAP' : '',\n\t\t\tparameters.aoMap ? '#define USE_AOMAP' : '',\n\t\t\tparameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '',\n\t\t\tparameters.bumpMap ? '#define USE_BUMPMAP' : '',\n\t\t\tparameters.normalMap ? '#define USE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.objectSpaceNormalMap ) ? '#define OBJECTSPACE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.tangentSpaceNormalMap ) ? '#define TANGENTSPACE_NORMALMAP' : '',\n\t\t\tparameters.clearcoatMap ? '#define USE_CLEARCOATMAP' : '',\n\t\t\tparameters.clearcoatRoughnessMap ? '#define USE_CLEARCOAT_ROUGHNESSMAP' : '',\n\t\t\tparameters.clearcoatNormalMap ? '#define USE_CLEARCOAT_NORMALMAP' : '',\n\t\t\tparameters.specularMap ? '#define USE_SPECULARMAP' : '',\n\t\t\tparameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '',\n\t\t\tparameters.metalnessMap ? '#define USE_METALNESSMAP' : '',\n\t\t\tparameters.alphaMap ? '#define USE_ALPHAMAP' : '',\n\n\t\t\tparameters.sheen ? '#define USE_SHEEN' : '',\n\t\t\tparameters.transmissionMap ? '#define USE_TRANSMISSIONMAP' : '',\n\n\t\t\tparameters.vertexTangents ? '#define USE_TANGENT' : '',\n\t\t\tparameters.vertexColors || parameters.instancingColor ? '#define USE_COLOR' : '',\n\t\t\tparameters.vertexUvs ? '#define USE_UV' : '',\n\t\t\tparameters.uvsVertexOnly ? '#define UVS_VERTEX_ONLY' : '',\n\n\t\t\tparameters.gradientMap ? '#define USE_GRADIENTMAP' : '',\n\n\t\t\tparameters.flatShading ? '#define FLAT_SHADED' : '',\n\n\t\t\tparameters.doubleSided ? '#define DOUBLE_SIDED' : '',\n\t\t\tparameters.flipSided ? '#define FLIP_SIDED' : '',\n\n\t\t\tparameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',\n\t\t\tparameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '',\n\n\t\t\tparameters.premultipliedAlpha ? '#define PREMULTIPLIED_ALPHA' : '',\n\n\t\t\tparameters.physicallyCorrectLights ? '#define PHYSICALLY_CORRECT_LIGHTS' : '',\n\n\t\t\tparameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',\n\t\t\t( parameters.logarithmicDepthBuffer && parameters.rendererExtensionFragDepth ) ? '#define USE_LOGDEPTHBUF_EXT' : '',\n\n\t\t\t( ( parameters.extensionShaderTextureLOD || parameters.envMap ) && parameters.rendererExtensionShaderTextureLod ) ? '#define TEXTURE_LOD_EXT' : '',\n\n\t\t\t'uniform mat4 viewMatrix;',\n\t\t\t'uniform vec3 cameraPosition;',\n\t\t\t'uniform bool isOrthographic;',\n\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? '#define TONE_MAPPING' : '',\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? ShaderChunk[ 'tonemapping_pars_fragment' ] : '', // this code is required here because it is used by the toneMapping() function defined below\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? getToneMappingFunction( 'toneMapping', parameters.toneMapping ) : '',\n\n\t\t\tparameters.dithering ? '#define DITHERING' : '',\n\n\t\t\tShaderChunk[ 'encodings_pars_fragment' ], // this code is required here because it is used by the various encoding/decoding function defined below\n\t\t\tparameters.map ? getTexelDecodingFunction( 'mapTexelToLinear', parameters.mapEncoding ) : '',\n\t\t\tparameters.matcap ? getTexelDecodingFunction( 'matcapTexelToLinear', parameters.matcapEncoding ) : '',\n\t\t\tparameters.envMap ? getTexelDecodingFunction( 'envMapTexelToLinear', parameters.envMapEncoding ) : '',\n\t\t\tparameters.emissiveMap ? getTexelDecodingFunction( 'emissiveMapTexelToLinear', parameters.emissiveMapEncoding ) : '',\n\t\t\tparameters.lightMap ? getTexelDecodingFunction( 'lightMapTexelToLinear', parameters.lightMapEncoding ) : '',\n\t\t\tgetTexelEncodingFunction( 'linearToOutputTexel', parameters.outputEncoding ),\n\n\t\t\tparameters.depthPacking ? '#define DEPTH_PACKING ' + parameters.depthPacking : '',\n\n\t\t\t'\\n'\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t}\n\n\tvertexShader = resolveIncludes( vertexShader );\n\tvertexShader = replaceLightNums( vertexShader, parameters );\n\tvertexShader = replaceClippingPlaneNums( vertexShader, parameters );\n\n\tfragmentShader = resolveIncludes( fragmentShader );\n\tfragmentShader = replaceLightNums( fragmentShader, parameters );\n\tfragmentShader = replaceClippingPlaneNums( fragmentShader, parameters );\n\n\tvertexShader = unrollLoops( vertexShader );\n\tfragmentShader = unrollLoops( fragmentShader );\n\n\tif ( parameters.isWebGL2 && parameters.isRawShaderMaterial !== true ) {\n\n\t\t// GLSL 3.0 conversion for built-in materials and ShaderMaterial\n\n\t\tversionString = '#version 300 es\\n';\n\n\t\tprefixVertex = [\n\t\t\t'#define attribute in',\n\t\t\t'#define varying out',\n\t\t\t'#define texture2D texture'\n\t\t].join( '\\n' ) + '\\n' + prefixVertex;\n\n\t\tprefixFragment = [\n\t\t\t'#define varying in',\n\t\t\t( parameters.glslVersion === GLSL3 ) ? '' : 'out highp vec4 pc_fragColor;',\n\t\t\t( parameters.glslVersion === GLSL3 ) ? '' : '#define gl_FragColor pc_fragColor',\n\t\t\t'#define gl_FragDepthEXT gl_FragDepth',\n\t\t\t'#define texture2D texture',\n\t\t\t'#define textureCube texture',\n\t\t\t'#define texture2DProj textureProj',\n\t\t\t'#define texture2DLodEXT textureLod',\n\t\t\t'#define texture2DProjLodEXT textureProjLod',\n\t\t\t'#define textureCubeLodEXT textureLod',\n\t\t\t'#define texture2DGradEXT textureGrad',\n\t\t\t'#define texture2DProjGradEXT textureProjGrad',\n\t\t\t'#define textureCubeGradEXT textureGrad'\n\t\t].join( '\\n' ) + '\\n' + prefixFragment;\n\n\t}\n\n\tconst vertexGlsl = versionString + prefixVertex + vertexShader;\n\tconst fragmentGlsl = versionString + prefixFragment + fragmentShader;\n\n\t// console.log( '*VERTEX*', vertexGlsl );\n\t// console.log( '*FRAGMENT*', fragmentGlsl );\n\n\tconst glVertexShader = WebGLShader( gl, 35633, vertexGlsl );\n\tconst glFragmentShader = WebGLShader( gl, 35632, fragmentGlsl );\n\n\tgl.attachShader( program, glVertexShader );\n\tgl.attachShader( program, glFragmentShader );\n\n\t// Force a particular attribute to index 0.\n\n\tif ( parameters.index0AttributeName !== undefined ) {\n\n\t\tgl.bindAttribLocation( program, 0, parameters.index0AttributeName );\n\n\t} else if ( parameters.morphTargets === true ) {\n\n\t\t// programs with morphTargets displace position out of attribute 0\n\t\tgl.bindAttribLocation( program, 0, 'position' );\n\n\t}\n\n\tgl.linkProgram( program );\n\n\t// check for link errors\n\tif ( renderer.debug.checkShaderErrors ) {\n\n\t\tconst programLog = gl.getProgramInfoLog( program ).trim();\n\t\tconst vertexLog = gl.getShaderInfoLog( glVertexShader ).trim();\n\t\tconst fragmentLog = gl.getShaderInfoLog( glFragmentShader ).trim();\n\n\t\tlet runnable = true;\n\t\tlet haveDiagnostics = true;\n\n\t\tif ( gl.getProgramParameter( program, 35714 ) === false ) {\n\n\t\t\trunnable = false;\n\n\t\t\tconst vertexErrors = getShaderErrors( gl, glVertexShader, 'vertex' );\n\t\t\tconst fragmentErrors = getShaderErrors( gl, glFragmentShader, 'fragment' );\n\n\t\t\tconsole.error( 'THREE.WebGLProgram: shader error: ', gl.getError(), '35715', gl.getProgramParameter( program, 35715 ), 'gl.getProgramInfoLog', programLog, vertexErrors, fragmentErrors );\n\n\t\t} else if ( programLog !== '' ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLProgram: gl.getProgramInfoLog()', programLog );\n\n\t\t} else if ( vertexLog === '' || fragmentLog === '' ) {\n\n\t\t\thaveDiagnostics = false;\n\n\t\t}\n\n\t\tif ( haveDiagnostics ) {\n\n\t\t\tthis.diagnostics = {\n\n\t\t\t\trunnable: runnable,\n\n\t\t\t\tprogramLog: programLog,\n\n\t\t\t\tvertexShader: {\n\n\t\t\t\t\tlog: vertexLog,\n\t\t\t\t\tprefix: prefixVertex\n\n\t\t\t\t},\n\n\t\t\t\tfragmentShader: {\n\n\t\t\t\t\tlog: fragmentLog,\n\t\t\t\t\tprefix: prefixFragment\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t}\n\n\t}\n\n\t// Clean up\n\n\t// Crashes in iOS9 and iOS10. #18402\n\t// gl.detachShader( program, glVertexShader );\n\t// gl.detachShader( program, glFragmentShader );\n\n\tgl.deleteShader( glVertexShader );\n\tgl.deleteShader( glFragmentShader );\n\n\t// set up caching for uniform locations\n\n\tlet cachedUniforms;\n\n\tthis.getUniforms = function () {\n\n\t\tif ( cachedUniforms === undefined ) {\n\n\t\t\tcachedUniforms = new WebGLUniforms( gl, program );\n\n\t\t}\n\n\t\treturn cachedUniforms;\n\n\t};\n\n\t// set up caching for attribute locations\n\n\tlet cachedAttributes;\n\n\tthis.getAttributes = function () {\n\n\t\tif ( cachedAttributes === undefined ) {\n\n\t\t\tcachedAttributes = fetchAttributeLocations( gl, program );\n\n\t\t}\n\n\t\treturn cachedAttributes;\n\n\t};\n\n\t// free resource\n\n\tthis.destroy = function () {\n\n\t\tbindingStates.releaseStatesOfProgram( this );\n\n\t\tgl.deleteProgram( program );\n\t\tthis.program = undefined;\n\n\t};\n\n\t//\n\n\tthis.name = parameters.shaderName;\n\tthis.id = programIdCount ++;\n\tthis.cacheKey = cacheKey;\n\tthis.usedTimes = 1;\n\tthis.program = program;\n\tthis.vertexShader = glVertexShader;\n\tthis.fragmentShader = glFragmentShader;\n\n\treturn this;\n\n}\n\nfunction WebGLPrograms( renderer, cubemaps, extensions, capabilities, bindingStates, clipping ) {\n\n\tconst programs = [];\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\tconst logarithmicDepthBuffer = capabilities.logarithmicDepthBuffer;\n\tconst floatVertexTextures = capabilities.floatVertexTextures;\n\tconst maxVertexUniforms = capabilities.maxVertexUniforms;\n\tconst vertexTextures = capabilities.vertexTextures;\n\n\tlet precision = capabilities.precision;\n\n\tconst shaderIDs = {\n\t\tMeshDepthMaterial: 'depth',\n\t\tMeshDistanceMaterial: 'distanceRGBA',\n\t\tMeshNormalMaterial: 'normal',\n\t\tMeshBasicMaterial: 'basic',\n\t\tMeshLambertMaterial: 'lambert',\n\t\tMeshPhongMaterial: 'phong',\n\t\tMeshToonMaterial: 'toon',\n\t\tMeshStandardMaterial: 'physical',\n\t\tMeshPhysicalMaterial: 'physical',\n\t\tMeshMatcapMaterial: 'matcap',\n\t\tLineBasicMaterial: 'basic',\n\t\tLineDashedMaterial: 'dashed',\n\t\tPointsMaterial: 'points',\n\t\tShadowMaterial: 'shadow',\n\t\tSpriteMaterial: 'sprite'\n\t};\n\n\tconst parameterNames = [\n\t\t\"precision\", \"isWebGL2\", \"supportsVertexTextures\", \"outputEncoding\", \"instancing\", \"instancingColor\",\n\t\t\"map\", \"mapEncoding\", \"matcap\", \"matcapEncoding\", \"envMap\", \"envMapMode\", \"envMapEncoding\", \"envMapCubeUV\",\n\t\t\"lightMap\", \"lightMapEncoding\", \"aoMap\", \"emissiveMap\", \"emissiveMapEncoding\", \"bumpMap\", \"normalMap\", \"objectSpaceNormalMap\", \"tangentSpaceNormalMap\", \"clearcoatMap\", \"clearcoatRoughnessMap\", \"clearcoatNormalMap\", \"displacementMap\", \"specularMap\",\n\t\t\"roughnessMap\", \"metalnessMap\", \"gradientMap\",\n\t\t\"alphaMap\", \"combine\", \"vertexColors\", \"vertexTangents\", \"vertexUvs\", \"uvsVertexOnly\", \"fog\", \"useFog\", \"fogExp2\",\n\t\t\"flatShading\", \"sizeAttenuation\", \"logarithmicDepthBuffer\", \"skinning\",\n\t\t\"maxBones\", \"useVertexTexture\", \"morphTargets\", \"morphNormals\",\n\t\t\"maxMorphTargets\", \"maxMorphNormals\", \"premultipliedAlpha\",\n\t\t\"numDirLights\", \"numPointLights\", \"numSpotLights\", \"numHemiLights\", \"numRectAreaLights\",\n\t\t\"numDirLightShadows\", \"numPointLightShadows\", \"numSpotLightShadows\",\n\t\t\"shadowMapEnabled\", \"shadowMapType\", \"toneMapping\", 'physicallyCorrectLights',\n\t\t\"alphaTest\", \"doubleSided\", \"flipSided\", \"numClippingPlanes\", \"numClipIntersection\", \"depthPacking\", \"dithering\",\n\t\t\"sheen\", \"transmissionMap\"\n\t];\n\n\tfunction getMaxBones( object ) {\n\n\t\tconst skeleton = object.skeleton;\n\t\tconst bones = skeleton.bones;\n\n\t\tif ( floatVertexTextures ) {\n\n\t\t\treturn 1024;\n\n\t\t} else {\n\n\t\t\t// default for when object is not specified\n\t\t\t// ( for example when prebuilding shader to be used with multiple objects )\n\t\t\t//\n\t\t\t//  - leave some extra space for other uniforms\n\t\t\t//  - limit here is ANGLE's 254 max uniform vectors\n\t\t\t//    (up to 54 should be safe)\n\n\t\t\tconst nVertexUniforms = maxVertexUniforms;\n\t\t\tconst nVertexMatrices = Math.floor( ( nVertexUniforms - 20 ) / 4 );\n\n\t\t\tconst maxBones = Math.min( nVertexMatrices, bones.length );\n\n\t\t\tif ( maxBones < bones.length ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Skeleton has ' + bones.length + ' bones. This GPU supports ' + maxBones + '.' );\n\t\t\t\treturn 0;\n\n\t\t\t}\n\n\t\t\treturn maxBones;\n\n\t\t}\n\n\t}\n\n\tfunction getTextureEncodingFromMap( map ) {\n\n\t\tlet encoding;\n\n\t\tif ( ! map ) {\n\n\t\t\tencoding = LinearEncoding;\n\n\t\t} else if ( map.isTexture ) {\n\n\t\t\tencoding = map.encoding;\n\n\t\t} else if ( map.isWebGLRenderTarget ) {\n\n\t\t\tconsole.warn( \"THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead.\" );\n\t\t\tencoding = map.texture.encoding;\n\n\t\t}\n\n\t\treturn encoding;\n\n\t}\n\n\tfunction getParameters( material, lights, shadows, scene, object ) {\n\n\t\tconst fog = scene.fog;\n\t\tconst environment = material.isMeshStandardMaterial ? scene.environment : null;\n\n\t\tconst envMap = cubemaps.get( material.envMap || environment );\n\n\t\tconst shaderID = shaderIDs[ material.type ];\n\n\t\t// heuristics to create shader parameters according to lights in the scene\n\t\t// (not to blow over maxLights budget)\n\n\t\tconst maxBones = object.isSkinnedMesh ? getMaxBones( object ) : 0;\n\n\t\tif ( material.precision !== null ) {\n\n\t\t\tprecision = capabilities.getMaxPrecision( material.precision );\n\n\t\t\tif ( precision !== material.precision ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLProgram.getParameters:', material.precision, 'not supported, using', precision, 'instead.' );\n\n\t\t\t}\n\n\t\t}\n\n\t\tlet vertexShader, fragmentShader;\n\n\t\tif ( shaderID ) {\n\n\t\t\tconst shader = ShaderLib[ shaderID ];\n\n\t\t\tvertexShader = shader.vertexShader;\n\t\t\tfragmentShader = shader.fragmentShader;\n\n\t\t} else {\n\n\t\t\tvertexShader = material.vertexShader;\n\t\t\tfragmentShader = material.fragmentShader;\n\n\t\t}\n\n\t\tconst currentRenderTarget = renderer.getRenderTarget();\n\n\t\tconst parameters = {\n\n\t\t\tisWebGL2: isWebGL2,\n\n\t\t\tshaderID: shaderID,\n\t\t\tshaderName: material.type,\n\n\t\t\tvertexShader: vertexShader,\n\t\t\tfragmentShader: fragmentShader,\n\t\t\tdefines: material.defines,\n\n\t\t\tisRawShaderMaterial: material.isRawShaderMaterial === true,\n\t\t\tglslVersion: material.glslVersion,\n\n\t\t\tprecision: precision,\n\n\t\t\tinstancing: object.isInstancedMesh === true,\n\t\t\tinstancingColor: object.isInstancedMesh === true && object.instanceColor !== null,\n\n\t\t\tsupportsVertexTextures: vertexTextures,\n\t\t\toutputEncoding: ( currentRenderTarget !== null ) ? getTextureEncodingFromMap( currentRenderTarget.texture ) : renderer.outputEncoding,\n\t\t\tmap: !! material.map,\n\t\t\tmapEncoding: getTextureEncodingFromMap( material.map ),\n\t\t\tmatcap: !! material.matcap,\n\t\t\tmatcapEncoding: getTextureEncodingFromMap( material.matcap ),\n\t\t\tenvMap: !! envMap,\n\t\t\tenvMapMode: envMap && envMap.mapping,\n\t\t\tenvMapEncoding: getTextureEncodingFromMap( envMap ),\n\t\t\tenvMapCubeUV: ( !! envMap ) && ( ( envMap.mapping === CubeUVReflectionMapping ) || ( envMap.mapping === CubeUVRefractionMapping ) ),\n\t\t\tlightMap: !! material.lightMap,\n\t\t\tlightMapEncoding: getTextureEncodingFromMap( material.lightMap ),\n\t\t\taoMap: !! material.aoMap,\n\t\t\temissiveMap: !! material.emissiveMap,\n\t\t\temissiveMapEncoding: getTextureEncodingFromMap( material.emissiveMap ),\n\t\t\tbumpMap: !! material.bumpMap,\n\t\t\tnormalMap: !! material.normalMap,\n\t\t\tobjectSpaceNormalMap: material.normalMapType === ObjectSpaceNormalMap,\n\t\t\ttangentSpaceNormalMap: material.normalMapType === TangentSpaceNormalMap,\n\t\t\tclearcoatMap: !! material.clearcoatMap,\n\t\t\tclearcoatRoughnessMap: !! material.clearcoatRoughnessMap,\n\t\t\tclearcoatNormalMap: !! material.clearcoatNormalMap,\n\t\t\tdisplacementMap: !! material.displacementMap,\n\t\t\troughnessMap: !! material.roughnessMap,\n\t\t\tmetalnessMap: !! material.metalnessMap,\n\t\t\tspecularMap: !! material.specularMap,\n\t\t\talphaMap: !! material.alphaMap,\n\n\t\t\tgradientMap: !! material.gradientMap,\n\n\t\t\tsheen: !! material.sheen,\n\n\t\t\ttransmissionMap: !! material.transmissionMap,\n\n\t\t\tcombine: material.combine,\n\n\t\t\tvertexTangents: ( material.normalMap && material.vertexTangents ),\n\t\t\tvertexColors: material.vertexColors,\n\t\t\tvertexUvs: !! material.map || !! material.bumpMap || !! material.normalMap || !! material.specularMap || !! material.alphaMap || !! material.emissiveMap || !! material.roughnessMap || !! material.metalnessMap || !! material.clearcoatMap || !! material.clearcoatRoughnessMap || !! material.clearcoatNormalMap || !! material.displacementMap || !! material.transmissionMap,\n\t\t\tuvsVertexOnly: ! ( !! material.map || !! material.bumpMap || !! material.normalMap || !! material.specularMap || !! material.alphaMap || !! material.emissiveMap || !! material.roughnessMap || !! material.metalnessMap || !! material.clearcoatNormalMap || !! material.transmissionMap ) && !! material.displacementMap,\n\n\t\t\tfog: !! fog,\n\t\t\tuseFog: material.fog,\n\t\t\tfogExp2: ( fog && fog.isFogExp2 ),\n\n\t\t\tflatShading: material.flatShading,\n\n\t\t\tsizeAttenuation: material.sizeAttenuation,\n\t\t\tlogarithmicDepthBuffer: logarithmicDepthBuffer,\n\n\t\t\tskinning: material.skinning && maxBones > 0,\n\t\t\tmaxBones: maxBones,\n\t\t\tuseVertexTexture: floatVertexTextures,\n\n\t\t\tmorphTargets: material.morphTargets,\n\t\t\tmorphNormals: material.morphNormals,\n\t\t\tmaxMorphTargets: renderer.maxMorphTargets,\n\t\t\tmaxMorphNormals: renderer.maxMorphNormals,\n\n\t\t\tnumDirLights: lights.directional.length,\n\t\t\tnumPointLights: lights.point.length,\n\t\t\tnumSpotLights: lights.spot.length,\n\t\t\tnumRectAreaLights: lights.rectArea.length,\n\t\t\tnumHemiLights: lights.hemi.length,\n\n\t\t\tnumDirLightShadows: lights.directionalShadowMap.length,\n\t\t\tnumPointLightShadows: lights.pointShadowMap.length,\n\t\t\tnumSpotLightShadows: lights.spotShadowMap.length,\n\n\t\t\tnumClippingPlanes: clipping.numPlanes,\n\t\t\tnumClipIntersection: clipping.numIntersection,\n\n\t\t\tdithering: material.dithering,\n\n\t\t\tshadowMapEnabled: renderer.shadowMap.enabled && shadows.length > 0,\n\t\t\tshadowMapType: renderer.shadowMap.type,\n\n\t\t\ttoneMapping: material.toneMapped ? renderer.toneMapping : NoToneMapping,\n\t\t\tphysicallyCorrectLights: renderer.physicallyCorrectLights,\n\n\t\t\tpremultipliedAlpha: material.premultipliedAlpha,\n\n\t\t\talphaTest: material.alphaTest,\n\t\t\tdoubleSided: material.side === DoubleSide,\n\t\t\tflipSided: material.side === BackSide,\n\n\t\t\tdepthPacking: ( material.depthPacking !== undefined ) ? material.depthPacking : false,\n\n\t\t\tindex0AttributeName: material.index0AttributeName,\n\n\t\t\textensionDerivatives: material.extensions && material.extensions.derivatives,\n\t\t\textensionFragDepth: material.extensions && material.extensions.fragDepth,\n\t\t\textensionDrawBuffers: material.extensions && material.extensions.drawBuffers,\n\t\t\textensionShaderTextureLOD: material.extensions && material.extensions.shaderTextureLOD,\n\n\t\t\trendererExtensionFragDepth: isWebGL2 || extensions.has( 'EXT_frag_depth' ),\n\t\t\trendererExtensionDrawBuffers: isWebGL2 || extensions.has( 'WEBGL_draw_buffers' ),\n\t\t\trendererExtensionShaderTextureLod: isWebGL2 || extensions.has( 'EXT_shader_texture_lod' ),\n\n\t\t\tcustomProgramCacheKey: material.customProgramCacheKey()\n\n\t\t};\n\n\t\treturn parameters;\n\n\t}\n\n\tfunction getProgramCacheKey( parameters ) {\n\n\t\tconst array = [];\n\n\t\tif ( parameters.shaderID ) {\n\n\t\t\tarray.push( parameters.shaderID );\n\n\t\t} else {\n\n\t\t\tarray.push( parameters.fragmentShader );\n\t\t\tarray.push( parameters.vertexShader );\n\n\t\t}\n\n\t\tif ( parameters.defines !== undefined ) {\n\n\t\t\tfor ( const name in parameters.defines ) {\n\n\t\t\t\tarray.push( name );\n\t\t\t\tarray.push( parameters.defines[ name ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( parameters.isRawShaderMaterial === false ) {\n\n\t\t\tfor ( let i = 0; i < parameterNames.length; i ++ ) {\n\n\t\t\t\tarray.push( parameters[ parameterNames[ i ] ] );\n\n\t\t\t}\n\n\t\t\tarray.push( renderer.outputEncoding );\n\t\t\tarray.push( renderer.gammaFactor );\n\n\t\t}\n\n\t\tarray.push( parameters.customProgramCacheKey );\n\n\t\treturn array.join();\n\n\t}\n\n\tfunction getUniforms( material ) {\n\n\t\tconst shaderID = shaderIDs[ material.type ];\n\t\tlet uniforms;\n\n\t\tif ( shaderID ) {\n\n\t\t\tconst shader = ShaderLib[ shaderID ];\n\t\t\tuniforms = UniformsUtils.clone( shader.uniforms );\n\n\t\t} else {\n\n\t\t\tuniforms = material.uniforms;\n\n\t\t}\n\n\t\treturn uniforms;\n\n\t}\n\n\tfunction acquireProgram( parameters, cacheKey ) {\n\n\t\tlet program;\n\n\t\t// Check if code has been already compiled\n\t\tfor ( let p = 0, pl = programs.length; p < pl; p ++ ) {\n\n\t\t\tconst preexistingProgram = programs[ p ];\n\n\t\t\tif ( preexistingProgram.cacheKey === cacheKey ) {\n\n\t\t\t\tprogram = preexistingProgram;\n\t\t\t\t++ program.usedTimes;\n\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( program === undefined ) {\n\n\t\t\tprogram = new WebGLProgram( renderer, cacheKey, parameters, bindingStates );\n\t\t\tprograms.push( program );\n\n\t\t}\n\n\t\treturn program;\n\n\t}\n\n\tfunction releaseProgram( program ) {\n\n\t\tif ( -- program.usedTimes === 0 ) {\n\n\t\t\t// Remove from unordered set\n\t\t\tconst i = programs.indexOf( program );\n\t\t\tprograms[ i ] = programs[ programs.length - 1 ];\n\t\t\tprograms.pop();\n\n\t\t\t// Free WebGL resources\n\t\t\tprogram.destroy();\n\n\t\t}\n\n\t}\n\n\treturn {\n\t\tgetParameters: getParameters,\n\t\tgetProgramCacheKey: getProgramCacheKey,\n\t\tgetUniforms: getUniforms,\n\t\tacquireProgram: acquireProgram,\n\t\treleaseProgram: releaseProgram,\n\t\t// Exposed for resource monitoring & error feedback via renderer.info:\n\t\tprograms: programs\n\t};\n\n}\n\nfunction WebGLProperties() {\n\n\tlet properties = new WeakMap();\n\n\tfunction get( object ) {\n\n\t\tlet map = properties.get( object );\n\n\t\tif ( map === undefined ) {\n\n\t\t\tmap = {};\n\t\t\tproperties.set( object, map );\n\n\t\t}\n\n\t\treturn map;\n\n\t}\n\n\tfunction remove( object ) {\n\n\t\tproperties.delete( object );\n\n\t}\n\n\tfunction update( object, key, value ) {\n\n\t\tproperties.get( object )[ key ] = value;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tproperties = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tremove: remove,\n\t\tupdate: update,\n\t\tdispose: dispose\n\t};\n\n}\n\nfunction painterSortStable( a, b ) {\n\n\tif ( a.groupOrder !== b.groupOrder ) {\n\n\t\treturn a.groupOrder - b.groupOrder;\n\n\t} else if ( a.renderOrder !== b.renderOrder ) {\n\n\t\treturn a.renderOrder - b.renderOrder;\n\n\t} else if ( a.program !== b.program ) {\n\n\t\treturn a.program.id - b.program.id;\n\n\t} else if ( a.material.id !== b.material.id ) {\n\n\t\treturn a.material.id - b.material.id;\n\n\t} else if ( a.z !== b.z ) {\n\n\t\treturn a.z - b.z;\n\n\t} else {\n\n\t\treturn a.id - b.id;\n\n\t}\n\n}\n\nfunction reversePainterSortStable( a, b ) {\n\n\tif ( a.groupOrder !== b.groupOrder ) {\n\n\t\treturn a.groupOrder - b.groupOrder;\n\n\t} else if ( a.renderOrder !== b.renderOrder ) {\n\n\t\treturn a.renderOrder - b.renderOrder;\n\n\t} else if ( a.z !== b.z ) {\n\n\t\treturn b.z - a.z;\n\n\t} else {\n\n\t\treturn a.id - b.id;\n\n\t}\n\n}\n\n\nfunction WebGLRenderList( properties ) {\n\n\tconst renderItems = [];\n\tlet renderItemsIndex = 0;\n\n\tconst opaque = [];\n\tconst transparent = [];\n\n\tconst defaultProgram = { id: - 1 };\n\n\tfunction init() {\n\n\t\trenderItemsIndex = 0;\n\n\t\topaque.length = 0;\n\t\ttransparent.length = 0;\n\n\t}\n\n\tfunction getNextRenderItem( object, geometry, material, groupOrder, z, group ) {\n\n\t\tlet renderItem = renderItems[ renderItemsIndex ];\n\t\tconst materialProperties = properties.get( material );\n\n\t\tif ( renderItem === undefined ) {\n\n\t\t\trenderItem = {\n\t\t\t\tid: object.id,\n\t\t\t\tobject: object,\n\t\t\t\tgeometry: geometry,\n\t\t\t\tmaterial: material,\n\t\t\t\tprogram: materialProperties.program || defaultProgram,\n\t\t\t\tgroupOrder: groupOrder,\n\t\t\t\trenderOrder: object.renderOrder,\n\t\t\t\tz: z,\n\t\t\t\tgroup: group\n\t\t\t};\n\n\t\t\trenderItems[ renderItemsIndex ] = renderItem;\n\n\t\t} else {\n\n\t\t\trenderItem.id = object.id;\n\t\t\trenderItem.object = object;\n\t\t\trenderItem.geometry = geometry;\n\t\t\trenderItem.material = material;\n\t\t\trenderItem.program = materialProperties.program || defaultProgram;\n\t\t\trenderItem.groupOrder = groupOrder;\n\t\t\trenderItem.renderOrder = object.renderOrder;\n\t\t\trenderItem.z = z;\n\t\t\trenderItem.group = group;\n\n\t\t}\n\n\t\trenderItemsIndex ++;\n\n\t\treturn renderItem;\n\n\t}\n\n\tfunction push( object, geometry, material, groupOrder, z, group ) {\n\n\t\tconst renderItem = getNextRenderItem( object, geometry, material, groupOrder, z, group );\n\n\t\t( material.transparent === true ? transparent : opaque ).push( renderItem );\n\n\t}\n\n\tfunction unshift( object, geometry, material, groupOrder, z, group ) {\n\n\t\tconst renderItem = getNextRenderItem( object, geometry, material, groupOrder, z, group );\n\n\t\t( material.transparent === true ? transparent : opaque ).unshift( renderItem );\n\n\t}\n\n\tfunction sort( customOpaqueSort, customTransparentSort ) {\n\n\t\tif ( opaque.length > 1 ) opaque.sort( customOpaqueSort || painterSortStable );\n\t\tif ( transparent.length > 1 ) transparent.sort( customTransparentSort || reversePainterSortStable );\n\n\t}\n\n\tfunction finish() {\n\n\t\t// Clear references from inactive renderItems in the list\n\n\t\tfor ( let i = renderItemsIndex, il = renderItems.length; i < il; i ++ ) {\n\n\t\t\tconst renderItem = renderItems[ i ];\n\n\t\t\tif ( renderItem.id === null ) break;\n\n\t\t\trenderItem.id = null;\n\t\t\trenderItem.object = null;\n\t\t\trenderItem.geometry = null;\n\t\t\trenderItem.material = null;\n\t\t\trenderItem.program = null;\n\t\t\trenderItem.group = null;\n\n\t\t}\n\n\t}\n\n\treturn {\n\n\t\topaque: opaque,\n\t\ttransparent: transparent,\n\n\t\tinit: init,\n\t\tpush: push,\n\t\tunshift: unshift,\n\t\tfinish: finish,\n\n\t\tsort: sort\n\t};\n\n}\n\nfunction WebGLRenderLists( properties ) {\n\n\tlet lists = new WeakMap();\n\n\tfunction get( scene, camera ) {\n\n\t\tconst cameras = lists.get( scene );\n\t\tlet list;\n\n\t\tif ( cameras === undefined ) {\n\n\t\t\tlist = new WebGLRenderList( properties );\n\t\t\tlists.set( scene, new WeakMap() );\n\t\t\tlists.get( scene ).set( camera, list );\n\n\t\t} else {\n\n\t\t\tlist = cameras.get( camera );\n\t\t\tif ( list === undefined ) {\n\n\t\t\t\tlist = new WebGLRenderList( properties );\n\t\t\t\tcameras.set( camera, list );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn list;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tlists = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tdispose: dispose\n\t};\n\n}\n\nfunction UniformsCache() {\n\n\tconst lights = {};\n\n\treturn {\n\n\t\tget: function ( light ) {\n\n\t\t\tif ( lights[ light.id ] !== undefined ) {\n\n\t\t\t\treturn lights[ light.id ];\n\n\t\t\t}\n\n\t\t\tlet uniforms;\n\n\t\t\tswitch ( light.type ) {\n\n\t\t\t\tcase 'DirectionalLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tcolor: new Color()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'SpotLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tdistance: 0,\n\t\t\t\t\t\tconeCos: 0,\n\t\t\t\t\t\tpenumbraCos: 0,\n\t\t\t\t\t\tdecay: 0\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'PointLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tdistance: 0,\n\t\t\t\t\t\tdecay: 0\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'HemisphereLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tskyColor: new Color(),\n\t\t\t\t\t\tgroundColor: new Color()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'RectAreaLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\thalfWidth: new Vector3(),\n\t\t\t\t\t\thalfHeight: new Vector3()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tlights[ light.id ] = uniforms;\n\n\t\t\treturn uniforms;\n\n\t\t}\n\n\t};\n\n}\n\nfunction ShadowUniformsCache() {\n\n\tconst lights = {};\n\n\treturn {\n\n\t\tget: function ( light ) {\n\n\t\t\tif ( lights[ light.id ] !== undefined ) {\n\n\t\t\t\treturn lights[ light.id ];\n\n\t\t\t}\n\n\t\t\tlet uniforms;\n\n\t\t\tswitch ( light.type ) {\n\n\t\t\t\tcase 'DirectionalLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowNormalBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'SpotLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowNormalBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'PointLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowNormalBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2(),\n\t\t\t\t\t\tshadowCameraNear: 1,\n\t\t\t\t\t\tshadowCameraFar: 1000\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\t// TODO (abelnation): set RectAreaLight shadow uniforms\n\n\t\t\t}\n\n\t\t\tlights[ light.id ] = uniforms;\n\n\t\t\treturn uniforms;\n\n\t\t}\n\n\t};\n\n}\n\n\n\nlet nextVersion = 0;\n\nfunction shadowCastingLightsFirst( lightA, lightB ) {\n\n\treturn ( lightB.castShadow ? 1 : 0 ) - ( lightA.castShadow ? 1 : 0 );\n\n}\n\nfunction WebGLLights( extensions, capabilities ) {\n\n\tconst cache = new UniformsCache();\n\n\tconst shadowCache = ShadowUniformsCache();\n\n\tconst state = {\n\n\t\tversion: 0,\n\n\t\thash: {\n\t\t\tdirectionalLength: - 1,\n\t\t\tpointLength: - 1,\n\t\t\tspotLength: - 1,\n\t\t\trectAreaLength: - 1,\n\t\t\themiLength: - 1,\n\n\t\t\tnumDirectionalShadows: - 1,\n\t\t\tnumPointShadows: - 1,\n\t\t\tnumSpotShadows: - 1\n\t\t},\n\n\t\tambient: [ 0, 0, 0 ],\n\t\tprobe: [],\n\t\tdirectional: [],\n\t\tdirectionalShadow: [],\n\t\tdirectionalShadowMap: [],\n\t\tdirectionalShadowMatrix: [],\n\t\tspot: [],\n\t\tspotShadow: [],\n\t\tspotShadowMap: [],\n\t\tspotShadowMatrix: [],\n\t\trectArea: [],\n\t\trectAreaLTC1: null,\n\t\trectAreaLTC2: null,\n\t\tpoint: [],\n\t\tpointShadow: [],\n\t\tpointShadowMap: [],\n\t\tpointShadowMatrix: [],\n\t\themi: []\n\n\t};\n\n\tfor ( let i = 0; i < 9; i ++ ) state.probe.push( new Vector3() );\n\n\tconst vector3 = new Vector3();\n\tconst matrix4 = new Matrix4();\n\tconst matrix42 = new Matrix4();\n\n\tfunction setup( lights, shadows, camera ) {\n\n\t\tlet r = 0, g = 0, b = 0;\n\n\t\tfor ( let i = 0; i < 9; i ++ ) state.probe[ i ].set( 0, 0, 0 );\n\n\t\tlet directionalLength = 0;\n\t\tlet pointLength = 0;\n\t\tlet spotLength = 0;\n\t\tlet rectAreaLength = 0;\n\t\tlet hemiLength = 0;\n\n\t\tlet numDirectionalShadows = 0;\n\t\tlet numPointShadows = 0;\n\t\tlet numSpotShadows = 0;\n\n\t\tconst viewMatrix = camera.matrixWorldInverse;\n\n\t\tlights.sort( shadowCastingLightsFirst );\n\n\t\tfor ( let i = 0, l = lights.length; i < l; i ++ ) {\n\n\t\t\tconst light = lights[ i ];\n\n\t\t\tconst color = light.color;\n\t\t\tconst intensity = light.intensity;\n\t\t\tconst distance = light.distance;\n\n\t\t\tconst shadowMap = ( light.shadow && light.shadow.map ) ? light.shadow.map.texture : null;\n\n\t\t\tif ( light.isAmbientLight ) {\n\n\t\t\t\tr += color.r * intensity;\n\t\t\t\tg += color.g * intensity;\n\t\t\t\tb += color.b * intensity;\n\n\t\t\t} else if ( light.isLightProbe ) {\n\n\t\t\t\tfor ( let j = 0; j < 9; j ++ ) {\n\n\t\t\t\t\tstate.probe[ j ].addScaledVector( light.sh.coefficients[ j ], intensity );\n\n\t\t\t\t}\n\n\t\t\t} else if ( light.isDirectionalLight ) {\n\n\t\t\t\tconst uniforms = cache.get( light );\n\n\t\t\t\tuniforms.color.copy( light.color ).multiplyScalar( light.intensity );\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tvector3.setFromMatrixPosition( light.target.matrixWorld );\n\t\t\t\tuniforms.direction.sub( vector3 );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tconst shadow = light.shadow;\n\n\t\t\t\t\tconst shadowUniforms = shadowCache.get( light );\n\n\t\t\t\t\tshadowUniforms.shadowBias = shadow.bias;\n\t\t\t\t\tshadowUniforms.shadowNormalBias = shadow.normalBias;\n\t\t\t\t\tshadowUniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tshadowUniforms.shadowMapSize = shadow.mapSize;\n\n\t\t\t\t\tstate.directionalShadow[ directionalLength ] = shadowUniforms;\n\t\t\t\t\tstate.directionalShadowMap[ directionalLength ] = shadowMap;\n\t\t\t\t\tstate.directionalShadowMatrix[ directionalLength ] = light.shadow.matrix;\n\n\t\t\t\t\tnumDirectionalShadows ++;\n\n\t\t\t\t}\n\n\t\t\t\tstate.directional[ directionalLength ] = uniforms;\n\n\t\t\t\tdirectionalLength ++;\n\n\t\t\t} else if ( light.isSpotLight ) {\n\n\t\t\t\tconst uniforms = cache.get( light );\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\tuniforms.color.copy( color ).multiplyScalar( intensity );\n\t\t\t\tuniforms.distance = distance;\n\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tvector3.setFromMatrixPosition( light.target.matrixWorld );\n\t\t\t\tuniforms.direction.sub( vector3 );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\n\t\t\t\tuniforms.coneCos = Math.cos( light.angle );\n\t\t\t\tuniforms.penumbraCos = Math.cos( light.angle * ( 1 - light.penumbra ) );\n\t\t\t\tuniforms.decay = light.decay;\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tconst shadow = light.shadow;\n\n\t\t\t\t\tconst shadowUniforms = shadowCache.get( light );\n\n\t\t\t\t\tshadowUniforms.shadowBias = shadow.bias;\n\t\t\t\t\tshadowUniforms.shadowNormalBias = shadow.normalBias;\n\t\t\t\t\tshadowUniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tshadowUniforms.shadowMapSize = shadow.mapSize;\n\n\t\t\t\t\tstate.spotShadow[ spotLength ] = shadowUniforms;\n\t\t\t\t\tstate.spotShadowMap[ spotLength ] = shadowMap;\n\t\t\t\t\tstate.spotShadowMatrix[ spotLength ] = light.shadow.matrix;\n\n\t\t\t\t\tnumSpotShadows ++;\n\n\t\t\t\t}\n\n\t\t\t\tstate.spot[ spotLength ] = uniforms;\n\n\t\t\t\tspotLength ++;\n\n\t\t\t} else if ( light.isRectAreaLight ) {\n\n\t\t\t\tconst uniforms = cache.get( light );\n\n\t\t\t\t// (a) intensity is the total visible light emitted\n\t\t\t\t//uniforms.color.copy( color ).multiplyScalar( intensity / ( light.width * light.height * Math.PI ) );\n\n\t\t\t\t// (b) intensity is the brightness of the light\n\t\t\t\tuniforms.color.copy( color ).multiplyScalar( intensity );\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\t// extract local rotation of light to derive width/height half vectors\n\t\t\t\tmatrix42.identity();\n\t\t\t\tmatrix4.copy( light.matrixWorld );\n\t\t\t\tmatrix4.premultiply( viewMatrix );\n\t\t\t\tmatrix42.extractRotation( matrix4 );\n\n\t\t\t\tuniforms.halfWidth.set( light.width * 0.5, 0.0, 0.0 );\n\t\t\t\tuniforms.halfHeight.set( 0.0, light.height * 0.5, 0.0 );\n\n\t\t\t\tuniforms.halfWidth.applyMatrix4( matrix42 );\n\t\t\t\tuniforms.halfHeight.applyMatrix4( matrix42 );\n\n\t\t\t\t// TODO (abelnation): RectAreaLight distance?\n\t\t\t\t// uniforms.distance = distance;\n\n\t\t\t\tstate.rectArea[ rectAreaLength ] = uniforms;\n\n\t\t\t\trectAreaLength ++;\n\n\t\t\t} else if ( light.isPointLight ) {\n\n\t\t\t\tconst uniforms = cache.get( light );\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\tuniforms.color.copy( light.color ).multiplyScalar( light.intensity );\n\t\t\t\tuniforms.distance = light.distance;\n\t\t\t\tuniforms.decay = light.decay;\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tconst shadow = light.shadow;\n\n\t\t\t\t\tconst shadowUniforms = shadowCache.get( light );\n\n\t\t\t\t\tshadowUniforms.shadowBias = shadow.bias;\n\t\t\t\t\tshadowUniforms.shadowNormalBias = shadow.normalBias;\n\t\t\t\t\tshadowUniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tshadowUniforms.shadowMapSize = shadow.mapSize;\n\t\t\t\t\tshadowUniforms.shadowCameraNear = shadow.camera.near;\n\t\t\t\t\tshadowUniforms.shadowCameraFar = shadow.camera.far;\n\n\t\t\t\t\tstate.pointShadow[ pointLength ] = shadowUniforms;\n\t\t\t\t\tstate.pointShadowMap[ pointLength ] = shadowMap;\n\t\t\t\t\tstate.pointShadowMatrix[ pointLength ] = light.shadow.matrix;\n\n\t\t\t\t\tnumPointShadows ++;\n\n\t\t\t\t}\n\n\t\t\t\tstate.point[ pointLength ] = uniforms;\n\n\t\t\t\tpointLength ++;\n\n\t\t\t} else if ( light.isHemisphereLight ) {\n\n\t\t\t\tconst uniforms = cache.get( light );\n\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\t\t\t\tuniforms.direction.normalize();\n\n\t\t\t\tuniforms.skyColor.copy( light.color ).multiplyScalar( intensity );\n\t\t\t\tuniforms.groundColor.copy( light.groundColor ).multiplyScalar( intensity );\n\n\t\t\t\tstate.hemi[ hemiLength ] = uniforms;\n\n\t\t\t\themiLength ++;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( rectAreaLength > 0 ) {\n\n\t\t\tif ( capabilities.isWebGL2 ) {\n\n\t\t\t\t// WebGL 2\n\n\t\t\t\tstate.rectAreaLTC1 = UniformsLib.LTC_FLOAT_1;\n\t\t\t\tstate.rectAreaLTC2 = UniformsLib.LTC_FLOAT_2;\n\n\t\t\t} else {\n\n\t\t\t\t// WebGL 1\n\n\t\t\t\tif ( extensions.has( 'OES_texture_float_linear' ) === true ) {\n\n\t\t\t\t\tstate.rectAreaLTC1 = UniformsLib.LTC_FLOAT_1;\n\t\t\t\t\tstate.rectAreaLTC2 = UniformsLib.LTC_FLOAT_2;\n\n\t\t\t\t} else if ( extensions.has( 'OES_texture_half_float_linear' ) === true ) {\n\n\t\t\t\t\tstate.rectAreaLTC1 = UniformsLib.LTC_HALF_1;\n\t\t\t\t\tstate.rectAreaLTC2 = UniformsLib.LTC_HALF_2;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.ambient[ 0 ] = r;\n\t\tstate.ambient[ 1 ] = g;\n\t\tstate.ambient[ 2 ] = b;\n\n\t\tconst hash = state.hash;\n\n\t\tif ( hash.directionalLength !== directionalLength ||\n\t\t\thash.pointLength !== pointLength ||\n\t\t\thash.spotLength !== spotLength ||\n\t\t\thash.rectAreaLength !== rectAreaLength ||\n\t\t\thash.hemiLength !== hemiLength ||\n\t\t\thash.numDirectionalShadows !== numDirectionalShadows ||\n\t\t\thash.numPointShadows !== numPointShadows ||\n\t\t\thash.numSpotShadows !== numSpotShadows ) {\n\n\t\t\tstate.directional.length = directionalLength;\n\t\t\tstate.spot.length = spotLength;\n\t\t\tstate.rectArea.length = rectAreaLength;\n\t\t\tstate.point.length = pointLength;\n\t\t\tstate.hemi.length = hemiLength;\n\n\t\t\tstate.directionalShadow.length = numDirectionalShadows;\n\t\t\tstate.directionalShadowMap.length = numDirectionalShadows;\n\t\t\tstate.pointShadow.length = numPointShadows;\n\t\t\tstate.pointShadowMap.length = numPointShadows;\n\t\t\tstate.spotShadow.length = numSpotShadows;\n\t\t\tstate.spotShadowMap.length = numSpotShadows;\n\t\t\tstate.directionalShadowMatrix.length = numDirectionalShadows;\n\t\t\tstate.pointShadowMatrix.length = numPointShadows;\n\t\t\tstate.spotShadowMatrix.length = numSpotShadows;\n\n\t\t\thash.directionalLength = directionalLength;\n\t\t\thash.pointLength = pointLength;\n\t\t\thash.spotLength = spotLength;\n\t\t\thash.rectAreaLength = rectAreaLength;\n\t\t\thash.hemiLength = hemiLength;\n\n\t\t\thash.numDirectionalShadows = numDirectionalShadows;\n\t\t\thash.numPointShadows = numPointShadows;\n\t\t\thash.numSpotShadows = numSpotShadows;\n\n\t\t\tstate.version = nextVersion ++;\n\n\t\t}\n\n\t}\n\n\treturn {\n\t\tsetup: setup,\n\t\tstate: state\n\t};\n\n}\n\nfunction WebGLRenderState( extensions, capabilities ) {\n\n\tconst lights = new WebGLLights( extensions, capabilities );\n\n\tconst lightsArray = [];\n\tconst shadowsArray = [];\n\n\tfunction init() {\n\n\t\tlightsArray.length = 0;\n\t\tshadowsArray.length = 0;\n\n\t}\n\n\tfunction pushLight( light ) {\n\n\t\tlightsArray.push( light );\n\n\t}\n\n\tfunction pushShadow( shadowLight ) {\n\n\t\tshadowsArray.push( shadowLight );\n\n\t}\n\n\tfunction setupLights( camera ) {\n\n\t\tlights.setup( lightsArray, shadowsArray, camera );\n\n\t}\n\n\tconst state = {\n\t\tlightsArray: lightsArray,\n\t\tshadowsArray: shadowsArray,\n\n\t\tlights: lights\n\t};\n\n\treturn {\n\t\tinit: init,\n\t\tstate: state,\n\t\tsetupLights: setupLights,\n\n\t\tpushLight: pushLight,\n\t\tpushShadow: pushShadow\n\t};\n\n}\n\nfunction WebGLRenderStates( extensions, capabilities ) {\n\n\tlet renderStates = new WeakMap();\n\n\tfunction get( scene, camera ) {\n\n\t\tlet renderState;\n\n\t\tif ( renderStates.has( scene ) === false ) {\n\n\t\t\trenderState = new WebGLRenderState( extensions, capabilities );\n\t\t\trenderStates.set( scene, new WeakMap() );\n\t\t\trenderStates.get( scene ).set( camera, renderState );\n\n\t\t} else {\n\n\t\t\tif ( renderStates.get( scene ).has( camera ) === false ) {\n\n\t\t\t\trenderState = new WebGLRenderState( extensions, capabilities );\n\t\t\t\trenderStates.get( scene ).set( camera, renderState );\n\n\t\t\t} else {\n\n\t\t\t\trenderState = renderStates.get( scene ).get( camera );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn renderState;\n\n\t}\n\n\tfunction dispose() {\n\n\t\trenderStates = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tdispose: dispose\n\t};\n\n}\n\n/**\n * parameters = {\n *\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>\n * }\n */\n\nfunction MeshDepthMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshDepthMaterial';\n\n\tthis.depthPacking = BasicDepthPacking;\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\n\tthis.map = null;\n\n\tthis.alphaMap = null;\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\n\tthis.fog = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshDepthMaterial.prototype = Object.create( Material.prototype );\nMeshDepthMaterial.prototype.constructor = MeshDepthMaterial;\n\nMeshDepthMaterial.prototype.isMeshDepthMaterial = true;\n\nMeshDepthMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.depthPacking = source.depthPacking;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\n\tthis.map = source.map;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\treturn this;\n\n};\n\n/**\n * parameters = {\n *\n *  referencePosition: <float>,\n *  nearDistance: <float>,\n *  farDistance: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>\n *\n * }\n */\n\nfunction MeshDistanceMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshDistanceMaterial';\n\n\tthis.referencePosition = new Vector3();\n\tthis.nearDistance = 1;\n\tthis.farDistance = 1000;\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\n\tthis.map = null;\n\n\tthis.alphaMap = null;\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.fog = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshDistanceMaterial.prototype = Object.create( Material.prototype );\nMeshDistanceMaterial.prototype.constructor = MeshDistanceMaterial;\n\nMeshDistanceMaterial.prototype.isMeshDistanceMaterial = true;\n\nMeshDistanceMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.referencePosition.copy( source.referencePosition );\n\tthis.nearDistance = source.nearDistance;\n\tthis.farDistance = source.farDistance;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\n\tthis.map = source.map;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\treturn this;\n\n};\n\nvar vsm_frag = \"uniform sampler2D shadow_pass;\\nuniform vec2 resolution;\\nuniform float radius;\\n#include <packing>\\nvoid main() {\\n\\tfloat mean = 0.0;\\n\\tfloat squared_mean = 0.0;\\n\\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );\\n\\tfor ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\\n\\t\\t#ifdef HORIZONAL_PASS\\n\\t\\t\\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\\n\\t\\t\\tmean += distribution.x;\\n\\t\\t\\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\\n\\t\\t#else\\n\\t\\t\\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );\\n\\t\\t\\tmean += depth;\\n\\t\\t\\tsquared_mean += depth * depth;\\n\\t\\t#endif\\n\\t}\\n\\tmean = mean * HALF_SAMPLE_RATE;\\n\\tsquared_mean = squared_mean * HALF_SAMPLE_RATE;\\n\\tfloat std_dev = sqrt( squared_mean - mean * mean );\\n\\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\\n}\";\n\nvar vsm_vert = \"void main() {\\n\\tgl_Position = vec4( position, 1.0 );\\n}\";\n\nfunction WebGLShadowMap( _renderer, _objects, maxTextureSize ) {\n\n\tlet _frustum = new Frustum();\n\n\tconst _shadowMapSize = new Vector2(),\n\t\t_viewportSize = new Vector2(),\n\n\t\t_viewport = new Vector4(),\n\n\t\t_depthMaterials = [],\n\t\t_distanceMaterials = [],\n\n\t\t_materialCache = {};\n\n\tconst shadowSide = { 0: BackSide, 1: FrontSide, 2: DoubleSide };\n\n\tconst shadowMaterialVertical = new ShaderMaterial( {\n\n\t\tdefines: {\n\t\t\tSAMPLE_RATE: 2.0 / 8.0,\n\t\t\tHALF_SAMPLE_RATE: 1.0 / 8.0\n\t\t},\n\n\t\tuniforms: {\n\t\t\tshadow_pass: { value: null },\n\t\t\tresolution: { value: new Vector2() },\n\t\t\tradius: { value: 4.0 }\n\t\t},\n\n\t\tvertexShader: vsm_vert,\n\n\t\tfragmentShader: vsm_frag\n\n\t} );\n\n\tconst shadowMaterialHorizonal = shadowMaterialVertical.clone();\n\tshadowMaterialHorizonal.defines.HORIZONAL_PASS = 1;\n\n\tconst fullScreenTri = new BufferGeometry();\n\tfullScreenTri.setAttribute(\n\t\t\"position\",\n\t\tnew BufferAttribute(\n\t\t\tnew Float32Array( [ - 1, - 1, 0.5, 3, - 1, 0.5, - 1, 3, 0.5 ] ),\n\t\t\t3\n\t\t)\n\t);\n\n\tconst fullScreenMesh = new Mesh( fullScreenTri, shadowMaterialVertical );\n\n\tconst scope = this;\n\n\tthis.enabled = false;\n\n\tthis.autoUpdate = true;\n\tthis.needsUpdate = false;\n\n\tthis.type = PCFShadowMap;\n\n\tthis.render = function ( lights, scene, camera ) {\n\n\t\tif ( scope.enabled === false ) return;\n\t\tif ( scope.autoUpdate === false && scope.needsUpdate === false ) return;\n\n\t\tif ( lights.length === 0 ) return;\n\n\t\tconst currentRenderTarget = _renderer.getRenderTarget();\n\t\tconst activeCubeFace = _renderer.getActiveCubeFace();\n\t\tconst activeMipmapLevel = _renderer.getActiveMipmapLevel();\n\n\t\tconst _state = _renderer.state;\n\n\t\t// Set GL state for depth map.\n\t\t_state.setBlending( NoBlending );\n\t\t_state.buffers.color.setClear( 1, 1, 1, 1 );\n\t\t_state.buffers.depth.setTest( true );\n\t\t_state.setScissorTest( false );\n\n\t\t// render depth map\n\n\t\tfor ( let i = 0, il = lights.length; i < il; i ++ ) {\n\n\t\t\tconst light = lights[ i ];\n\t\t\tconst shadow = light.shadow;\n\n\t\t\tif ( shadow === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLShadowMap:', light, 'has no shadow.' );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tif ( shadow.autoUpdate === false && shadow.needsUpdate === false ) continue;\n\n\t\t\t_shadowMapSize.copy( shadow.mapSize );\n\n\t\t\tconst shadowFrameExtents = shadow.getFrameExtents();\n\n\t\t\t_shadowMapSize.multiply( shadowFrameExtents );\n\n\t\t\t_viewportSize.copy( shadow.mapSize );\n\n\t\t\tif ( _shadowMapSize.x > maxTextureSize || _shadowMapSize.y > maxTextureSize ) {\n\n\t\t\t\tif ( _shadowMapSize.x > maxTextureSize ) {\n\n\t\t\t\t\t_viewportSize.x = Math.floor( maxTextureSize / shadowFrameExtents.x );\n\t\t\t\t\t_shadowMapSize.x = _viewportSize.x * shadowFrameExtents.x;\n\t\t\t\t\tshadow.mapSize.x = _viewportSize.x;\n\n\t\t\t\t}\n\n\t\t\t\tif ( _shadowMapSize.y > maxTextureSize ) {\n\n\t\t\t\t\t_viewportSize.y = Math.floor( maxTextureSize / shadowFrameExtents.y );\n\t\t\t\t\t_shadowMapSize.y = _viewportSize.y * shadowFrameExtents.y;\n\t\t\t\t\tshadow.mapSize.y = _viewportSize.y;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( shadow.map === null && ! shadow.isPointLightShadow && this.type === VSMShadowMap ) {\n\n\t\t\t\tconst pars = { minFilter: LinearFilter, magFilter: LinearFilter, format: RGBAFormat };\n\n\t\t\t\tshadow.map = new WebGLRenderTarget( _shadowMapSize.x, _shadowMapSize.y, pars );\n\t\t\t\tshadow.map.texture.name = light.name + \".shadowMap\";\n\n\t\t\t\tshadow.mapPass = new WebGLRenderTarget( _shadowMapSize.x, _shadowMapSize.y, pars );\n\n\t\t\t\tshadow.camera.updateProjectionMatrix();\n\n\t\t\t}\n\n\t\t\tif ( shadow.map === null ) {\n\n\t\t\t\tconst pars = { minFilter: NearestFilter, magFilter: NearestFilter, format: RGBAFormat };\n\n\t\t\t\tshadow.map = new WebGLRenderTarget( _shadowMapSize.x, _shadowMapSize.y, pars );\n\t\t\t\tshadow.map.texture.name = light.name + \".shadowMap\";\n\n\t\t\t\tshadow.camera.updateProjectionMatrix();\n\n\t\t\t}\n\n\t\t\t_renderer.setRenderTarget( shadow.map );\n\t\t\t_renderer.clear();\n\n\t\t\tconst viewportCount = shadow.getViewportCount();\n\n\t\t\tfor ( let vp = 0; vp < viewportCount; vp ++ ) {\n\n\t\t\t\tconst viewport = shadow.getViewport( vp );\n\n\t\t\t\t_viewport.set(\n\t\t\t\t\t_viewportSize.x * viewport.x,\n\t\t\t\t\t_viewportSize.y * viewport.y,\n\t\t\t\t\t_viewportSize.x * viewport.z,\n\t\t\t\t\t_viewportSize.y * viewport.w\n\t\t\t\t);\n\n\t\t\t\t_state.viewport( _viewport );\n\n\t\t\t\tshadow.updateMatrices( light, vp );\n\n\t\t\t\t_frustum = shadow.getFrustum();\n\n\t\t\t\trenderObject( scene, camera, shadow.camera, light, this.type );\n\n\t\t\t}\n\n\t\t\t// do blur pass for VSM\n\n\t\t\tif ( ! shadow.isPointLightShadow && this.type === VSMShadowMap ) {\n\n\t\t\t\tVSMPass( shadow, camera );\n\n\t\t\t}\n\n\t\t\tshadow.needsUpdate = false;\n\n\t\t}\n\n\t\tscope.needsUpdate = false;\n\n\t\t_renderer.setRenderTarget( currentRenderTarget, activeCubeFace, activeMipmapLevel );\n\n\t};\n\n\tfunction VSMPass( shadow, camera ) {\n\n\t\tconst geometry = _objects.update( fullScreenMesh );\n\n\t\t// vertical pass\n\n\t\tshadowMaterialVertical.uniforms.shadow_pass.value = shadow.map.texture;\n\t\tshadowMaterialVertical.uniforms.resolution.value = shadow.mapSize;\n\t\tshadowMaterialVertical.uniforms.radius.value = shadow.radius;\n\t\t_renderer.setRenderTarget( shadow.mapPass );\n\t\t_renderer.clear();\n\t\t_renderer.renderBufferDirect( camera, null, geometry, shadowMaterialVertical, fullScreenMesh, null );\n\n\t\t// horizonal pass\n\n\t\tshadowMaterialHorizonal.uniforms.shadow_pass.value = shadow.mapPass.texture;\n\t\tshadowMaterialHorizonal.uniforms.resolution.value = shadow.mapSize;\n\t\tshadowMaterialHorizonal.uniforms.radius.value = shadow.radius;\n\t\t_renderer.setRenderTarget( shadow.map );\n\t\t_renderer.clear();\n\t\t_renderer.renderBufferDirect( camera, null, geometry, shadowMaterialHorizonal, fullScreenMesh, null );\n\n\t}\n\n\tfunction getDepthMaterialVariant( useMorphing, useSkinning, useInstancing ) {\n\n\t\tconst index = useMorphing << 0 | useSkinning << 1 | useInstancing << 2;\n\n\t\tlet material = _depthMaterials[ index ];\n\n\t\tif ( material === undefined ) {\n\n\t\t\tmaterial = new MeshDepthMaterial( {\n\n\t\t\t\tdepthPacking: RGBADepthPacking,\n\n\t\t\t\tmorphTargets: useMorphing,\n\t\t\t\tskinning: useSkinning\n\n\t\t\t} );\n\n\t\t\t_depthMaterials[ index ] = material;\n\n\t\t}\n\n\t\treturn material;\n\n\t}\n\n\tfunction getDistanceMaterialVariant( useMorphing, useSkinning, useInstancing ) {\n\n\t\tconst index = useMorphing << 0 | useSkinning << 1 | useInstancing << 2;\n\n\t\tlet material = _distanceMaterials[ index ];\n\n\t\tif ( material === undefined ) {\n\n\t\t\tmaterial = new MeshDistanceMaterial( {\n\n\t\t\t\tmorphTargets: useMorphing,\n\t\t\t\tskinning: useSkinning\n\n\t\t\t} );\n\n\t\t\t_distanceMaterials[ index ] = material;\n\n\t\t}\n\n\t\treturn material;\n\n\t}\n\n\tfunction getDepthMaterial( object, geometry, material, light, shadowCameraNear, shadowCameraFar, type ) {\n\n\t\tlet result = null;\n\n\t\tlet getMaterialVariant = getDepthMaterialVariant;\n\t\tlet customMaterial = object.customDepthMaterial;\n\n\t\tif ( light.isPointLight === true ) {\n\n\t\t\tgetMaterialVariant = getDistanceMaterialVariant;\n\t\t\tcustomMaterial = object.customDistanceMaterial;\n\n\t\t}\n\n\t\tif ( customMaterial === undefined ) {\n\n\t\t\tlet useMorphing = false;\n\n\t\t\tif ( material.morphTargets === true ) {\n\n\t\t\t\tuseMorphing = geometry.morphAttributes && geometry.morphAttributes.position && geometry.morphAttributes.position.length > 0;\n\n\t\t\t}\n\n\t\t\tlet useSkinning = false;\n\n\t\t\tif ( object.isSkinnedMesh === true ) {\n\n\t\t\t\tif ( material.skinning === true ) {\n\n\t\t\t\t\tuseSkinning = true;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:', object );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst useInstancing = object.isInstancedMesh === true;\n\n\t\t\tresult = getMaterialVariant( useMorphing, useSkinning, useInstancing );\n\n\t\t} else {\n\n\t\t\tresult = customMaterial;\n\n\t\t}\n\n\t\tif ( _renderer.localClippingEnabled &&\n\t\t\t\tmaterial.clipShadows === true &&\n\t\t\t\tmaterial.clippingPlanes.length !== 0 ) {\n\n\t\t\t// in this case we need a unique material instance reflecting the\n\t\t\t// appropriate state\n\n\t\t\tconst keyA = result.uuid, keyB = material.uuid;\n\n\t\t\tlet materialsForVariant = _materialCache[ keyA ];\n\n\t\t\tif ( materialsForVariant === undefined ) {\n\n\t\t\t\tmaterialsForVariant = {};\n\t\t\t\t_materialCache[ keyA ] = materialsForVariant;\n\n\t\t\t}\n\n\t\t\tlet cachedMaterial = materialsForVariant[ keyB ];\n\n\t\t\tif ( cachedMaterial === undefined ) {\n\n\t\t\t\tcachedMaterial = result.clone();\n\t\t\t\tmaterialsForVariant[ keyB ] = cachedMaterial;\n\n\t\t\t}\n\n\t\t\tresult = cachedMaterial;\n\n\t\t}\n\n\t\tresult.visible = material.visible;\n\t\tresult.wireframe = material.wireframe;\n\n\t\tif ( type === VSMShadowMap ) {\n\n\t\t\tresult.side = ( material.shadowSide !== null ) ? material.shadowSide : material.side;\n\n\t\t} else {\n\n\t\t\tresult.side = ( material.shadowSide !== null ) ? material.shadowSide : shadowSide[ material.side ];\n\n\t\t}\n\n\t\tresult.clipShadows = material.clipShadows;\n\t\tresult.clippingPlanes = material.clippingPlanes;\n\t\tresult.clipIntersection = material.clipIntersection;\n\n\t\tresult.wireframeLinewidth = material.wireframeLinewidth;\n\t\tresult.linewidth = material.linewidth;\n\n\t\tif ( light.isPointLight === true && result.isMeshDistanceMaterial === true ) {\n\n\t\t\tresult.referencePosition.setFromMatrixPosition( light.matrixWorld );\n\t\t\tresult.nearDistance = shadowCameraNear;\n\t\t\tresult.farDistance = shadowCameraFar;\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n\tfunction renderObject( object, camera, shadowCamera, light, type ) {\n\n\t\tif ( object.visible === false ) return;\n\n\t\tconst visible = object.layers.test( camera.layers );\n\n\t\tif ( visible && ( object.isMesh || object.isLine || object.isPoints ) ) {\n\n\t\t\tif ( ( object.castShadow || ( object.receiveShadow && type === VSMShadowMap ) ) && ( ! object.frustumCulled || _frustum.intersectsObject( object ) ) ) {\n\n\t\t\t\tobject.modelViewMatrix.multiplyMatrices( shadowCamera.matrixWorldInverse, object.matrixWorld );\n\n\t\t\t\tconst geometry = _objects.update( object );\n\t\t\t\tconst material = object.material;\n\n\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\tconst groups = geometry.groups;\n\n\t\t\t\t\tfor ( let k = 0, kl = groups.length; k < kl; k ++ ) {\n\n\t\t\t\t\t\tconst group = groups[ k ];\n\t\t\t\t\t\tconst groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\tif ( groupMaterial && groupMaterial.visible ) {\n\n\t\t\t\t\t\t\tconst depthMaterial = getDepthMaterial( object, geometry, groupMaterial, light, shadowCamera.near, shadowCamera.far, type );\n\n\t\t\t\t\t\t\t_renderer.renderBufferDirect( shadowCamera, null, geometry, depthMaterial, object, group );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( material.visible ) {\n\n\t\t\t\t\tconst depthMaterial = getDepthMaterial( object, geometry, material, light, shadowCamera.near, shadowCamera.far, type );\n\n\t\t\t\t\t_renderer.renderBufferDirect( shadowCamera, null, geometry, depthMaterial, object, null );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst children = object.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\trenderObject( children[ i ], camera, shadowCamera, light, type );\n\n\t\t}\n\n\t}\n\n}\n\nfunction WebGLState( gl, extensions, capabilities ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\n\tfunction ColorBuffer() {\n\n\t\tlet locked = false;\n\n\t\tconst color = new Vector4();\n\t\tlet currentColorMask = null;\n\t\tconst currentColorClear = new Vector4( 0, 0, 0, 0 );\n\n\t\treturn {\n\n\t\t\tsetMask: function ( colorMask ) {\n\n\t\t\t\tif ( currentColorMask !== colorMask && ! locked ) {\n\n\t\t\t\t\tgl.colorMask( colorMask, colorMask, colorMask, colorMask );\n\t\t\t\t\tcurrentColorMask = colorMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( r, g, b, a, premultipliedAlpha ) {\n\n\t\t\t\tif ( premultipliedAlpha === true ) {\n\n\t\t\t\t\tr *= a; g *= a; b *= a;\n\n\t\t\t\t}\n\n\t\t\t\tcolor.set( r, g, b, a );\n\n\t\t\t\tif ( currentColorClear.equals( color ) === false ) {\n\n\t\t\t\t\tgl.clearColor( r, g, b, a );\n\t\t\t\t\tcurrentColorClear.copy( color );\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentColorMask = null;\n\t\t\t\tcurrentColorClear.set( - 1, 0, 0, 0 ); // set to invalid state\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\tfunction DepthBuffer() {\n\n\t\tlet locked = false;\n\n\t\tlet currentDepthMask = null;\n\t\tlet currentDepthFunc = null;\n\t\tlet currentDepthClear = null;\n\n\t\treturn {\n\n\t\t\tsetTest: function ( depthTest ) {\n\n\t\t\t\tif ( depthTest ) {\n\n\t\t\t\t\tenable( 2929 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tdisable( 2929 );\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetMask: function ( depthMask ) {\n\n\t\t\t\tif ( currentDepthMask !== depthMask && ! locked ) {\n\n\t\t\t\t\tgl.depthMask( depthMask );\n\t\t\t\t\tcurrentDepthMask = depthMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetFunc: function ( depthFunc ) {\n\n\t\t\t\tif ( currentDepthFunc !== depthFunc ) {\n\n\t\t\t\t\tif ( depthFunc ) {\n\n\t\t\t\t\t\tswitch ( depthFunc ) {\n\n\t\t\t\t\t\t\tcase NeverDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 512 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase AlwaysDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 519 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase LessDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 513 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase LessEqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 515 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase EqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 514 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase GreaterEqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 518 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase GreaterDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 516 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase NotEqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 517 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 515 );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tgl.depthFunc( 515 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcurrentDepthFunc = depthFunc;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( depth ) {\n\n\t\t\t\tif ( currentDepthClear !== depth ) {\n\n\t\t\t\t\tgl.clearDepth( depth );\n\t\t\t\t\tcurrentDepthClear = depth;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentDepthMask = null;\n\t\t\t\tcurrentDepthFunc = null;\n\t\t\t\tcurrentDepthClear = null;\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\tfunction StencilBuffer() {\n\n\t\tlet locked = false;\n\n\t\tlet currentStencilMask = null;\n\t\tlet currentStencilFunc = null;\n\t\tlet currentStencilRef = null;\n\t\tlet currentStencilFuncMask = null;\n\t\tlet currentStencilFail = null;\n\t\tlet currentStencilZFail = null;\n\t\tlet currentStencilZPass = null;\n\t\tlet currentStencilClear = null;\n\n\t\treturn {\n\n\t\t\tsetTest: function ( stencilTest ) {\n\n\t\t\t\tif ( ! locked ) {\n\n\t\t\t\t\tif ( stencilTest ) {\n\n\t\t\t\t\t\tenable( 2960 );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tdisable( 2960 );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetMask: function ( stencilMask ) {\n\n\t\t\t\tif ( currentStencilMask !== stencilMask && ! locked ) {\n\n\t\t\t\t\tgl.stencilMask( stencilMask );\n\t\t\t\t\tcurrentStencilMask = stencilMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetFunc: function ( stencilFunc, stencilRef, stencilMask ) {\n\n\t\t\t\tif ( currentStencilFunc !== stencilFunc ||\n\t\t\t\t     currentStencilRef !== stencilRef ||\n\t\t\t\t     currentStencilFuncMask !== stencilMask ) {\n\n\t\t\t\t\tgl.stencilFunc( stencilFunc, stencilRef, stencilMask );\n\n\t\t\t\t\tcurrentStencilFunc = stencilFunc;\n\t\t\t\t\tcurrentStencilRef = stencilRef;\n\t\t\t\t\tcurrentStencilFuncMask = stencilMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetOp: function ( stencilFail, stencilZFail, stencilZPass ) {\n\n\t\t\t\tif ( currentStencilFail !== stencilFail ||\n\t\t\t\t     currentStencilZFail !== stencilZFail ||\n\t\t\t\t     currentStencilZPass !== stencilZPass ) {\n\n\t\t\t\t\tgl.stencilOp( stencilFail, stencilZFail, stencilZPass );\n\n\t\t\t\t\tcurrentStencilFail = stencilFail;\n\t\t\t\t\tcurrentStencilZFail = stencilZFail;\n\t\t\t\t\tcurrentStencilZPass = stencilZPass;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( stencil ) {\n\n\t\t\t\tif ( currentStencilClear !== stencil ) {\n\n\t\t\t\t\tgl.clearStencil( stencil );\n\t\t\t\t\tcurrentStencilClear = stencil;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentStencilMask = null;\n\t\t\t\tcurrentStencilFunc = null;\n\t\t\t\tcurrentStencilRef = null;\n\t\t\t\tcurrentStencilFuncMask = null;\n\t\t\t\tcurrentStencilFail = null;\n\t\t\t\tcurrentStencilZFail = null;\n\t\t\t\tcurrentStencilZPass = null;\n\t\t\t\tcurrentStencilClear = null;\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\t//\n\n\tconst colorBuffer = new ColorBuffer();\n\tconst depthBuffer = new DepthBuffer();\n\tconst stencilBuffer = new StencilBuffer();\n\n\tlet enabledCapabilities = {};\n\n\tlet currentProgram = null;\n\n\tlet currentBlendingEnabled = null;\n\tlet currentBlending = null;\n\tlet currentBlendEquation = null;\n\tlet currentBlendSrc = null;\n\tlet currentBlendDst = null;\n\tlet currentBlendEquationAlpha = null;\n\tlet currentBlendSrcAlpha = null;\n\tlet currentBlendDstAlpha = null;\n\tlet currentPremultipledAlpha = false;\n\n\tlet currentFlipSided = null;\n\tlet currentCullFace = null;\n\n\tlet currentLineWidth = null;\n\n\tlet currentPolygonOffsetFactor = null;\n\tlet currentPolygonOffsetUnits = null;\n\n\tconst maxTextures = gl.getParameter( 35661 );\n\n\tlet lineWidthAvailable = false;\n\tlet version = 0;\n\tconst glVersion = gl.getParameter( 7938 );\n\n\tif ( glVersion.indexOf( 'WebGL' ) !== - 1 ) {\n\n\t\tversion = parseFloat( /^WebGL\\ ([0-9])/.exec( glVersion )[ 1 ] );\n\t\tlineWidthAvailable = ( version >= 1.0 );\n\n\t} else if ( glVersion.indexOf( 'OpenGL ES' ) !== - 1 ) {\n\n\t\tversion = parseFloat( /^OpenGL\\ ES\\ ([0-9])/.exec( glVersion )[ 1 ] );\n\t\tlineWidthAvailable = ( version >= 2.0 );\n\n\t}\n\n\tlet currentTextureSlot = null;\n\tlet currentBoundTextures = {};\n\n\tconst currentScissor = new Vector4();\n\tconst currentViewport = new Vector4();\n\n\tfunction createTexture( type, target, count ) {\n\n\t\tconst data = new Uint8Array( 4 ); // 4 is required to match default unpack alignment of 4.\n\t\tconst texture = gl.createTexture();\n\n\t\tgl.bindTexture( type, texture );\n\t\tgl.texParameteri( type, 10241, 9728 );\n\t\tgl.texParameteri( type, 10240, 9728 );\n\n\t\tfor ( let i = 0; i < count; i ++ ) {\n\n\t\t\tgl.texImage2D( target + i, 0, 6408, 1, 1, 0, 6408, 5121, data );\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n\tconst emptyTextures = {};\n\temptyTextures[ 3553 ] = createTexture( 3553, 3553, 1 );\n\temptyTextures[ 34067 ] = createTexture( 34067, 34069, 6 );\n\n\t// init\n\n\tcolorBuffer.setClear( 0, 0, 0, 1 );\n\tdepthBuffer.setClear( 1 );\n\tstencilBuffer.setClear( 0 );\n\n\tenable( 2929 );\n\tdepthBuffer.setFunc( LessEqualDepth );\n\n\tsetFlipSided( false );\n\tsetCullFace( CullFaceBack );\n\tenable( 2884 );\n\n\tsetBlending( NoBlending );\n\n\t//\n\n\tfunction enable( id ) {\n\n\t\tif ( enabledCapabilities[ id ] !== true ) {\n\n\t\t\tgl.enable( id );\n\t\t\tenabledCapabilities[ id ] = true;\n\n\t\t}\n\n\t}\n\n\tfunction disable( id ) {\n\n\t\tif ( enabledCapabilities[ id ] !== false ) {\n\n\t\t\tgl.disable( id );\n\t\t\tenabledCapabilities[ id ] = false;\n\n\t\t}\n\n\t}\n\n\tfunction useProgram( program ) {\n\n\t\tif ( currentProgram !== program ) {\n\n\t\t\tgl.useProgram( program );\n\n\t\t\tcurrentProgram = program;\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\treturn false;\n\n\t}\n\n\tconst equationToGL = {\n\t\t[ AddEquation ]: 32774,\n\t\t[ SubtractEquation ]: 32778,\n\t\t[ ReverseSubtractEquation ]: 32779\n\t};\n\n\tif ( isWebGL2 ) {\n\n\t\tequationToGL[ MinEquation ] = 32775;\n\t\tequationToGL[ MaxEquation ] = 32776;\n\n\t} else {\n\n\t\tconst extension = extensions.get( 'EXT_blend_minmax' );\n\n\t\tif ( extension !== null ) {\n\n\t\t\tequationToGL[ MinEquation ] = extension.MIN_EXT;\n\t\t\tequationToGL[ MaxEquation ] = extension.MAX_EXT;\n\n\t\t}\n\n\t}\n\n\tconst factorToGL = {\n\t\t[ ZeroFactor ]: 0,\n\t\t[ OneFactor ]: 1,\n\t\t[ SrcColorFactor ]: 768,\n\t\t[ SrcAlphaFactor ]: 770,\n\t\t[ SrcAlphaSaturateFactor ]: 776,\n\t\t[ DstColorFactor ]: 774,\n\t\t[ DstAlphaFactor ]: 772,\n\t\t[ OneMinusSrcColorFactor ]: 769,\n\t\t[ OneMinusSrcAlphaFactor ]: 771,\n\t\t[ OneMinusDstColorFactor ]: 775,\n\t\t[ OneMinusDstAlphaFactor ]: 773\n\t};\n\n\tfunction setBlending( blending, blendEquation, blendSrc, blendDst, blendEquationAlpha, blendSrcAlpha, blendDstAlpha, premultipliedAlpha ) {\n\n\t\tif ( blending === NoBlending ) {\n\n\t\t\tif ( currentBlendingEnabled ) {\n\n\t\t\t\tdisable( 3042 );\n\t\t\t\tcurrentBlendingEnabled = false;\n\n\t\t\t}\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( ! currentBlendingEnabled ) {\n\n\t\t\tenable( 3042 );\n\t\t\tcurrentBlendingEnabled = true;\n\n\t\t}\n\n\t\tif ( blending !== CustomBlending ) {\n\n\t\t\tif ( blending !== currentBlending || premultipliedAlpha !== currentPremultipledAlpha ) {\n\n\t\t\t\tif ( currentBlendEquation !== AddEquation || currentBlendEquationAlpha !== AddEquation ) {\n\n\t\t\t\t\tgl.blendEquation( 32774 );\n\n\t\t\t\t\tcurrentBlendEquation = AddEquation;\n\t\t\t\t\tcurrentBlendEquationAlpha = AddEquation;\n\n\t\t\t\t}\n\n\t\t\t\tif ( premultipliedAlpha ) {\n\n\t\t\t\t\tswitch ( blending ) {\n\n\t\t\t\t\t\tcase NormalBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 1, 771, 1, 771 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase AdditiveBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 1, 1 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase SubtractiveBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 0, 0, 769, 771 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase MultiplyBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 0, 768, 0, 770 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tconsole.error( 'THREE.WebGLState: Invalid blending: ', blending );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tswitch ( blending ) {\n\n\t\t\t\t\t\tcase NormalBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 770, 771, 1, 771 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase AdditiveBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 770, 1 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase SubtractiveBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 0, 769 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase MultiplyBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 0, 768 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tconsole.error( 'THREE.WebGLState: Invalid blending: ', blending );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tcurrentBlendSrc = null;\n\t\t\t\tcurrentBlendDst = null;\n\t\t\t\tcurrentBlendSrcAlpha = null;\n\t\t\t\tcurrentBlendDstAlpha = null;\n\n\t\t\t\tcurrentBlending = blending;\n\t\t\t\tcurrentPremultipledAlpha = premultipliedAlpha;\n\n\t\t\t}\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t// custom blending\n\n\t\tblendEquationAlpha = blendEquationAlpha || blendEquation;\n\t\tblendSrcAlpha = blendSrcAlpha || blendSrc;\n\t\tblendDstAlpha = blendDstAlpha || blendDst;\n\n\t\tif ( blendEquation !== currentBlendEquation || blendEquationAlpha !== currentBlendEquationAlpha ) {\n\n\t\t\tgl.blendEquationSeparate( equationToGL[ blendEquation ], equationToGL[ blendEquationAlpha ] );\n\n\t\t\tcurrentBlendEquation = blendEquation;\n\t\t\tcurrentBlendEquationAlpha = blendEquationAlpha;\n\n\t\t}\n\n\t\tif ( blendSrc !== currentBlendSrc || blendDst !== currentBlendDst || blendSrcAlpha !== currentBlendSrcAlpha || blendDstAlpha !== currentBlendDstAlpha ) {\n\n\t\t\tgl.blendFuncSeparate( factorToGL[ blendSrc ], factorToGL[ blendDst ], factorToGL[ blendSrcAlpha ], factorToGL[ blendDstAlpha ] );\n\n\t\t\tcurrentBlendSrc = blendSrc;\n\t\t\tcurrentBlendDst = blendDst;\n\t\t\tcurrentBlendSrcAlpha = blendSrcAlpha;\n\t\t\tcurrentBlendDstAlpha = blendDstAlpha;\n\n\t\t}\n\n\t\tcurrentBlending = blending;\n\t\tcurrentPremultipledAlpha = null;\n\n\t}\n\n\tfunction setMaterial( material, frontFaceCW ) {\n\n\t\tmaterial.side === DoubleSide\n\t\t\t? disable( 2884 )\n\t\t\t: enable( 2884 );\n\n\t\tlet flipSided = ( material.side === BackSide );\n\t\tif ( frontFaceCW ) flipSided = ! flipSided;\n\n\t\tsetFlipSided( flipSided );\n\n\t\t( material.blending === NormalBlending && material.transparent === false )\n\t\t\t? setBlending( NoBlending )\n\t\t\t: setBlending( material.blending, material.blendEquation, material.blendSrc, material.blendDst, material.blendEquationAlpha, material.blendSrcAlpha, material.blendDstAlpha, material.premultipliedAlpha );\n\n\t\tdepthBuffer.setFunc( material.depthFunc );\n\t\tdepthBuffer.setTest( material.depthTest );\n\t\tdepthBuffer.setMask( material.depthWrite );\n\t\tcolorBuffer.setMask( material.colorWrite );\n\n\t\tconst stencilWrite = material.stencilWrite;\n\t\tstencilBuffer.setTest( stencilWrite );\n\t\tif ( stencilWrite ) {\n\n\t\t\tstencilBuffer.setMask( material.stencilWriteMask );\n\t\t\tstencilBuffer.setFunc( material.stencilFunc, material.stencilRef, material.stencilFuncMask );\n\t\t\tstencilBuffer.setOp( material.stencilFail, material.stencilZFail, material.stencilZPass );\n\n\t\t}\n\n\t\tsetPolygonOffset( material.polygonOffset, material.polygonOffsetFactor, material.polygonOffsetUnits );\n\n\t}\n\n\t//\n\n\tfunction setFlipSided( flipSided ) {\n\n\t\tif ( currentFlipSided !== flipSided ) {\n\n\t\t\tif ( flipSided ) {\n\n\t\t\t\tgl.frontFace( 2304 );\n\n\t\t\t} else {\n\n\t\t\t\tgl.frontFace( 2305 );\n\n\t\t\t}\n\n\t\t\tcurrentFlipSided = flipSided;\n\n\t\t}\n\n\t}\n\n\tfunction setCullFace( cullFace ) {\n\n\t\tif ( cullFace !== CullFaceNone ) {\n\n\t\t\tenable( 2884 );\n\n\t\t\tif ( cullFace !== currentCullFace ) {\n\n\t\t\t\tif ( cullFace === CullFaceBack ) {\n\n\t\t\t\t\tgl.cullFace( 1029 );\n\n\t\t\t\t} else if ( cullFace === CullFaceFront ) {\n\n\t\t\t\t\tgl.cullFace( 1028 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tgl.cullFace( 1032 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tdisable( 2884 );\n\n\t\t}\n\n\t\tcurrentCullFace = cullFace;\n\n\t}\n\n\tfunction setLineWidth( width ) {\n\n\t\tif ( width !== currentLineWidth ) {\n\n\t\t\tif ( lineWidthAvailable ) gl.lineWidth( width );\n\n\t\t\tcurrentLineWidth = width;\n\n\t\t}\n\n\t}\n\n\tfunction setPolygonOffset( polygonOffset, factor, units ) {\n\n\t\tif ( polygonOffset ) {\n\n\t\t\tenable( 32823 );\n\n\t\t\tif ( currentPolygonOffsetFactor !== factor || currentPolygonOffsetUnits !== units ) {\n\n\t\t\t\tgl.polygonOffset( factor, units );\n\n\t\t\t\tcurrentPolygonOffsetFactor = factor;\n\t\t\t\tcurrentPolygonOffsetUnits = units;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tdisable( 32823 );\n\n\t\t}\n\n\t}\n\n\tfunction setScissorTest( scissorTest ) {\n\n\t\tif ( scissorTest ) {\n\n\t\t\tenable( 3089 );\n\n\t\t} else {\n\n\t\t\tdisable( 3089 );\n\n\t\t}\n\n\t}\n\n\t// texture\n\n\tfunction activeTexture( webglSlot ) {\n\n\t\tif ( webglSlot === undefined ) webglSlot = 33984 + maxTextures - 1;\n\n\t\tif ( currentTextureSlot !== webglSlot ) {\n\n\t\t\tgl.activeTexture( webglSlot );\n\t\t\tcurrentTextureSlot = webglSlot;\n\n\t\t}\n\n\t}\n\n\tfunction bindTexture( webglType, webglTexture ) {\n\n\t\tif ( currentTextureSlot === null ) {\n\n\t\t\tactiveTexture();\n\n\t\t}\n\n\t\tlet boundTexture = currentBoundTextures[ currentTextureSlot ];\n\n\t\tif ( boundTexture === undefined ) {\n\n\t\t\tboundTexture = { type: undefined, texture: undefined };\n\t\t\tcurrentBoundTextures[ currentTextureSlot ] = boundTexture;\n\n\t\t}\n\n\t\tif ( boundTexture.type !== webglType || boundTexture.texture !== webglTexture ) {\n\n\t\t\tgl.bindTexture( webglType, webglTexture || emptyTextures[ webglType ] );\n\n\t\t\tboundTexture.type = webglType;\n\t\t\tboundTexture.texture = webglTexture;\n\n\t\t}\n\n\t}\n\n\tfunction unbindTexture() {\n\n\t\tconst boundTexture = currentBoundTextures[ currentTextureSlot ];\n\n\t\tif ( boundTexture !== undefined && boundTexture.type !== undefined ) {\n\n\t\t\tgl.bindTexture( boundTexture.type, null );\n\n\t\t\tboundTexture.type = undefined;\n\t\t\tboundTexture.texture = undefined;\n\n\t\t}\n\n\t}\n\n\tfunction compressedTexImage2D() {\n\n\t\ttry {\n\n\t\t\tgl.compressedTexImage2D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction texImage2D() {\n\n\t\ttry {\n\n\t\t\tgl.texImage2D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction texImage3D() {\n\n\t\ttry {\n\n\t\t\tgl.texImage3D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction scissor( scissor ) {\n\n\t\tif ( currentScissor.equals( scissor ) === false ) {\n\n\t\t\tgl.scissor( scissor.x, scissor.y, scissor.z, scissor.w );\n\t\t\tcurrentScissor.copy( scissor );\n\n\t\t}\n\n\t}\n\n\tfunction viewport( viewport ) {\n\n\t\tif ( currentViewport.equals( viewport ) === false ) {\n\n\t\t\tgl.viewport( viewport.x, viewport.y, viewport.z, viewport.w );\n\t\t\tcurrentViewport.copy( viewport );\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction reset() {\n\n\t\tenabledCapabilities = {};\n\n\t\tcurrentTextureSlot = null;\n\t\tcurrentBoundTextures = {};\n\n\t\tcurrentProgram = null;\n\n\t\tcurrentBlending = null;\n\n\t\tcurrentFlipSided = null;\n\t\tcurrentCullFace = null;\n\n\t\tcolorBuffer.reset();\n\t\tdepthBuffer.reset();\n\t\tstencilBuffer.reset();\n\n\t}\n\n\treturn {\n\n\t\tbuffers: {\n\t\t\tcolor: colorBuffer,\n\t\t\tdepth: depthBuffer,\n\t\t\tstencil: stencilBuffer\n\t\t},\n\n\t\tenable: enable,\n\t\tdisable: disable,\n\n\t\tuseProgram: useProgram,\n\n\t\tsetBlending: setBlending,\n\t\tsetMaterial: setMaterial,\n\n\t\tsetFlipSided: setFlipSided,\n\t\tsetCullFace: setCullFace,\n\n\t\tsetLineWidth: setLineWidth,\n\t\tsetPolygonOffset: setPolygonOffset,\n\n\t\tsetScissorTest: setScissorTest,\n\n\t\tactiveTexture: activeTexture,\n\t\tbindTexture: bindTexture,\n\t\tunbindTexture: unbindTexture,\n\t\tcompressedTexImage2D: compressedTexImage2D,\n\t\ttexImage2D: texImage2D,\n\t\ttexImage3D: texImage3D,\n\n\t\tscissor: scissor,\n\t\tviewport: viewport,\n\n\t\treset: reset\n\n\t};\n\n}\n\nfunction WebGLTextures( _gl, extensions, state, properties, capabilities, utils, info ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\tconst maxTextures = capabilities.maxTextures;\n\tconst maxCubemapSize = capabilities.maxCubemapSize;\n\tconst maxTextureSize = capabilities.maxTextureSize;\n\tconst maxSamples = capabilities.maxSamples;\n\n\tconst _videoTextures = new WeakMap();\n\tlet _canvas;\n\n\t// cordova iOS (as of 5.0) still uses UIWebView, which provides OffscreenCanvas,\n\t// also OffscreenCanvas.getContext(\"webgl\"), but not OffscreenCanvas.getContext(\"2d\")!\n\t// Some implementations may only implement OffscreenCanvas partially (e.g. lacking 2d).\n\n\tlet useOffscreenCanvas = false;\n\n\ttry {\n\n\t\tuseOffscreenCanvas = typeof OffscreenCanvas !== 'undefined'\n\t\t\t&& ( new OffscreenCanvas( 1, 1 ).getContext( \"2d\" ) ) !== null;\n\n\t} catch ( err ) {\n\n\t\t// Ignore any errors\n\n\t}\n\n\tfunction createCanvas( width, height ) {\n\n\t\t// Use OffscreenCanvas when available. Specially needed in web workers\n\n\t\treturn useOffscreenCanvas ?\n\t\t\tnew OffscreenCanvas( width, height ) :\n\t\t\tdocument.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\n\n\t}\n\n\tfunction resizeImage( image, needsPowerOfTwo, needsNewCanvas, maxSize ) {\n\n\t\tlet scale = 1;\n\n\t\t// handle case if texture exceeds max size\n\n\t\tif ( image.width > maxSize || image.height > maxSize ) {\n\n\t\t\tscale = maxSize / Math.max( image.width, image.height );\n\n\t\t}\n\n\t\t// only perform resize if necessary\n\n\t\tif ( scale < 1 || needsPowerOfTwo === true ) {\n\n\t\t\t// only perform resize for certain image types\n\n\t\t\tif ( ( typeof HTMLImageElement !== 'undefined' && image instanceof HTMLImageElement ) ||\n\t\t\t\t( typeof HTMLCanvasElement !== 'undefined' && image instanceof HTMLCanvasElement ) ||\n\t\t\t\t( typeof ImageBitmap !== 'undefined' && image instanceof ImageBitmap ) ) {\n\n\t\t\t\tconst floor = needsPowerOfTwo ? MathUtils.floorPowerOfTwo : Math.floor;\n\n\t\t\t\tconst width = floor( scale * image.width );\n\t\t\t\tconst height = floor( scale * image.height );\n\n\t\t\t\tif ( _canvas === undefined ) _canvas = createCanvas( width, height );\n\n\t\t\t\t// cube textures can't reuse the same canvas\n\n\t\t\t\tconst canvas = needsNewCanvas ? createCanvas( width, height ) : _canvas;\n\n\t\t\t\tcanvas.width = width;\n\t\t\t\tcanvas.height = height;\n\n\t\t\t\tconst context = canvas.getContext( '2d' );\n\t\t\t\tcontext.drawImage( image, 0, 0, width, height );\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture has been resized from (' + image.width + 'x' + image.height + ') to (' + width + 'x' + height + ').' );\n\n\t\t\t\treturn canvas;\n\n\t\t\t} else {\n\n\t\t\t\tif ( 'data' in image ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Image in DataTexture is too big (' + image.width + 'x' + image.height + ').' );\n\n\t\t\t\t}\n\n\t\t\t\treturn image;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn image;\n\n\t}\n\n\tfunction isPowerOfTwo( image ) {\n\n\t\treturn MathUtils.isPowerOfTwo( image.width ) && MathUtils.isPowerOfTwo( image.height );\n\n\t}\n\n\tfunction textureNeedsPowerOfTwo( texture ) {\n\n\t\tif ( isWebGL2 ) return false;\n\n\t\treturn ( texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping ) ||\n\t\t\t( texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter );\n\n\t}\n\n\tfunction textureNeedsGenerateMipmaps( texture, supportsMips ) {\n\n\t\treturn texture.generateMipmaps && supportsMips &&\n\t\t\ttexture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter;\n\n\t}\n\n\tfunction generateMipmap( target, texture, width, height ) {\n\n\t\t_gl.generateMipmap( target );\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\t// Note: Math.log( x ) * Math.LOG2E used instead of Math.log2( x ) which is not supported by IE11\n\t\ttextureProperties.__maxMipLevel = Math.log( Math.max( width, height ) ) * Math.LOG2E;\n\n\t}\n\n\tfunction getInternalFormat( internalFormatName, glFormat, glType ) {\n\n\t\tif ( isWebGL2 === false ) return glFormat;\n\n\t\tif ( internalFormatName !== null ) {\n\n\t\t\tif ( _gl[ internalFormatName ] !== undefined ) return _gl[ internalFormatName ];\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format \\'' + internalFormatName + '\\'' );\n\n\t\t}\n\n\t\tlet internalFormat = glFormat;\n\n\t\tif ( glFormat === 6403 ) {\n\n\t\t\tif ( glType === 5126 ) internalFormat = 33326;\n\t\t\tif ( glType === 5131 ) internalFormat = 33325;\n\t\t\tif ( glType === 5121 ) internalFormat = 33321;\n\n\t\t}\n\n\t\tif ( glFormat === 6407 ) {\n\n\t\t\tif ( glType === 5126 ) internalFormat = 34837;\n\t\t\tif ( glType === 5131 ) internalFormat = 34843;\n\t\t\tif ( glType === 5121 ) internalFormat = 32849;\n\n\t\t}\n\n\t\tif ( glFormat === 6408 ) {\n\n\t\t\tif ( glType === 5126 ) internalFormat = 34836;\n\t\t\tif ( glType === 5131 ) internalFormat = 34842;\n\t\t\tif ( glType === 5121 ) internalFormat = 32856;\n\n\t\t}\n\n\t\tif ( internalFormat === 33325 || internalFormat === 33326 ||\n\t\t\tinternalFormat === 34842 || internalFormat === 34836 ) {\n\n\t\t\textensions.get( 'EXT_color_buffer_float' );\n\n\t\t}\n\n\t\treturn internalFormat;\n\n\t}\n\n\t// Fallback filters for non-power-of-2 textures\n\n\tfunction filterFallback( f ) {\n\n\t\tif ( f === NearestFilter || f === NearestMipmapNearestFilter || f === NearestMipmapLinearFilter ) {\n\n\t\t\treturn 9728;\n\n\t\t}\n\n\t\treturn 9729;\n\n\t}\n\n\t//\n\n\tfunction onTextureDispose( event ) {\n\n\t\tconst texture = event.target;\n\n\t\ttexture.removeEventListener( 'dispose', onTextureDispose );\n\n\t\tdeallocateTexture( texture );\n\n\t\tif ( texture.isVideoTexture ) {\n\n\t\t\t_videoTextures.delete( texture );\n\n\t\t}\n\n\t\tinfo.memory.textures --;\n\n\t}\n\n\tfunction onRenderTargetDispose( event ) {\n\n\t\tconst renderTarget = event.target;\n\n\t\trenderTarget.removeEventListener( 'dispose', onRenderTargetDispose );\n\n\t\tdeallocateRenderTarget( renderTarget );\n\n\t\tinfo.memory.textures --;\n\n\t}\n\n\t//\n\n\tfunction deallocateTexture( texture ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( textureProperties.__webglInit === undefined ) return;\n\n\t\t_gl.deleteTexture( textureProperties.__webglTexture );\n\n\t\tproperties.remove( texture );\n\n\t}\n\n\tfunction deallocateRenderTarget( renderTarget ) {\n\n\t\tconst renderTargetProperties = properties.get( renderTarget );\n\t\tconst textureProperties = properties.get( renderTarget.texture );\n\n\t\tif ( ! renderTarget ) return;\n\n\t\tif ( textureProperties.__webglTexture !== undefined ) {\n\n\t\t\t_gl.deleteTexture( textureProperties.__webglTexture );\n\n\t\t}\n\n\t\tif ( renderTarget.depthTexture ) {\n\n\t\t\trenderTarget.depthTexture.dispose();\n\n\t\t}\n\n\t\tif ( renderTarget.isWebGLCubeRenderTarget ) {\n\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\t_gl.deleteFramebuffer( renderTargetProperties.__webglFramebuffer[ i ] );\n\t\t\t\tif ( renderTargetProperties.__webglDepthbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthbuffer[ i ] );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t_gl.deleteFramebuffer( renderTargetProperties.__webglFramebuffer );\n\t\t\tif ( renderTargetProperties.__webglDepthbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthbuffer );\n\t\t\tif ( renderTargetProperties.__webglMultisampledFramebuffer ) _gl.deleteFramebuffer( renderTargetProperties.__webglMultisampledFramebuffer );\n\t\t\tif ( renderTargetProperties.__webglColorRenderbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglColorRenderbuffer );\n\t\t\tif ( renderTargetProperties.__webglDepthRenderbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthRenderbuffer );\n\n\t\t}\n\n\t\tproperties.remove( renderTarget.texture );\n\t\tproperties.remove( renderTarget );\n\n\t}\n\n\t//\n\n\tlet textureUnits = 0;\n\n\tfunction resetTextureUnits() {\n\n\t\ttextureUnits = 0;\n\n\t}\n\n\tfunction allocateTextureUnit() {\n\n\t\tconst textureUnit = textureUnits;\n\n\t\tif ( textureUnit >= maxTextures ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLTextures: Trying to use ' + textureUnit + ' texture units while this GPU supports only ' + maxTextures );\n\n\t\t}\n\n\t\ttextureUnits += 1;\n\n\t\treturn textureUnit;\n\n\t}\n\n\t//\n\n\tfunction setTexture2D( texture, slot ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( texture.isVideoTexture ) updateVideoTexture( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tconst image = texture.image;\n\n\t\t\tif ( image === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture marked for update but image is undefined' );\n\n\t\t\t} else if ( image.complete === false ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture marked for update but image is incomplete' );\n\n\t\t\t} else {\n\n\t\t\t\tuploadTexture( textureProperties, texture, slot );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 3553, textureProperties.__webglTexture );\n\n\t}\n\n\tfunction setTexture2DArray( texture, slot ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tuploadTexture( textureProperties, texture, slot );\n\t\t\treturn;\n\n\t\t}\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 35866, textureProperties.__webglTexture );\n\n\t}\n\n\tfunction setTexture3D( texture, slot ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tuploadTexture( textureProperties, texture, slot );\n\t\t\treturn;\n\n\t\t}\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 32879, textureProperties.__webglTexture );\n\n\t}\n\n\tfunction setTextureCube( texture, slot ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tuploadCubeTexture( textureProperties, texture, slot );\n\t\t\treturn;\n\n\t\t}\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 34067, textureProperties.__webglTexture );\n\n\t}\n\n\tconst wrappingToGL = {\n\t\t[ RepeatWrapping ]: 10497,\n\t\t[ ClampToEdgeWrapping ]: 33071,\n\t\t[ MirroredRepeatWrapping ]: 33648\n\t};\n\n\tconst filterToGL = {\n\t\t[ NearestFilter ]: 9728,\n\t\t[ NearestMipmapNearestFilter ]: 9984,\n\t\t[ NearestMipmapLinearFilter ]: 9986,\n\n\t\t[ LinearFilter ]: 9729,\n\t\t[ LinearMipmapNearestFilter ]: 9985,\n\t\t[ LinearMipmapLinearFilter ]: 9987\n\t};\n\n\tfunction setTextureParameters( textureType, texture, supportsMips ) {\n\n\t\tif ( supportsMips ) {\n\n\t\t\t_gl.texParameteri( textureType, 10242, wrappingToGL[ texture.wrapS ] );\n\t\t\t_gl.texParameteri( textureType, 10243, wrappingToGL[ texture.wrapT ] );\n\n\t\t\tif ( textureType === 32879 || textureType === 35866 ) {\n\n\t\t\t\t_gl.texParameteri( textureType, 32882, wrappingToGL[ texture.wrapR ] );\n\n\t\t\t}\n\n\t\t\t_gl.texParameteri( textureType, 10240, filterToGL[ texture.magFilter ] );\n\t\t\t_gl.texParameteri( textureType, 10241, filterToGL[ texture.minFilter ] );\n\n\t\t} else {\n\n\t\t\t_gl.texParameteri( textureType, 10242, 33071 );\n\t\t\t_gl.texParameteri( textureType, 10243, 33071 );\n\n\t\t\tif ( textureType === 32879 || textureType === 35866 ) {\n\n\t\t\t\t_gl.texParameteri( textureType, 32882, 33071 );\n\n\t\t\t}\n\n\t\t\tif ( texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.' );\n\n\t\t\t}\n\n\t\t\t_gl.texParameteri( textureType, 10240, filterFallback( texture.magFilter ) );\n\t\t\t_gl.texParameteri( textureType, 10241, filterFallback( texture.minFilter ) );\n\n\t\t\tif ( texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.' );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst extension = extensions.get( 'EXT_texture_filter_anisotropic' );\n\n\t\tif ( extension ) {\n\n\t\t\tif ( texture.type === FloatType && extensions.get( 'OES_texture_float_linear' ) === null ) return;\n\t\t\tif ( texture.type === HalfFloatType && ( isWebGL2 || extensions.get( 'OES_texture_half_float_linear' ) ) === null ) return;\n\n\t\t\tif ( texture.anisotropy > 1 || properties.get( texture ).__currentAnisotropy ) {\n\n\t\t\t\t_gl.texParameterf( textureType, extension.TEXTURE_MAX_ANISOTROPY_EXT, Math.min( texture.anisotropy, capabilities.getMaxAnisotropy() ) );\n\t\t\t\tproperties.get( texture ).__currentAnisotropy = texture.anisotropy;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction initTexture( textureProperties, texture ) {\n\n\t\tif ( textureProperties.__webglInit === undefined ) {\n\n\t\t\ttextureProperties.__webglInit = true;\n\n\t\t\ttexture.addEventListener( 'dispose', onTextureDispose );\n\n\t\t\ttextureProperties.__webglTexture = _gl.createTexture();\n\n\t\t\tinfo.memory.textures ++;\n\n\t\t}\n\n\t}\n\n\tfunction uploadTexture( textureProperties, texture, slot ) {\n\n\t\tlet textureType = 3553;\n\n\t\tif ( texture.isDataTexture2DArray ) textureType = 35866;\n\t\tif ( texture.isDataTexture3D ) textureType = 32879;\n\n\t\tinitTexture( textureProperties, texture );\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( textureType, textureProperties.__webglTexture );\n\n\t\t_gl.pixelStorei( 37440, texture.flipY );\n\t\t_gl.pixelStorei( 37441, texture.premultiplyAlpha );\n\t\t_gl.pixelStorei( 3317, texture.unpackAlignment );\n\n\t\tconst needsPowerOfTwo = textureNeedsPowerOfTwo( texture ) && isPowerOfTwo( texture.image ) === false;\n\t\tconst image = resizeImage( texture.image, needsPowerOfTwo, false, maxTextureSize );\n\n\t\tconst supportsMips = isPowerOfTwo( image ) || isWebGL2,\n\t\t\tglFormat = utils.convert( texture.format );\n\n\t\tlet glType = utils.convert( texture.type ),\n\t\t\tglInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType );\n\n\t\tsetTextureParameters( textureType, texture, supportsMips );\n\n\t\tlet mipmap;\n\t\tconst mipmaps = texture.mipmaps;\n\n\t\tif ( texture.isDepthTexture ) {\n\n\t\t\t// populate depth texture with dummy data\n\n\t\t\tglInternalFormat = 6402;\n\n\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\tif ( texture.type === FloatType ) {\n\n\t\t\t\t\tglInternalFormat = 36012;\n\n\t\t\t\t} else if ( texture.type === UnsignedIntType ) {\n\n\t\t\t\t\tglInternalFormat = 33190;\n\n\t\t\t\t} else if ( texture.type === UnsignedInt248Type ) {\n\n\t\t\t\t\tglInternalFormat = 35056;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tglInternalFormat = 33189; // WebGL2 requires sized internalformat for glTexImage2D\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( texture.type === FloatType ) {\n\n\t\t\t\t\tconsole.error( 'WebGLRenderer: Floating point depth texture requires WebGL2.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// validation checks for WebGL 1\n\n\t\t\tif ( texture.format === DepthFormat && glInternalFormat === 6402 ) {\n\n\t\t\t\t// The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\n\t\t\t\t// DEPTH_COMPONENT and type is not UNSIGNED_SHORT or UNSIGNED_INT\n\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\t\tif ( texture.type !== UnsignedShortType && texture.type !== UnsignedIntType ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture.' );\n\n\t\t\t\t\ttexture.type = UnsignedShortType;\n\t\t\t\t\tglType = utils.convert( texture.type );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( texture.format === DepthStencilFormat && glInternalFormat === 6402 ) {\n\n\t\t\t\t// Depth stencil textures need the DEPTH_STENCIL internal format\n\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\t\tglInternalFormat = 34041;\n\n\t\t\t\t// The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\n\t\t\t\t// DEPTH_STENCIL and type is not UNSIGNED_INT_24_8_WEBGL.\n\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\t\tif ( texture.type !== UnsignedInt248Type ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture.' );\n\n\t\t\t\t\ttexture.type = UnsignedInt248Type;\n\t\t\t\t\tglType = utils.convert( texture.type );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\tstate.texImage2D( 3553, 0, glInternalFormat, image.width, image.height, 0, glFormat, glType, null );\n\n\t\t} else if ( texture.isDataTexture ) {\n\n\t\t\t// use manually created mipmaps if available\n\t\t\t// if there are no manual mipmaps\n\t\t\t// set 0 level mipmap and then use GL to generate other mipmap levels\n\n\t\t\tif ( mipmaps.length > 0 && supportsMips ) {\n\n\t\t\t\tfor ( let i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\t\tmipmap = mipmaps[ i ];\n\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t}\n\n\t\t\t\ttexture.generateMipmaps = false;\n\t\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t\t} else {\n\n\t\t\t\tstate.texImage2D( 3553, 0, glInternalFormat, image.width, image.height, 0, glFormat, glType, image.data );\n\t\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t\t}\n\n\t\t} else if ( texture.isCompressedTexture ) {\n\n\t\t\tfor ( let i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\tmipmap = mipmaps[ i ];\n\n\t\t\t\tif ( texture.format !== RGBAFormat && texture.format !== RGBFormat ) {\n\n\t\t\t\t\tif ( glFormat !== null ) {\n\n\t\t\t\t\t\tstate.compressedTexImage2D( 3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, mipmap.data );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()' );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t} else if ( texture.isDataTexture2DArray ) {\n\n\t\t\tstate.texImage3D( 35866, 0, glInternalFormat, image.width, image.height, image.depth, 0, glFormat, glType, image.data );\n\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t} else if ( texture.isDataTexture3D ) {\n\n\t\t\tstate.texImage3D( 32879, 0, glInternalFormat, image.width, image.height, image.depth, 0, glFormat, glType, image.data );\n\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t} else {\n\n\t\t\t// regular Texture (image, video, canvas)\n\n\t\t\t// use manually created mipmaps if available\n\t\t\t// if there are no manual mipmaps\n\t\t\t// set 0 level mipmap and then use GL to generate other mipmap levels\n\n\t\t\tif ( mipmaps.length > 0 && supportsMips ) {\n\n\t\t\t\tfor ( let i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\t\tmipmap = mipmaps[ i ];\n\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, glFormat, glType, mipmap );\n\n\t\t\t\t}\n\n\t\t\t\ttexture.generateMipmaps = false;\n\t\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t\t} else {\n\n\t\t\t\tstate.texImage2D( 3553, 0, glInternalFormat, glFormat, glType, image );\n\t\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\tgenerateMipmap( textureType, texture, image.width, image.height );\n\n\t\t}\n\n\t\ttextureProperties.__version = texture.version;\n\n\t\tif ( texture.onUpdate ) texture.onUpdate( texture );\n\n\t}\n\n\tfunction uploadCubeTexture( textureProperties, texture, slot ) {\n\n\t\tif ( texture.image.length !== 6 ) return;\n\n\t\tinitTexture( textureProperties, texture );\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 34067, textureProperties.__webglTexture );\n\n\t\t_gl.pixelStorei( 37440, texture.flipY );\n\n\t\tconst isCompressed = ( texture && ( texture.isCompressedTexture || texture.image[ 0 ].isCompressedTexture ) );\n\t\tconst isDataTexture = ( texture.image[ 0 ] && texture.image[ 0 ].isDataTexture );\n\n\t\tconst cubeImage = [];\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tif ( ! isCompressed && ! isDataTexture ) {\n\n\t\t\t\tcubeImage[ i ] = resizeImage( texture.image[ i ], false, true, maxCubemapSize );\n\n\t\t\t} else {\n\n\t\t\t\tcubeImage[ i ] = isDataTexture ? texture.image[ i ].image : texture.image[ i ];\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst image = cubeImage[ 0 ],\n\t\t\tsupportsMips = isPowerOfTwo( image ) || isWebGL2,\n\t\t\tglFormat = utils.convert( texture.format ),\n\t\t\tglType = utils.convert( texture.type ),\n\t\t\tglInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType );\n\n\t\tsetTextureParameters( 34067, texture, supportsMips );\n\n\t\tlet mipmaps;\n\n\t\tif ( isCompressed ) {\n\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\tmipmaps = cubeImage[ i ].mipmaps;\n\n\t\t\t\tfor ( let j = 0; j < mipmaps.length; j ++ ) {\n\n\t\t\t\t\tconst mipmap = mipmaps[ j ];\n\n\t\t\t\t\tif ( texture.format !== RGBAFormat && texture.format !== RGBFormat ) {\n\n\t\t\t\t\t\tif ( glFormat !== null ) {\n\n\t\t\t\t\t\t\tstate.compressedTexImage2D( 34069 + i, j, glInternalFormat, mipmap.width, mipmap.height, 0, mipmap.data );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()' );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tstate.texImage2D( 34069 + i, j, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t} else {\n\n\t\t\tmipmaps = texture.mipmaps;\n\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\tif ( isDataTexture ) {\n\n\t\t\t\t\tstate.texImage2D( 34069 + i, 0, glInternalFormat, cubeImage[ i ].width, cubeImage[ i ].height, 0, glFormat, glType, cubeImage[ i ].data );\n\n\t\t\t\t\tfor ( let j = 0; j < mipmaps.length; j ++ ) {\n\n\t\t\t\t\t\tconst mipmap = mipmaps[ j ];\n\t\t\t\t\t\tconst mipmapImage = mipmap.image[ i ].image;\n\n\t\t\t\t\t\tstate.texImage2D( 34069 + i, j + 1, glInternalFormat, mipmapImage.width, mipmapImage.height, 0, glFormat, glType, mipmapImage.data );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tstate.texImage2D( 34069 + i, 0, glInternalFormat, glFormat, glType, cubeImage[ i ] );\n\n\t\t\t\t\tfor ( let j = 0; j < mipmaps.length; j ++ ) {\n\n\t\t\t\t\t\tconst mipmap = mipmaps[ j ];\n\n\t\t\t\t\t\tstate.texImage2D( 34069 + i, j + 1, glInternalFormat, glFormat, glType, mipmap.image[ i ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\ttextureProperties.__maxMipLevel = mipmaps.length;\n\n\t\t}\n\n\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\t// We assume images for cube map have the same size.\n\t\t\tgenerateMipmap( 34067, texture, image.width, image.height );\n\n\t\t}\n\n\t\ttextureProperties.__version = texture.version;\n\n\t\tif ( texture.onUpdate ) texture.onUpdate( texture );\n\n\t}\n\n\t// Render targets\n\n\t// Setup storage for target texture and bind it to correct framebuffer\n\tfunction setupFrameBufferTexture( framebuffer, renderTarget, attachment, textureTarget ) {\n\n\t\tconst glFormat = utils.convert( renderTarget.texture.format );\n\t\tconst glType = utils.convert( renderTarget.texture.type );\n\t\tconst glInternalFormat = getInternalFormat( renderTarget.texture.internalFormat, glFormat, glType );\n\t\tstate.texImage2D( textureTarget, 0, glInternalFormat, renderTarget.width, renderTarget.height, 0, glFormat, glType, null );\n\t\t_gl.bindFramebuffer( 36160, framebuffer );\n\t\t_gl.framebufferTexture2D( 36160, attachment, textureTarget, properties.get( renderTarget.texture ).__webglTexture, 0 );\n\t\t_gl.bindFramebuffer( 36160, null );\n\n\t}\n\n\t// Setup storage for internal depth/stencil buffers and bind to correct framebuffer\n\tfunction setupRenderBufferStorage( renderbuffer, renderTarget, isMultisample ) {\n\n\t\t_gl.bindRenderbuffer( 36161, renderbuffer );\n\n\t\tif ( renderTarget.depthBuffer && ! renderTarget.stencilBuffer ) {\n\n\t\t\tlet glInternalFormat = 33189;\n\n\t\t\tif ( isMultisample ) {\n\n\t\t\t\tconst depthTexture = renderTarget.depthTexture;\n\n\t\t\t\tif ( depthTexture && depthTexture.isDepthTexture ) {\n\n\t\t\t\t\tif ( depthTexture.type === FloatType ) {\n\n\t\t\t\t\t\tglInternalFormat = 36012;\n\n\t\t\t\t\t} else if ( depthTexture.type === UnsignedIntType ) {\n\n\t\t\t\t\t\tglInternalFormat = 33190;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tconst samples = getRenderTargetSamples( renderTarget );\n\n\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.renderbufferStorage( 36161, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t\t_gl.framebufferRenderbuffer( 36160, 36096, 36161, renderbuffer );\n\n\t\t} else if ( renderTarget.depthBuffer && renderTarget.stencilBuffer ) {\n\n\t\t\tif ( isMultisample ) {\n\n\t\t\t\tconst samples = getRenderTargetSamples( renderTarget );\n\n\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, 35056, renderTarget.width, renderTarget.height );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.renderbufferStorage( 36161, 34041, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\n\t\t\t_gl.framebufferRenderbuffer( 36160, 33306, 36161, renderbuffer );\n\n\t\t} else {\n\n\t\t\tconst glFormat = utils.convert( renderTarget.texture.format );\n\t\t\tconst glType = utils.convert( renderTarget.texture.type );\n\t\t\tconst glInternalFormat = getInternalFormat( renderTarget.texture.internalFormat, glFormat, glType );\n\n\t\t\tif ( isMultisample ) {\n\n\t\t\t\tconst samples = getRenderTargetSamples( renderTarget );\n\n\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.renderbufferStorage( 36161, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t}\n\n\t\t_gl.bindRenderbuffer( 36161, null );\n\n\t}\n\n\t// Setup resources for a Depth Texture for a FBO (needs an extension)\n\tfunction setupDepthTexture( framebuffer, renderTarget ) {\n\n\t\tconst isCube = ( renderTarget && renderTarget.isWebGLCubeRenderTarget );\n\t\tif ( isCube ) throw new Error( 'Depth Texture with cube render targets is not supported' );\n\n\t\t_gl.bindFramebuffer( 36160, framebuffer );\n\n\t\tif ( ! ( renderTarget.depthTexture && renderTarget.depthTexture.isDepthTexture ) ) {\n\n\t\t\tthrow new Error( 'renderTarget.depthTexture must be an instance of THREE.DepthTexture' );\n\n\t\t}\n\n\t\t// upload an empty depth texture with framebuffer size\n\t\tif ( ! properties.get( renderTarget.depthTexture ).__webglTexture ||\n\t\t\t\trenderTarget.depthTexture.image.width !== renderTarget.width ||\n\t\t\t\trenderTarget.depthTexture.image.height !== renderTarget.height ) {\n\n\t\t\trenderTarget.depthTexture.image.width = renderTarget.width;\n\t\t\trenderTarget.depthTexture.image.height = renderTarget.height;\n\t\t\trenderTarget.depthTexture.needsUpdate = true;\n\n\t\t}\n\n\t\tsetTexture2D( renderTarget.depthTexture, 0 );\n\n\t\tconst webglDepthTexture = properties.get( renderTarget.depthTexture ).__webglTexture;\n\n\t\tif ( renderTarget.depthTexture.format === DepthFormat ) {\n\n\t\t\t_gl.framebufferTexture2D( 36160, 36096, 3553, webglDepthTexture, 0 );\n\n\t\t} else if ( renderTarget.depthTexture.format === DepthStencilFormat ) {\n\n\t\t\t_gl.framebufferTexture2D( 36160, 33306, 3553, webglDepthTexture, 0 );\n\n\t\t} else {\n\n\t\t\tthrow new Error( 'Unknown depthTexture format' );\n\n\t\t}\n\n\t}\n\n\t// Setup GL resources for a non-texture depth buffer\n\tfunction setupDepthRenderbuffer( renderTarget ) {\n\n\t\tconst renderTargetProperties = properties.get( renderTarget );\n\n\t\tconst isCube = ( renderTarget.isWebGLCubeRenderTarget === true );\n\n\t\tif ( renderTarget.depthTexture ) {\n\n\t\t\tif ( isCube ) throw new Error( 'target.depthTexture not supported in Cube render targets' );\n\n\t\t\tsetupDepthTexture( renderTargetProperties.__webglFramebuffer, renderTarget );\n\n\t\t} else {\n\n\t\t\tif ( isCube ) {\n\n\t\t\t\trenderTargetProperties.__webglDepthbuffer = [];\n\n\t\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\t\t_gl.bindFramebuffer( 36160, renderTargetProperties.__webglFramebuffer[ i ] );\n\t\t\t\t\trenderTargetProperties.__webglDepthbuffer[ i ] = _gl.createRenderbuffer();\n\t\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthbuffer[ i ], renderTarget, false );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t_gl.bindFramebuffer( 36160, renderTargetProperties.__webglFramebuffer );\n\t\t\t\trenderTargetProperties.__webglDepthbuffer = _gl.createRenderbuffer();\n\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthbuffer, renderTarget, false );\n\n\t\t\t}\n\n\t\t}\n\n\t\t_gl.bindFramebuffer( 36160, null );\n\n\t}\n\n\t// Set up GL resources for the render target\n\tfunction setupRenderTarget( renderTarget ) {\n\n\t\tconst renderTargetProperties = properties.get( renderTarget );\n\t\tconst textureProperties = properties.get( renderTarget.texture );\n\n\t\trenderTarget.addEventListener( 'dispose', onRenderTargetDispose );\n\n\t\ttextureProperties.__webglTexture = _gl.createTexture();\n\n\t\tinfo.memory.textures ++;\n\n\t\tconst isCube = ( renderTarget.isWebGLCubeRenderTarget === true );\n\t\tconst isMultisample = ( renderTarget.isWebGLMultisampleRenderTarget === true );\n\t\tconst supportsMips = isPowerOfTwo( renderTarget ) || isWebGL2;\n\n\t\t// Handles WebGL2 RGBFormat fallback - #18858\n\n\t\tif ( isWebGL2 && renderTarget.texture.format === RGBFormat && ( renderTarget.texture.type === FloatType || renderTarget.texture.type === HalfFloatType ) ) {\n\n\t\t\trenderTarget.texture.format = RGBAFormat;\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.' );\n\n\t\t}\n\n\t\t// Setup framebuffer\n\n\t\tif ( isCube ) {\n\n\t\t\trenderTargetProperties.__webglFramebuffer = [];\n\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\trenderTargetProperties.__webglFramebuffer[ i ] = _gl.createFramebuffer();\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\trenderTargetProperties.__webglFramebuffer = _gl.createFramebuffer();\n\n\t\t\tif ( isMultisample ) {\n\n\t\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\t\trenderTargetProperties.__webglMultisampledFramebuffer = _gl.createFramebuffer();\n\t\t\t\t\trenderTargetProperties.__webglColorRenderbuffer = _gl.createRenderbuffer();\n\n\t\t\t\t\t_gl.bindRenderbuffer( 36161, renderTargetProperties.__webglColorRenderbuffer );\n\n\t\t\t\t\tconst glFormat = utils.convert( renderTarget.texture.format );\n\t\t\t\t\tconst glType = utils.convert( renderTarget.texture.type );\n\t\t\t\t\tconst glInternalFormat = getInternalFormat( renderTarget.texture.internalFormat, glFormat, glType );\n\t\t\t\t\tconst samples = getRenderTargetSamples( renderTarget );\n\t\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t\t\t_gl.bindFramebuffer( 36160, renderTargetProperties.__webglMultisampledFramebuffer );\n\t\t\t\t\t_gl.framebufferRenderbuffer( 36160, 36064, 36161, renderTargetProperties.__webglColorRenderbuffer );\n\t\t\t\t\t_gl.bindRenderbuffer( 36161, null );\n\n\t\t\t\t\tif ( renderTarget.depthBuffer ) {\n\n\t\t\t\t\t\trenderTargetProperties.__webglDepthRenderbuffer = _gl.createRenderbuffer();\n\t\t\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthRenderbuffer, renderTarget, true );\n\n\t\t\t\t\t}\n\n\t\t\t\t\t_gl.bindFramebuffer( 36160, null );\n\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Setup color buffer\n\n\t\tif ( isCube ) {\n\n\t\t\tstate.bindTexture( 34067, textureProperties.__webglTexture );\n\t\t\tsetTextureParameters( 34067, renderTarget.texture, supportsMips );\n\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\tsetupFrameBufferTexture( renderTargetProperties.__webglFramebuffer[ i ], renderTarget, 36064, 34069 + i );\n\n\t\t\t}\n\n\t\t\tif ( textureNeedsGenerateMipmaps( renderTarget.texture, supportsMips ) ) {\n\n\t\t\t\tgenerateMipmap( 34067, renderTarget.texture, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t\tstate.bindTexture( 34067, null );\n\n\t\t} else {\n\n\t\t\tstate.bindTexture( 3553, textureProperties.__webglTexture );\n\t\t\tsetTextureParameters( 3553, renderTarget.texture, supportsMips );\n\t\t\tsetupFrameBufferTexture( renderTargetProperties.__webglFramebuffer, renderTarget, 36064, 3553 );\n\n\t\t\tif ( textureNeedsGenerateMipmaps( renderTarget.texture, supportsMips ) ) {\n\n\t\t\t\tgenerateMipmap( 3553, renderTarget.texture, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t\tstate.bindTexture( 3553, null );\n\n\t\t}\n\n\t\t// Setup depth and stencil buffers\n\n\t\tif ( renderTarget.depthBuffer ) {\n\n\t\t\tsetupDepthRenderbuffer( renderTarget );\n\n\t\t}\n\n\t}\n\n\tfunction updateRenderTargetMipmap( renderTarget ) {\n\n\t\tconst texture = renderTarget.texture;\n\t\tconst supportsMips = isPowerOfTwo( renderTarget ) || isWebGL2;\n\n\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\tconst target = renderTarget.isWebGLCubeRenderTarget ? 34067 : 3553;\n\t\t\tconst webglTexture = properties.get( texture ).__webglTexture;\n\n\t\t\tstate.bindTexture( target, webglTexture );\n\t\t\tgenerateMipmap( target, texture, renderTarget.width, renderTarget.height );\n\t\t\tstate.bindTexture( target, null );\n\n\t\t}\n\n\t}\n\n\tfunction updateMultisampleRenderTarget( renderTarget ) {\n\n\t\tif ( renderTarget.isWebGLMultisampleRenderTarget ) {\n\n\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\tconst renderTargetProperties = properties.get( renderTarget );\n\n\t\t\t\t_gl.bindFramebuffer( 36008, renderTargetProperties.__webglMultisampledFramebuffer );\n\t\t\t\t_gl.bindFramebuffer( 36009, renderTargetProperties.__webglFramebuffer );\n\n\t\t\t\tconst width = renderTarget.width;\n\t\t\t\tconst height = renderTarget.height;\n\t\t\t\tlet mask = 16384;\n\n\t\t\t\tif ( renderTarget.depthBuffer ) mask |= 256;\n\t\t\t\tif ( renderTarget.stencilBuffer ) mask |= 1024;\n\n\t\t\t\t_gl.blitFramebuffer( 0, 0, width, height, 0, 0, width, height, mask, 9728 );\n\n\t\t\t\t_gl.bindFramebuffer( 36160, renderTargetProperties.__webglMultisampledFramebuffer ); // see #18905\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.' );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction getRenderTargetSamples( renderTarget ) {\n\n\t\treturn ( isWebGL2 && renderTarget.isWebGLMultisampleRenderTarget ) ?\n\t\t\tMath.min( maxSamples, renderTarget.samples ) : 0;\n\n\t}\n\n\tfunction updateVideoTexture( texture ) {\n\n\t\tconst frame = info.render.frame;\n\n\t\t// Check the last frame we updated the VideoTexture\n\n\t\tif ( _videoTextures.get( texture ) !== frame ) {\n\n\t\t\t_videoTextures.set( texture, frame );\n\t\t\ttexture.update();\n\n\t\t}\n\n\t}\n\n\t// backwards compatibility\n\n\tlet warnedTexture2D = false;\n\tlet warnedTextureCube = false;\n\n\tfunction safeSetTexture2D( texture, slot ) {\n\n\t\tif ( texture && texture.isWebGLRenderTarget ) {\n\n\t\t\tif ( warnedTexture2D === false ) {\n\n\t\t\t\tconsole.warn( \"THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead.\" );\n\t\t\t\twarnedTexture2D = true;\n\n\t\t\t}\n\n\t\t\ttexture = texture.texture;\n\n\t\t}\n\n\t\tsetTexture2D( texture, slot );\n\n\t}\n\n\tfunction safeSetTextureCube( texture, slot ) {\n\n\t\tif ( texture && texture.isWebGLCubeRenderTarget ) {\n\n\t\t\tif ( warnedTextureCube === false ) {\n\n\t\t\t\tconsole.warn( \"THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead.\" );\n\t\t\t\twarnedTextureCube = true;\n\n\t\t\t}\n\n\t\t\ttexture = texture.texture;\n\n\t\t}\n\n\n\t\tsetTextureCube( texture, slot );\n\n\t}\n\n\t//\n\n\tthis.allocateTextureUnit = allocateTextureUnit;\n\tthis.resetTextureUnits = resetTextureUnits;\n\n\tthis.setTexture2D = setTexture2D;\n\tthis.setTexture2DArray = setTexture2DArray;\n\tthis.setTexture3D = setTexture3D;\n\tthis.setTextureCube = setTextureCube;\n\tthis.setupRenderTarget = setupRenderTarget;\n\tthis.updateRenderTargetMipmap = updateRenderTargetMipmap;\n\tthis.updateMultisampleRenderTarget = updateMultisampleRenderTarget;\n\n\tthis.safeSetTexture2D = safeSetTexture2D;\n\tthis.safeSetTextureCube = safeSetTextureCube;\n\n}\n\nfunction WebGLUtils( gl, extensions, capabilities ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\n\tfunction convert( p ) {\n\n\t\tlet extension;\n\n\t\tif ( p === UnsignedByteType ) return 5121;\n\t\tif ( p === UnsignedShort4444Type ) return 32819;\n\t\tif ( p === UnsignedShort5551Type ) return 32820;\n\t\tif ( p === UnsignedShort565Type ) return 33635;\n\n\t\tif ( p === ByteType ) return 5120;\n\t\tif ( p === ShortType ) return 5122;\n\t\tif ( p === UnsignedShortType ) return 5123;\n\t\tif ( p === IntType ) return 5124;\n\t\tif ( p === UnsignedIntType ) return 5125;\n\t\tif ( p === FloatType ) return 5126;\n\n\t\tif ( p === HalfFloatType ) {\n\n\t\t\tif ( isWebGL2 ) return 5131;\n\n\t\t\textension = extensions.get( 'OES_texture_half_float' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\treturn extension.HALF_FLOAT_OES;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === AlphaFormat ) return 6406;\n\t\tif ( p === RGBFormat ) return 6407;\n\t\tif ( p === RGBAFormat ) return 6408;\n\t\tif ( p === LuminanceFormat ) return 6409;\n\t\tif ( p === LuminanceAlphaFormat ) return 6410;\n\t\tif ( p === DepthFormat ) return 6402;\n\t\tif ( p === DepthStencilFormat ) return 34041;\n\t\tif ( p === RedFormat ) return 6403;\n\n\t\t// WebGL2 formats.\n\n\t\tif ( p === RedIntegerFormat ) return 36244;\n\t\tif ( p === RGFormat ) return 33319;\n\t\tif ( p === RGIntegerFormat ) return 33320;\n\t\tif ( p === RGBIntegerFormat ) return 36248;\n\t\tif ( p === RGBAIntegerFormat ) return 36249;\n\n\t\tif ( p === RGB_S3TC_DXT1_Format || p === RGBA_S3TC_DXT1_Format ||\n\t\t\tp === RGBA_S3TC_DXT3_Format || p === RGBA_S3TC_DXT5_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_s3tc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGB_S3TC_DXT1_Format ) return extension.COMPRESSED_RGB_S3TC_DXT1_EXT;\n\t\t\t\tif ( p === RGBA_S3TC_DXT1_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT1_EXT;\n\t\t\t\tif ( p === RGBA_S3TC_DXT3_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT3_EXT;\n\t\t\t\tif ( p === RGBA_S3TC_DXT5_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT5_EXT;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGB_PVRTC_4BPPV1_Format || p === RGB_PVRTC_2BPPV1_Format ||\n\t\t\tp === RGBA_PVRTC_4BPPV1_Format || p === RGBA_PVRTC_2BPPV1_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_pvrtc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGB_PVRTC_4BPPV1_Format ) return extension.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;\n\t\t\t\tif ( p === RGB_PVRTC_2BPPV1_Format ) return extension.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;\n\t\t\t\tif ( p === RGBA_PVRTC_4BPPV1_Format ) return extension.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;\n\t\t\t\tif ( p === RGBA_PVRTC_2BPPV1_Format ) return extension.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGB_ETC1_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_etc1' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\treturn extension.COMPRESSED_RGB_ETC1_WEBGL;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGB_ETC2_Format || p === RGBA_ETC2_EAC_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_etc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGB_ETC2_Format ) return extension.COMPRESSED_RGB8_ETC2;\n\t\t\t\tif ( p === RGBA_ETC2_EAC_Format ) return extension.COMPRESSED_RGBA8_ETC2_EAC;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGBA_ASTC_4x4_Format || p === RGBA_ASTC_5x4_Format || p === RGBA_ASTC_5x5_Format ||\n\t\t\tp === RGBA_ASTC_6x5_Format || p === RGBA_ASTC_6x6_Format || p === RGBA_ASTC_8x5_Format ||\n\t\t\tp === RGBA_ASTC_8x6_Format || p === RGBA_ASTC_8x8_Format || p === RGBA_ASTC_10x5_Format ||\n\t\t\tp === RGBA_ASTC_10x6_Format || p === RGBA_ASTC_10x8_Format || p === RGBA_ASTC_10x10_Format ||\n\t\t\tp === RGBA_ASTC_12x10_Format || p === RGBA_ASTC_12x12_Format ||\n\t\t\tp === SRGB8_ALPHA8_ASTC_4x4_Format || p === SRGB8_ALPHA8_ASTC_5x4_Format || p === SRGB8_ALPHA8_ASTC_5x5_Format ||\n\t\t\tp === SRGB8_ALPHA8_ASTC_6x5_Format || p === SRGB8_ALPHA8_ASTC_6x6_Format || p === SRGB8_ALPHA8_ASTC_8x5_Format ||\n\t\t\tp === SRGB8_ALPHA8_ASTC_8x6_Format || p === SRGB8_ALPHA8_ASTC_8x8_Format || p === SRGB8_ALPHA8_ASTC_10x5_Format ||\n\t\t\tp === SRGB8_ALPHA8_ASTC_10x6_Format || p === SRGB8_ALPHA8_ASTC_10x8_Format || p === SRGB8_ALPHA8_ASTC_10x10_Format ||\n\t\t\tp === SRGB8_ALPHA8_ASTC_12x10_Format || p === SRGB8_ALPHA8_ASTC_12x12_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_astc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\t// TODO Complete?\n\n\t\t\t\treturn p;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGBA_BPTC_Format ) {\n\n\t\t\textension = extensions.get( 'EXT_texture_compression_bptc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\t// TODO Complete?\n\n\t\t\t\treturn p;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === UnsignedInt248Type ) {\n\n\t\t\tif ( isWebGL2 ) return 34042;\n\n\t\t\textension = extensions.get( 'WEBGL_depth_texture' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\treturn extension.UNSIGNED_INT_24_8_WEBGL;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn { convert: convert };\n\n}\n\nfunction ArrayCamera( array ) {\n\n\tPerspectiveCamera.call( this );\n\n\tthis.cameras = array || [];\n\n}\n\nArrayCamera.prototype = Object.assign( Object.create( PerspectiveCamera.prototype ), {\n\n\tconstructor: ArrayCamera,\n\n\tisArrayCamera: true\n\n} );\n\nfunction Group() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Group';\n\n}\n\nGroup.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Group,\n\n\tisGroup: true\n\n} );\n\nfunction WebXRController() {\n\n\tthis._targetRay = null;\n\tthis._grip = null;\n\tthis._hand = null;\n\n}\n\nObject.assign( WebXRController.prototype, {\n\n\tconstructor: WebXRController,\n\n\tgetHandSpace: function () {\n\n\t\tif ( this._hand === null ) {\n\n\t\t\tthis._hand = new Group();\n\t\t\tthis._hand.matrixAutoUpdate = false;\n\t\t\tthis._hand.visible = false;\n\n\t\t\tthis._hand.joints = [];\n\t\t\tthis._hand.inputState = { pinching: false };\n\n\t\t\tif ( window.XRHand ) {\n\n\t\t\t\tfor ( let i = 0; i <= window.XRHand.LITTLE_PHALANX_TIP; i ++ ) {\n\n\t\t\t\t\t// The transform of this joint will be updated with the joint pose on each frame\n\t\t\t\t\tconst joint = new Group();\n\t\t\t\t\tjoint.matrixAutoUpdate = false;\n\t\t\t\t\tjoint.visible = false;\n\t\t\t\t\tthis._hand.joints.push( joint );\n\t\t\t\t\t// ??\n\t\t\t\t\tthis._hand.add( joint );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this._hand;\n\n\t},\n\n\tgetTargetRaySpace: function () {\n\n\t\tif ( this._targetRay === null ) {\n\n\t\t\tthis._targetRay = new Group();\n\t\t\tthis._targetRay.matrixAutoUpdate = false;\n\t\t\tthis._targetRay.visible = false;\n\n\t\t}\n\n\t\treturn this._targetRay;\n\n\t},\n\n\tgetGripSpace: function () {\n\n\t\tif ( this._grip === null ) {\n\n\t\t\tthis._grip = new Group();\n\t\t\tthis._grip.matrixAutoUpdate = false;\n\t\t\tthis._grip.visible = false;\n\n\t\t}\n\n\t\treturn this._grip;\n\n\t},\n\n\tdispatchEvent: function ( event ) {\n\n\t\tif ( this._targetRay !== null ) {\n\n\t\t\tthis._targetRay.dispatchEvent( event );\n\n\t\t}\n\n\t\tif ( this._grip !== null ) {\n\n\t\t\tthis._grip.dispatchEvent( event );\n\n\t\t}\n\n\t\tif ( this._hand !== null ) {\n\n\t\t\tthis._hand.dispatchEvent( event );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tdisconnect: function ( inputSource ) {\n\n\t\tthis.dispatchEvent( { type: 'disconnected', data: inputSource } );\n\n\t\tif ( this._targetRay !== null ) {\n\n\t\t\tthis._targetRay.visible = false;\n\n\t\t}\n\n\t\tif ( this._grip !== null ) {\n\n\t\t\tthis._grip.visible = false;\n\n\t\t}\n\n\t\tif ( this._hand !== null ) {\n\n\t\t\tthis._hand.visible = false;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tupdate: function ( inputSource, frame, referenceSpace ) {\n\n\t\tlet inputPose = null;\n\t\tlet gripPose = null;\n\t\tlet handPose = null;\n\n\t\tconst targetRay = this._targetRay;\n\t\tconst grip = this._grip;\n\t\tconst hand = this._hand;\n\n\t\tif ( inputSource ) {\n\n\t\t\tif ( hand && inputSource.hand ) {\n\n\t\t\t\thandPose = true;\n\n\t\t\t\tfor ( let i = 0; i <= window.XRHand.LITTLE_PHALANX_TIP; i ++ ) {\n\n\t\t\t\t\tif ( inputSource.hand[ i ] ) {\n\n\t\t\t\t\t\t// Update the joints groups with the XRJoint poses\n\t\t\t\t\t\tconst jointPose = frame.getJointPose( inputSource.hand[ i ], referenceSpace );\n\t\t\t\t\t\tconst joint = hand.joints[ i ];\n\n\t\t\t\t\t\tif ( jointPose !== null ) {\n\n\t\t\t\t\t\t\tjoint.matrix.fromArray( jointPose.transform.matrix );\n\t\t\t\t\t\t\tjoint.matrix.decompose( joint.position, joint.rotation, joint.scale );\n\t\t\t\t\t\t\tjoint.jointRadius = jointPose.radius;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tjoint.visible = jointPose !== null;\n\n\t\t\t\t\t\t// Custom events\n\n\t\t\t\t\t\t// Check pinch\n\t\t\t\t\t\tconst indexTip = hand.joints[ window.XRHand.INDEX_PHALANX_TIP ];\n\t\t\t\t\t\tconst thumbTip = hand.joints[ window.XRHand.THUMB_PHALANX_TIP ];\n\t\t\t\t\t\tconst distance = indexTip.position.distanceTo( thumbTip.position );\n\n\t\t\t\t\t\tconst distanceToPinch = 0.02;\n\t\t\t\t\t\tconst threshold = 0.005;\n\n\t\t\t\t\t\tif ( hand.inputState.pinching && distance > distanceToPinch + threshold ) {\n\n\t\t\t\t\t\t\thand.inputState.pinching = false;\n\t\t\t\t\t\t\tthis.dispatchEvent( {\n\t\t\t\t\t\t\t\ttype: \"pinchend\",\n\t\t\t\t\t\t\t\thandedness: inputSource.handedness,\n\t\t\t\t\t\t\t\ttarget: this\n\t\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t} else if ( ! hand.inputState.pinching && distance <= distanceToPinch - threshold ) {\n\n\t\t\t\t\t\t\thand.inputState.pinching = true;\n\t\t\t\t\t\t\tthis.dispatchEvent( {\n\t\t\t\t\t\t\t\ttype: \"pinchstart\",\n\t\t\t\t\t\t\t\thandedness: inputSource.handedness,\n\t\t\t\t\t\t\t\ttarget: this\n\t\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( targetRay !== null ) {\n\n\t\t\t\t\tinputPose = frame.getPose( inputSource.targetRaySpace, referenceSpace );\n\n\t\t\t\t\tif ( inputPose !== null ) {\n\n\t\t\t\t\t\ttargetRay.matrix.fromArray( inputPose.transform.matrix );\n\t\t\t\t\t\ttargetRay.matrix.decompose( targetRay.position, targetRay.rotation, targetRay.scale );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( grip !== null && inputSource.gripSpace ) {\n\n\t\t\t\t\tgripPose = frame.getPose( inputSource.gripSpace, referenceSpace );\n\n\t\t\t\t\tif ( gripPose !== null ) {\n\n\t\t\t\t\t\tgrip.matrix.fromArray( gripPose.transform.matrix );\n\t\t\t\t\t\tgrip.matrix.decompose( grip.position, grip.rotation, grip.scale );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( targetRay !== null ) {\n\n\t\t\ttargetRay.visible = ( inputPose !== null );\n\n\t\t}\n\n\t\tif ( grip !== null ) {\n\n\t\t\tgrip.visible = ( gripPose !== null );\n\n\t\t}\n\n\t\tif ( hand !== null ) {\n\n\t\t\thand.visible = ( handPose !== null );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\nfunction WebXRManager( renderer, gl ) {\n\n\tconst scope = this;\n\n\tlet session = null;\n\n\tlet framebufferScaleFactor = 1.0;\n\n\tlet referenceSpace = null;\n\tlet referenceSpaceType = 'local-floor';\n\n\tlet pose = null;\n\n\tconst controllers = [];\n\tconst inputSourcesMap = new Map();\n\n\t//\n\n\tconst cameraL = new PerspectiveCamera();\n\tcameraL.layers.enable( 1 );\n\tcameraL.viewport = new Vector4();\n\n\tconst cameraR = new PerspectiveCamera();\n\tcameraR.layers.enable( 2 );\n\tcameraR.viewport = new Vector4();\n\n\tconst cameras = [ cameraL, cameraR ];\n\n\tconst cameraVR = new ArrayCamera();\n\tcameraVR.layers.enable( 1 );\n\tcameraVR.layers.enable( 2 );\n\n\tlet _currentDepthNear = null;\n\tlet _currentDepthFar = null;\n\n\t//\n\n\tthis.enabled = false;\n\n\tthis.isPresenting = false;\n\n\tthis.getController = function ( index ) {\n\n\t\tlet controller = controllers[ index ];\n\n\t\tif ( controller === undefined ) {\n\n\t\t\tcontroller = new WebXRController();\n\t\t\tcontrollers[ index ] = controller;\n\n\t\t}\n\n\t\treturn controller.getTargetRaySpace();\n\n\t};\n\n\tthis.getControllerGrip = function ( index ) {\n\n\t\tlet controller = controllers[ index ];\n\n\t\tif ( controller === undefined ) {\n\n\t\t\tcontroller = new WebXRController();\n\t\t\tcontrollers[ index ] = controller;\n\n\t\t}\n\n\t\treturn controller.getGripSpace();\n\n\t};\n\n\tthis.getHand = function ( index ) {\n\n\t\tlet controller = controllers[ index ];\n\n\t\tif ( controller === undefined ) {\n\n\t\t\tcontroller = new WebXRController();\n\t\t\tcontrollers[ index ] = controller;\n\n\t\t}\n\n\t\treturn controller.getHandSpace();\n\n\t};\n\n\t//\n\n\tfunction onSessionEvent( event ) {\n\n\t\tconst controller = inputSourcesMap.get( event.inputSource );\n\n\t\tif ( controller ) {\n\n\t\t\tcontroller.dispatchEvent( { type: event.type, data: event.inputSource } );\n\n\t\t}\n\n\t}\n\n\tfunction onSessionEnd() {\n\n\t\tinputSourcesMap.forEach( function ( controller, inputSource ) {\n\n\t\t\tcontroller.disconnect( inputSource );\n\n\t\t} );\n\n\t\tinputSourcesMap.clear();\n\n\t\t//\n\n\t\trenderer.setFramebuffer( null );\n\t\trenderer.setRenderTarget( renderer.getRenderTarget() ); // Hack #15830\n\t\tanimation.stop();\n\n\t\tscope.isPresenting = false;\n\n\t\tscope.dispatchEvent( { type: 'sessionend' } );\n\n\t}\n\n\tfunction onRequestReferenceSpace( value ) {\n\n\t\treferenceSpace = value;\n\n\t\tanimation.setContext( session );\n\t\tanimation.start();\n\n\t\tscope.isPresenting = true;\n\n\t\tscope.dispatchEvent( { type: 'sessionstart' } );\n\n\t}\n\n\tthis.setFramebufferScaleFactor = function ( value ) {\n\n\t\tframebufferScaleFactor = value;\n\n\t\tif ( scope.isPresenting === true ) {\n\n\t\t\tconsole.warn( 'THREE.WebXRManager: Cannot change framebuffer scale while presenting.' );\n\n\t\t}\n\n\t};\n\n\tthis.setReferenceSpaceType = function ( value ) {\n\n\t\treferenceSpaceType = value;\n\n\t\tif ( scope.isPresenting === true ) {\n\n\t\t\tconsole.warn( 'THREE.WebXRManager: Cannot change reference space type while presenting.' );\n\n\t\t}\n\n\t};\n\n\tthis.getReferenceSpace = function () {\n\n\t\treturn referenceSpace;\n\n\t};\n\n\tthis.getSession = function () {\n\n\t\treturn session;\n\n\t};\n\n\tthis.setSession = function ( value ) {\n\n\t\tsession = value;\n\n\t\tif ( session !== null ) {\n\n\t\t\tsession.addEventListener( 'select', onSessionEvent );\n\t\t\tsession.addEventListener( 'selectstart', onSessionEvent );\n\t\t\tsession.addEventListener( 'selectend', onSessionEvent );\n\t\t\tsession.addEventListener( 'squeeze', onSessionEvent );\n\t\t\tsession.addEventListener( 'squeezestart', onSessionEvent );\n\t\t\tsession.addEventListener( 'squeezeend', onSessionEvent );\n\t\t\tsession.addEventListener( 'end', onSessionEnd );\n\n\t\t\tconst attributes = gl.getContextAttributes();\n\n\t\t\tif ( attributes.xrCompatible !== true ) {\n\n\t\t\t\tgl.makeXRCompatible();\n\n\t\t\t}\n\n\t\t\tconst layerInit = {\n\t\t\t\tantialias: attributes.antialias,\n\t\t\t\talpha: attributes.alpha,\n\t\t\t\tdepth: attributes.depth,\n\t\t\t\tstencil: attributes.stencil,\n\t\t\t\tframebufferScaleFactor: framebufferScaleFactor\n\t\t\t};\n\n\t\t\t// eslint-disable-next-line no-undef\n\t\t\tconst baseLayer = new XRWebGLLayer( session, gl, layerInit );\n\n\t\t\tsession.updateRenderState( { baseLayer: baseLayer } );\n\n\t\t\tsession.requestReferenceSpace( referenceSpaceType ).then( onRequestReferenceSpace );\n\n\t\t\t//\n\n\t\t\tsession.addEventListener( 'inputsourceschange', updateInputSources );\n\n\t\t}\n\n\t};\n\n\tfunction updateInputSources( event ) {\n\n\t\tconst inputSources = session.inputSources;\n\n\t\t// Assign inputSources to available controllers\n\n\t\tfor ( let i = 0; i < controllers.length; i ++ ) {\n\n\t\t\tinputSourcesMap.set( inputSources[ i ], controllers[ i ] );\n\n\t\t}\n\n\t\t// Notify disconnected\n\n\t\tfor ( let i = 0; i < event.removed.length; i ++ ) {\n\n\t\t\tconst inputSource = event.removed[ i ];\n\t\t\tconst controller = inputSourcesMap.get( inputSource );\n\n\t\t\tif ( controller ) {\n\n\t\t\t\tcontroller.dispatchEvent( { type: 'disconnected', data: inputSource } );\n\t\t\t\tinputSourcesMap.delete( inputSource );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Notify connected\n\n\t\tfor ( let i = 0; i < event.added.length; i ++ ) {\n\n\t\t\tconst inputSource = event.added[ i ];\n\t\t\tconst controller = inputSourcesMap.get( inputSource );\n\n\t\t\tif ( controller ) {\n\n\t\t\t\tcontroller.dispatchEvent( { type: 'connected', data: inputSource } );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t//\n\n\tconst cameraLPos = new Vector3();\n\tconst cameraRPos = new Vector3();\n\n\t/**\n\t * Assumes 2 cameras that are parallel and share an X-axis, and that\n\t * the cameras' projection and world matrices have already been set.\n\t * And that near and far planes are identical for both cameras.\n\t * Visualization of this technique: https://computergraphics.stackexchange.com/a/4765\n\t */\n\tfunction setProjectionFromUnion( camera, cameraL, cameraR ) {\n\n\t\tcameraLPos.setFromMatrixPosition( cameraL.matrixWorld );\n\t\tcameraRPos.setFromMatrixPosition( cameraR.matrixWorld );\n\n\t\tconst ipd = cameraLPos.distanceTo( cameraRPos );\n\n\t\tconst projL = cameraL.projectionMatrix.elements;\n\t\tconst projR = cameraR.projectionMatrix.elements;\n\n\t\t// VR systems will have identical far and near planes, and\n\t\t// most likely identical top and bottom frustum extents.\n\t\t// Use the left camera for these values.\n\t\tconst near = projL[ 14 ] / ( projL[ 10 ] - 1 );\n\t\tconst far = projL[ 14 ] / ( projL[ 10 ] + 1 );\n\t\tconst topFov = ( projL[ 9 ] + 1 ) / projL[ 5 ];\n\t\tconst bottomFov = ( projL[ 9 ] - 1 ) / projL[ 5 ];\n\n\t\tconst leftFov = ( projL[ 8 ] - 1 ) / projL[ 0 ];\n\t\tconst rightFov = ( projR[ 8 ] + 1 ) / projR[ 0 ];\n\t\tconst left = near * leftFov;\n\t\tconst right = near * rightFov;\n\n\t\t// Calculate the new camera's position offset from the\n\t\t// left camera. xOffset should be roughly half `ipd`.\n\t\tconst zOffset = ipd / ( - leftFov + rightFov );\n\t\tconst xOffset = zOffset * - leftFov;\n\n\t\t// TODO: Better way to apply this offset?\n\t\tcameraL.matrixWorld.decompose( camera.position, camera.quaternion, camera.scale );\n\t\tcamera.translateX( xOffset );\n\t\tcamera.translateZ( zOffset );\n\t\tcamera.matrixWorld.compose( camera.position, camera.quaternion, camera.scale );\n\t\tcamera.matrixWorldInverse.getInverse( camera.matrixWorld );\n\n\t\t// Find the union of the frustum values of the cameras and scale\n\t\t// the values so that the near plane's position does not change in world space,\n\t\t// although must now be relative to the new union camera.\n\t\tconst near2 = near + zOffset;\n\t\tconst far2 = far + zOffset;\n\t\tconst left2 = left - xOffset;\n\t\tconst right2 = right + ( ipd - xOffset );\n\t\tconst top2 = topFov * far / far2 * near2;\n\t\tconst bottom2 = bottomFov * far / far2 * near2;\n\n\t\tcamera.projectionMatrix.makePerspective( left2, right2, top2, bottom2, near2, far2 );\n\n\t}\n\n\tfunction updateCamera( camera, parent ) {\n\n\t\tif ( parent === null ) {\n\n\t\t\tcamera.matrixWorld.copy( camera.matrix );\n\n\t\t} else {\n\n\t\t\tcamera.matrixWorld.multiplyMatrices( parent.matrixWorld, camera.matrix );\n\n\t\t}\n\n\t\tcamera.matrixWorldInverse.getInverse( camera.matrixWorld );\n\n\t}\n\n\tthis.getCamera = function ( camera ) {\n\n\t\tcameraVR.near = cameraR.near = cameraL.near = camera.near;\n\t\tcameraVR.far = cameraR.far = cameraL.far = camera.far;\n\n\t\tif ( _currentDepthNear !== cameraVR.near || _currentDepthFar !== cameraVR.far ) {\n\n\t\t\t// Note that the new renderState won't apply until the next frame. See #18320\n\n\t\t\tsession.updateRenderState( {\n\t\t\t\tdepthNear: cameraVR.near,\n\t\t\t\tdepthFar: cameraVR.far\n\t\t\t} );\n\n\t\t\t_currentDepthNear = cameraVR.near;\n\t\t\t_currentDepthFar = cameraVR.far;\n\n\t\t}\n\n\t\tconst parent = camera.parent;\n\t\tconst cameras = cameraVR.cameras;\n\n\t\tupdateCamera( cameraVR, parent );\n\n\t\tfor ( let i = 0; i < cameras.length; i ++ ) {\n\n\t\t\tupdateCamera( cameras[ i ], parent );\n\n\t\t}\n\n\t\t// update camera and its children\n\n\t\tcamera.matrixWorld.copy( cameraVR.matrixWorld );\n\n\t\tconst children = camera.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].updateMatrixWorld( true );\n\n\t\t}\n\n\t\t// update projection matrix for proper view frustum culling\n\n\t\tif ( cameras.length === 2 ) {\n\n\t\t\tsetProjectionFromUnion( cameraVR, cameraL, cameraR );\n\n\t\t} else {\n\n\t\t\t// assume single camera setup (AR)\n\n\t\t\tcameraVR.projectionMatrix.copy( cameraL.projectionMatrix );\n\n\t\t}\n\n\t\treturn cameraVR;\n\n\t};\n\n\t// Animation Loop\n\n\tlet onAnimationFrameCallback = null;\n\n\tfunction onAnimationFrame( time, frame ) {\n\n\t\tpose = frame.getViewerPose( referenceSpace );\n\n\t\tif ( pose !== null ) {\n\n\t\t\tconst views = pose.views;\n\t\t\tconst baseLayer = session.renderState.baseLayer;\n\n\t\t\trenderer.setFramebuffer( baseLayer.framebuffer );\n\n\t\t\tlet cameraVRNeedsUpdate = false;\n\n\t\t\t// check if it's necessary to rebuild cameraVR's camera list\n\n\t\t\tif ( views.length !== cameraVR.cameras.length ) {\n\n\t\t\t\tcameraVR.cameras.length = 0;\n\t\t\t\tcameraVRNeedsUpdate = true;\n\n\t\t\t}\n\n\t\t\tfor ( let i = 0; i < views.length; i ++ ) {\n\n\t\t\t\tconst view = views[ i ];\n\t\t\t\tconst viewport = baseLayer.getViewport( view );\n\n\t\t\t\tconst camera = cameras[ i ];\n\t\t\t\tcamera.matrix.fromArray( view.transform.matrix );\n\t\t\t\tcamera.projectionMatrix.fromArray( view.projectionMatrix );\n\t\t\t\tcamera.viewport.set( viewport.x, viewport.y, viewport.width, viewport.height );\n\n\t\t\t\tif ( i === 0 ) {\n\n\t\t\t\t\tcameraVR.matrix.copy( camera.matrix );\n\n\t\t\t\t}\n\n\t\t\t\tif ( cameraVRNeedsUpdate === true ) {\n\n\t\t\t\t\tcameraVR.cameras.push( camera );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tconst inputSources = session.inputSources;\n\n\t\tfor ( let i = 0; i < controllers.length; i ++ ) {\n\n\t\t\tconst controller = controllers[ i ];\n\t\t\tconst inputSource = inputSources[ i ];\n\n\t\t\tcontroller.update( inputSource, frame, referenceSpace );\n\n\t\t}\n\n\t\tif ( onAnimationFrameCallback ) onAnimationFrameCallback( time, frame );\n\n\t}\n\n\tconst animation = new WebGLAnimation();\n\tanimation.setAnimationLoop( onAnimationFrame );\n\n\tthis.setAnimationLoop = function ( callback ) {\n\n\t\tonAnimationFrameCallback = callback;\n\n\t};\n\n\tthis.dispose = function () {};\n\n}\n\nObject.assign( WebXRManager.prototype, EventDispatcher.prototype );\n\nfunction WebGLMaterials( properties ) {\n\n\tfunction refreshFogUniforms( uniforms, fog ) {\n\n\t\tuniforms.fogColor.value.copy( fog.color );\n\n\t\tif ( fog.isFog ) {\n\n\t\t\tuniforms.fogNear.value = fog.near;\n\t\t\tuniforms.fogFar.value = fog.far;\n\n\t\t} else if ( fog.isFogExp2 ) {\n\n\t\t\tuniforms.fogDensity.value = fog.density;\n\n\t\t}\n\n\t}\n\n\tfunction refreshMaterialUniforms( uniforms, material, pixelRatio, height ) {\n\n\t\tif ( material.isMeshBasicMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\n\t\t} else if ( material.isMeshLambertMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsLambert( uniforms, material );\n\n\t\t} else if ( material.isMeshToonMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsToon( uniforms, material );\n\n\t\t} else if ( material.isMeshPhongMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsPhong( uniforms, material );\n\n\t\t} else if ( material.isMeshStandardMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\n\t\t\tif ( material.isMeshPhysicalMaterial ) {\n\n\t\t\t\trefreshUniformsPhysical( uniforms, material );\n\n\t\t\t} else {\n\n\t\t\t\trefreshUniformsStandard( uniforms, material );\n\n\t\t\t}\n\n\t\t} else if ( material.isMeshMatcapMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsMatcap( uniforms, material );\n\n\t\t} else if ( material.isMeshDepthMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsDepth( uniforms, material );\n\n\t\t} else if ( material.isMeshDistanceMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsDistance( uniforms, material );\n\n\t\t} else if ( material.isMeshNormalMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsNormal( uniforms, material );\n\n\t\t} else if ( material.isLineBasicMaterial ) {\n\n\t\t\trefreshUniformsLine( uniforms, material );\n\n\t\t\tif ( material.isLineDashedMaterial ) {\n\n\t\t\t\trefreshUniformsDash( uniforms, material );\n\n\t\t\t}\n\n\t\t} else if ( material.isPointsMaterial ) {\n\n\t\t\trefreshUniformsPoints( uniforms, material, pixelRatio, height );\n\n\t\t} else if ( material.isSpriteMaterial ) {\n\n\t\t\trefreshUniformsSprites( uniforms, material );\n\n\t\t} else if ( material.isShadowMaterial ) {\n\n\t\t\tuniforms.color.value.copy( material.color );\n\t\t\tuniforms.opacity.value = material.opacity;\n\n\t\t} else if ( material.isShaderMaterial ) {\n\n\t\t\tmaterial.uniformsNeedUpdate = false; // #15581\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsCommon( uniforms, material ) {\n\n\t\tuniforms.opacity.value = material.opacity;\n\n\t\tif ( material.color ) {\n\n\t\t\tuniforms.diffuse.value.copy( material.color );\n\n\t\t}\n\n\t\tif ( material.emissive ) {\n\n\t\t\tuniforms.emissive.value.copy( material.emissive ).multiplyScalar( material.emissiveIntensity );\n\n\t\t}\n\n\t\tif ( material.map ) {\n\n\t\t\tuniforms.map.value = material.map;\n\n\t\t}\n\n\t\tif ( material.alphaMap ) {\n\n\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\n\t\t}\n\n\t\tif ( material.specularMap ) {\n\n\t\t\tuniforms.specularMap.value = material.specularMap;\n\n\t\t}\n\n\t\tconst envMap = properties.get( material ).envMap;\n\n\t\tif ( envMap ) {\n\n\t\t\tuniforms.envMap.value = envMap;\n\n\t\t\tuniforms.flipEnvMap.value = ( envMap.isCubeTexture && envMap._needsFlipEnvMap ) ? - 1 : 1;\n\n\t\t\tuniforms.reflectivity.value = material.reflectivity;\n\t\t\tuniforms.refractionRatio.value = material.refractionRatio;\n\n\t\t\tconst maxMipLevel = properties.get( envMap ).__maxMipLevel;\n\n\t\t\tif ( maxMipLevel !== undefined ) {\n\n\t\t\t\tuniforms.maxMipLevel.value = maxMipLevel;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( material.lightMap ) {\n\n\t\t\tuniforms.lightMap.value = material.lightMap;\n\t\t\tuniforms.lightMapIntensity.value = material.lightMapIntensity;\n\n\t\t}\n\n\t\tif ( material.aoMap ) {\n\n\t\t\tuniforms.aoMap.value = material.aoMap;\n\t\t\tuniforms.aoMapIntensity.value = material.aoMapIntensity;\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities\n\t\t// 1. color map\n\t\t// 2. specular map\n\t\t// 3. displacementMap map\n\t\t// 4. normal map\n\t\t// 5. bump map\n\t\t// 6. roughnessMap map\n\t\t// 7. metalnessMap map\n\t\t// 8. alphaMap map\n\t\t// 9. emissiveMap map\n\t\t// 10. clearcoat map\n\t\t// 11. clearcoat normal map\n\t\t// 12. clearcoat roughnessMap map\n\n\t\tlet uvScaleMap;\n\n\t\tif ( material.map ) {\n\n\t\t\tuvScaleMap = material.map;\n\n\t\t} else if ( material.specularMap ) {\n\n\t\t\tuvScaleMap = material.specularMap;\n\n\t\t} else if ( material.displacementMap ) {\n\n\t\t\tuvScaleMap = material.displacementMap;\n\n\t\t} else if ( material.normalMap ) {\n\n\t\t\tuvScaleMap = material.normalMap;\n\n\t\t} else if ( material.bumpMap ) {\n\n\t\t\tuvScaleMap = material.bumpMap;\n\n\t\t} else if ( material.roughnessMap ) {\n\n\t\t\tuvScaleMap = material.roughnessMap;\n\n\t\t} else if ( material.metalnessMap ) {\n\n\t\t\tuvScaleMap = material.metalnessMap;\n\n\t\t} else if ( material.alphaMap ) {\n\n\t\t\tuvScaleMap = material.alphaMap;\n\n\t\t} else if ( material.emissiveMap ) {\n\n\t\t\tuvScaleMap = material.emissiveMap;\n\n\t\t} else if ( material.clearcoatMap ) {\n\n\t\t\tuvScaleMap = material.clearcoatMap;\n\n\t\t} else if ( material.clearcoatNormalMap ) {\n\n\t\t\tuvScaleMap = material.clearcoatNormalMap;\n\n\t\t} else if ( material.clearcoatRoughnessMap ) {\n\n\t\t\tuvScaleMap = material.clearcoatRoughnessMap;\n\n\t\t}\n\n\t\tif ( uvScaleMap !== undefined ) {\n\n\t\t\t// backwards compatibility\n\t\t\tif ( uvScaleMap.isWebGLRenderTarget ) {\n\n\t\t\t\tuvScaleMap = uvScaleMap.texture;\n\n\t\t\t}\n\n\t\t\tif ( uvScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tuvScaleMap.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uvTransform.value.copy( uvScaleMap.matrix );\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities for uv2\n\t\t// 1. ao map\n\t\t// 2. light map\n\n\t\tlet uv2ScaleMap;\n\n\t\tif ( material.aoMap ) {\n\n\t\t\tuv2ScaleMap = material.aoMap;\n\n\t\t} else if ( material.lightMap ) {\n\n\t\t\tuv2ScaleMap = material.lightMap;\n\n\t\t}\n\n\t\tif ( uv2ScaleMap !== undefined ) {\n\n\t\t\t// backwards compatibility\n\t\t\tif ( uv2ScaleMap.isWebGLRenderTarget ) {\n\n\t\t\t\tuv2ScaleMap = uv2ScaleMap.texture;\n\n\t\t\t}\n\n\t\t\tif ( uv2ScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tuv2ScaleMap.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uv2Transform.value.copy( uv2ScaleMap.matrix );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsLine( uniforms, material ) {\n\n\t\tuniforms.diffuse.value.copy( material.color );\n\t\tuniforms.opacity.value = material.opacity;\n\n\t}\n\n\tfunction refreshUniformsDash( uniforms, material ) {\n\n\t\tuniforms.dashSize.value = material.dashSize;\n\t\tuniforms.totalSize.value = material.dashSize + material.gapSize;\n\t\tuniforms.scale.value = material.scale;\n\n\t}\n\n\tfunction refreshUniformsPoints( uniforms, material, pixelRatio, height ) {\n\n\t\tuniforms.diffuse.value.copy( material.color );\n\t\tuniforms.opacity.value = material.opacity;\n\t\tuniforms.size.value = material.size * pixelRatio;\n\t\tuniforms.scale.value = height * 0.5;\n\n\t\tif ( material.map ) {\n\n\t\t\tuniforms.map.value = material.map;\n\n\t\t}\n\n\t\tif ( material.alphaMap ) {\n\n\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities\n\t\t// 1. color map\n\t\t// 2. alpha map\n\n\t\tlet uvScaleMap;\n\n\t\tif ( material.map ) {\n\n\t\t\tuvScaleMap = material.map;\n\n\t\t} else if ( material.alphaMap ) {\n\n\t\t\tuvScaleMap = material.alphaMap;\n\n\t\t}\n\n\t\tif ( uvScaleMap !== undefined ) {\n\n\t\t\tif ( uvScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tuvScaleMap.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uvTransform.value.copy( uvScaleMap.matrix );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsSprites( uniforms, material ) {\n\n\t\tuniforms.diffuse.value.copy( material.color );\n\t\tuniforms.opacity.value = material.opacity;\n\t\tuniforms.rotation.value = material.rotation;\n\n\t\tif ( material.map ) {\n\n\t\t\tuniforms.map.value = material.map;\n\n\t\t}\n\n\t\tif ( material.alphaMap ) {\n\n\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities\n\t\t// 1. color map\n\t\t// 2. alpha map\n\n\t\tlet uvScaleMap;\n\n\t\tif ( material.map ) {\n\n\t\t\tuvScaleMap = material.map;\n\n\t\t} else if ( material.alphaMap ) {\n\n\t\t\tuvScaleMap = material.alphaMap;\n\n\t\t}\n\n\t\tif ( uvScaleMap !== undefined ) {\n\n\t\t\tif ( uvScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tuvScaleMap.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uvTransform.value.copy( uvScaleMap.matrix );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsLambert( uniforms, material ) {\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsPhong( uniforms, material ) {\n\n\t\tuniforms.specular.value.copy( material.specular );\n\t\tuniforms.shininess.value = Math.max( material.shininess, 1e-4 ); // to prevent pow( 0.0, 0.0 )\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsToon( uniforms, material ) {\n\n\t\tif ( material.gradientMap ) {\n\n\t\t\tuniforms.gradientMap.value = material.gradientMap;\n\n\t\t}\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsStandard( uniforms, material ) {\n\n\t\tuniforms.roughness.value = material.roughness;\n\t\tuniforms.metalness.value = material.metalness;\n\n\t\tif ( material.roughnessMap ) {\n\n\t\t\tuniforms.roughnessMap.value = material.roughnessMap;\n\n\t\t}\n\n\t\tif ( material.metalnessMap ) {\n\n\t\t\tuniforms.metalnessMap.value = material.metalnessMap;\n\n\t\t}\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t\tconst envMap = properties.get( material ).envMap;\n\n\t\tif ( envMap ) {\n\n\t\t\t//uniforms.envMap.value = material.envMap; // part of uniforms common\n\t\t\tuniforms.envMapIntensity.value = material.envMapIntensity;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsPhysical( uniforms, material ) {\n\n\t\trefreshUniformsStandard( uniforms, material );\n\n\t\tuniforms.reflectivity.value = material.reflectivity; // also part of uniforms common\n\n\t\tuniforms.clearcoat.value = material.clearcoat;\n\t\tuniforms.clearcoatRoughness.value = material.clearcoatRoughness;\n\t\tif ( material.sheen ) uniforms.sheen.value.copy( material.sheen );\n\n\t\tif ( material.clearcoatMap ) {\n\n\t\t\tuniforms.clearcoatMap.value = material.clearcoatMap;\n\n\t\t}\n\n\t\tif ( material.clearcoatRoughnessMap ) {\n\n\t\t\tuniforms.clearcoatRoughnessMap.value = material.clearcoatRoughnessMap;\n\n\t\t}\n\n\t\tif ( material.clearcoatNormalMap ) {\n\n\t\t\tuniforms.clearcoatNormalScale.value.copy( material.clearcoatNormalScale );\n\t\t\tuniforms.clearcoatNormalMap.value = material.clearcoatNormalMap;\n\n\t\t\tif ( material.side === BackSide ) {\n\n\t\t\t\tuniforms.clearcoatNormalScale.value.negate();\n\n\t\t\t}\n\n\t\t}\n\n\t\tuniforms.transmission.value = material.transmission;\n\n\t\tif ( material.transmissionMap ) {\n\n\t\t\tuniforms.transmissionMap.value = material.transmissionMap;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsMatcap( uniforms, material ) {\n\n\t\tif ( material.matcap ) {\n\n\t\t\tuniforms.matcap.value = material.matcap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsDepth( uniforms, material ) {\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsDistance( uniforms, material ) {\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t\tuniforms.referencePosition.value.copy( material.referencePosition );\n\t\tuniforms.nearDistance.value = material.nearDistance;\n\t\tuniforms.farDistance.value = material.farDistance;\n\n\t}\n\n\tfunction refreshUniformsNormal( uniforms, material ) {\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\treturn {\n\t\trefreshFogUniforms: refreshFogUniforms,\n\t\trefreshMaterialUniforms: refreshMaterialUniforms\n\t};\n\n}\n\nfunction WebGLRenderer( parameters ) {\n\n\tparameters = parameters || {};\n\n\tconst _canvas = parameters.canvas !== undefined ? parameters.canvas : document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' ),\n\t\t_context = parameters.context !== undefined ? parameters.context : null,\n\n\t\t_alpha = parameters.alpha !== undefined ? parameters.alpha : false,\n\t\t_depth = parameters.depth !== undefined ? parameters.depth : true,\n\t\t_stencil = parameters.stencil !== undefined ? parameters.stencil : true,\n\t\t_antialias = parameters.antialias !== undefined ? parameters.antialias : false,\n\t\t_premultipliedAlpha = parameters.premultipliedAlpha !== undefined ? parameters.premultipliedAlpha : true,\n\t\t_preserveDrawingBuffer = parameters.preserveDrawingBuffer !== undefined ? parameters.preserveDrawingBuffer : false,\n\t\t_powerPreference = parameters.powerPreference !== undefined ? parameters.powerPreference : 'default',\n\t\t_failIfMajorPerformanceCaveat = parameters.failIfMajorPerformanceCaveat !== undefined ? parameters.failIfMajorPerformanceCaveat : false;\n\n\tlet currentRenderList = null;\n\tlet currentRenderState = null;\n\n\t// public properties\n\n\tthis.domElement = _canvas;\n\n\t// Debug configuration container\n\tthis.debug = {\n\n\t\t/**\n\t\t * Enables error checking and reporting when shader programs are being compiled\n\t\t * @type {boolean}\n\t\t */\n\t\tcheckShaderErrors: true\n\t};\n\n\t// clearing\n\n\tthis.autoClear = true;\n\tthis.autoClearColor = true;\n\tthis.autoClearDepth = true;\n\tthis.autoClearStencil = true;\n\n\t// scene graph\n\n\tthis.sortObjects = true;\n\n\t// user-defined clipping\n\n\tthis.clippingPlanes = [];\n\tthis.localClippingEnabled = false;\n\n\t// physically based shading\n\n\tthis.gammaFactor = 2.0;\t// for backwards compatibility\n\tthis.outputEncoding = LinearEncoding;\n\n\t// physical lights\n\n\tthis.physicallyCorrectLights = false;\n\n\t// tone mapping\n\n\tthis.toneMapping = NoToneMapping;\n\tthis.toneMappingExposure = 1.0;\n\n\t// morphs\n\n\tthis.maxMorphTargets = 8;\n\tthis.maxMorphNormals = 4;\n\n\t// internal properties\n\n\tconst _this = this;\n\n\tlet _isContextLost = false;\n\n\t// internal state cache\n\n\tlet _framebuffer = null;\n\n\tlet _currentActiveCubeFace = 0;\n\tlet _currentActiveMipmapLevel = 0;\n\tlet _currentRenderTarget = null;\n\tlet _currentFramebuffer = null;\n\tlet _currentMaterialId = - 1;\n\n\tlet _currentCamera = null;\n\tlet _currentArrayCamera = null;\n\n\tconst _currentViewport = new Vector4();\n\tconst _currentScissor = new Vector4();\n\tlet _currentScissorTest = null;\n\n\t//\n\n\tlet _width = _canvas.width;\n\tlet _height = _canvas.height;\n\n\tlet _pixelRatio = 1;\n\tlet _opaqueSort = null;\n\tlet _transparentSort = null;\n\n\tconst _viewport = new Vector4( 0, 0, _width, _height );\n\tconst _scissor = new Vector4( 0, 0, _width, _height );\n\tlet _scissorTest = false;\n\n\t// frustum\n\n\tconst _frustum = new Frustum();\n\n\t// clipping\n\n\tlet _clippingEnabled = false;\n\tlet _localClippingEnabled = false;\n\n\t// camera matrices cache\n\n\tconst _projScreenMatrix = new Matrix4();\n\n\tconst _vector3 = new Vector3();\n\n\tconst _emptyScene = { background: null, fog: null, environment: null, overrideMaterial: null, isScene: true };\n\n\tfunction getTargetPixelRatio() {\n\n\t\treturn _currentRenderTarget === null ? _pixelRatio : 1;\n\n\t}\n\n\t// initialize\n\n\tlet _gl = _context;\n\n\tfunction getContext( contextNames, contextAttributes ) {\n\n\t\tfor ( let i = 0; i < contextNames.length; i ++ ) {\n\n\t\t\tconst contextName = contextNames[ i ];\n\t\t\tconst context = _canvas.getContext( contextName, contextAttributes );\n\t\t\tif ( context !== null ) return context;\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\ttry {\n\n\t\tconst contextAttributes = {\n\t\t\talpha: _alpha,\n\t\t\tdepth: _depth,\n\t\t\tstencil: _stencil,\n\t\t\tantialias: _antialias,\n\t\t\tpremultipliedAlpha: _premultipliedAlpha,\n\t\t\tpreserveDrawingBuffer: _preserveDrawingBuffer,\n\t\t\tpowerPreference: _powerPreference,\n\t\t\tfailIfMajorPerformanceCaveat: _failIfMajorPerformanceCaveat\n\t\t};\n\n\t\t// event listeners must be registered before WebGL context is created, see #12753\n\n\t\t_canvas.addEventListener( 'webglcontextlost', onContextLost, false );\n\t\t_canvas.addEventListener( 'webglcontextrestored', onContextRestore, false );\n\n\t\tif ( _gl === null ) {\n\n\t\t\tconst contextNames = [ 'webgl2', 'webgl', 'experimental-webgl' ];\n\n\t\t\tif ( _this.isWebGL1Renderer === true ) {\n\n\t\t\t\tcontextNames.shift();\n\n\t\t\t}\n\n\t\t\t_gl = getContext( contextNames, contextAttributes );\n\n\t\t\tif ( _gl === null ) {\n\n\t\t\t\tif ( getContext( contextNames ) ) {\n\n\t\t\t\t\tthrow new Error( 'Error creating WebGL context with your selected attributes.' );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthrow new Error( 'Error creating WebGL context.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Some experimental-webgl implementations do not have getShaderPrecisionFormat\n\n\t\tif ( _gl.getShaderPrecisionFormat === undefined ) {\n\n\t\t\t_gl.getShaderPrecisionFormat = function () {\n\n\t\t\t\treturn { 'rangeMin': 1, 'rangeMax': 1, 'precision': 1 };\n\n\t\t\t};\n\n\t\t}\n\n\t} catch ( error ) {\n\n\t\tconsole.error( 'THREE.WebGLRenderer: ' + error.message );\n\t\tthrow error;\n\n\t}\n\n\tlet extensions, capabilities, state, info;\n\tlet properties, textures, cubemaps, attributes, geometries, objects;\n\tlet programCache, materials, renderLists, renderStates, clipping;\n\n\tlet background, morphtargets, bufferRenderer, indexedBufferRenderer;\n\n\tlet utils, bindingStates;\n\n\tfunction initGLContext() {\n\n\t\textensions = new WebGLExtensions( _gl );\n\n\t\tcapabilities = new WebGLCapabilities( _gl, extensions, parameters );\n\n\t\tif ( capabilities.isWebGL2 === false ) {\n\n\t\t\textensions.get( 'WEBGL_depth_texture' );\n\t\t\textensions.get( 'OES_texture_float' );\n\t\t\textensions.get( 'OES_texture_half_float' );\n\t\t\textensions.get( 'OES_texture_half_float_linear' );\n\t\t\textensions.get( 'OES_standard_derivatives' );\n\t\t\textensions.get( 'OES_element_index_uint' );\n\t\t\textensions.get( 'OES_vertex_array_object' );\n\t\t\textensions.get( 'ANGLE_instanced_arrays' );\n\n\t\t}\n\n\t\textensions.get( 'OES_texture_float_linear' );\n\n\t\tutils = new WebGLUtils( _gl, extensions, capabilities );\n\n\t\tstate = new WebGLState( _gl, extensions, capabilities );\n\t\tstate.scissor( _currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio ).floor() );\n\t\tstate.viewport( _currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio ).floor() );\n\n\t\tinfo = new WebGLInfo( _gl );\n\t\tproperties = new WebGLProperties();\n\t\ttextures = new WebGLTextures( _gl, extensions, state, properties, capabilities, utils, info );\n\t\tcubemaps = new WebGLCubeMaps( _this );\n\t\tattributes = new WebGLAttributes( _gl, capabilities );\n\t\tbindingStates = new WebGLBindingStates( _gl, extensions, attributes, capabilities );\n\t\tgeometries = new WebGLGeometries( _gl, attributes, info, bindingStates );\n\t\tobjects = new WebGLObjects( _gl, geometries, attributes, info );\n\t\tmorphtargets = new WebGLMorphtargets( _gl );\n\t\tclipping = new WebGLClipping( properties );\n\t\tprogramCache = new WebGLPrograms( _this, cubemaps, extensions, capabilities, bindingStates, clipping );\n\t\tmaterials = new WebGLMaterials( properties );\n\t\trenderLists = new WebGLRenderLists( properties );\n\t\trenderStates = new WebGLRenderStates( extensions, capabilities );\n\t\tbackground = new WebGLBackground( _this, cubemaps, state, objects, _premultipliedAlpha );\n\n\t\tbufferRenderer = new WebGLBufferRenderer( _gl, extensions, info, capabilities );\n\t\tindexedBufferRenderer = new WebGLIndexedBufferRenderer( _gl, extensions, info, capabilities );\n\n\t\tinfo.programs = programCache.programs;\n\n\t\t_this.capabilities = capabilities;\n\t\t_this.extensions = extensions;\n\t\t_this.properties = properties;\n\t\t_this.renderLists = renderLists;\n\t\t_this.state = state;\n\t\t_this.info = info;\n\n\t}\n\n\tinitGLContext();\n\n\t// xr\n\n\tconst xr = new WebXRManager( _this, _gl );\n\n\tthis.xr = xr;\n\n\t// shadow map\n\n\tconst shadowMap = new WebGLShadowMap( _this, objects, capabilities.maxTextureSize );\n\n\tthis.shadowMap = shadowMap;\n\n\t// API\n\n\tthis.getContext = function () {\n\n\t\treturn _gl;\n\n\t};\n\n\tthis.getContextAttributes = function () {\n\n\t\treturn _gl.getContextAttributes();\n\n\t};\n\n\tthis.forceContextLoss = function () {\n\n\t\tconst extension = extensions.get( 'WEBGL_lose_context' );\n\t\tif ( extension ) extension.loseContext();\n\n\t};\n\n\tthis.forceContextRestore = function () {\n\n\t\tconst extension = extensions.get( 'WEBGL_lose_context' );\n\t\tif ( extension ) extension.restoreContext();\n\n\t};\n\n\tthis.getPixelRatio = function () {\n\n\t\treturn _pixelRatio;\n\n\t};\n\n\tthis.setPixelRatio = function ( value ) {\n\n\t\tif ( value === undefined ) return;\n\n\t\t_pixelRatio = value;\n\n\t\tthis.setSize( _width, _height, false );\n\n\t};\n\n\tthis.getSize = function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'WebGLRenderer: .getsize() now requires a Vector2 as an argument' );\n\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn target.set( _width, _height );\n\n\t};\n\n\tthis.setSize = function ( width, height, updateStyle ) {\n\n\t\tif ( xr.isPresenting ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Can\\'t change size while VR device is presenting.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\t_width = width;\n\t\t_height = height;\n\n\t\t_canvas.width = Math.floor( width * _pixelRatio );\n\t\t_canvas.height = Math.floor( height * _pixelRatio );\n\n\t\tif ( updateStyle !== false ) {\n\n\t\t\t_canvas.style.width = width + 'px';\n\t\t\t_canvas.style.height = height + 'px';\n\n\t\t}\n\n\t\tthis.setViewport( 0, 0, width, height );\n\n\t};\n\n\tthis.getDrawingBufferSize = function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument' );\n\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn target.set( _width * _pixelRatio, _height * _pixelRatio ).floor();\n\n\t};\n\n\tthis.setDrawingBufferSize = function ( width, height, pixelRatio ) {\n\n\t\t_width = width;\n\t\t_height = height;\n\n\t\t_pixelRatio = pixelRatio;\n\n\t\t_canvas.width = Math.floor( width * pixelRatio );\n\t\t_canvas.height = Math.floor( height * pixelRatio );\n\n\t\tthis.setViewport( 0, 0, width, height );\n\n\t};\n\n\tthis.getCurrentViewport = function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument' );\n\n\t\t\ttarget = new Vector4();\n\n\t\t}\n\n\t\treturn target.copy( _currentViewport );\n\n\t};\n\n\tthis.getViewport = function ( target ) {\n\n\t\treturn target.copy( _viewport );\n\n\t};\n\n\tthis.setViewport = function ( x, y, width, height ) {\n\n\t\tif ( x.isVector4 ) {\n\n\t\t\t_viewport.set( x.x, x.y, x.z, x.w );\n\n\t\t} else {\n\n\t\t\t_viewport.set( x, y, width, height );\n\n\t\t}\n\n\t\tstate.viewport( _currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio ).floor() );\n\n\t};\n\n\tthis.getScissor = function ( target ) {\n\n\t\treturn target.copy( _scissor );\n\n\t};\n\n\tthis.setScissor = function ( x, y, width, height ) {\n\n\t\tif ( x.isVector4 ) {\n\n\t\t\t_scissor.set( x.x, x.y, x.z, x.w );\n\n\t\t} else {\n\n\t\t\t_scissor.set( x, y, width, height );\n\n\t\t}\n\n\t\tstate.scissor( _currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio ).floor() );\n\n\t};\n\n\tthis.getScissorTest = function () {\n\n\t\treturn _scissorTest;\n\n\t};\n\n\tthis.setScissorTest = function ( boolean ) {\n\n\t\tstate.setScissorTest( _scissorTest = boolean );\n\n\t};\n\n\tthis.setOpaqueSort = function ( method ) {\n\n\t\t_opaqueSort = method;\n\n\t};\n\n\tthis.setTransparentSort = function ( method ) {\n\n\t\t_transparentSort = method;\n\n\t};\n\n\t// Clearing\n\n\tthis.getClearColor = function () {\n\n\t\treturn background.getClearColor();\n\n\t};\n\n\tthis.setClearColor = function () {\n\n\t\tbackground.setClearColor.apply( background, arguments );\n\n\t};\n\n\tthis.getClearAlpha = function () {\n\n\t\treturn background.getClearAlpha();\n\n\t};\n\n\tthis.setClearAlpha = function () {\n\n\t\tbackground.setClearAlpha.apply( background, arguments );\n\n\t};\n\n\tthis.clear = function ( color, depth, stencil ) {\n\n\t\tlet bits = 0;\n\n\t\tif ( color === undefined || color ) bits |= 16384;\n\t\tif ( depth === undefined || depth ) bits |= 256;\n\t\tif ( stencil === undefined || stencil ) bits |= 1024;\n\n\t\t_gl.clear( bits );\n\n\t};\n\n\tthis.clearColor = function () {\n\n\t\tthis.clear( true, false, false );\n\n\t};\n\n\tthis.clearDepth = function () {\n\n\t\tthis.clear( false, true, false );\n\n\t};\n\n\tthis.clearStencil = function () {\n\n\t\tthis.clear( false, false, true );\n\n\t};\n\n\t//\n\n\tthis.dispose = function () {\n\n\t\t_canvas.removeEventListener( 'webglcontextlost', onContextLost, false );\n\t\t_canvas.removeEventListener( 'webglcontextrestored', onContextRestore, false );\n\n\t\trenderLists.dispose();\n\t\trenderStates.dispose();\n\t\tproperties.dispose();\n\t\tcubemaps.dispose();\n\t\tobjects.dispose();\n\t\tbindingStates.dispose();\n\n\t\txr.dispose();\n\n\t\tanimation.stop();\n\n\t};\n\n\t// Events\n\n\tfunction onContextLost( event ) {\n\n\t\tevent.preventDefault();\n\n\t\tconsole.log( 'THREE.WebGLRenderer: Context Lost.' );\n\n\t\t_isContextLost = true;\n\n\t}\n\n\tfunction onContextRestore( /* event */ ) {\n\n\t\tconsole.log( 'THREE.WebGLRenderer: Context Restored.' );\n\n\t\t_isContextLost = false;\n\n\t\tinitGLContext();\n\n\t}\n\n\tfunction onMaterialDispose( event ) {\n\n\t\tconst material = event.target;\n\n\t\tmaterial.removeEventListener( 'dispose', onMaterialDispose );\n\n\t\tdeallocateMaterial( material );\n\n\t}\n\n\t// Buffer deallocation\n\n\tfunction deallocateMaterial( material ) {\n\n\t\treleaseMaterialProgramReference( material );\n\n\t\tproperties.remove( material );\n\n\t}\n\n\n\tfunction releaseMaterialProgramReference( material ) {\n\n\t\tconst programInfo = properties.get( material ).program;\n\n\t\tif ( programInfo !== undefined ) {\n\n\t\t\tprogramCache.releaseProgram( programInfo );\n\n\t\t}\n\n\t}\n\n\t// Buffer rendering\n\n\tfunction renderObjectImmediate( object, program ) {\n\n\t\tobject.render( function ( object ) {\n\n\t\t\t_this.renderBufferImmediate( object, program );\n\n\t\t} );\n\n\t}\n\n\tthis.renderBufferImmediate = function ( object, program ) {\n\n\t\tbindingStates.initAttributes();\n\n\t\tconst buffers = properties.get( object );\n\n\t\tif ( object.hasPositions && ! buffers.position ) buffers.position = _gl.createBuffer();\n\t\tif ( object.hasNormals && ! buffers.normal ) buffers.normal = _gl.createBuffer();\n\t\tif ( object.hasUvs && ! buffers.uv ) buffers.uv = _gl.createBuffer();\n\t\tif ( object.hasColors && ! buffers.color ) buffers.color = _gl.createBuffer();\n\n\t\tconst programAttributes = program.getAttributes();\n\n\t\tif ( object.hasPositions ) {\n\n\t\t\t_gl.bindBuffer( 34962, buffers.position );\n\t\t\t_gl.bufferData( 34962, object.positionArray, 35048 );\n\n\t\t\tbindingStates.enableAttribute( programAttributes.position );\n\t\t\t_gl.vertexAttribPointer( programAttributes.position, 3, 5126, false, 0, 0 );\n\n\t\t}\n\n\t\tif ( object.hasNormals ) {\n\n\t\t\t_gl.bindBuffer( 34962, buffers.normal );\n\t\t\t_gl.bufferData( 34962, object.normalArray, 35048 );\n\n\t\t\tbindingStates.enableAttribute( programAttributes.normal );\n\t\t\t_gl.vertexAttribPointer( programAttributes.normal, 3, 5126, false, 0, 0 );\n\n\t\t}\n\n\t\tif ( object.hasUvs ) {\n\n\t\t\t_gl.bindBuffer( 34962, buffers.uv );\n\t\t\t_gl.bufferData( 34962, object.uvArray, 35048 );\n\n\t\t\tbindingStates.enableAttribute( programAttributes.uv );\n\t\t\t_gl.vertexAttribPointer( programAttributes.uv, 2, 5126, false, 0, 0 );\n\n\t\t}\n\n\t\tif ( object.hasColors ) {\n\n\t\t\t_gl.bindBuffer( 34962, buffers.color );\n\t\t\t_gl.bufferData( 34962, object.colorArray, 35048 );\n\n\t\t\tbindingStates.enableAttribute( programAttributes.color );\n\t\t\t_gl.vertexAttribPointer( programAttributes.color, 3, 5126, false, 0, 0 );\n\n\t\t}\n\n\t\tbindingStates.disableUnusedAttributes();\n\n\t\t_gl.drawArrays( 4, 0, object.count );\n\n\t\tobject.count = 0;\n\n\t};\n\n\tthis.renderBufferDirect = function ( camera, scene, geometry, material, object, group ) {\n\n\t\tif ( scene === null ) scene = _emptyScene; // renderBufferDirect second parameter used to be fog (could be null)\n\n\t\tconst frontFaceCW = ( object.isMesh && object.matrixWorld.determinant() < 0 );\n\n\t\tconst program = setProgram( camera, scene, material, object );\n\n\t\tstate.setMaterial( material, frontFaceCW );\n\n\t\t//\n\n\t\tlet index = geometry.index;\n\t\tconst position = geometry.attributes.position;\n\n\t\t//\n\n\t\tif ( index === null ) {\n\n\t\t\tif ( position === undefined || position.count === 0 ) return;\n\n\t\t} else if ( index.count === 0 ) {\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t//\n\n\t\tlet rangeFactor = 1;\n\n\t\tif ( material.wireframe === true ) {\n\n\t\t\tindex = geometries.getWireframeAttribute( geometry );\n\t\t\trangeFactor = 2;\n\n\t\t}\n\n\t\tif ( material.morphTargets || material.morphNormals ) {\n\n\t\t\tmorphtargets.update( object, geometry, material, program );\n\n\t\t}\n\n\t\tbindingStates.setup( object, material, program, geometry, index );\n\n\t\tlet attribute;\n\t\tlet renderer = bufferRenderer;\n\n\t\tif ( index !== null ) {\n\n\t\t\tattribute = attributes.get( index );\n\n\t\t\trenderer = indexedBufferRenderer;\n\t\t\trenderer.setIndex( attribute );\n\n\t\t}\n\n\t\t//\n\n\t\tconst dataCount = ( index !== null ) ? index.count : position.count;\n\n\t\tconst rangeStart = geometry.drawRange.start * rangeFactor;\n\t\tconst rangeCount = geometry.drawRange.count * rangeFactor;\n\n\t\tconst groupStart = group !== null ? group.start * rangeFactor : 0;\n\t\tconst groupCount = group !== null ? group.count * rangeFactor : Infinity;\n\n\t\tconst drawStart = Math.max( rangeStart, groupStart );\n\t\tconst drawEnd = Math.min( dataCount, rangeStart + rangeCount, groupStart + groupCount ) - 1;\n\n\t\tconst drawCount = Math.max( 0, drawEnd - drawStart + 1 );\n\n\t\tif ( drawCount === 0 ) return;\n\n\t\t//\n\n\t\tif ( object.isMesh ) {\n\n\t\t\tif ( material.wireframe === true ) {\n\n\t\t\t\tstate.setLineWidth( material.wireframeLinewidth * getTargetPixelRatio() );\n\t\t\t\trenderer.setMode( 1 );\n\n\t\t\t} else {\n\n\t\t\t\trenderer.setMode( 4 );\n\n\t\t\t}\n\n\t\t} else if ( object.isLine ) {\n\n\t\t\tlet lineWidth = material.linewidth;\n\n\t\t\tif ( lineWidth === undefined ) lineWidth = 1; // Not using Line*Material\n\n\t\t\tstate.setLineWidth( lineWidth * getTargetPixelRatio() );\n\n\t\t\tif ( object.isLineSegments ) {\n\n\t\t\t\trenderer.setMode( 1 );\n\n\t\t\t} else if ( object.isLineLoop ) {\n\n\t\t\t\trenderer.setMode( 2 );\n\n\t\t\t} else {\n\n\t\t\t\trenderer.setMode( 3 );\n\n\t\t\t}\n\n\t\t} else if ( object.isPoints ) {\n\n\t\t\trenderer.setMode( 0 );\n\n\t\t} else if ( object.isSprite ) {\n\n\t\t\trenderer.setMode( 4 );\n\n\t\t}\n\n\t\tif ( object.isInstancedMesh ) {\n\n\t\t\trenderer.renderInstances( drawStart, drawCount, object.count );\n\n\t\t} else if ( geometry.isInstancedBufferGeometry ) {\n\n\t\t\tconst instanceCount = Math.min( geometry.instanceCount, geometry._maxInstanceCount );\n\n\t\t\trenderer.renderInstances( drawStart, drawCount, instanceCount );\n\n\t\t} else {\n\n\t\t\trenderer.render( drawStart, drawCount );\n\n\t\t}\n\n\t};\n\n\t// Compile\n\n\tthis.compile = function ( scene, camera ) {\n\n\t\tcurrentRenderState = renderStates.get( scene, camera );\n\t\tcurrentRenderState.init();\n\n\t\tscene.traverseVisible( function ( object ) {\n\n\t\t\tif ( object.isLight && object.layers.test( camera.layers ) ) {\n\n\t\t\t\tcurrentRenderState.pushLight( object );\n\n\t\t\t\tif ( object.castShadow ) {\n\n\t\t\t\t\tcurrentRenderState.pushShadow( object );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} );\n\n\t\tcurrentRenderState.setupLights( camera );\n\n\t\tconst compiled = new WeakMap();\n\n\t\tscene.traverse( function ( object ) {\n\n\t\t\tconst material = object.material;\n\n\t\t\tif ( material ) {\n\n\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\tfor ( let i = 0; i < material.length; i ++ ) {\n\n\t\t\t\t\t\tconst material2 = material[ i ];\n\n\t\t\t\t\t\tif ( compiled.has( material2 ) === false ) {\n\n\t\t\t\t\t\t\tinitMaterial( material2, scene, object );\n\t\t\t\t\t\t\tcompiled.set( material2 );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( compiled.has( material ) === false ) {\n\n\t\t\t\t\tinitMaterial( material, scene, object );\n\t\t\t\t\tcompiled.set( material );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} );\n\n\t};\n\n\t// Animation Loop\n\n\tlet onAnimationFrameCallback = null;\n\n\tfunction onAnimationFrame( time ) {\n\n\t\tif ( xr.isPresenting ) return;\n\t\tif ( onAnimationFrameCallback ) onAnimationFrameCallback( time );\n\n\t}\n\n\tconst animation = new WebGLAnimation();\n\tanimation.setAnimationLoop( onAnimationFrame );\n\n\tif ( typeof window !== 'undefined' ) animation.setContext( window );\n\n\tthis.setAnimationLoop = function ( callback ) {\n\n\t\tonAnimationFrameCallback = callback;\n\t\txr.setAnimationLoop( callback );\n\n\t\t( callback === null ) ? animation.stop() : animation.start();\n\n\t};\n\n\t// Rendering\n\n\tthis.render = function ( scene, camera ) {\n\n\t\tlet renderTarget, forceClear;\n\n\t\tif ( arguments[ 2 ] !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead.' );\n\t\t\trenderTarget = arguments[ 2 ];\n\n\t\t}\n\n\t\tif ( arguments[ 3 ] !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead.' );\n\t\t\tforceClear = arguments[ 3 ];\n\n\t\t}\n\n\t\tif ( camera !== undefined && camera.isCamera !== true ) {\n\n\t\t\tconsole.error( 'THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( _isContextLost === true ) return;\n\n\t\t// reset caching for this frame\n\n\t\tbindingStates.resetDefaultState();\n\t\t_currentMaterialId = - 1;\n\t\t_currentCamera = null;\n\n\t\t// update scene graph\n\n\t\tif ( scene.autoUpdate === true ) scene.updateMatrixWorld();\n\n\t\t// update camera matrices and frustum\n\n\t\tif ( camera.parent === null ) camera.updateMatrixWorld();\n\n\t\tif ( xr.enabled === true && xr.isPresenting === true ) {\n\n\t\t\tcamera = xr.getCamera( camera );\n\n\t\t}\n\n\t\t//\n\t\tif ( scene.isScene === true ) scene.onBeforeRender( _this, scene, camera, renderTarget || _currentRenderTarget );\n\n\t\tcurrentRenderState = renderStates.get( scene, camera );\n\t\tcurrentRenderState.init();\n\n\t\t_projScreenMatrix.multiplyMatrices( camera.projectionMatrix, camera.matrixWorldInverse );\n\t\t_frustum.setFromProjectionMatrix( _projScreenMatrix );\n\n\t\t_localClippingEnabled = this.localClippingEnabled;\n\t\t_clippingEnabled = clipping.init( this.clippingPlanes, _localClippingEnabled, camera );\n\n\t\tcurrentRenderList = renderLists.get( scene, camera );\n\t\tcurrentRenderList.init();\n\n\t\tprojectObject( scene, camera, 0, _this.sortObjects );\n\n\t\tcurrentRenderList.finish();\n\n\t\tif ( _this.sortObjects === true ) {\n\n\t\t\tcurrentRenderList.sort( _opaqueSort, _transparentSort );\n\n\t\t}\n\n\t\t//\n\n\t\tif ( _clippingEnabled === true ) clipping.beginShadows();\n\n\t\tconst shadowsArray = currentRenderState.state.shadowsArray;\n\n\t\tshadowMap.render( shadowsArray, scene, camera );\n\n\t\tcurrentRenderState.setupLights( camera );\n\n\t\tif ( _clippingEnabled === true ) clipping.endShadows();\n\n\t\t//\n\n\t\tif ( this.info.autoReset === true ) this.info.reset();\n\n\t\tif ( renderTarget !== undefined ) {\n\n\t\t\tthis.setRenderTarget( renderTarget );\n\n\t\t}\n\n\t\t//\n\n\t\tbackground.render( currentRenderList, scene, camera, forceClear );\n\n\t\t// render scene\n\n\t\tconst opaqueObjects = currentRenderList.opaque;\n\t\tconst transparentObjects = currentRenderList.transparent;\n\n\t\tif ( opaqueObjects.length > 0 ) renderObjects( opaqueObjects, scene, camera );\n\t\tif ( transparentObjects.length > 0 ) renderObjects( transparentObjects, scene, camera );\n\n\t\t//\n\n\t\tif ( scene.isScene === true ) scene.onAfterRender( _this, scene, camera );\n\n\t\t//\n\n\t\tif ( _currentRenderTarget !== null ) {\n\n\t\t\t// Generate mipmap if we're using any kind of mipmap filtering\n\n\t\t\ttextures.updateRenderTargetMipmap( _currentRenderTarget );\n\n\t\t\t// resolve multisample renderbuffers to a single-sample texture if necessary\n\n\t\t\ttextures.updateMultisampleRenderTarget( _currentRenderTarget );\n\n\t\t}\n\n\t\t// Ensure depth buffer writing is enabled so it can be cleared on next render\n\n\t\tstate.buffers.depth.setTest( true );\n\t\tstate.buffers.depth.setMask( true );\n\t\tstate.buffers.color.setMask( true );\n\n\t\tstate.setPolygonOffset( false );\n\n\t\t// _gl.finish();\n\n\t\tcurrentRenderList = null;\n\t\tcurrentRenderState = null;\n\n\t};\n\n\tfunction projectObject( object, camera, groupOrder, sortObjects ) {\n\n\t\tif ( object.visible === false ) return;\n\n\t\tconst visible = object.layers.test( camera.layers );\n\n\t\tif ( visible ) {\n\n\t\t\tif ( object.isGroup ) {\n\n\t\t\t\tgroupOrder = object.renderOrder;\n\n\t\t\t} else if ( object.isLOD ) {\n\n\t\t\t\tif ( object.autoUpdate === true ) object.update( camera );\n\n\t\t\t} else if ( object.isLight ) {\n\n\t\t\t\tcurrentRenderState.pushLight( object );\n\n\t\t\t\tif ( object.castShadow ) {\n\n\t\t\t\t\tcurrentRenderState.pushShadow( object );\n\n\t\t\t\t}\n\n\t\t\t} else if ( object.isSprite ) {\n\n\t\t\t\tif ( ! object.frustumCulled || _frustum.intersectsSprite( object ) ) {\n\n\t\t\t\t\tif ( sortObjects ) {\n\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\n\t\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst geometry = objects.update( object );\n\t\t\t\t\tconst material = object.material;\n\n\t\t\t\t\tif ( material.visible ) {\n\n\t\t\t\t\t\tcurrentRenderList.push( object, geometry, material, groupOrder, _vector3.z, null );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( object.isImmediateRenderObject ) {\n\n\t\t\t\tif ( sortObjects ) {\n\n\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\n\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\n\n\t\t\t\t}\n\n\t\t\t\tcurrentRenderList.push( object, null, object.material, groupOrder, _vector3.z, null );\n\n\t\t\t} else if ( object.isMesh || object.isLine || object.isPoints ) {\n\n\t\t\t\tif ( object.isSkinnedMesh ) {\n\n\t\t\t\t\t// update skeleton only once in a frame\n\n\t\t\t\t\tif ( object.skeleton.frame !== info.render.frame ) {\n\n\t\t\t\t\t\tobject.skeleton.update();\n\t\t\t\t\t\tobject.skeleton.frame = info.render.frame;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( ! object.frustumCulled || _frustum.intersectsObject( object ) ) {\n\n\t\t\t\t\tif ( sortObjects ) {\n\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\n\t\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst geometry = objects.update( object );\n\t\t\t\t\tconst material = object.material;\n\n\t\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\t\tconst groups = geometry.groups;\n\n\t\t\t\t\t\tfor ( let i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\t\t\t\t\tconst group = groups[ i ];\n\t\t\t\t\t\t\tconst groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\t\tif ( groupMaterial && groupMaterial.visible ) {\n\n\t\t\t\t\t\t\t\tcurrentRenderList.push( object, geometry, groupMaterial, groupOrder, _vector3.z, group );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else if ( material.visible ) {\n\n\t\t\t\t\t\tcurrentRenderList.push( object, geometry, material, groupOrder, _vector3.z, null );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst children = object.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tprojectObject( children[ i ], camera, groupOrder, sortObjects );\n\n\t\t}\n\n\t}\n\n\tfunction renderObjects( renderList, scene, camera ) {\n\n\t\tconst overrideMaterial = scene.isScene === true ? scene.overrideMaterial : null;\n\n\t\tfor ( let i = 0, l = renderList.length; i < l; i ++ ) {\n\n\t\t\tconst renderItem = renderList[ i ];\n\n\t\t\tconst object = renderItem.object;\n\t\t\tconst geometry = renderItem.geometry;\n\t\t\tconst material = overrideMaterial === null ? renderItem.material : overrideMaterial;\n\t\t\tconst group = renderItem.group;\n\n\t\t\tif ( camera.isArrayCamera ) {\n\n\t\t\t\t_currentArrayCamera = camera;\n\n\t\t\t\tconst cameras = camera.cameras;\n\n\t\t\t\tfor ( let j = 0, jl = cameras.length; j < jl; j ++ ) {\n\n\t\t\t\t\tconst camera2 = cameras[ j ];\n\n\t\t\t\t\tif ( object.layers.test( camera2.layers ) ) {\n\n\t\t\t\t\t\tstate.viewport( _currentViewport.copy( camera2.viewport ) );\n\n\t\t\t\t\t\tcurrentRenderState.setupLights( camera2 );\n\n\t\t\t\t\t\trenderObject( object, scene, camera2, geometry, material, group );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t_currentArrayCamera = null;\n\n\t\t\t\trenderObject( object, scene, camera, geometry, material, group );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction renderObject( object, scene, camera, geometry, material, group ) {\n\n\t\tobject.onBeforeRender( _this, scene, camera, geometry, material, group );\n\t\tcurrentRenderState = renderStates.get( scene, _currentArrayCamera || camera );\n\n\t\tobject.modelViewMatrix.multiplyMatrices( camera.matrixWorldInverse, object.matrixWorld );\n\t\tobject.normalMatrix.getNormalMatrix( object.modelViewMatrix );\n\n\t\tif ( object.isImmediateRenderObject ) {\n\n\t\t\tconst program = setProgram( camera, scene, material, object );\n\n\t\t\tstate.setMaterial( material );\n\n\t\t\tbindingStates.reset();\n\n\t\t\trenderObjectImmediate( object, program );\n\n\t\t} else {\n\n\t\t\t_this.renderBufferDirect( camera, scene, geometry, material, object, group );\n\n\t\t}\n\n\t\tobject.onAfterRender( _this, scene, camera, geometry, material, group );\n\t\tcurrentRenderState = renderStates.get( scene, _currentArrayCamera || camera );\n\n\t}\n\n\tfunction initMaterial( material, scene, object ) {\n\n\t\tif ( scene.isScene !== true ) scene = _emptyScene; // scene could be a Mesh, Line, Points, ...\n\n\t\tconst materialProperties = properties.get( material );\n\n\t\tconst lights = currentRenderState.state.lights;\n\t\tconst shadowsArray = currentRenderState.state.shadowsArray;\n\n\t\tconst lightsStateVersion = lights.state.version;\n\n\t\tconst parameters = programCache.getParameters( material, lights.state, shadowsArray, scene, object );\n\t\tconst programCacheKey = programCache.getProgramCacheKey( parameters );\n\n\t\tlet program = materialProperties.program;\n\t\tlet programChange = true;\n\n\t\tif ( program === undefined ) {\n\n\t\t\t// new material\n\t\t\tmaterial.addEventListener( 'dispose', onMaterialDispose );\n\n\t\t} else if ( program.cacheKey !== programCacheKey ) {\n\n\t\t\t// changed glsl or parameters\n\t\t\treleaseMaterialProgramReference( material );\n\n\t\t} else if ( materialProperties.lightsStateVersion !== lightsStateVersion ) {\n\n\t\t\tprogramChange = false;\n\n\t\t} else if ( parameters.shaderID !== undefined ) {\n\n\t\t\t// same glsl and uniform list, envMap still needs the update here to avoid a frame-late effect\n\n\t\t\tconst environment = material.isMeshStandardMaterial ? scene.environment : null;\n\t\t\tmaterialProperties.envMap = cubemaps.get( material.envMap || environment );\n\n\t\t\treturn;\n\n\t\t} else {\n\n\t\t\t// only rebuild uniform list\n\t\t\tprogramChange = false;\n\n\t\t}\n\n\t\tif ( programChange ) {\n\n\t\t\tparameters.uniforms = programCache.getUniforms( material );\n\n\t\t\tmaterial.onBeforeCompile( parameters, _this );\n\n\t\t\tprogram = programCache.acquireProgram( parameters, programCacheKey );\n\n\t\t\tmaterialProperties.program = program;\n\t\t\tmaterialProperties.uniforms = parameters.uniforms;\n\t\t\tmaterialProperties.outputEncoding = parameters.outputEncoding;\n\n\t\t}\n\n\t\tconst uniforms = materialProperties.uniforms;\n\n\t\tif ( ! material.isShaderMaterial &&\n\t\t\t! material.isRawShaderMaterial ||\n\t\t\tmaterial.clipping === true ) {\n\n\t\t\tmaterialProperties.numClippingPlanes = clipping.numPlanes;\n\t\t\tmaterialProperties.numIntersection = clipping.numIntersection;\n\t\t\tuniforms.clippingPlanes = clipping.uniform;\n\n\t\t}\n\n\t\tmaterialProperties.environment = material.isMeshStandardMaterial ? scene.environment : null;\n\t\tmaterialProperties.fog = scene.fog;\n\t\tmaterialProperties.envMap = cubemaps.get( material.envMap || materialProperties.environment );\n\n\t\t// store the light setup it was created for\n\n\t\tmaterialProperties.needsLights = materialNeedsLights( material );\n\t\tmaterialProperties.lightsStateVersion = lightsStateVersion;\n\n\t\tif ( materialProperties.needsLights ) {\n\n\t\t\t// wire up the material to this renderer's lighting state\n\n\t\t\tuniforms.ambientLightColor.value = lights.state.ambient;\n\t\t\tuniforms.lightProbe.value = lights.state.probe;\n\t\t\tuniforms.directionalLights.value = lights.state.directional;\n\t\t\tuniforms.directionalLightShadows.value = lights.state.directionalShadow;\n\t\t\tuniforms.spotLights.value = lights.state.spot;\n\t\t\tuniforms.spotLightShadows.value = lights.state.spotShadow;\n\t\t\tuniforms.rectAreaLights.value = lights.state.rectArea;\n\t\t\tuniforms.ltc_1.value = lights.state.rectAreaLTC1;\n\t\t\tuniforms.ltc_2.value = lights.state.rectAreaLTC2;\n\t\t\tuniforms.pointLights.value = lights.state.point;\n\t\t\tuniforms.pointLightShadows.value = lights.state.pointShadow;\n\t\t\tuniforms.hemisphereLights.value = lights.state.hemi;\n\n\t\t\tuniforms.directionalShadowMap.value = lights.state.directionalShadowMap;\n\t\t\tuniforms.directionalShadowMatrix.value = lights.state.directionalShadowMatrix;\n\t\t\tuniforms.spotShadowMap.value = lights.state.spotShadowMap;\n\t\t\tuniforms.spotShadowMatrix.value = lights.state.spotShadowMatrix;\n\t\t\tuniforms.pointShadowMap.value = lights.state.pointShadowMap;\n\t\t\tuniforms.pointShadowMatrix.value = lights.state.pointShadowMatrix;\n\t\t\t// TODO (abelnation): add area lights shadow info to uniforms\n\n\t\t}\n\n\t\tconst progUniforms = materialProperties.program.getUniforms();\n\t\tconst uniformsList = WebGLUniforms.seqWithValue( progUniforms.seq, uniforms );\n\n\t\tmaterialProperties.uniformsList = uniformsList;\n\n\t}\n\n\tfunction setProgram( camera, scene, material, object ) {\n\n\t\tif ( scene.isScene !== true ) scene = _emptyScene; // scene could be a Mesh, Line, Points, ...\n\n\t\ttextures.resetTextureUnits();\n\n\t\tconst fog = scene.fog;\n\t\tconst environment = material.isMeshStandardMaterial ? scene.environment : null;\n\t\tconst encoding = ( _currentRenderTarget === null ) ? _this.outputEncoding : _currentRenderTarget.texture.encoding;\n\t\tconst envMap = cubemaps.get( material.envMap || environment );\n\n\t\tconst materialProperties = properties.get( material );\n\t\tconst lights = currentRenderState.state.lights;\n\n\t\tif ( _clippingEnabled === true ) {\n\n\t\t\tif ( _localClippingEnabled === true || camera !== _currentCamera ) {\n\n\t\t\t\tconst useCache =\n\t\t\t\t\tcamera === _currentCamera &&\n\t\t\t\t\tmaterial.id === _currentMaterialId;\n\n\t\t\t\t// we might want to call this function with some ClippingGroup\n\t\t\t\t// object instead of the material, once it becomes feasible\n\t\t\t\t// (#8465, #8379)\n\t\t\t\tclipping.setState( material, camera, useCache );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( material.version === materialProperties.__version ) {\n\n\t\t\tif ( material.fog && materialProperties.fog !== fog ) {\n\n\t\t\t\tinitMaterial( material, scene, object );\n\n\t\t\t} else if ( materialProperties.environment !== environment ) {\n\n\t\t\t\tinitMaterial( material, scene, object );\n\n\t\t\t} else if ( materialProperties.needsLights && ( materialProperties.lightsStateVersion !== lights.state.version ) ) {\n\n\t\t\t\tinitMaterial( material, scene, object );\n\n\t\t\t} else if ( materialProperties.numClippingPlanes !== undefined &&\n\t\t\t\t( materialProperties.numClippingPlanes !== clipping.numPlanes ||\n\t\t\t\tmaterialProperties.numIntersection !== clipping.numIntersection ) ) {\n\n\t\t\t\tinitMaterial( material, scene, object );\n\n\t\t\t} else if ( materialProperties.outputEncoding !== encoding ) {\n\n\t\t\t\tinitMaterial( material, scene, object );\n\n\t\t\t} else if ( materialProperties.envMap !== envMap ) {\n\n\t\t\t\tinitMaterial( material, scene, object );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tinitMaterial( material, scene, object );\n\t\t\tmaterialProperties.__version = material.version;\n\n\t\t}\n\n\t\tlet refreshProgram = false;\n\t\tlet refreshMaterial = false;\n\t\tlet refreshLights = false;\n\n\t\tconst program = materialProperties.program,\n\t\t\tp_uniforms = program.getUniforms(),\n\t\t\tm_uniforms = materialProperties.uniforms;\n\n\t\tif ( state.useProgram( program.program ) ) {\n\n\t\t\trefreshProgram = true;\n\t\t\trefreshMaterial = true;\n\t\t\trefreshLights = true;\n\n\t\t}\n\n\t\tif ( material.id !== _currentMaterialId ) {\n\n\t\t\t_currentMaterialId = material.id;\n\n\t\t\trefreshMaterial = true;\n\n\t\t}\n\n\t\tif ( refreshProgram || _currentCamera !== camera ) {\n\n\t\t\tp_uniforms.setValue( _gl, 'projectionMatrix', camera.projectionMatrix );\n\n\t\t\tif ( capabilities.logarithmicDepthBuffer ) {\n\n\t\t\t\tp_uniforms.setValue( _gl, 'logDepthBufFC',\n\t\t\t\t\t2.0 / ( Math.log( camera.far + 1.0 ) / Math.LN2 ) );\n\n\t\t\t}\n\n\t\t\tif ( _currentCamera !== camera ) {\n\n\t\t\t\t_currentCamera = camera;\n\n\t\t\t\t// lighting uniforms depend on the camera so enforce an update\n\t\t\t\t// now, in case this material supports lights - or later, when\n\t\t\t\t// the next material that does gets activated:\n\n\t\t\t\trefreshMaterial = true;\t\t// set to true on material change\n\t\t\t\trefreshLights = true;\t\t// remains set until update done\n\n\t\t\t}\n\n\t\t\t// load material specific uniforms\n\t\t\t// (shader material also gets them for the sake of genericity)\n\n\t\t\tif ( material.isShaderMaterial ||\n\t\t\t\tmaterial.isMeshPhongMaterial ||\n\t\t\t\tmaterial.isMeshToonMaterial ||\n\t\t\t\tmaterial.isMeshStandardMaterial ||\n\t\t\t\tmaterial.envMap ) {\n\n\t\t\t\tconst uCamPos = p_uniforms.map.cameraPosition;\n\n\t\t\t\tif ( uCamPos !== undefined ) {\n\n\t\t\t\t\tuCamPos.setValue( _gl,\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( camera.matrixWorld ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( material.isMeshPhongMaterial ||\n\t\t\t\tmaterial.isMeshToonMaterial ||\n\t\t\t\tmaterial.isMeshLambertMaterial ||\n\t\t\t\tmaterial.isMeshBasicMaterial ||\n\t\t\t\tmaterial.isMeshStandardMaterial ||\n\t\t\t\tmaterial.isShaderMaterial ) {\n\n\t\t\t\tp_uniforms.setValue( _gl, 'isOrthographic', camera.isOrthographicCamera === true );\n\n\t\t\t}\n\n\t\t\tif ( material.isMeshPhongMaterial ||\n\t\t\t\tmaterial.isMeshToonMaterial ||\n\t\t\t\tmaterial.isMeshLambertMaterial ||\n\t\t\t\tmaterial.isMeshBasicMaterial ||\n\t\t\t\tmaterial.isMeshStandardMaterial ||\n\t\t\t\tmaterial.isShaderMaterial ||\n\t\t\t\tmaterial.isShadowMaterial ||\n\t\t\t\tmaterial.skinning ) {\n\n\t\t\t\tp_uniforms.setValue( _gl, 'viewMatrix', camera.matrixWorldInverse );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// skinning uniforms must be set even if material didn't change\n\t\t// auto-setting of texture unit for bone texture must go before other textures\n\t\t// otherwise textures used for skinning can take over texture units reserved for other material textures\n\n\t\tif ( material.skinning ) {\n\n\t\t\tp_uniforms.setOptional( _gl, object, 'bindMatrix' );\n\t\t\tp_uniforms.setOptional( _gl, object, 'bindMatrixInverse' );\n\n\t\t\tconst skeleton = object.skeleton;\n\n\t\t\tif ( skeleton ) {\n\n\t\t\t\tconst bones = skeleton.bones;\n\n\t\t\t\tif ( capabilities.floatVertexTextures ) {\n\n\t\t\t\t\tif ( skeleton.boneTexture === undefined ) {\n\n\t\t\t\t\t\t// layout (1 matrix = 4 pixels)\n\t\t\t\t\t\t//      RGBA RGBA RGBA RGBA (=> column1, column2, column3, column4)\n\t\t\t\t\t\t//  with  8x8  pixel texture max   16 bones * 4 pixels =  (8 * 8)\n\t\t\t\t\t\t//       16x16 pixel texture max   64 bones * 4 pixels = (16 * 16)\n\t\t\t\t\t\t//       32x32 pixel texture max  256 bones * 4 pixels = (32 * 32)\n\t\t\t\t\t\t//       64x64 pixel texture max 1024 bones * 4 pixels = (64 * 64)\n\n\n\t\t\t\t\t\tlet size = Math.sqrt( bones.length * 4 ); // 4 pixels needed for 1 matrix\n\t\t\t\t\t\tsize = MathUtils.ceilPowerOfTwo( size );\n\t\t\t\t\t\tsize = Math.max( size, 4 );\n\n\t\t\t\t\t\tconst boneMatrices = new Float32Array( size * size * 4 ); // 4 floats per RGBA pixel\n\t\t\t\t\t\tboneMatrices.set( skeleton.boneMatrices ); // copy current values\n\n\t\t\t\t\t\tconst boneTexture = new DataTexture( boneMatrices, size, size, RGBAFormat, FloatType );\n\n\t\t\t\t\t\tskeleton.boneMatrices = boneMatrices;\n\t\t\t\t\t\tskeleton.boneTexture = boneTexture;\n\t\t\t\t\t\tskeleton.boneTextureSize = size;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tp_uniforms.setValue( _gl, 'boneTexture', skeleton.boneTexture, textures );\n\t\t\t\t\tp_uniforms.setValue( _gl, 'boneTextureSize', skeleton.boneTextureSize );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tp_uniforms.setOptional( _gl, skeleton, 'boneMatrices' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( refreshMaterial || materialProperties.receiveShadow !== object.receiveShadow ) {\n\n\t\t\tmaterialProperties.receiveShadow = object.receiveShadow;\n\t\t\tp_uniforms.setValue( _gl, 'receiveShadow', object.receiveShadow );\n\n\t\t}\n\n\t\tif ( refreshMaterial ) {\n\n\t\t\tp_uniforms.setValue( _gl, 'toneMappingExposure', _this.toneMappingExposure );\n\n\t\t\tif ( materialProperties.needsLights ) {\n\n\t\t\t\t// the current material requires lighting info\n\n\t\t\t\t// note: all lighting uniforms are always set correctly\n\t\t\t\t// they simply reference the renderer's state for their\n\t\t\t\t// values\n\t\t\t\t//\n\t\t\t\t// use the current material's .needsUpdate flags to set\n\t\t\t\t// the GL state when required\n\n\t\t\t\tmarkUniformsLightsNeedsUpdate( m_uniforms, refreshLights );\n\n\t\t\t}\n\n\t\t\t// refresh uniforms common to several materials\n\n\t\t\tif ( fog && material.fog ) {\n\n\t\t\t\tmaterials.refreshFogUniforms( m_uniforms, fog );\n\n\t\t\t}\n\n\t\t\tmaterials.refreshMaterialUniforms( m_uniforms, material, _pixelRatio, _height );\n\n\t\t\tWebGLUniforms.upload( _gl, materialProperties.uniformsList, m_uniforms, textures );\n\n\t\t}\n\n\t\tif ( material.isShaderMaterial && material.uniformsNeedUpdate === true ) {\n\n\t\t\tWebGLUniforms.upload( _gl, materialProperties.uniformsList, m_uniforms, textures );\n\t\t\tmaterial.uniformsNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( material.isSpriteMaterial ) {\n\n\t\t\tp_uniforms.setValue( _gl, 'center', object.center );\n\n\t\t}\n\n\t\t// common matrices\n\n\t\tp_uniforms.setValue( _gl, 'modelViewMatrix', object.modelViewMatrix );\n\t\tp_uniforms.setValue( _gl, 'normalMatrix', object.normalMatrix );\n\t\tp_uniforms.setValue( _gl, 'modelMatrix', object.matrixWorld );\n\n\t\treturn program;\n\n\t}\n\n\t// If uniforms are marked as clean, they don't need to be loaded to the GPU.\n\n\tfunction markUniformsLightsNeedsUpdate( uniforms, value ) {\n\n\t\tuniforms.ambientLightColor.needsUpdate = value;\n\t\tuniforms.lightProbe.needsUpdate = value;\n\n\t\tuniforms.directionalLights.needsUpdate = value;\n\t\tuniforms.directionalLightShadows.needsUpdate = value;\n\t\tuniforms.pointLights.needsUpdate = value;\n\t\tuniforms.pointLightShadows.needsUpdate = value;\n\t\tuniforms.spotLights.needsUpdate = value;\n\t\tuniforms.spotLightShadows.needsUpdate = value;\n\t\tuniforms.rectAreaLights.needsUpdate = value;\n\t\tuniforms.hemisphereLights.needsUpdate = value;\n\n\t}\n\n\tfunction materialNeedsLights( material ) {\n\n\t\treturn material.isMeshLambertMaterial || material.isMeshToonMaterial || material.isMeshPhongMaterial ||\n\t\t\tmaterial.isMeshStandardMaterial || material.isShadowMaterial ||\n\t\t\t( material.isShaderMaterial && material.lights === true );\n\n\t}\n\n\t//\n\tthis.setFramebuffer = function ( value ) {\n\n\t\tif ( _framebuffer !== value && _currentRenderTarget === null ) _gl.bindFramebuffer( 36160, value );\n\n\t\t_framebuffer = value;\n\n\t};\n\n\tthis.getActiveCubeFace = function () {\n\n\t\treturn _currentActiveCubeFace;\n\n\t};\n\n\tthis.getActiveMipmapLevel = function () {\n\n\t\treturn _currentActiveMipmapLevel;\n\n\t};\n\n\tthis.getRenderList = function () {\n\n\t\treturn currentRenderList;\n\n\t};\n\n\tthis.setRenderList = function ( renderList ) {\n\n\t\tcurrentRenderList = renderList;\n\n\t};\n\n\tthis.getRenderState = function () {\n\n\t\treturn currentRenderState;\n\n\t};\n\n\tthis.setRenderState = function ( renderState ) {\n\n\t\tcurrentRenderState = renderState;\n\n\t};\n\n\tthis.getRenderTarget = function () {\n\n\t\treturn _currentRenderTarget;\n\n\t};\n\n\tthis.setRenderTarget = function ( renderTarget, activeCubeFace = 0, activeMipmapLevel = 0 ) {\n\n\t\t_currentRenderTarget = renderTarget;\n\t\t_currentActiveCubeFace = activeCubeFace;\n\t\t_currentActiveMipmapLevel = activeMipmapLevel;\n\n\t\tif ( renderTarget && properties.get( renderTarget ).__webglFramebuffer === undefined ) {\n\n\t\t\ttextures.setupRenderTarget( renderTarget );\n\n\t\t}\n\n\t\tlet framebuffer = _framebuffer;\n\t\tlet isCube = false;\n\n\t\tif ( renderTarget ) {\n\n\t\t\tconst __webglFramebuffer = properties.get( renderTarget ).__webglFramebuffer;\n\n\t\t\tif ( renderTarget.isWebGLCubeRenderTarget ) {\n\n\t\t\t\tframebuffer = __webglFramebuffer[ activeCubeFace ];\n\t\t\t\tisCube = true;\n\n\t\t\t} else if ( renderTarget.isWebGLMultisampleRenderTarget ) {\n\n\t\t\t\tframebuffer = properties.get( renderTarget ).__webglMultisampledFramebuffer;\n\n\t\t\t} else {\n\n\t\t\t\tframebuffer = __webglFramebuffer;\n\n\t\t\t}\n\n\t\t\t_currentViewport.copy( renderTarget.viewport );\n\t\t\t_currentScissor.copy( renderTarget.scissor );\n\t\t\t_currentScissorTest = renderTarget.scissorTest;\n\n\t\t} else {\n\n\t\t\t_currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio ).floor();\n\t\t\t_currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio ).floor();\n\t\t\t_currentScissorTest = _scissorTest;\n\n\t\t}\n\n\t\tif ( _currentFramebuffer !== framebuffer ) {\n\n\t\t\t_gl.bindFramebuffer( 36160, framebuffer );\n\t\t\t_currentFramebuffer = framebuffer;\n\n\t\t}\n\n\t\tstate.viewport( _currentViewport );\n\t\tstate.scissor( _currentScissor );\n\t\tstate.setScissorTest( _currentScissorTest );\n\n\t\tif ( isCube ) {\n\n\t\t\tconst textureProperties = properties.get( renderTarget.texture );\n\t\t\t_gl.framebufferTexture2D( 36160, 36064, 34069 + activeCubeFace, textureProperties.__webglTexture, activeMipmapLevel );\n\n\t\t}\n\n\t};\n\n\tthis.readRenderTargetPixels = function ( renderTarget, x, y, width, height, buffer, activeCubeFaceIndex ) {\n\n\t\tif ( ! ( renderTarget && renderTarget.isWebGLRenderTarget ) ) {\n\n\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tlet framebuffer = properties.get( renderTarget ).__webglFramebuffer;\n\n\t\tif ( renderTarget.isWebGLCubeRenderTarget && activeCubeFaceIndex !== undefined ) {\n\n\t\t\tframebuffer = framebuffer[ activeCubeFaceIndex ];\n\n\t\t}\n\n\t\tif ( framebuffer ) {\n\n\t\t\tlet restore = false;\n\n\t\t\tif ( framebuffer !== _currentFramebuffer ) {\n\n\t\t\t\t_gl.bindFramebuffer( 36160, framebuffer );\n\n\t\t\t\trestore = true;\n\n\t\t\t}\n\n\t\t\ttry {\n\n\t\t\t\tconst texture = renderTarget.texture;\n\t\t\t\tconst textureFormat = texture.format;\n\t\t\t\tconst textureType = texture.type;\n\n\t\t\t\tif ( textureFormat !== RGBAFormat && utils.convert( textureFormat ) !== _gl.getParameter( 35739 ) ) {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.' );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tif ( textureType !== UnsignedByteType && utils.convert( textureType ) !== _gl.getParameter( 35738 ) && // IE11, Edge and Chrome Mac < 52 (#9513)\n\t\t\t\t\t! ( textureType === FloatType && ( capabilities.isWebGL2 || extensions.get( 'OES_texture_float' ) || extensions.get( 'WEBGL_color_buffer_float' ) ) ) && // Chrome Mac >= 52 and Firefox\n\t\t\t\t\t! ( textureType === HalfFloatType && ( capabilities.isWebGL2 ? extensions.get( 'EXT_color_buffer_float' ) : extensions.get( 'EXT_color_buffer_half_float' ) ) ) ) {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.' );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tif ( _gl.checkFramebufferStatus( 36160 ) === 36053 ) {\n\n\t\t\t\t\t// the following if statement ensures valid read requests (no out-of-bounds pixels, see #8604)\n\n\t\t\t\t\tif ( ( x >= 0 && x <= ( renderTarget.width - width ) ) && ( y >= 0 && y <= ( renderTarget.height - height ) ) ) {\n\n\t\t\t\t\t\t_gl.readPixels( x, y, width, height, utils.convert( textureFormat ), utils.convert( textureType ), buffer );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.' );\n\n\t\t\t\t}\n\n\t\t\t} finally {\n\n\t\t\t\tif ( restore ) {\n\n\t\t\t\t\t_gl.bindFramebuffer( 36160, _currentFramebuffer );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tthis.copyFramebufferToTexture = function ( position, texture, level ) {\n\n\t\tif ( level === undefined ) level = 0;\n\n\t\tconst levelScale = Math.pow( 2, - level );\n\t\tconst width = Math.floor( texture.image.width * levelScale );\n\t\tconst height = Math.floor( texture.image.height * levelScale );\n\t\tconst glFormat = utils.convert( texture.format );\n\n\t\ttextures.setTexture2D( texture, 0 );\n\n\t\t_gl.copyTexImage2D( 3553, level, glFormat, position.x, position.y, width, height, 0 );\n\n\t\tstate.unbindTexture();\n\n\t};\n\n\tthis.copyTextureToTexture = function ( position, srcTexture, dstTexture, level ) {\n\n\t\tif ( level === undefined ) level = 0;\n\n\t\tconst width = srcTexture.image.width;\n\t\tconst height = srcTexture.image.height;\n\t\tconst glFormat = utils.convert( dstTexture.format );\n\t\tconst glType = utils.convert( dstTexture.type );\n\n\t\ttextures.setTexture2D( dstTexture, 0 );\n\n\t\t// As another texture upload may have changed pixelStorei\n\t\t// parameters, make sure they are correct for the dstTexture\n\t\t_gl.pixelStorei( 37440, dstTexture.flipY );\n\t\t_gl.pixelStorei( 37441, dstTexture.premultiplyAlpha );\n\t\t_gl.pixelStorei( 3317, dstTexture.unpackAlignment );\n\n\t\tif ( srcTexture.isDataTexture ) {\n\n\t\t\t_gl.texSubImage2D( 3553, level, position.x, position.y, width, height, glFormat, glType, srcTexture.image.data );\n\n\t\t} else {\n\n\t\t\tif ( srcTexture.isCompressedTexture ) {\n\n\t\t\t\t_gl.compressedTexSubImage2D( 3553, level, position.x, position.y, srcTexture.mipmaps[ 0 ].width, srcTexture.mipmaps[ 0 ].height, glFormat, srcTexture.mipmaps[ 0 ].data );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.texSubImage2D( 3553, level, position.x, position.y, glFormat, glType, srcTexture.image );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Generate mipmaps only when copying level 0\n\t\tif ( level === 0 && dstTexture.generateMipmaps ) _gl.generateMipmap( 3553 );\n\n\t\tstate.unbindTexture();\n\n\t};\n\n\tthis.initTexture = function ( texture ) {\n\n\t\ttextures.setTexture2D( texture, 0 );\n\n\t\tstate.unbindTexture();\n\n\t};\n\n\tif ( typeof __THREE_DEVTOOLS__ !== 'undefined' ) {\n\n\t\t__THREE_DEVTOOLS__.dispatchEvent( new CustomEvent( 'observe', { detail: this } ) ); // eslint-disable-line no-undef\n\n\t}\n\n}\n\nfunction WebGL1Renderer( parameters ) {\n\n\tWebGLRenderer.call( this, parameters );\n\n}\n\nWebGL1Renderer.prototype = Object.assign( Object.create( WebGLRenderer.prototype ), {\n\n\tconstructor: WebGL1Renderer,\n\n\tisWebGL1Renderer: true\n\n} );\n\nclass FogExp2 {\n\n\tconstructor( color, density ) {\n\n\t\tObject.defineProperty( this, 'isFogExp2', { value: true } );\n\n\t\tthis.name = '';\n\n\t\tthis.color = new Color( color );\n\t\tthis.density = ( density !== undefined ) ? density : 0.00025;\n\n\t}\n\n\tclone() {\n\n\t\treturn new FogExp2( this.color, this.density );\n\n\t}\n\n\ttoJSON( /* meta */ ) {\n\n\t\treturn {\n\t\t\ttype: 'FogExp2',\n\t\t\tcolor: this.color.getHex(),\n\t\t\tdensity: this.density\n\t\t};\n\n\t}\n\n}\n\nclass Fog {\n\n\tconstructor( color, near, far ) {\n\n\t\tObject.defineProperty( this, 'isFog', { value: true } );\n\n\t\tthis.name = '';\n\n\t\tthis.color = new Color( color );\n\n\t\tthis.near = ( near !== undefined ) ? near : 1;\n\t\tthis.far = ( far !== undefined ) ? far : 1000;\n\n\t}\n\n\tclone() {\n\n\t\treturn new Fog( this.color, this.near, this.far );\n\n\t}\n\n\ttoJSON( /* meta */ ) {\n\n\t\treturn {\n\t\t\ttype: 'Fog',\n\t\t\tcolor: this.color.getHex(),\n\t\t\tnear: this.near,\n\t\t\tfar: this.far\n\t\t};\n\n\t}\n\n}\n\nclass Scene extends Object3D {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tObject.defineProperty( this, 'isScene', { value: true } );\n\n\t\tthis.type = 'Scene';\n\n\t\tthis.background = null;\n\t\tthis.environment = null;\n\t\tthis.fog = null;\n\n\t\tthis.overrideMaterial = null;\n\n\t\tthis.autoUpdate = true; // checked by the renderer\n\n\t\tif ( typeof __THREE_DEVTOOLS__ !== 'undefined' ) {\n\n\t\t\t__THREE_DEVTOOLS__.dispatchEvent( new CustomEvent( 'observe', { detail: this } ) ); // eslint-disable-line no-undef\n\n\t\t}\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tif ( source.background !== null ) this.background = source.background.clone();\n\t\tif ( source.environment !== null ) this.environment = source.environment.clone();\n\t\tif ( source.fog !== null ) this.fog = source.fog.clone();\n\n\t\tif ( source.overrideMaterial !== null ) this.overrideMaterial = source.overrideMaterial.clone();\n\n\t\tthis.autoUpdate = source.autoUpdate;\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tif ( this.background !== null ) data.object.background = this.background.toJSON( meta );\n\t\tif ( this.environment !== null ) data.object.environment = this.environment.toJSON( meta );\n\t\tif ( this.fog !== null ) data.object.fog = this.fog.toJSON();\n\n\t\treturn data;\n\n\t}\n\n}\n\nfunction InterleavedBuffer( array, stride ) {\n\n\tthis.array = array;\n\tthis.stride = stride;\n\tthis.count = array !== undefined ? array.length / stride : 0;\n\n\tthis.usage = StaticDrawUsage;\n\tthis.updateRange = { offset: 0, count: - 1 };\n\n\tthis.version = 0;\n\n\tthis.uuid = MathUtils.generateUUID();\n\n}\n\nObject.defineProperty( InterleavedBuffer.prototype, 'needsUpdate', {\n\n\tset: function ( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n} );\n\nObject.assign( InterleavedBuffer.prototype, {\n\n\tisInterleavedBuffer: true,\n\n\tonUploadCallback: function () {},\n\n\tsetUsage: function ( value ) {\n\n\t\tthis.usage = value;\n\n\t\treturn this;\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.array = new source.array.constructor( source.array );\n\t\tthis.count = source.count;\n\t\tthis.stride = source.stride;\n\t\tthis.usage = source.usage;\n\n\t\treturn this;\n\n\t},\n\n\tcopyAt: function ( index1, attribute, index2 ) {\n\n\t\tindex1 *= this.stride;\n\t\tindex2 *= attribute.stride;\n\n\t\tfor ( let i = 0, l = this.stride; i < l; i ++ ) {\n\n\t\t\tthis.array[ index1 + i ] = attribute.array[ index2 + i ];\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tset: function ( value, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.array.set( value, offset );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function ( data ) {\n\n\t\tif ( data.arrayBuffers === undefined ) {\n\n\t\t\tdata.arrayBuffers = {};\n\n\t\t}\n\n\t\tif ( this.array.buffer._uuid === undefined ) {\n\n\t\t\tthis.array.buffer._uuid = MathUtils.generateUUID();\n\n\t\t}\n\n\t\tif ( data.arrayBuffers[ this.array.buffer._uuid ] === undefined ) {\n\n\t\t\tdata.arrayBuffers[ this.array.buffer._uuid ] = this.array.slice( 0 ).buffer;\n\n\t\t}\n\n\t\tconst array = new this.array.constructor( data.arrayBuffers[ this.array.buffer._uuid ] );\n\n\t\tconst ib = new InterleavedBuffer( array, this.stride );\n\t\tib.setUsage( this.usage );\n\n\t\treturn ib;\n\n\t},\n\n\tonUpload: function ( callback ) {\n\n\t\tthis.onUploadCallback = callback;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( data ) {\n\n\t\tif ( data.arrayBuffers === undefined ) {\n\n\t\t\tdata.arrayBuffers = {};\n\n\t\t}\n\n\t\t// generate UUID for array buffer if necessary\n\n\t\tif ( this.array.buffer._uuid === undefined ) {\n\n\t\t\tthis.array.buffer._uuid = MathUtils.generateUUID();\n\n\t\t}\n\n\t\tif ( data.arrayBuffers[ this.array.buffer._uuid ] === undefined ) {\n\n\t\t\tdata.arrayBuffers[ this.array.buffer._uuid ] = Array.prototype.slice.call( new Uint32Array( this.array.buffer ) );\n\n\t\t}\n\n\t\t//\n\n\t\treturn {\n\t\t\tuuid: this.uuid,\n\t\t\tbuffer: this.array.buffer._uuid,\n\t\t\ttype: this.array.constructor.name,\n\t\t\tstride: this.stride\n\t\t};\n\n\t}\n\n} );\n\nconst _vector$6 = new Vector3();\n\nfunction InterleavedBufferAttribute( interleavedBuffer, itemSize, offset, normalized ) {\n\n\tthis.name = '';\n\n\tthis.data = interleavedBuffer;\n\tthis.itemSize = itemSize;\n\tthis.offset = offset;\n\n\tthis.normalized = normalized === true;\n\n}\n\nObject.defineProperties( InterleavedBufferAttribute.prototype, {\n\n\tcount: {\n\n\t\tget: function () {\n\n\t\t\treturn this.data.count;\n\n\t\t}\n\n\t},\n\n\tarray: {\n\n\t\tget: function () {\n\n\t\t\treturn this.data.array;\n\n\t\t}\n\n\t},\n\n\tneedsUpdate: {\n\n\t\tset: function ( value ) {\n\n\t\t\tthis.data.needsUpdate = value;\n\n\t\t}\n\n\t}\n\n} );\n\nObject.assign( InterleavedBufferAttribute.prototype, {\n\n\tisInterleavedBufferAttribute: true,\n\n\tapplyMatrix4: function ( m ) {\n\n\t\tfor ( let i = 0, l = this.data.count; i < l; i ++ ) {\n\n\t\t\t_vector$6.x = this.getX( i );\n\t\t\t_vector$6.y = this.getY( i );\n\t\t\t_vector$6.z = this.getZ( i );\n\n\t\t\t_vector$6.applyMatrix4( m );\n\n\t\t\tthis.setXYZ( i, _vector$6.x, _vector$6.y, _vector$6.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetX: function ( index, x ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset ] = x;\n\n\t\treturn this;\n\n\t},\n\n\tsetY: function ( index, y ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 1 ] = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetZ: function ( index, z ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 2 ] = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetW: function ( index, w ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 3 ] = w;\n\n\t\treturn this;\n\n\t},\n\n\tgetX: function ( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset ];\n\n\t},\n\n\tgetY: function ( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 1 ];\n\n\t},\n\n\tgetZ: function ( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 2 ];\n\n\t},\n\n\tgetW: function ( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 3 ];\n\n\t},\n\n\tsetXY: function ( index, x, y ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetXYZ: function ( index, x, y, z ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\t\tthis.data.array[ index + 2 ] = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetXYZW: function ( index, x, y, z, w ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\t\tthis.data.array[ index + 2 ] = z;\n\t\tthis.data.array[ index + 3 ] = w;\n\n\t\treturn this;\n\n\t},\n\n\tclone: function ( data ) {\n\n\t\tif ( data === undefined ) {\n\n\t\t\tconsole.log( 'THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.' );\n\n\t\t\tconst array = [];\n\n\t\t\tfor ( let i = 0; i < this.count; i ++ ) {\n\n\t\t\t\tconst index = i * this.data.stride + this.offset;\n\n\t\t\t\tfor ( let j = 0; j < this.itemSize; j ++ ) {\n\n\t\t\t\t\tarray.push( this.data.array[ index + j ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn new BufferAttribute( new this.array.constructor( array ), this.itemSize, this.normalized );\n\n\t\t} else {\n\n\t\t\tif ( data.interleavedBuffers === undefined ) {\n\n\t\t\t\tdata.interleavedBuffers = {};\n\n\t\t\t}\n\n\t\t\tif ( data.interleavedBuffers[ this.data.uuid ] === undefined ) {\n\n\t\t\t\tdata.interleavedBuffers[ this.data.uuid ] = this.data.clone( data );\n\n\t\t\t}\n\n\t\t\treturn new InterleavedBufferAttribute( data.interleavedBuffers[ this.data.uuid ], this.itemSize, this.offset, this.normalized );\n\n\t\t}\n\n\t},\n\n\ttoJSON: function ( data ) {\n\n\t\tif ( data === undefined ) {\n\n\t\t\tconsole.log( 'THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.' );\n\n\t\t\tconst array = [];\n\n\t\t\tfor ( let i = 0; i < this.count; i ++ ) {\n\n\t\t\t\tconst index = i * this.data.stride + this.offset;\n\n\t\t\t\tfor ( let j = 0; j < this.itemSize; j ++ ) {\n\n\t\t\t\t\tarray.push( this.data.array[ index + j ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// deinterleave data and save it as an ordinary buffer attribute for now\n\n\t\t\treturn {\n\t\t\t\titemSize: this.itemSize,\n\t\t\t\ttype: this.array.constructor.name,\n\t\t\t\tarray: array,\n\t\t\t\tnormalized: this.normalized\n\t\t\t};\n\n\t\t} else {\n\n\t\t\t// save as true interlaved attribtue\n\n\t\t\tif ( data.interleavedBuffers === undefined ) {\n\n\t\t\t\tdata.interleavedBuffers = {};\n\n\t\t\t}\n\n\t\t\tif ( data.interleavedBuffers[ this.data.uuid ] === undefined ) {\n\n\t\t\t\tdata.interleavedBuffers[ this.data.uuid ] = this.data.toJSON( data );\n\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tisInterleavedBufferAttribute: true,\n\t\t\t\titemSize: this.itemSize,\n\t\t\t\tdata: this.data.uuid,\n\t\t\t\toffset: this.offset,\n\t\t\t\tnormalized: this.normalized\n\t\t\t};\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n * parameters = {\n *  color: <hex>,\n *  map: new THREE.Texture( <Image> ),\n *  alphaMap: new THREE.Texture( <Image> ),\n *  rotation: <float>,\n *  sizeAttenuation: <bool>\n * }\n */\n\nfunction SpriteMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'SpriteMaterial';\n\n\tthis.color = new Color( 0xffffff );\n\n\tthis.map = null;\n\n\tthis.alphaMap = null;\n\n\tthis.rotation = 0;\n\n\tthis.sizeAttenuation = true;\n\n\tthis.transparent = true;\n\n\tthis.setValues( parameters );\n\n}\n\nSpriteMaterial.prototype = Object.create( Material.prototype );\nSpriteMaterial.prototype.constructor = SpriteMaterial;\nSpriteMaterial.prototype.isSpriteMaterial = true;\n\nSpriteMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\tthis.map = source.map;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.rotation = source.rotation;\n\n\tthis.sizeAttenuation = source.sizeAttenuation;\n\n\treturn this;\n\n};\n\nlet _geometry;\n\nconst _intersectPoint = new Vector3();\nconst _worldScale = new Vector3();\nconst _mvPosition = new Vector3();\n\nconst _alignedPosition = new Vector2();\nconst _rotatedPosition = new Vector2();\nconst _viewWorldMatrix = new Matrix4();\n\nconst _vA$1 = new Vector3();\nconst _vB$1 = new Vector3();\nconst _vC$1 = new Vector3();\n\nconst _uvA$1 = new Vector2();\nconst _uvB$1 = new Vector2();\nconst _uvC$1 = new Vector2();\n\nfunction Sprite( material ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Sprite';\n\n\tif ( _geometry === undefined ) {\n\n\t\t_geometry = new BufferGeometry();\n\n\t\tconst float32Array = new Float32Array( [\n\t\t\t- 0.5, - 0.5, 0, 0, 0,\n\t\t\t0.5, - 0.5, 0, 1, 0,\n\t\t\t0.5, 0.5, 0, 1, 1,\n\t\t\t- 0.5, 0.5, 0, 0, 1\n\t\t] );\n\n\t\tconst interleavedBuffer = new InterleavedBuffer( float32Array, 5 );\n\n\t\t_geometry.setIndex( [ 0, 1, 2,\t0, 2, 3 ] );\n\t\t_geometry.setAttribute( 'position', new InterleavedBufferAttribute( interleavedBuffer, 3, 0, false ) );\n\t\t_geometry.setAttribute( 'uv', new InterleavedBufferAttribute( interleavedBuffer, 2, 3, false ) );\n\n\t}\n\n\tthis.geometry = _geometry;\n\tthis.material = ( material !== undefined ) ? material : new SpriteMaterial();\n\n\tthis.center = new Vector2( 0.5, 0.5 );\n\n}\n\nSprite.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Sprite,\n\n\tisSprite: true,\n\n\traycast: function ( raycaster, intersects ) {\n\n\t\tif ( raycaster.camera === null ) {\n\n\t\t\tconsole.error( 'THREE.Sprite: \"Raycaster.camera\" needs to be set in order to raycast against sprites.' );\n\n\t\t}\n\n\t\t_worldScale.setFromMatrixScale( this.matrixWorld );\n\n\t\t_viewWorldMatrix.copy( raycaster.camera.matrixWorld );\n\t\tthis.modelViewMatrix.multiplyMatrices( raycaster.camera.matrixWorldInverse, this.matrixWorld );\n\n\t\t_mvPosition.setFromMatrixPosition( this.modelViewMatrix );\n\n\t\tif ( raycaster.camera.isPerspectiveCamera && this.material.sizeAttenuation === false ) {\n\n\t\t\t_worldScale.multiplyScalar( - _mvPosition.z );\n\n\t\t}\n\n\t\tconst rotation = this.material.rotation;\n\t\tlet sin, cos;\n\n\t\tif ( rotation !== 0 ) {\n\n\t\t\tcos = Math.cos( rotation );\n\t\t\tsin = Math.sin( rotation );\n\n\t\t}\n\n\t\tconst center = this.center;\n\n\t\ttransformVertex( _vA$1.set( - 0.5, - 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\n\t\ttransformVertex( _vB$1.set( 0.5, - 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\n\t\ttransformVertex( _vC$1.set( 0.5, 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\n\n\t\t_uvA$1.set( 0, 0 );\n\t\t_uvB$1.set( 1, 0 );\n\t\t_uvC$1.set( 1, 1 );\n\n\t\t// check first triangle\n\t\tlet intersect = raycaster.ray.intersectTriangle( _vA$1, _vB$1, _vC$1, false, _intersectPoint );\n\n\t\tif ( intersect === null ) {\n\n\t\t\t// check second triangle\n\t\t\ttransformVertex( _vB$1.set( - 0.5, 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\n\t\t\t_uvB$1.set( 0, 1 );\n\n\t\t\tintersect = raycaster.ray.intersectTriangle( _vA$1, _vC$1, _vB$1, false, _intersectPoint );\n\t\t\tif ( intersect === null ) {\n\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst distance = raycaster.ray.origin.distanceTo( _intersectPoint );\n\n\t\tif ( distance < raycaster.near || distance > raycaster.far ) return;\n\n\t\tintersects.push( {\n\n\t\t\tdistance: distance,\n\t\t\tpoint: _intersectPoint.clone(),\n\t\t\tuv: Triangle.getUV( _intersectPoint, _vA$1, _vB$1, _vC$1, _uvA$1, _uvB$1, _uvC$1, new Vector2() ),\n\t\t\tface: null,\n\t\t\tobject: this\n\n\t\t} );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tObject3D.prototype.copy.call( this, source );\n\n\t\tif ( source.center !== undefined ) this.center.copy( source.center );\n\n\t\tthis.material = source.material;\n\n\t\treturn this;\n\n\t}\n\n} );\n\nfunction transformVertex( vertexPosition, mvPosition, center, scale, sin, cos ) {\n\n\t// compute position in camera space\n\t_alignedPosition.subVectors( vertexPosition, center ).addScalar( 0.5 ).multiply( scale );\n\n\t// to check if rotation is not zero\n\tif ( sin !== undefined ) {\n\n\t\t_rotatedPosition.x = ( cos * _alignedPosition.x ) - ( sin * _alignedPosition.y );\n\t\t_rotatedPosition.y = ( sin * _alignedPosition.x ) + ( cos * _alignedPosition.y );\n\n\t} else {\n\n\t\t_rotatedPosition.copy( _alignedPosition );\n\n\t}\n\n\n\tvertexPosition.copy( mvPosition );\n\tvertexPosition.x += _rotatedPosition.x;\n\tvertexPosition.y += _rotatedPosition.y;\n\n\t// transform to world space\n\tvertexPosition.applyMatrix4( _viewWorldMatrix );\n\n}\n\nconst _v1$4 = new Vector3();\nconst _v2$2 = new Vector3();\n\nfunction LOD() {\n\n\tObject3D.call( this );\n\n\tthis._currentLevel = 0;\n\n\tthis.type = 'LOD';\n\n\tObject.defineProperties( this, {\n\t\tlevels: {\n\t\t\tenumerable: true,\n\t\t\tvalue: []\n\t\t}\n\t} );\n\n\tthis.autoUpdate = true;\n\n}\n\nLOD.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: LOD,\n\n\tisLOD: true,\n\n\tcopy: function ( source ) {\n\n\t\tObject3D.prototype.copy.call( this, source, false );\n\n\t\tconst levels = source.levels;\n\n\t\tfor ( let i = 0, l = levels.length; i < l; i ++ ) {\n\n\t\t\tconst level = levels[ i ];\n\n\t\t\tthis.addLevel( level.object.clone(), level.distance );\n\n\t\t}\n\n\t\tthis.autoUpdate = source.autoUpdate;\n\n\t\treturn this;\n\n\t},\n\n\taddLevel: function ( object, distance ) {\n\n\t\tif ( distance === undefined ) distance = 0;\n\n\t\tdistance = Math.abs( distance );\n\n\t\tconst levels = this.levels;\n\n\t\tlet l;\n\n\t\tfor ( l = 0; l < levels.length; l ++ ) {\n\n\t\t\tif ( distance < levels[ l ].distance ) {\n\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tlevels.splice( l, 0, { distance: distance, object: object } );\n\n\t\tthis.add( object );\n\n\t\treturn this;\n\n\t},\n\n\tgetCurrentLevel: function () {\n\n\t\treturn this._currentLevel;\n\n\t},\n\n\tgetObjectForDistance: function ( distance ) {\n\n\t\tconst levels = this.levels;\n\n\t\tif ( levels.length > 0 ) {\n\n\t\t\tlet i, l;\n\n\t\t\tfor ( i = 1, l = levels.length; i < l; i ++ ) {\n\n\t\t\t\tif ( distance < levels[ i ].distance ) {\n\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn levels[ i - 1 ].object;\n\n\t\t}\n\n\t\treturn null;\n\n\t},\n\n\traycast: function ( raycaster, intersects ) {\n\n\t\tconst levels = this.levels;\n\n\t\tif ( levels.length > 0 ) {\n\n\t\t\t_v1$4.setFromMatrixPosition( this.matrixWorld );\n\n\t\t\tconst distance = raycaster.ray.origin.distanceTo( _v1$4 );\n\n\t\t\tthis.getObjectForDistance( distance ).raycast( raycaster, intersects );\n\n\t\t}\n\n\t},\n\n\tupdate: function ( camera ) {\n\n\t\tconst levels = this.levels;\n\n\t\tif ( levels.length > 1 ) {\n\n\t\t\t_v1$4.setFromMatrixPosition( camera.matrixWorld );\n\t\t\t_v2$2.setFromMatrixPosition( this.matrixWorld );\n\n\t\t\tconst distance = _v1$4.distanceTo( _v2$2 ) / camera.zoom;\n\n\t\t\tlevels[ 0 ].object.visible = true;\n\n\t\t\tlet i, l;\n\n\t\t\tfor ( i = 1, l = levels.length; i < l; i ++ ) {\n\n\t\t\t\tif ( distance >= levels[ i ].distance ) {\n\n\t\t\t\t\tlevels[ i - 1 ].object.visible = false;\n\t\t\t\t\tlevels[ i ].object.visible = true;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis._currentLevel = i - 1;\n\n\t\t\tfor ( ; i < l; i ++ ) {\n\n\t\t\t\tlevels[ i ].object.visible = false;\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tconst data = Object3D.prototype.toJSON.call( this, meta );\n\n\t\tif ( this.autoUpdate === false ) data.object.autoUpdate = false;\n\n\t\tdata.object.levels = [];\n\n\t\tconst levels = this.levels;\n\n\t\tfor ( let i = 0, l = levels.length; i < l; i ++ ) {\n\n\t\t\tconst level = levels[ i ];\n\n\t\t\tdata.object.levels.push( {\n\t\t\t\tobject: level.object.uuid,\n\t\t\t\tdistance: level.distance\n\t\t\t} );\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n} );\n\nfunction SkinnedMesh( geometry, material ) {\n\n\tif ( geometry && geometry.isGeometry ) {\n\n\t\tconsole.error( 'THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t}\n\n\tMesh.call( this, geometry, material );\n\n\tthis.type = 'SkinnedMesh';\n\n\tthis.bindMode = 'attached';\n\tthis.bindMatrix = new Matrix4();\n\tthis.bindMatrixInverse = new Matrix4();\n\n}\n\nSkinnedMesh.prototype = Object.assign( Object.create( Mesh.prototype ), {\n\n\tconstructor: SkinnedMesh,\n\n\tisSkinnedMesh: true,\n\n\tcopy: function ( source ) {\n\n\t\tMesh.prototype.copy.call( this, source );\n\n\t\tthis.bindMode = source.bindMode;\n\t\tthis.bindMatrix.copy( source.bindMatrix );\n\t\tthis.bindMatrixInverse.copy( source.bindMatrixInverse );\n\n\t\tthis.skeleton = source.skeleton;\n\n\t\treturn this;\n\n\t},\n\n\tbind: function ( skeleton, bindMatrix ) {\n\n\t\tthis.skeleton = skeleton;\n\n\t\tif ( bindMatrix === undefined ) {\n\n\t\t\tthis.updateMatrixWorld( true );\n\n\t\t\tthis.skeleton.calculateInverses();\n\n\t\t\tbindMatrix = this.matrixWorld;\n\n\t\t}\n\n\t\tthis.bindMatrix.copy( bindMatrix );\n\t\tthis.bindMatrixInverse.getInverse( bindMatrix );\n\n\t},\n\n\tpose: function () {\n\n\t\tthis.skeleton.pose();\n\n\t},\n\n\tnormalizeSkinWeights: function () {\n\n\t\tconst vector = new Vector4();\n\n\t\tconst skinWeight = this.geometry.attributes.skinWeight;\n\n\t\tfor ( let i = 0, l = skinWeight.count; i < l; i ++ ) {\n\n\t\t\tvector.x = skinWeight.getX( i );\n\t\t\tvector.y = skinWeight.getY( i );\n\t\t\tvector.z = skinWeight.getZ( i );\n\t\t\tvector.w = skinWeight.getW( i );\n\n\t\t\tconst scale = 1.0 / vector.manhattanLength();\n\n\t\t\tif ( scale !== Infinity ) {\n\n\t\t\t\tvector.multiplyScalar( scale );\n\n\t\t\t} else {\n\n\t\t\t\tvector.set( 1, 0, 0, 0 ); // do something reasonable\n\n\t\t\t}\n\n\t\t\tskinWeight.setXYZW( i, vector.x, vector.y, vector.z, vector.w );\n\n\t\t}\n\n\t},\n\n\tupdateMatrixWorld: function ( force ) {\n\n\t\tMesh.prototype.updateMatrixWorld.call( this, force );\n\n\t\tif ( this.bindMode === 'attached' ) {\n\n\t\t\tthis.bindMatrixInverse.getInverse( this.matrixWorld );\n\n\t\t} else if ( this.bindMode === 'detached' ) {\n\n\t\t\tthis.bindMatrixInverse.getInverse( this.bindMatrix );\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.SkinnedMesh: Unrecognized bindMode: ' + this.bindMode );\n\n\t\t}\n\n\t},\n\n\tboneTransform: ( function () {\n\n\t\tconst basePosition = new Vector3();\n\n\t\tconst skinIndex = new Vector4();\n\t\tconst skinWeight = new Vector4();\n\n\t\tconst vector = new Vector3();\n\t\tconst matrix = new Matrix4();\n\n\t\treturn function ( index, target ) {\n\n\t\t\tconst skeleton = this.skeleton;\n\t\t\tconst geometry = this.geometry;\n\n\t\t\tskinIndex.fromBufferAttribute( geometry.attributes.skinIndex, index );\n\t\t\tskinWeight.fromBufferAttribute( geometry.attributes.skinWeight, index );\n\n\t\t\tbasePosition.fromBufferAttribute( geometry.attributes.position, index ).applyMatrix4( this.bindMatrix );\n\n\t\t\ttarget.set( 0, 0, 0 );\n\n\t\t\tfor ( let i = 0; i < 4; i ++ ) {\n\n\t\t\t\tconst weight = skinWeight.getComponent( i );\n\n\t\t\t\tif ( weight !== 0 ) {\n\n\t\t\t\t\tconst boneIndex = skinIndex.getComponent( i );\n\n\t\t\t\t\tmatrix.multiplyMatrices( skeleton.bones[ boneIndex ].matrixWorld, skeleton.boneInverses[ boneIndex ] );\n\n\t\t\t\t\ttarget.addScaledVector( vector.copy( basePosition ).applyMatrix4( matrix ), weight );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn target.applyMatrix4( this.bindMatrixInverse );\n\n\t\t};\n\n\t}() )\n\n} );\n\nconst _offsetMatrix = new Matrix4();\nconst _identityMatrix = new Matrix4();\n\nfunction Skeleton( bones, boneInverses ) {\n\n\t// copy the bone array\n\n\tbones = bones || [];\n\n\tthis.bones = bones.slice( 0 );\n\tthis.boneMatrices = new Float32Array( this.bones.length * 16 );\n\n\tthis.frame = - 1;\n\n\t// use the supplied bone inverses or calculate the inverses\n\n\tif ( boneInverses === undefined ) {\n\n\t\tthis.calculateInverses();\n\n\t} else {\n\n\t\tif ( this.bones.length === boneInverses.length ) {\n\n\t\t\tthis.boneInverses = boneInverses.slice( 0 );\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.Skeleton boneInverses is the wrong length.' );\n\n\t\t\tthis.boneInverses = [];\n\n\t\t\tfor ( let i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\t\tthis.boneInverses.push( new Matrix4() );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\n\nObject.assign( Skeleton.prototype, {\n\n\tcalculateInverses: function () {\n\n\t\tthis.boneInverses = [];\n\n\t\tfor ( let i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tconst inverse = new Matrix4();\n\n\t\t\tif ( this.bones[ i ] ) {\n\n\t\t\t\tinverse.getInverse( this.bones[ i ].matrixWorld );\n\n\t\t\t}\n\n\t\t\tthis.boneInverses.push( inverse );\n\n\t\t}\n\n\t},\n\n\tpose: function () {\n\n\t\t// recover the bind-time world matrices\n\n\t\tfor ( let i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tconst bone = this.bones[ i ];\n\n\t\t\tif ( bone ) {\n\n\t\t\t\tbone.matrixWorld.getInverse( this.boneInverses[ i ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// compute the local matrices, positions, rotations and scales\n\n\t\tfor ( let i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tconst bone = this.bones[ i ];\n\n\t\t\tif ( bone ) {\n\n\t\t\t\tif ( bone.parent && bone.parent.isBone ) {\n\n\t\t\t\t\tbone.matrix.getInverse( bone.parent.matrixWorld );\n\t\t\t\t\tbone.matrix.multiply( bone.matrixWorld );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tbone.matrix.copy( bone.matrixWorld );\n\n\t\t\t\t}\n\n\t\t\t\tbone.matrix.decompose( bone.position, bone.quaternion, bone.scale );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tupdate: function () {\n\n\t\tconst bones = this.bones;\n\t\tconst boneInverses = this.boneInverses;\n\t\tconst boneMatrices = this.boneMatrices;\n\t\tconst boneTexture = this.boneTexture;\n\n\t\t// flatten bone matrices to array\n\n\t\tfor ( let i = 0, il = bones.length; i < il; i ++ ) {\n\n\t\t\t// compute the offset between the current and the original transform\n\n\t\t\tconst matrix = bones[ i ] ? bones[ i ].matrixWorld : _identityMatrix;\n\n\t\t\t_offsetMatrix.multiplyMatrices( matrix, boneInverses[ i ] );\n\t\t\t_offsetMatrix.toArray( boneMatrices, i * 16 );\n\n\t\t}\n\n\t\tif ( boneTexture !== undefined ) {\n\n\t\t\tboneTexture.needsUpdate = true;\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new Skeleton( this.bones, this.boneInverses );\n\n\t},\n\n\tgetBoneByName: function ( name ) {\n\n\t\tfor ( let i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tconst bone = this.bones[ i ];\n\n\t\t\tif ( bone.name === name ) {\n\n\t\t\t\treturn bone;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn undefined;\n\n\t},\n\n\tdispose: function ( ) {\n\n\t\tif ( this.boneTexture ) {\n\n\t\t\tthis.boneTexture.dispose();\n\n\t\t\tthis.boneTexture = undefined;\n\n\t\t}\n\n\t}\n\n} );\n\nfunction Bone() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Bone';\n\n}\n\nBone.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Bone,\n\n\tisBone: true\n\n} );\n\nconst _instanceLocalMatrix = new Matrix4();\nconst _instanceWorldMatrix = new Matrix4();\n\nconst _instanceIntersects = [];\n\nconst _mesh = new Mesh();\n\nfunction InstancedMesh( geometry, material, count ) {\n\n\tMesh.call( this, geometry, material );\n\n\tthis.instanceMatrix = new BufferAttribute( new Float32Array( count * 16 ), 16 );\n\tthis.instanceColor = null;\n\n\tthis.count = count;\n\n\tthis.frustumCulled = false;\n\n}\n\nInstancedMesh.prototype = Object.assign( Object.create( Mesh.prototype ), {\n\n\tconstructor: InstancedMesh,\n\n\tisInstancedMesh: true,\n\n\tcopy: function ( source ) {\n\n\t\tMesh.prototype.copy.call( this, source );\n\n\t\tthis.instanceMatrix.copy( source.instanceMatrix );\n\t\tthis.count = source.count;\n\n\t\treturn this;\n\n\t},\n\n\tsetColorAt: function ( index, color ) {\n\n\t\tif ( this.instanceColor === null ) {\n\n\t\t\tthis.instanceColor = new BufferAttribute( new Float32Array( this.count * 3 ), 3 );\n\n\t\t}\n\n\t\tcolor.toArray( this.instanceColor.array, index * 3 );\n\n\t},\n\n\tgetMatrixAt: function ( index, matrix ) {\n\n\t\tmatrix.fromArray( this.instanceMatrix.array, index * 16 );\n\n\t},\n\n\traycast: function ( raycaster, intersects ) {\n\n\t\tconst matrixWorld = this.matrixWorld;\n\t\tconst raycastTimes = this.count;\n\n\t\t_mesh.geometry = this.geometry;\n\t\t_mesh.material = this.material;\n\n\t\tif ( _mesh.material === undefined ) return;\n\n\t\tfor ( let instanceId = 0; instanceId < raycastTimes; instanceId ++ ) {\n\n\t\t\t// calculate the world matrix for each instance\n\n\t\t\tthis.getMatrixAt( instanceId, _instanceLocalMatrix );\n\n\t\t\t_instanceWorldMatrix.multiplyMatrices( matrixWorld, _instanceLocalMatrix );\n\n\t\t\t// the mesh represents this single instance\n\n\t\t\t_mesh.matrixWorld = _instanceWorldMatrix;\n\n\t\t\t_mesh.raycast( raycaster, _instanceIntersects );\n\n\t\t\t// process the result of raycast\n\n\t\t\tfor ( let i = 0, l = _instanceIntersects.length; i < l; i ++ ) {\n\n\t\t\t\tconst intersect = _instanceIntersects[ i ];\n\t\t\t\tintersect.instanceId = instanceId;\n\t\t\t\tintersect.object = this;\n\t\t\t\tintersects.push( intersect );\n\n\t\t\t}\n\n\t\t\t_instanceIntersects.length = 0;\n\n\t\t}\n\n\t},\n\n\tsetMatrixAt: function ( index, matrix ) {\n\n\t\tmatrix.toArray( this.instanceMatrix.array, index * 16 );\n\n\t},\n\n\tupdateMorphTargets: function () {\n\n\t}\n\n} );\n\n/**\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  linewidth: <float>,\n *  linecap: \"round\",\n *  linejoin: \"round\"\n * }\n */\n\nfunction LineBasicMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'LineBasicMaterial';\n\n\tthis.color = new Color( 0xffffff );\n\n\tthis.linewidth = 1;\n\tthis.linecap = 'round';\n\tthis.linejoin = 'round';\n\n\tthis.morphTargets = false;\n\n\tthis.setValues( parameters );\n\n}\n\nLineBasicMaterial.prototype = Object.create( Material.prototype );\nLineBasicMaterial.prototype.constructor = LineBasicMaterial;\n\nLineBasicMaterial.prototype.isLineBasicMaterial = true;\n\nLineBasicMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\tthis.linewidth = source.linewidth;\n\tthis.linecap = source.linecap;\n\tthis.linejoin = source.linejoin;\n\n\tthis.morphTargets = source.morphTargets;\n\n\treturn this;\n\n};\n\nconst _start = new Vector3();\nconst _end = new Vector3();\nconst _inverseMatrix$1 = new Matrix4();\nconst _ray$1 = new Ray();\nconst _sphere$2 = new Sphere();\n\nfunction Line( geometry, material, mode ) {\n\n\tif ( mode === 1 ) {\n\n\t\tconsole.error( 'THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead.' );\n\n\t}\n\n\tObject3D.call( this );\n\n\tthis.type = 'Line';\n\n\tthis.geometry = geometry !== undefined ? geometry : new BufferGeometry();\n\tthis.material = material !== undefined ? material : new LineBasicMaterial();\n\n\tthis.updateMorphTargets();\n\n}\n\nLine.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Line,\n\n\tisLine: true,\n\n\tcopy: function ( source ) {\n\n\t\tObject3D.prototype.copy.call( this, source );\n\n\t\tthis.material = source.material;\n\t\tthis.geometry = source.geometry;\n\n\t\treturn this;\n\n\t},\n\n\tcomputeLineDistances: function () {\n\n\t\tconst geometry = this.geometry;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\t// we assume non-indexed geometry\n\n\t\t\tif ( geometry.index === null ) {\n\n\t\t\t\tconst positionAttribute = geometry.attributes.position;\n\t\t\t\tconst lineDistances = [ 0 ];\n\n\t\t\t\tfor ( let i = 1, l = positionAttribute.count; i < l; i ++ ) {\n\n\t\t\t\t\t_start.fromBufferAttribute( positionAttribute, i - 1 );\n\t\t\t\t\t_end.fromBufferAttribute( positionAttribute, i );\n\n\t\t\t\t\tlineDistances[ i ] = lineDistances[ i - 1 ];\n\t\t\t\t\tlineDistances[ i ] += _start.distanceTo( _end );\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.setAttribute( 'lineDistance', new Float32BufferAttribute( lineDistances, 1 ) );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.' );\n\n\t\t\t}\n\n\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\tconst vertices = geometry.vertices;\n\t\t\tconst lineDistances = geometry.lineDistances;\n\n\t\t\tlineDistances[ 0 ] = 0;\n\n\t\t\tfor ( let i = 1, l = vertices.length; i < l; i ++ ) {\n\n\t\t\t\tlineDistances[ i ] = lineDistances[ i - 1 ];\n\t\t\t\tlineDistances[ i ] += vertices[ i - 1 ].distanceTo( vertices[ i ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\traycast: function ( raycaster, intersects ) {\n\n\t\tconst geometry = this.geometry;\n\t\tconst matrixWorld = this.matrixWorld;\n\t\tconst threshold = raycaster.params.Line.threshold;\n\n\t\t// Checking boundingSphere distance to ray\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere$2.copy( geometry.boundingSphere );\n\t\t_sphere$2.applyMatrix4( matrixWorld );\n\t\t_sphere$2.radius += threshold;\n\n\t\tif ( raycaster.ray.intersectsSphere( _sphere$2 ) === false ) return;\n\n\t\t//\n\n\t\t_inverseMatrix$1.getInverse( matrixWorld );\n\t\t_ray$1.copy( raycaster.ray ).applyMatrix4( _inverseMatrix$1 );\n\n\t\tconst localThreshold = threshold / ( ( this.scale.x + this.scale.y + this.scale.z ) / 3 );\n\t\tconst localThresholdSq = localThreshold * localThreshold;\n\n\t\tconst vStart = new Vector3();\n\t\tconst vEnd = new Vector3();\n\t\tconst interSegment = new Vector3();\n\t\tconst interRay = new Vector3();\n\t\tconst step = this.isLineSegments ? 2 : 1;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tconst index = geometry.index;\n\t\t\tconst attributes = geometry.attributes;\n\t\t\tconst positionAttribute = attributes.position;\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\tconst indices = index.array;\n\n\t\t\t\tfor ( let i = 0, l = indices.length - 1; i < l; i += step ) {\n\n\t\t\t\t\tconst a = indices[ i ];\n\t\t\t\t\tconst b = indices[ i + 1 ];\n\n\t\t\t\t\tvStart.fromBufferAttribute( positionAttribute, a );\n\t\t\t\t\tvEnd.fromBufferAttribute( positionAttribute, b );\n\n\t\t\t\t\tconst distSq = _ray$1.distanceSqToSegment( vStart, vEnd, interRay, interSegment );\n\n\t\t\t\t\tif ( distSq > localThresholdSq ) continue;\n\n\t\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\n\t\t\t\t\tconst distance = raycaster.ray.origin.distanceTo( interRay );\n\n\t\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\n\n\t\t\t\t\tintersects.push( {\n\n\t\t\t\t\t\tdistance: distance,\n\t\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\n\t\t\t\t\t\tindex: i,\n\t\t\t\t\t\tface: null,\n\t\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\t\tobject: this\n\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tfor ( let i = 0, l = positionAttribute.count - 1; i < l; i += step ) {\n\n\t\t\t\t\tvStart.fromBufferAttribute( positionAttribute, i );\n\t\t\t\t\tvEnd.fromBufferAttribute( positionAttribute, i + 1 );\n\n\t\t\t\t\tconst distSq = _ray$1.distanceSqToSegment( vStart, vEnd, interRay, interSegment );\n\n\t\t\t\t\tif ( distSq > localThresholdSq ) continue;\n\n\t\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\n\t\t\t\t\tconst distance = raycaster.ray.origin.distanceTo( interRay );\n\n\t\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\n\n\t\t\t\t\tintersects.push( {\n\n\t\t\t\t\t\tdistance: distance,\n\t\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\n\t\t\t\t\t\tindex: i,\n\t\t\t\t\t\tface: null,\n\t\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\t\tobject: this\n\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\tconst vertices = geometry.vertices;\n\t\t\tconst nbVertices = vertices.length;\n\n\t\t\tfor ( let i = 0; i < nbVertices - 1; i += step ) {\n\n\t\t\t\tconst distSq = _ray$1.distanceSqToSegment( vertices[ i ], vertices[ i + 1 ], interRay, interSegment );\n\n\t\t\t\tif ( distSq > localThresholdSq ) continue;\n\n\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\n\t\t\t\tconst distance = raycaster.ray.origin.distanceTo( interRay );\n\n\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\n\n\t\t\t\tintersects.push( {\n\n\t\t\t\t\tdistance: distance,\n\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\n\t\t\t\t\tindex: i,\n\t\t\t\t\tface: null,\n\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\tobject: this\n\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tupdateMorphTargets: function () {\n\n\t\tconst geometry = this.geometry;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tconst morphAttributes = geometry.morphAttributes;\n\t\t\tconst keys = Object.keys( morphAttributes );\n\n\t\t\tif ( keys.length > 0 ) {\n\n\t\t\t\tconst morphAttribute = morphAttributes[ keys[ 0 ] ];\n\n\t\t\t\tif ( morphAttribute !== undefined ) {\n\n\t\t\t\t\tthis.morphTargetInfluences = [];\n\t\t\t\t\tthis.morphTargetDictionary = {};\n\n\t\t\t\t\tfor ( let m = 0, ml = morphAttribute.length; m < ml; m ++ ) {\n\n\t\t\t\t\t\tconst name = morphAttribute[ m ].name || String( m );\n\n\t\t\t\t\t\tthis.morphTargetInfluences.push( 0 );\n\t\t\t\t\t\tthis.morphTargetDictionary[ name ] = m;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst morphTargets = geometry.morphTargets;\n\n\t\t\tif ( morphTargets !== undefined && morphTargets.length > 0 ) {\n\n\t\t\t\tconsole.error( 'THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n} );\n\nconst _start$1 = new Vector3();\nconst _end$1 = new Vector3();\n\nfunction LineSegments( geometry, material ) {\n\n\tLine.call( this, geometry, material );\n\n\tthis.type = 'LineSegments';\n\n}\n\nLineSegments.prototype = Object.assign( Object.create( Line.prototype ), {\n\n\tconstructor: LineSegments,\n\n\tisLineSegments: true,\n\n\tcomputeLineDistances: function () {\n\n\t\tconst geometry = this.geometry;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\t// we assume non-indexed geometry\n\n\t\t\tif ( geometry.index === null ) {\n\n\t\t\t\tconst positionAttribute = geometry.attributes.position;\n\t\t\t\tconst lineDistances = [];\n\n\t\t\t\tfor ( let i = 0, l = positionAttribute.count; i < l; i += 2 ) {\n\n\t\t\t\t\t_start$1.fromBufferAttribute( positionAttribute, i );\n\t\t\t\t\t_end$1.fromBufferAttribute( positionAttribute, i + 1 );\n\n\t\t\t\t\tlineDistances[ i ] = ( i === 0 ) ? 0 : lineDistances[ i - 1 ];\n\t\t\t\t\tlineDistances[ i + 1 ] = lineDistances[ i ] + _start$1.distanceTo( _end$1 );\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.setAttribute( 'lineDistance', new Float32BufferAttribute( lineDistances, 1 ) );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.' );\n\n\t\t\t}\n\n\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\tconst vertices = geometry.vertices;\n\t\t\tconst lineDistances = geometry.lineDistances;\n\n\t\t\tfor ( let i = 0, l = vertices.length; i < l; i += 2 ) {\n\n\t\t\t\t_start$1.copy( vertices[ i ] );\n\t\t\t\t_end$1.copy( vertices[ i + 1 ] );\n\n\t\t\t\tlineDistances[ i ] = ( i === 0 ) ? 0 : lineDistances[ i - 1 ];\n\t\t\t\tlineDistances[ i + 1 ] = lineDistances[ i ] + _start$1.distanceTo( _end$1 );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\nfunction LineLoop( geometry, material ) {\n\n\tLine.call( this, geometry, material );\n\n\tthis.type = 'LineLoop';\n\n}\n\nLineLoop.prototype = Object.assign( Object.create( Line.prototype ), {\n\n\tconstructor: LineLoop,\n\n\tisLineLoop: true,\n\n} );\n\n/**\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *  map: new THREE.Texture( <Image> ),\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  size: <float>,\n *  sizeAttenuation: <bool>\n *\n *  morphTargets: <bool>\n * }\n */\n\nfunction PointsMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'PointsMaterial';\n\n\tthis.color = new Color( 0xffffff );\n\n\tthis.map = null;\n\n\tthis.alphaMap = null;\n\n\tthis.size = 1;\n\tthis.sizeAttenuation = true;\n\n\tthis.morphTargets = false;\n\n\tthis.setValues( parameters );\n\n}\n\nPointsMaterial.prototype = Object.create( Material.prototype );\nPointsMaterial.prototype.constructor = PointsMaterial;\n\nPointsMaterial.prototype.isPointsMaterial = true;\n\nPointsMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\tthis.map = source.map;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.size = source.size;\n\tthis.sizeAttenuation = source.sizeAttenuation;\n\n\tthis.morphTargets = source.morphTargets;\n\n\treturn this;\n\n};\n\nconst _inverseMatrix$2 = new Matrix4();\nconst _ray$2 = new Ray();\nconst _sphere$3 = new Sphere();\nconst _position$1 = new Vector3();\n\nfunction Points( geometry, material ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Points';\n\n\tthis.geometry = geometry !== undefined ? geometry : new BufferGeometry();\n\tthis.material = material !== undefined ? material : new PointsMaterial();\n\n\tthis.updateMorphTargets();\n\n}\n\nPoints.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Points,\n\n\tisPoints: true,\n\n\tcopy: function ( source ) {\n\n\t\tObject3D.prototype.copy.call( this, source );\n\n\t\tthis.material = source.material;\n\t\tthis.geometry = source.geometry;\n\n\t\treturn this;\n\n\t},\n\n\traycast: function ( raycaster, intersects ) {\n\n\t\tconst geometry = this.geometry;\n\t\tconst matrixWorld = this.matrixWorld;\n\t\tconst threshold = raycaster.params.Points.threshold;\n\n\t\t// Checking boundingSphere distance to ray\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere$3.copy( geometry.boundingSphere );\n\t\t_sphere$3.applyMatrix4( matrixWorld );\n\t\t_sphere$3.radius += threshold;\n\n\t\tif ( raycaster.ray.intersectsSphere( _sphere$3 ) === false ) return;\n\n\t\t//\n\n\t\t_inverseMatrix$2.getInverse( matrixWorld );\n\t\t_ray$2.copy( raycaster.ray ).applyMatrix4( _inverseMatrix$2 );\n\n\t\tconst localThreshold = threshold / ( ( this.scale.x + this.scale.y + this.scale.z ) / 3 );\n\t\tconst localThresholdSq = localThreshold * localThreshold;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tconst index = geometry.index;\n\t\t\tconst attributes = geometry.attributes;\n\t\t\tconst positionAttribute = attributes.position;\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\tconst indices = index.array;\n\n\t\t\t\tfor ( let i = 0, il = indices.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst a = indices[ i ];\n\n\t\t\t\t\t_position$1.fromBufferAttribute( positionAttribute, a );\n\n\t\t\t\t\ttestPoint( _position$1, a, localThresholdSq, matrixWorld, raycaster, intersects, this );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tfor ( let i = 0, l = positionAttribute.count; i < l; i ++ ) {\n\n\t\t\t\t\t_position$1.fromBufferAttribute( positionAttribute, i );\n\n\t\t\t\t\ttestPoint( _position$1, i, localThresholdSq, matrixWorld, raycaster, intersects, this );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst vertices = geometry.vertices;\n\n\t\t\tfor ( let i = 0, l = vertices.length; i < l; i ++ ) {\n\n\t\t\t\ttestPoint( vertices[ i ], i, localThresholdSq, matrixWorld, raycaster, intersects, this );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tupdateMorphTargets: function () {\n\n\t\tconst geometry = this.geometry;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tconst morphAttributes = geometry.morphAttributes;\n\t\t\tconst keys = Object.keys( morphAttributes );\n\n\t\t\tif ( keys.length > 0 ) {\n\n\t\t\t\tconst morphAttribute = morphAttributes[ keys[ 0 ] ];\n\n\t\t\t\tif ( morphAttribute !== undefined ) {\n\n\t\t\t\t\tthis.morphTargetInfluences = [];\n\t\t\t\t\tthis.morphTargetDictionary = {};\n\n\t\t\t\t\tfor ( let m = 0, ml = morphAttribute.length; m < ml; m ++ ) {\n\n\t\t\t\t\t\tconst name = morphAttribute[ m ].name || String( m );\n\n\t\t\t\t\t\tthis.morphTargetInfluences.push( 0 );\n\t\t\t\t\t\tthis.morphTargetDictionary[ name ] = m;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst morphTargets = geometry.morphTargets;\n\n\t\t\tif ( morphTargets !== undefined && morphTargets.length > 0 ) {\n\n\t\t\t\tconsole.error( 'THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n} );\n\nfunction testPoint( point, index, localThresholdSq, matrixWorld, raycaster, intersects, object ) {\n\n\tconst rayPointDistanceSq = _ray$2.distanceSqToPoint( point );\n\n\tif ( rayPointDistanceSq < localThresholdSq ) {\n\n\t\tconst intersectPoint = new Vector3();\n\n\t\t_ray$2.closestPointToPoint( point, intersectPoint );\n\t\tintersectPoint.applyMatrix4( matrixWorld );\n\n\t\tconst distance = raycaster.ray.origin.distanceTo( intersectPoint );\n\n\t\tif ( distance < raycaster.near || distance > raycaster.far ) return;\n\n\t\tintersects.push( {\n\n\t\t\tdistance: distance,\n\t\t\tdistanceToRay: Math.sqrt( rayPointDistanceSq ),\n\t\t\tpoint: intersectPoint,\n\t\t\tindex: index,\n\t\t\tface: null,\n\t\t\tobject: object\n\n\t\t} );\n\n\t}\n\n}\n\nfunction VideoTexture( video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy ) {\n\n\tTexture.call( this, video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\tthis.format = format !== undefined ? format : RGBFormat;\n\n\tthis.minFilter = minFilter !== undefined ? minFilter : LinearFilter;\n\tthis.magFilter = magFilter !== undefined ? magFilter : LinearFilter;\n\n\tthis.generateMipmaps = false;\n\n\tconst scope = this;\n\n\tfunction updateVideo() {\n\n\t\tscope.needsUpdate = true;\n\t\tvideo.requestVideoFrameCallback( updateVideo );\n\n\t}\n\n\tif ( 'requestVideoFrameCallback' in video ) {\n\n\t\tvideo.requestVideoFrameCallback( updateVideo );\n\n\t}\n\n}\n\nVideoTexture.prototype = Object.assign( Object.create( Texture.prototype ), {\n\n\tconstructor: VideoTexture,\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.image ).copy( this );\n\n\t},\n\n\tisVideoTexture: true,\n\n\tupdate: function () {\n\n\t\tconst video = this.image;\n\t\tconst hasVideoFrameCallback = 'requestVideoFrameCallback' in video;\n\n\t\tif ( hasVideoFrameCallback === false && video.readyState >= video.HAVE_CURRENT_DATA ) {\n\n\t\t\tthis.needsUpdate = true;\n\n\t\t}\n\n\t}\n\n} );\n\nfunction CompressedTexture( mipmaps, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, encoding ) {\n\n\tTexture.call( this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\tthis.image = { width: width, height: height };\n\tthis.mipmaps = mipmaps;\n\n\t// no flipping for cube textures\n\t// (also flipping doesn't work for compressed textures )\n\n\tthis.flipY = false;\n\n\t// can't generate mipmaps for compressed textures\n\t// mips must be embedded in DDS files\n\n\tthis.generateMipmaps = false;\n\n}\n\nCompressedTexture.prototype = Object.create( Texture.prototype );\nCompressedTexture.prototype.constructor = CompressedTexture;\n\nCompressedTexture.prototype.isCompressedTexture = true;\n\nfunction CanvasTexture( canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy ) {\n\n\tTexture.call( this, canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\tthis.needsUpdate = true;\n\n}\n\nCanvasTexture.prototype = Object.create( Texture.prototype );\nCanvasTexture.prototype.constructor = CanvasTexture;\nCanvasTexture.prototype.isCanvasTexture = true;\n\nfunction DepthTexture( width, height, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, format ) {\n\n\tformat = format !== undefined ? format : DepthFormat;\n\n\tif ( format !== DepthFormat && format !== DepthStencilFormat ) {\n\n\t\tthrow new Error( 'DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat' );\n\n\t}\n\n\tif ( type === undefined && format === DepthFormat ) type = UnsignedShortType;\n\tif ( type === undefined && format === DepthStencilFormat ) type = UnsignedInt248Type;\n\n\tTexture.call( this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\tthis.image = { width: width, height: height };\n\n\tthis.magFilter = magFilter !== undefined ? magFilter : NearestFilter;\n\tthis.minFilter = minFilter !== undefined ? minFilter : NearestFilter;\n\n\tthis.flipY = false;\n\tthis.generateMipmaps\t= false;\n\n}\n\nDepthTexture.prototype = Object.create( Texture.prototype );\nDepthTexture.prototype.constructor = DepthTexture;\nDepthTexture.prototype.isDepthTexture = true;\n\nlet _geometryId = 0; // Geometry uses even numbers as Id\nconst _m1$3 = new Matrix4();\nconst _obj$1 = new Object3D();\nconst _offset$1 = new Vector3();\n\nfunction Geometry() {\n\n\tObject.defineProperty( this, 'id', { value: _geometryId += 2 } );\n\n\tthis.uuid = MathUtils.generateUUID();\n\n\tthis.name = '';\n\tthis.type = 'Geometry';\n\n\tthis.vertices = [];\n\tthis.colors = [];\n\tthis.faces = [];\n\tthis.faceVertexUvs = [[]];\n\n\tthis.morphTargets = [];\n\tthis.morphNormals = [];\n\n\tthis.skinWeights = [];\n\tthis.skinIndices = [];\n\n\tthis.lineDistances = [];\n\n\tthis.boundingBox = null;\n\tthis.boundingSphere = null;\n\n\t// update flags\n\n\tthis.elementsNeedUpdate = false;\n\tthis.verticesNeedUpdate = false;\n\tthis.uvsNeedUpdate = false;\n\tthis.normalsNeedUpdate = false;\n\tthis.colorsNeedUpdate = false;\n\tthis.lineDistancesNeedUpdate = false;\n\tthis.groupsNeedUpdate = false;\n\n}\n\nGeometry.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: Geometry,\n\n\tisGeometry: true,\n\n\tapplyMatrix4: function ( matrix ) {\n\n\t\tconst normalMatrix = new Matrix3().getNormalMatrix( matrix );\n\n\t\tfor ( let i = 0, il = this.vertices.length; i < il; i ++ ) {\n\n\t\t\tconst vertex = this.vertices[ i ];\n\t\t\tvertex.applyMatrix4( matrix );\n\n\t\t}\n\n\t\tfor ( let i = 0, il = this.faces.length; i < il; i ++ ) {\n\n\t\t\tconst face = this.faces[ i ];\n\t\t\tface.normal.applyMatrix3( normalMatrix ).normalize();\n\n\t\t\tfor ( let j = 0, jl = face.vertexNormals.length; j < jl; j ++ ) {\n\n\t\t\t\tface.vertexNormals[ j ].applyMatrix3( normalMatrix ).normalize();\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.boundingBox !== null ) {\n\n\t\t\tthis.computeBoundingBox();\n\n\t\t}\n\n\t\tif ( this.boundingSphere !== null ) {\n\n\t\t\tthis.computeBoundingSphere();\n\n\t\t}\n\n\t\tthis.verticesNeedUpdate = true;\n\t\tthis.normalsNeedUpdate = true;\n\n\t\treturn this;\n\n\t},\n\n\trotateX: function ( angle ) {\n\n\t\t// rotate geometry around world x-axis\n\n\t\t_m1$3.makeRotationX( angle );\n\n\t\tthis.applyMatrix4( _m1$3 );\n\n\t\treturn this;\n\n\t},\n\n\trotateY: function ( angle ) {\n\n\t\t// rotate geometry around world y-axis\n\n\t\t_m1$3.makeRotationY( angle );\n\n\t\tthis.applyMatrix4( _m1$3 );\n\n\t\treturn this;\n\n\t},\n\n\trotateZ: function ( angle ) {\n\n\t\t// rotate geometry around world z-axis\n\n\t\t_m1$3.makeRotationZ( angle );\n\n\t\tthis.applyMatrix4( _m1$3 );\n\n\t\treturn this;\n\n\t},\n\n\ttranslate: function ( x, y, z ) {\n\n\t\t// translate geometry\n\n\t\t_m1$3.makeTranslation( x, y, z );\n\n\t\tthis.applyMatrix4( _m1$3 );\n\n\t\treturn this;\n\n\t},\n\n\tscale: function ( x, y, z ) {\n\n\t\t// scale geometry\n\n\t\t_m1$3.makeScale( x, y, z );\n\n\t\tthis.applyMatrix4( _m1$3 );\n\n\t\treturn this;\n\n\t},\n\n\tlookAt: function ( vector ) {\n\n\t\t_obj$1.lookAt( vector );\n\n\t\t_obj$1.updateMatrix();\n\n\t\tthis.applyMatrix4( _obj$1.matrix );\n\n\t\treturn this;\n\n\t},\n\n\tfromBufferGeometry: function ( geometry ) {\n\n\t\tconst scope = this;\n\n\t\tconst index = geometry.index !== null ? geometry.index : undefined;\n\t\tconst attributes = geometry.attributes;\n\n\t\tif ( attributes.position === undefined ) {\n\n\t\t\tconsole.error( 'THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion.' );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst position = attributes.position;\n\t\tconst normal = attributes.normal;\n\t\tconst color = attributes.color;\n\t\tconst uv = attributes.uv;\n\t\tconst uv2 = attributes.uv2;\n\n\t\tif ( uv2 !== undefined ) this.faceVertexUvs[ 1 ] = [];\n\n\t\tfor ( let i = 0; i < position.count; i ++ ) {\n\n\t\t\tscope.vertices.push( new Vector3().fromBufferAttribute( position, i ) );\n\n\t\t\tif ( color !== undefined ) {\n\n\t\t\t\tscope.colors.push( new Color().fromBufferAttribute( color, i ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction addFace( a, b, c, materialIndex ) {\n\n\t\t\tconst vertexColors = ( color === undefined ) ? [] : [\n\t\t\t\tscope.colors[ a ].clone(),\n\t\t\t\tscope.colors[ b ].clone(),\n\t\t\t\tscope.colors[ c ].clone()\n\t\t\t];\n\n\t\t\tconst vertexNormals = ( normal === undefined ) ? [] : [\n\t\t\t\tnew Vector3().fromBufferAttribute( normal, a ),\n\t\t\t\tnew Vector3().fromBufferAttribute( normal, b ),\n\t\t\t\tnew Vector3().fromBufferAttribute( normal, c )\n\t\t\t];\n\n\t\t\tconst face = new Face3( a, b, c, vertexNormals, vertexColors, materialIndex );\n\n\t\t\tscope.faces.push( face );\n\n\t\t\tif ( uv !== undefined ) {\n\n\t\t\t\tscope.faceVertexUvs[ 0 ].push( [\n\t\t\t\t\tnew Vector2().fromBufferAttribute( uv, a ),\n\t\t\t\t\tnew Vector2().fromBufferAttribute( uv, b ),\n\t\t\t\t\tnew Vector2().fromBufferAttribute( uv, c )\n\t\t\t\t] );\n\n\t\t\t}\n\n\t\t\tif ( uv2 !== undefined ) {\n\n\t\t\t\tscope.faceVertexUvs[ 1 ].push( [\n\t\t\t\t\tnew Vector2().fromBufferAttribute( uv2, a ),\n\t\t\t\t\tnew Vector2().fromBufferAttribute( uv2, b ),\n\t\t\t\t\tnew Vector2().fromBufferAttribute( uv2, c )\n\t\t\t\t] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst groups = geometry.groups;\n\n\t\tif ( groups.length > 0 ) {\n\n\t\t\tfor ( let i = 0; i < groups.length; i ++ ) {\n\n\t\t\t\tconst group = groups[ i ];\n\n\t\t\t\tconst start = group.start;\n\t\t\t\tconst count = group.count;\n\n\t\t\t\tfor ( let j = start, jl = start + count; j < jl; j += 3 ) {\n\n\t\t\t\t\tif ( index !== undefined ) {\n\n\t\t\t\t\t\taddFace( index.getX( j ), index.getX( j + 1 ), index.getX( j + 2 ), group.materialIndex );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\taddFace( j, j + 1, j + 2, group.materialIndex );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tif ( index !== undefined ) {\n\n\t\t\t\tfor ( let i = 0; i < index.count; i += 3 ) {\n\n\t\t\t\t\taddFace( index.getX( i ), index.getX( i + 1 ), index.getX( i + 2 ) );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tfor ( let i = 0; i < position.count; i += 3 ) {\n\n\t\t\t\t\taddFace( i, i + 1, i + 2 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.computeFaceNormals();\n\n\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = geometry.boundingBox.clone();\n\n\t\t}\n\n\t\tif ( geometry.boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = geometry.boundingSphere.clone();\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcenter: function () {\n\n\t\tthis.computeBoundingBox();\n\n\t\tthis.boundingBox.getCenter( _offset$1 ).negate();\n\n\t\tthis.translate( _offset$1.x, _offset$1.y, _offset$1.z );\n\n\t\treturn this;\n\n\t},\n\n\tnormalize: function () {\n\n\t\tthis.computeBoundingSphere();\n\n\t\tconst center = this.boundingSphere.center;\n\t\tconst radius = this.boundingSphere.radius;\n\n\t\tconst s = radius === 0 ? 1 : 1.0 / radius;\n\n\t\tconst matrix = new Matrix4();\n\t\tmatrix.set(\n\t\t\ts, 0, 0, - s * center.x,\n\t\t\t0, s, 0, - s * center.y,\n\t\t\t0, 0, s, - s * center.z,\n\t\t\t0, 0, 0, 1\n\t\t);\n\n\t\tthis.applyMatrix4( matrix );\n\n\t\treturn this;\n\n\t},\n\n\tcomputeFaceNormals: function () {\n\n\t\tconst cb = new Vector3(), ab = new Vector3();\n\n\t\tfor ( let f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tconst face = this.faces[ f ];\n\n\t\t\tconst vA = this.vertices[ face.a ];\n\t\t\tconst vB = this.vertices[ face.b ];\n\t\t\tconst vC = this.vertices[ face.c ];\n\n\t\t\tcb.subVectors( vC, vB );\n\t\t\tab.subVectors( vA, vB );\n\t\t\tcb.cross( ab );\n\n\t\t\tcb.normalize();\n\n\t\t\tface.normal.copy( cb );\n\n\t\t}\n\n\t},\n\n\tcomputeVertexNormals: function ( areaWeighted ) {\n\n\t\tif ( areaWeighted === undefined ) areaWeighted = true;\n\n\t\tconst vertices = new Array( this.vertices.length );\n\n\t\tfor ( let v = 0, vl = this.vertices.length; v < vl; v ++ ) {\n\n\t\t\tvertices[ v ] = new Vector3();\n\n\t\t}\n\n\t\tif ( areaWeighted ) {\n\n\t\t\t// vertex normals weighted by triangle areas\n\t\t\t// http://www.iquilezles.org/www/articles/normals/normals.htm\n\n\t\t\tconst cb = new Vector3(), ab = new Vector3();\n\n\t\t\tfor ( let f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\t\tconst face = this.faces[ f ];\n\n\t\t\t\tconst vA = this.vertices[ face.a ];\n\t\t\t\tconst vB = this.vertices[ face.b ];\n\t\t\t\tconst vC = this.vertices[ face.c ];\n\n\t\t\t\tcb.subVectors( vC, vB );\n\t\t\t\tab.subVectors( vA, vB );\n\t\t\t\tcb.cross( ab );\n\n\t\t\t\tvertices[ face.a ].add( cb );\n\t\t\t\tvertices[ face.b ].add( cb );\n\t\t\t\tvertices[ face.c ].add( cb );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tthis.computeFaceNormals();\n\n\t\t\tfor ( let f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\t\tconst face = this.faces[ f ];\n\n\t\t\t\tvertices[ face.a ].add( face.normal );\n\t\t\t\tvertices[ face.b ].add( face.normal );\n\t\t\t\tvertices[ face.c ].add( face.normal );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( let v = 0, vl = this.vertices.length; v < vl; v ++ ) {\n\n\t\t\tvertices[ v ].normalize();\n\n\t\t}\n\n\t\tfor ( let f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tconst face = this.faces[ f ];\n\n\t\t\tconst vertexNormals = face.vertexNormals;\n\n\t\t\tif ( vertexNormals.length === 3 ) {\n\n\t\t\t\tvertexNormals[ 0 ].copy( vertices[ face.a ] );\n\t\t\t\tvertexNormals[ 1 ].copy( vertices[ face.b ] );\n\t\t\t\tvertexNormals[ 2 ].copy( vertices[ face.c ] );\n\n\t\t\t} else {\n\n\t\t\t\tvertexNormals[ 0 ] = vertices[ face.a ].clone();\n\t\t\t\tvertexNormals[ 1 ] = vertices[ face.b ].clone();\n\t\t\t\tvertexNormals[ 2 ] = vertices[ face.c ].clone();\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.faces.length > 0 ) {\n\n\t\t\tthis.normalsNeedUpdate = true;\n\n\t\t}\n\n\t},\n\n\tcomputeFlatVertexNormals: function () {\n\n\t\tthis.computeFaceNormals();\n\n\t\tfor ( let f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tconst face = this.faces[ f ];\n\n\t\t\tconst vertexNormals = face.vertexNormals;\n\n\t\t\tif ( vertexNormals.length === 3 ) {\n\n\t\t\t\tvertexNormals[ 0 ].copy( face.normal );\n\t\t\t\tvertexNormals[ 1 ].copy( face.normal );\n\t\t\t\tvertexNormals[ 2 ].copy( face.normal );\n\n\t\t\t} else {\n\n\t\t\t\tvertexNormals[ 0 ] = face.normal.clone();\n\t\t\t\tvertexNormals[ 1 ] = face.normal.clone();\n\t\t\t\tvertexNormals[ 2 ] = face.normal.clone();\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.faces.length > 0 ) {\n\n\t\t\tthis.normalsNeedUpdate = true;\n\n\t\t}\n\n\t},\n\n\tcomputeMorphNormals: function () {\n\n\t\t// save original normals\n\t\t// - create temp variables on first access\n\t\t//   otherwise just copy (for faster repeated calls)\n\n\t\tfor ( let f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tconst face = this.faces[ f ];\n\n\t\t\tif ( ! face.__originalFaceNormal ) {\n\n\t\t\t\tface.__originalFaceNormal = face.normal.clone();\n\n\t\t\t} else {\n\n\t\t\t\tface.__originalFaceNormal.copy( face.normal );\n\n\t\t\t}\n\n\t\t\tif ( ! face.__originalVertexNormals ) face.__originalVertexNormals = [];\n\n\t\t\tfor ( let i = 0, il = face.vertexNormals.length; i < il; i ++ ) {\n\n\t\t\t\tif ( ! face.__originalVertexNormals[ i ] ) {\n\n\t\t\t\t\tface.__originalVertexNormals[ i ] = face.vertexNormals[ i ].clone();\n\n\t\t\t\t} else {\n\n\t\t\t\t\tface.__originalVertexNormals[ i ].copy( face.vertexNormals[ i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// use temp geometry to compute face and vertex normals for each morph\n\n\t\tconst tmpGeo = new Geometry();\n\t\ttmpGeo.faces = this.faces;\n\n\t\tfor ( let i = 0, il = this.morphTargets.length; i < il; i ++ ) {\n\n\t\t\t// create on first access\n\n\t\t\tif ( ! this.morphNormals[ i ] ) {\n\n\t\t\t\tthis.morphNormals[ i ] = {};\n\t\t\t\tthis.morphNormals[ i ].faceNormals = [];\n\t\t\t\tthis.morphNormals[ i ].vertexNormals = [];\n\n\t\t\t\tconst dstNormalsFace = this.morphNormals[ i ].faceNormals;\n\t\t\t\tconst dstNormalsVertex = this.morphNormals[ i ].vertexNormals;\n\n\t\t\t\tfor ( let f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\t\t\tconst faceNormal = new Vector3();\n\t\t\t\t\tconst vertexNormals = { a: new Vector3(), b: new Vector3(), c: new Vector3() };\n\n\t\t\t\t\tdstNormalsFace.push( faceNormal );\n\t\t\t\t\tdstNormalsVertex.push( vertexNormals );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst morphNormals = this.morphNormals[ i ];\n\n\t\t\t// set vertices to morph target\n\n\t\t\ttmpGeo.vertices = this.morphTargets[ i ].vertices;\n\n\t\t\t// compute morph normals\n\n\t\t\ttmpGeo.computeFaceNormals();\n\t\t\ttmpGeo.computeVertexNormals();\n\n\t\t\t// store morph normals\n\n\t\t\tfor ( let f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\t\tconst face = this.faces[ f ];\n\n\t\t\t\tconst faceNormal = morphNormals.faceNormals[ f ];\n\t\t\t\tconst vertexNormals = morphNormals.vertexNormals[ f ];\n\n\t\t\t\tfaceNormal.copy( face.normal );\n\n\t\t\t\tvertexNormals.a.copy( face.vertexNormals[ 0 ] );\n\t\t\t\tvertexNormals.b.copy( face.vertexNormals[ 1 ] );\n\t\t\t\tvertexNormals.c.copy( face.vertexNormals[ 2 ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// restore original normals\n\n\t\tfor ( let f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tconst face = this.faces[ f ];\n\n\t\t\tface.normal = face.__originalFaceNormal;\n\t\t\tface.vertexNormals = face.__originalVertexNormals;\n\n\t\t}\n\n\t},\n\n\tcomputeBoundingBox: function () {\n\n\t\tif ( this.boundingBox === null ) {\n\n\t\t\tthis.boundingBox = new Box3();\n\n\t\t}\n\n\t\tthis.boundingBox.setFromPoints( this.vertices );\n\n\t},\n\n\tcomputeBoundingSphere: function () {\n\n\t\tif ( this.boundingSphere === null ) {\n\n\t\t\tthis.boundingSphere = new Sphere();\n\n\t\t}\n\n\t\tthis.boundingSphere.setFromPoints( this.vertices );\n\n\t},\n\n\tmerge: function ( geometry, matrix, materialIndexOffset ) {\n\n\t\tif ( ! ( geometry && geometry.isGeometry ) ) {\n\n\t\t\tconsole.error( 'THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.', geometry );\n\t\t\treturn;\n\n\t\t}\n\n\t\tlet normalMatrix;\n\t\tconst vertexOffset = this.vertices.length,\n\t\t\tvertices1 = this.vertices,\n\t\t\tvertices2 = geometry.vertices,\n\t\t\tfaces1 = this.faces,\n\t\t\tfaces2 = geometry.faces,\n\t\t\tcolors1 = this.colors,\n\t\t\tcolors2 = geometry.colors;\n\n\t\tif ( materialIndexOffset === undefined ) materialIndexOffset = 0;\n\n\t\tif ( matrix !== undefined ) {\n\n\t\t\tnormalMatrix = new Matrix3().getNormalMatrix( matrix );\n\n\t\t}\n\n\t\t// vertices\n\n\t\tfor ( let i = 0, il = vertices2.length; i < il; i ++ ) {\n\n\t\t\tconst vertex = vertices2[ i ];\n\n\t\t\tconst vertexCopy = vertex.clone();\n\n\t\t\tif ( matrix !== undefined ) vertexCopy.applyMatrix4( matrix );\n\n\t\t\tvertices1.push( vertexCopy );\n\n\t\t}\n\n\t\t// colors\n\n\t\tfor ( let i = 0, il = colors2.length; i < il; i ++ ) {\n\n\t\t\tcolors1.push( colors2[ i ].clone() );\n\n\t\t}\n\n\t\t// faces\n\n\t\tfor ( let i = 0, il = faces2.length; i < il; i ++ ) {\n\n\t\t\tconst face = faces2[ i ];\n\t\t\tlet normal, color;\n\t\t\tconst faceVertexNormals = face.vertexNormals,\n\t\t\t\tfaceVertexColors = face.vertexColors;\n\n\t\t\tconst faceCopy = new Face3( face.a + vertexOffset, face.b + vertexOffset, face.c + vertexOffset );\n\t\t\tfaceCopy.normal.copy( face.normal );\n\n\t\t\tif ( normalMatrix !== undefined ) {\n\n\t\t\t\tfaceCopy.normal.applyMatrix3( normalMatrix ).normalize();\n\n\t\t\t}\n\n\t\t\tfor ( let j = 0, jl = faceVertexNormals.length; j < jl; j ++ ) {\n\n\t\t\t\tnormal = faceVertexNormals[ j ].clone();\n\n\t\t\t\tif ( normalMatrix !== undefined ) {\n\n\t\t\t\t\tnormal.applyMatrix3( normalMatrix ).normalize();\n\n\t\t\t\t}\n\n\t\t\t\tfaceCopy.vertexNormals.push( normal );\n\n\t\t\t}\n\n\t\t\tfaceCopy.color.copy( face.color );\n\n\t\t\tfor ( let j = 0, jl = faceVertexColors.length; j < jl; j ++ ) {\n\n\t\t\t\tcolor = faceVertexColors[ j ];\n\t\t\t\tfaceCopy.vertexColors.push( color.clone() );\n\n\t\t\t}\n\n\t\t\tfaceCopy.materialIndex = face.materialIndex + materialIndexOffset;\n\n\t\t\tfaces1.push( faceCopy );\n\n\t\t}\n\n\t\t// uvs\n\n\t\tfor ( let i = 0, il = geometry.faceVertexUvs.length; i < il; i ++ ) {\n\n\t\t\tconst faceVertexUvs2 = geometry.faceVertexUvs[ i ];\n\n\t\t\tif ( this.faceVertexUvs[ i ] === undefined ) this.faceVertexUvs[ i ] = [];\n\n\t\t\tfor ( let j = 0, jl = faceVertexUvs2.length; j < jl; j ++ ) {\n\n\t\t\t\tconst uvs2 = faceVertexUvs2[ j ], uvsCopy = [];\n\n\t\t\t\tfor ( let k = 0, kl = uvs2.length; k < kl; k ++ ) {\n\n\t\t\t\t\tuvsCopy.push( uvs2[ k ].clone() );\n\n\t\t\t\t}\n\n\t\t\t\tthis.faceVertexUvs[ i ].push( uvsCopy );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tmergeMesh: function ( mesh ) {\n\n\t\tif ( ! ( mesh && mesh.isMesh ) ) {\n\n\t\t\tconsole.error( 'THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.', mesh );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( mesh.matrixAutoUpdate ) mesh.updateMatrix();\n\n\t\tthis.merge( mesh.geometry, mesh.matrix );\n\n\t},\n\n\t/*\n\t * Checks for duplicate vertices with hashmap.\n\t * Duplicated vertices are removed\n\t * and faces' vertices are updated.\n\t */\n\n\tmergeVertices: function () {\n\n\t\tconst verticesMap = {}; // Hashmap for looking up vertices by position coordinates (and making sure they are unique)\n\t\tconst unique = [], changes = [];\n\n\t\tconst precisionPoints = 4; // number of decimal points, e.g. 4 for epsilon of 0.0001\n\t\tconst precision = Math.pow( 10, precisionPoints );\n\n\t\tfor ( let i = 0, il = this.vertices.length; i < il; i ++ ) {\n\n\t\t\tconst v = this.vertices[ i ];\n\t\t\tconst key = Math.round( v.x * precision ) + '_' + Math.round( v.y * precision ) + '_' + Math.round( v.z * precision );\n\n\t\t\tif ( verticesMap[ key ] === undefined ) {\n\n\t\t\t\tverticesMap[ key ] = i;\n\t\t\t\tunique.push( this.vertices[ i ] );\n\t\t\t\tchanges[ i ] = unique.length - 1;\n\n\t\t\t} else {\n\n\t\t\t\t//console.log('Duplicate vertex found. ', i, ' could be using ', verticesMap[key]);\n\t\t\t\tchanges[ i ] = changes[ verticesMap[ key ] ];\n\n\t\t\t}\n\n\t\t}\n\n\n\t\t// if faces are completely degenerate after merging vertices, we\n\t\t// have to remove them from the geometry.\n\t\tconst faceIndicesToRemove = [];\n\n\t\tfor ( let i = 0, il = this.faces.length; i < il; i ++ ) {\n\n\t\t\tconst face = this.faces[ i ];\n\n\t\t\tface.a = changes[ face.a ];\n\t\t\tface.b = changes[ face.b ];\n\t\t\tface.c = changes[ face.c ];\n\n\t\t\tconst indices = [ face.a, face.b, face.c ];\n\n\t\t\t// if any duplicate vertices are found in a Face3\n\t\t\t// we have to remove the face as nothing can be saved\n\t\t\tfor ( let n = 0; n < 3; n ++ ) {\n\n\t\t\t\tif ( indices[ n ] === indices[ ( n + 1 ) % 3 ] ) {\n\n\t\t\t\t\tfaceIndicesToRemove.push( i );\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( let i = faceIndicesToRemove.length - 1; i >= 0; i -- ) {\n\n\t\t\tconst idx = faceIndicesToRemove[ i ];\n\n\t\t\tthis.faces.splice( idx, 1 );\n\n\t\t\tfor ( let j = 0, jl = this.faceVertexUvs.length; j < jl; j ++ ) {\n\n\t\t\t\tthis.faceVertexUvs[ j ].splice( idx, 1 );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Use unique set of vertices\n\n\t\tconst diff = this.vertices.length - unique.length;\n\t\tthis.vertices = unique;\n\t\treturn diff;\n\n\t},\n\n\tsetFromPoints: function ( points ) {\n\n\t\tthis.vertices = [];\n\n\t\tfor ( let i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tconst point = points[ i ];\n\t\t\tthis.vertices.push( new Vector3( point.x, point.y, point.z || 0 ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsortFacesByMaterialIndex: function () {\n\n\t\tconst faces = this.faces;\n\t\tconst length = faces.length;\n\n\t\t// tag faces\n\n\t\tfor ( let i = 0; i < length; i ++ ) {\n\n\t\t\tfaces[ i ]._id = i;\n\n\t\t}\n\n\t\t// sort faces\n\n\t\tfunction materialIndexSort( a, b ) {\n\n\t\t\treturn a.materialIndex - b.materialIndex;\n\n\t\t}\n\n\t\tfaces.sort( materialIndexSort );\n\n\t\t// sort uvs\n\n\t\tconst uvs1 = this.faceVertexUvs[ 0 ];\n\t\tconst uvs2 = this.faceVertexUvs[ 1 ];\n\n\t\tlet newUvs1, newUvs2;\n\n\t\tif ( uvs1 && uvs1.length === length ) newUvs1 = [];\n\t\tif ( uvs2 && uvs2.length === length ) newUvs2 = [];\n\n\t\tfor ( let i = 0; i < length; i ++ ) {\n\n\t\t\tconst id = faces[ i ]._id;\n\n\t\t\tif ( newUvs1 ) newUvs1.push( uvs1[ id ] );\n\t\t\tif ( newUvs2 ) newUvs2.push( uvs2[ id ] );\n\n\t\t}\n\n\t\tif ( newUvs1 ) this.faceVertexUvs[ 0 ] = newUvs1;\n\t\tif ( newUvs2 ) this.faceVertexUvs[ 1 ] = newUvs2;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tconst data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Geometry',\n\t\t\t\tgenerator: 'Geometry.toJSON'\n\t\t\t}\n\t\t};\n\n\t\t// standard Geometry serialization\n\n\t\tdata.uuid = this.uuid;\n\t\tdata.type = this.type;\n\t\tif ( this.name !== '' ) data.name = this.name;\n\n\t\tif ( this.parameters !== undefined ) {\n\n\t\t\tconst parameters = this.parameters;\n\n\t\t\tfor ( const key in parameters ) {\n\n\t\t\t\tif ( parameters[ key ] !== undefined ) data[ key ] = parameters[ key ];\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tconst vertices = [];\n\n\t\tfor ( let i = 0; i < this.vertices.length; i ++ ) {\n\n\t\t\tconst vertex = this.vertices[ i ];\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t}\n\n\t\tconst faces = [];\n\t\tconst normals = [];\n\t\tconst normalsHash = {};\n\t\tconst colors = [];\n\t\tconst colorsHash = {};\n\t\tconst uvs = [];\n\t\tconst uvsHash = {};\n\n\t\tfor ( let i = 0; i < this.faces.length; i ++ ) {\n\n\t\t\tconst face = this.faces[ i ];\n\n\t\t\tconst hasMaterial = true;\n\t\t\tconst hasFaceUv = false; // deprecated\n\t\t\tconst hasFaceVertexUv = this.faceVertexUvs[ 0 ][ i ] !== undefined;\n\t\t\tconst hasFaceNormal = face.normal.length() > 0;\n\t\t\tconst hasFaceVertexNormal = face.vertexNormals.length > 0;\n\t\t\tconst hasFaceColor = face.color.r !== 1 || face.color.g !== 1 || face.color.b !== 1;\n\t\t\tconst hasFaceVertexColor = face.vertexColors.length > 0;\n\n\t\t\tlet faceType = 0;\n\n\t\t\tfaceType = setBit( faceType, 0, 0 ); // isQuad\n\t\t\tfaceType = setBit( faceType, 1, hasMaterial );\n\t\t\tfaceType = setBit( faceType, 2, hasFaceUv );\n\t\t\tfaceType = setBit( faceType, 3, hasFaceVertexUv );\n\t\t\tfaceType = setBit( faceType, 4, hasFaceNormal );\n\t\t\tfaceType = setBit( faceType, 5, hasFaceVertexNormal );\n\t\t\tfaceType = setBit( faceType, 6, hasFaceColor );\n\t\t\tfaceType = setBit( faceType, 7, hasFaceVertexColor );\n\n\t\t\tfaces.push( faceType );\n\t\t\tfaces.push( face.a, face.b, face.c );\n\t\t\tfaces.push( face.materialIndex );\n\n\t\t\tif ( hasFaceVertexUv ) {\n\n\t\t\t\tconst faceVertexUvs = this.faceVertexUvs[ 0 ][ i ];\n\n\t\t\t\tfaces.push(\n\t\t\t\t\tgetUvIndex( faceVertexUvs[ 0 ] ),\n\t\t\t\t\tgetUvIndex( faceVertexUvs[ 1 ] ),\n\t\t\t\t\tgetUvIndex( faceVertexUvs[ 2 ] )\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t\tif ( hasFaceNormal ) {\n\n\t\t\t\tfaces.push( getNormalIndex( face.normal ) );\n\n\t\t\t}\n\n\t\t\tif ( hasFaceVertexNormal ) {\n\n\t\t\t\tconst vertexNormals = face.vertexNormals;\n\n\t\t\t\tfaces.push(\n\t\t\t\t\tgetNormalIndex( vertexNormals[ 0 ] ),\n\t\t\t\t\tgetNormalIndex( vertexNormals[ 1 ] ),\n\t\t\t\t\tgetNormalIndex( vertexNormals[ 2 ] )\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t\tif ( hasFaceColor ) {\n\n\t\t\t\tfaces.push( getColorIndex( face.color ) );\n\n\t\t\t}\n\n\t\t\tif ( hasFaceVertexColor ) {\n\n\t\t\t\tconst vertexColors = face.vertexColors;\n\n\t\t\t\tfaces.push(\n\t\t\t\t\tgetColorIndex( vertexColors[ 0 ] ),\n\t\t\t\t\tgetColorIndex( vertexColors[ 1 ] ),\n\t\t\t\t\tgetColorIndex( vertexColors[ 2 ] )\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction setBit( value, position, enabled ) {\n\n\t\t\treturn enabled ? value | ( 1 << position ) : value & ( ~ ( 1 << position ) );\n\n\t\t}\n\n\t\tfunction getNormalIndex( normal ) {\n\n\t\t\tconst hash = normal.x.toString() + normal.y.toString() + normal.z.toString();\n\n\t\t\tif ( normalsHash[ hash ] !== undefined ) {\n\n\t\t\t\treturn normalsHash[ hash ];\n\n\t\t\t}\n\n\t\t\tnormalsHash[ hash ] = normals.length / 3;\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\treturn normalsHash[ hash ];\n\n\t\t}\n\n\t\tfunction getColorIndex( color ) {\n\n\t\t\tconst hash = color.r.toString() + color.g.toString() + color.b.toString();\n\n\t\t\tif ( colorsHash[ hash ] !== undefined ) {\n\n\t\t\t\treturn colorsHash[ hash ];\n\n\t\t\t}\n\n\t\t\tcolorsHash[ hash ] = colors.length;\n\t\t\tcolors.push( color.getHex() );\n\n\t\t\treturn colorsHash[ hash ];\n\n\t\t}\n\n\t\tfunction getUvIndex( uv ) {\n\n\t\t\tconst hash = uv.x.toString() + uv.y.toString();\n\n\t\t\tif ( uvsHash[ hash ] !== undefined ) {\n\n\t\t\t\treturn uvsHash[ hash ];\n\n\t\t\t}\n\n\t\t\tuvsHash[ hash ] = uvs.length / 2;\n\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\treturn uvsHash[ hash ];\n\n\t\t}\n\n\t\tdata.data = {};\n\n\t\tdata.data.vertices = vertices;\n\t\tdata.data.normals = normals;\n\t\tif ( colors.length > 0 ) data.data.colors = colors;\n\t\tif ( uvs.length > 0 ) data.data.uvs = [ uvs ]; // temporal backward compatibility\n\t\tdata.data.faces = faces;\n\n\t\treturn data;\n\n\t},\n\n\tclone: function () {\n\n\t\t/*\n\t\t // Handle primitives\n\n\t\t const parameters = this.parameters;\n\n\t\t if ( parameters !== undefined ) {\n\n\t\t const values = [];\n\n\t\t for ( const key in parameters ) {\n\n\t\t values.push( parameters[ key ] );\n\n\t\t }\n\n\t\t const geometry = Object.create( this.constructor.prototype );\n\t\t this.constructor.apply( geometry, values );\n\t\t return geometry;\n\n\t\t }\n\n\t\t return new this.constructor().copy( this );\n\t\t */\n\n\t\treturn new Geometry().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\t// reset\n\n\t\tthis.vertices = [];\n\t\tthis.colors = [];\n\t\tthis.faces = [];\n\t\tthis.faceVertexUvs = [[]];\n\t\tthis.morphTargets = [];\n\t\tthis.morphNormals = [];\n\t\tthis.skinWeights = [];\n\t\tthis.skinIndices = [];\n\t\tthis.lineDistances = [];\n\t\tthis.boundingBox = null;\n\t\tthis.boundingSphere = null;\n\n\t\t// name\n\n\t\tthis.name = source.name;\n\n\t\t// vertices\n\n\t\tconst vertices = source.vertices;\n\n\t\tfor ( let i = 0, il = vertices.length; i < il; i ++ ) {\n\n\t\t\tthis.vertices.push( vertices[ i ].clone() );\n\n\t\t}\n\n\t\t// colors\n\n\t\tconst colors = source.colors;\n\n\t\tfor ( let i = 0, il = colors.length; i < il; i ++ ) {\n\n\t\t\tthis.colors.push( colors[ i ].clone() );\n\n\t\t}\n\n\t\t// faces\n\n\t\tconst faces = source.faces;\n\n\t\tfor ( let i = 0, il = faces.length; i < il; i ++ ) {\n\n\t\t\tthis.faces.push( faces[ i ].clone() );\n\n\t\t}\n\n\t\t// face vertex uvs\n\n\t\tfor ( let i = 0, il = source.faceVertexUvs.length; i < il; i ++ ) {\n\n\t\t\tconst faceVertexUvs = source.faceVertexUvs[ i ];\n\n\t\t\tif ( this.faceVertexUvs[ i ] === undefined ) {\n\n\t\t\t\tthis.faceVertexUvs[ i ] = [];\n\n\t\t\t}\n\n\t\t\tfor ( let j = 0, jl = faceVertexUvs.length; j < jl; j ++ ) {\n\n\t\t\t\tconst uvs = faceVertexUvs[ j ], uvsCopy = [];\n\n\t\t\t\tfor ( let k = 0, kl = uvs.length; k < kl; k ++ ) {\n\n\t\t\t\t\tconst uv = uvs[ k ];\n\n\t\t\t\t\tuvsCopy.push( uv.clone() );\n\n\t\t\t\t}\n\n\t\t\t\tthis.faceVertexUvs[ i ].push( uvsCopy );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// morph targets\n\n\t\tconst morphTargets = source.morphTargets;\n\n\t\tfor ( let i = 0, il = morphTargets.length; i < il; i ++ ) {\n\n\t\t\tconst morphTarget = {};\n\t\t\tmorphTarget.name = morphTargets[ i ].name;\n\n\t\t\t// vertices\n\n\t\t\tif ( morphTargets[ i ].vertices !== undefined ) {\n\n\t\t\t\tmorphTarget.vertices = [];\n\n\t\t\t\tfor ( let j = 0, jl = morphTargets[ i ].vertices.length; j < jl; j ++ ) {\n\n\t\t\t\t\tmorphTarget.vertices.push( morphTargets[ i ].vertices[ j ].clone() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// normals\n\n\t\t\tif ( morphTargets[ i ].normals !== undefined ) {\n\n\t\t\t\tmorphTarget.normals = [];\n\n\t\t\t\tfor ( let j = 0, jl = morphTargets[ i ].normals.length; j < jl; j ++ ) {\n\n\t\t\t\t\tmorphTarget.normals.push( morphTargets[ i ].normals[ j ].clone() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.morphTargets.push( morphTarget );\n\n\t\t}\n\n\t\t// morph normals\n\n\t\tconst morphNormals = source.morphNormals;\n\n\t\tfor ( let i = 0, il = morphNormals.length; i < il; i ++ ) {\n\n\t\t\tconst morphNormal = {};\n\n\t\t\t// vertex normals\n\n\t\t\tif ( morphNormals[ i ].vertexNormals !== undefined ) {\n\n\t\t\t\tmorphNormal.vertexNormals = [];\n\n\t\t\t\tfor ( let j = 0, jl = morphNormals[ i ].vertexNormals.length; j < jl; j ++ ) {\n\n\t\t\t\t\tconst srcVertexNormal = morphNormals[ i ].vertexNormals[ j ];\n\t\t\t\t\tconst destVertexNormal = {};\n\n\t\t\t\t\tdestVertexNormal.a = srcVertexNormal.a.clone();\n\t\t\t\t\tdestVertexNormal.b = srcVertexNormal.b.clone();\n\t\t\t\t\tdestVertexNormal.c = srcVertexNormal.c.clone();\n\n\t\t\t\t\tmorphNormal.vertexNormals.push( destVertexNormal );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// face normals\n\n\t\t\tif ( morphNormals[ i ].faceNormals !== undefined ) {\n\n\t\t\t\tmorphNormal.faceNormals = [];\n\n\t\t\t\tfor ( let j = 0, jl = morphNormals[ i ].faceNormals.length; j < jl; j ++ ) {\n\n\t\t\t\t\tmorphNormal.faceNormals.push( morphNormals[ i ].faceNormals[ j ].clone() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.morphNormals.push( morphNormal );\n\n\t\t}\n\n\t\t// skin weights\n\n\t\tconst skinWeights = source.skinWeights;\n\n\t\tfor ( let i = 0, il = skinWeights.length; i < il; i ++ ) {\n\n\t\t\tthis.skinWeights.push( skinWeights[ i ].clone() );\n\n\t\t}\n\n\t\t// skin indices\n\n\t\tconst skinIndices = source.skinIndices;\n\n\t\tfor ( let i = 0, il = skinIndices.length; i < il; i ++ ) {\n\n\t\t\tthis.skinIndices.push( skinIndices[ i ].clone() );\n\n\t\t}\n\n\t\t// line distances\n\n\t\tconst lineDistances = source.lineDistances;\n\n\t\tfor ( let i = 0, il = lineDistances.length; i < il; i ++ ) {\n\n\t\t\tthis.lineDistances.push( lineDistances[ i ] );\n\n\t\t}\n\n\t\t// bounding box\n\n\t\tconst boundingBox = source.boundingBox;\n\n\t\tif ( boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = boundingBox.clone();\n\n\t\t}\n\n\t\t// bounding sphere\n\n\t\tconst boundingSphere = source.boundingSphere;\n\n\t\tif ( boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = boundingSphere.clone();\n\n\t\t}\n\n\t\t// update flags\n\n\t\tthis.elementsNeedUpdate = source.elementsNeedUpdate;\n\t\tthis.verticesNeedUpdate = source.verticesNeedUpdate;\n\t\tthis.uvsNeedUpdate = source.uvsNeedUpdate;\n\t\tthis.normalsNeedUpdate = source.normalsNeedUpdate;\n\t\tthis.colorsNeedUpdate = source.colorsNeedUpdate;\n\t\tthis.lineDistancesNeedUpdate = source.lineDistancesNeedUpdate;\n\t\tthis.groupsNeedUpdate = source.groupsNeedUpdate;\n\n\t\treturn this;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\nclass BoxGeometry extends Geometry {\n\n\tconstructor( width, height, depth, widthSegments, heightSegments, depthSegments ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'BoxGeometry';\n\n\t\tthis.parameters = {\n\t\t\twidth: width,\n\t\t\theight: height,\n\t\t\tdepth: depth,\n\t\t\twidthSegments: widthSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\tdepthSegments: depthSegments\n\t\t};\n\n\t\tthis.fromBufferGeometry( new BoxBufferGeometry( width, height, depth, widthSegments, heightSegments, depthSegments ) );\n\t\tthis.mergeVertices();\n\n\t}\n\n}\n\nclass CircleBufferGeometry extends BufferGeometry {\n\n\tconstructor( radius, segments, thetaStart, thetaLength ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'CircleBufferGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tsegments: segments,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\n\t\tradius = radius || 1;\n\t\tsegments = segments !== undefined ? Math.max( 3, segments ) : 8;\n\n\t\tthetaStart = thetaStart !== undefined ? thetaStart : 0;\n\t\tthetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tconst vertex = new Vector3();\n\t\tconst uv = new Vector2();\n\n\t\t// center point\n\n\t\tvertices.push( 0, 0, 0 );\n\t\tnormals.push( 0, 0, 1 );\n\t\tuvs.push( 0.5, 0.5 );\n\n\t\tfor ( let s = 0, i = 3; s <= segments; s ++, i += 3 ) {\n\n\t\t\tconst segment = thetaStart + s / segments * thetaLength;\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = radius * Math.cos( segment );\n\t\t\tvertex.y = radius * Math.sin( segment );\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// normal\n\n\t\t\tnormals.push( 0, 0, 1 );\n\n\t\t\t// uvs\n\n\t\t\tuv.x = ( vertices[ i ] / radius + 1 ) / 2;\n\t\t\tuv.y = ( vertices[ i + 1 ] / radius + 1 ) / 2;\n\n\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t}\n\n\t\t// indices\n\n\t\tfor ( let i = 1; i <= segments; i ++ ) {\n\n\t\t\tindices.push( i, i + 1, 0 );\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t}\n\n}\n\nclass CircleGeometry extends Geometry {\n\n\tconstructor( radius, segments, thetaStart, thetaLength ) {\n\n\t\tsuper();\n\t\tthis.type = 'CircleGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tsegments: segments,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\n\t\tthis.fromBufferGeometry( new CircleBufferGeometry( radius, segments, thetaStart, thetaLength ) );\n\t\tthis.mergeVertices();\n\n\t}\n\n}\n\nclass CylinderBufferGeometry extends BufferGeometry {\n\n\tconstructor( radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) {\n\n\t\tsuper();\n\t\tthis.type = 'CylinderBufferGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradiusTop: radiusTop,\n\t\t\tradiusBottom: radiusBottom,\n\t\t\theight: height,\n\t\t\tradialSegments: radialSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\topenEnded: openEnded,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\n\t\tconst scope = this;\n\n\t\tradiusTop = radiusTop !== undefined ? radiusTop : 1;\n\t\tradiusBottom = radiusBottom !== undefined ? radiusBottom : 1;\n\t\theight = height || 1;\n\n\t\tradialSegments = Math.floor( radialSegments ) || 8;\n\t\theightSegments = Math.floor( heightSegments ) || 1;\n\n\t\topenEnded = openEnded !== undefined ? openEnded : false;\n\t\tthetaStart = thetaStart !== undefined ? thetaStart : 0.0;\n\t\tthetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tlet index = 0;\n\t\tconst indexArray = [];\n\t\tconst halfHeight = height / 2;\n\t\tlet groupStart = 0;\n\n\t\t// generate geometry\n\n\t\tgenerateTorso();\n\n\t\tif ( openEnded === false ) {\n\n\t\t\tif ( radiusTop > 0 ) generateCap( true );\n\t\t\tif ( radiusBottom > 0 ) generateCap( false );\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t\tfunction generateTorso() {\n\n\t\t\tconst normal = new Vector3();\n\t\t\tconst vertex = new Vector3();\n\n\t\t\tlet groupCount = 0;\n\n\t\t\t// this will be used to calculate the normal\n\t\t\tconst slope = ( radiusBottom - radiusTop ) / height;\n\n\t\t\t// generate vertices, normals and uvs\n\n\t\t\tfor ( let y = 0; y <= heightSegments; y ++ ) {\n\n\t\t\t\tconst indexRow = [];\n\n\t\t\t\tconst v = y / heightSegments;\n\n\t\t\t\t// calculate the radius of the current row\n\n\t\t\t\tconst radius = v * ( radiusBottom - radiusTop ) + radiusTop;\n\n\t\t\t\tfor ( let x = 0; x <= radialSegments; x ++ ) {\n\n\t\t\t\t\tconst u = x / radialSegments;\n\n\t\t\t\t\tconst theta = u * thetaLength + thetaStart;\n\n\t\t\t\t\tconst sinTheta = Math.sin( theta );\n\t\t\t\t\tconst cosTheta = Math.cos( theta );\n\n\t\t\t\t\t// vertex\n\n\t\t\t\t\tvertex.x = radius * sinTheta;\n\t\t\t\t\tvertex.y = - v * height + halfHeight;\n\t\t\t\t\tvertex.z = radius * cosTheta;\n\t\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t\t// normal\n\n\t\t\t\t\tnormal.set( sinTheta, slope, cosTheta ).normalize();\n\t\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t\t// uv\n\n\t\t\t\t\tuvs.push( u, 1 - v );\n\n\t\t\t\t\t// save index of vertex in respective row\n\n\t\t\t\t\tindexRow.push( index ++ );\n\n\t\t\t\t}\n\n\t\t\t\t// now save vertices of the row in our index array\n\n\t\t\t\tindexArray.push( indexRow );\n\n\t\t\t}\n\n\t\t\t// generate indices\n\n\t\t\tfor ( let x = 0; x < radialSegments; x ++ ) {\n\n\t\t\t\tfor ( let y = 0; y < heightSegments; y ++ ) {\n\n\t\t\t\t\t// we use the index array to access the correct indices\n\n\t\t\t\t\tconst a = indexArray[ y ][ x ];\n\t\t\t\t\tconst b = indexArray[ y + 1 ][ x ];\n\t\t\t\t\tconst c = indexArray[ y + 1 ][ x + 1 ];\n\t\t\t\t\tconst d = indexArray[ y ][ x + 1 ];\n\n\t\t\t\t\t// faces\n\n\t\t\t\t\tindices.push( a, b, d );\n\t\t\t\t\tindices.push( b, c, d );\n\n\t\t\t\t\t// update group counter\n\n\t\t\t\t\tgroupCount += 6;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// add a group to the geometry. this will ensure multi material support\n\n\t\t\tscope.addGroup( groupStart, groupCount, 0 );\n\n\t\t\t// calculate new start value for groups\n\n\t\t\tgroupStart += groupCount;\n\n\t\t}\n\n\t\tfunction generateCap( top ) {\n\n\t\t\t// save the index of the first center vertex\n\t\t\tconst centerIndexStart = index;\n\n\t\t\tconst uv = new Vector2();\n\t\t\tconst vertex = new Vector3();\n\n\t\t\tlet groupCount = 0;\n\n\t\t\tconst radius = ( top === true ) ? radiusTop : radiusBottom;\n\t\t\tconst sign = ( top === true ) ? 1 : - 1;\n\n\t\t\t// first we generate the center vertex data of the cap.\n\t\t\t// because the geometry needs one set of uvs per face,\n\t\t\t// we must generate a center vertex per face/segment\n\n\t\t\tfor ( let x = 1; x <= radialSegments; x ++ ) {\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertices.push( 0, halfHeight * sign, 0 );\n\n\t\t\t\t// normal\n\n\t\t\t\tnormals.push( 0, sign, 0 );\n\n\t\t\t\t// uv\n\n\t\t\t\tuvs.push( 0.5, 0.5 );\n\n\t\t\t\t// increase index\n\n\t\t\t\tindex ++;\n\n\t\t\t}\n\n\t\t\t// save the index of the last center vertex\n\t\t\tconst centerIndexEnd = index;\n\n\t\t\t// now we generate the surrounding vertices, normals and uvs\n\n\t\t\tfor ( let x = 0; x <= radialSegments; x ++ ) {\n\n\t\t\t\tconst u = x / radialSegments;\n\t\t\t\tconst theta = u * thetaLength + thetaStart;\n\n\t\t\t\tconst cosTheta = Math.cos( theta );\n\t\t\t\tconst sinTheta = Math.sin( theta );\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = radius * sinTheta;\n\t\t\t\tvertex.y = halfHeight * sign;\n\t\t\t\tvertex.z = radius * cosTheta;\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// normal\n\n\t\t\t\tnormals.push( 0, sign, 0 );\n\n\t\t\t\t// uv\n\n\t\t\t\tuv.x = ( cosTheta * 0.5 ) + 0.5;\n\t\t\t\tuv.y = ( sinTheta * 0.5 * sign ) + 0.5;\n\t\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\t\t// increase index\n\n\t\t\t\tindex ++;\n\n\t\t\t}\n\n\t\t\t// generate indices\n\n\t\t\tfor ( let x = 0; x < radialSegments; x ++ ) {\n\n\t\t\t\tconst c = centerIndexStart + x;\n\t\t\t\tconst i = centerIndexEnd + x;\n\n\t\t\t\tif ( top === true ) {\n\n\t\t\t\t\t// face top\n\n\t\t\t\t\tindices.push( i, i + 1, c );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// face bottom\n\n\t\t\t\t\tindices.push( i + 1, i, c );\n\n\t\t\t\t}\n\n\t\t\t\tgroupCount += 3;\n\n\t\t\t}\n\n\t\t\t// add a group to the geometry. this will ensure multi material support\n\n\t\t\tscope.addGroup( groupStart, groupCount, top === true ? 1 : 2 );\n\n\t\t\t// calculate new start value for groups\n\n\t\t\tgroupStart += groupCount;\n\n\t\t}\n\n\t}\n\n}\n\nclass CylinderGeometry extends Geometry {\n\n\tconstructor( radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) {\n\n\t\tsuper();\n\t\tthis.type = 'CylinderGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradiusTop: radiusTop,\n\t\t\tradiusBottom: radiusBottom,\n\t\t\theight: height,\n\t\t\tradialSegments: radialSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\topenEnded: openEnded,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\n\t\tthis.fromBufferGeometry( new CylinderBufferGeometry( radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) );\n\t\tthis.mergeVertices();\n\n\t}\n\n}\n\nclass ConeGeometry extends CylinderGeometry {\n\n\tconstructor( radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) {\n\n\t\tsuper( 0, radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength );\n\t\tthis.type = 'ConeGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\theight: height,\n\t\t\tradialSegments: radialSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\topenEnded: openEnded,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\n\t}\n\n}\n\nclass ConeBufferGeometry extends CylinderBufferGeometry {\n\n\tconstructor( radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) {\n\n\t\tsuper( 0, radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength );\n\t\tthis.type = 'ConeBufferGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\theight: height,\n\t\t\tradialSegments: radialSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\topenEnded: openEnded,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\n\t}\n\n}\n\nclass PolyhedronBufferGeometry extends BufferGeometry {\n\n\tconstructor( vertices, indices, radius, detail ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'PolyhedronBufferGeometry';\n\n\t\tthis.parameters = {\n\t\t\tvertices: vertices,\n\t\t\tindices: indices,\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\n\t\tradius = radius || 1;\n\t\tdetail = detail || 0;\n\n\t\t// default buffer data\n\n\t\tconst vertexBuffer = [];\n\t\tconst uvBuffer = [];\n\n\t\t// the subdivision creates the vertex buffer data\n\n\t\tsubdivide( detail );\n\n\t\t// all vertices should lie on a conceptual sphere with a given radius\n\n\t\tapplyRadius( radius );\n\n\t\t// finally, create the uv data\n\n\t\tgenerateUVs();\n\n\t\t// build non-indexed geometry\n\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertexBuffer, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( vertexBuffer.slice(), 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvBuffer, 2 ) );\n\n\t\tif ( detail === 0 ) {\n\n\t\t\tthis.computeVertexNormals(); // flat normals\n\n\t\t} else {\n\n\t\t\tthis.normalizeNormals(); // smooth normals\n\n\t\t}\n\n\t\t// helper functions\n\n\t\tfunction subdivide( detail ) {\n\n\t\t\tconst a = new Vector3();\n\t\t\tconst b = new Vector3();\n\t\t\tconst c = new Vector3();\n\n\t\t\t// iterate over all faces and apply a subdivison with the given detail value\n\n\t\t\tfor ( let i = 0; i < indices.length; i += 3 ) {\n\n\t\t\t\t// get the vertices of the face\n\n\t\t\t\tgetVertexByIndex( indices[ i + 0 ], a );\n\t\t\t\tgetVertexByIndex( indices[ i + 1 ], b );\n\t\t\t\tgetVertexByIndex( indices[ i + 2 ], c );\n\n\t\t\t\t// perform subdivision\n\n\t\t\t\tsubdivideFace( a, b, c, detail );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction subdivideFace( a, b, c, detail ) {\n\n\t\t\tconst cols = detail + 1;\n\n\t\t\t// we use this multidimensional array as a data structure for creating the subdivision\n\n\t\t\tconst v = [];\n\n\t\t\t// construct all of the vertices for this subdivision\n\n\t\t\tfor ( let i = 0; i <= cols; i ++ ) {\n\n\t\t\t\tv[ i ] = [];\n\n\t\t\t\tconst aj = a.clone().lerp( c, i / cols );\n\t\t\t\tconst bj = b.clone().lerp( c, i / cols );\n\n\t\t\t\tconst rows = cols - i;\n\n\t\t\t\tfor ( let j = 0; j <= rows; j ++ ) {\n\n\t\t\t\t\tif ( j === 0 && i === cols ) {\n\n\t\t\t\t\t\tv[ i ][ j ] = aj;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tv[ i ][ j ] = aj.clone().lerp( bj, j / rows );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// construct all of the faces\n\n\t\t\tfor ( let i = 0; i < cols; i ++ ) {\n\n\t\t\t\tfor ( let j = 0; j < 2 * ( cols - i ) - 1; j ++ ) {\n\n\t\t\t\t\tconst k = Math.floor( j / 2 );\n\n\t\t\t\t\tif ( j % 2 === 0 ) {\n\n\t\t\t\t\t\tpushVertex( v[ i ][ k + 1 ] );\n\t\t\t\t\t\tpushVertex( v[ i + 1 ][ k ] );\n\t\t\t\t\t\tpushVertex( v[ i ][ k ] );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tpushVertex( v[ i ][ k + 1 ] );\n\t\t\t\t\t\tpushVertex( v[ i + 1 ][ k + 1 ] );\n\t\t\t\t\t\tpushVertex( v[ i + 1 ][ k ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction applyRadius( radius ) {\n\n\t\t\tconst vertex = new Vector3();\n\n\t\t\t// iterate over the entire buffer and apply the radius to each vertex\n\n\t\t\tfor ( let i = 0; i < vertexBuffer.length; i += 3 ) {\n\n\t\t\t\tvertex.x = vertexBuffer[ i + 0 ];\n\t\t\t\tvertex.y = vertexBuffer[ i + 1 ];\n\t\t\t\tvertex.z = vertexBuffer[ i + 2 ];\n\n\t\t\t\tvertex.normalize().multiplyScalar( radius );\n\n\t\t\t\tvertexBuffer[ i + 0 ] = vertex.x;\n\t\t\t\tvertexBuffer[ i + 1 ] = vertex.y;\n\t\t\t\tvertexBuffer[ i + 2 ] = vertex.z;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction generateUVs() {\n\n\t\t\tconst vertex = new Vector3();\n\n\t\t\tfor ( let i = 0; i < vertexBuffer.length; i += 3 ) {\n\n\t\t\t\tvertex.x = vertexBuffer[ i + 0 ];\n\t\t\t\tvertex.y = vertexBuffer[ i + 1 ];\n\t\t\t\tvertex.z = vertexBuffer[ i + 2 ];\n\n\t\t\t\tconst u = azimuth( vertex ) / 2 / Math.PI + 0.5;\n\t\t\t\tconst v = inclination( vertex ) / Math.PI + 0.5;\n\t\t\t\tuvBuffer.push( u, 1 - v );\n\n\t\t\t}\n\n\t\t\tcorrectUVs();\n\n\t\t\tcorrectSeam();\n\n\t\t}\n\n\t\tfunction correctSeam() {\n\n\t\t\t// handle case when face straddles the seam, see #3269\n\n\t\t\tfor ( let i = 0; i < uvBuffer.length; i += 6 ) {\n\n\t\t\t\t// uv data of a single face\n\n\t\t\t\tconst x0 = uvBuffer[ i + 0 ];\n\t\t\t\tconst x1 = uvBuffer[ i + 2 ];\n\t\t\t\tconst x2 = uvBuffer[ i + 4 ];\n\n\t\t\t\tconst max = Math.max( x0, x1, x2 );\n\t\t\t\tconst min = Math.min( x0, x1, x2 );\n\n\t\t\t\t// 0.9 is somewhat arbitrary\n\n\t\t\t\tif ( max > 0.9 && min < 0.1 ) {\n\n\t\t\t\t\tif ( x0 < 0.2 ) uvBuffer[ i + 0 ] += 1;\n\t\t\t\t\tif ( x1 < 0.2 ) uvBuffer[ i + 2 ] += 1;\n\t\t\t\t\tif ( x2 < 0.2 ) uvBuffer[ i + 4 ] += 1;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction pushVertex( vertex ) {\n\n\t\t\tvertexBuffer.push( vertex.x, vertex.y, vertex.z );\n\n\t\t}\n\n\t\tfunction getVertexByIndex( index, vertex ) {\n\n\t\t\tconst stride = index * 3;\n\n\t\t\tvertex.x = vertices[ stride + 0 ];\n\t\t\tvertex.y = vertices[ stride + 1 ];\n\t\t\tvertex.z = vertices[ stride + 2 ];\n\n\t\t}\n\n\t\tfunction correctUVs() {\n\n\t\t\tconst a = new Vector3();\n\t\t\tconst b = new Vector3();\n\t\t\tconst c = new Vector3();\n\n\t\t\tconst centroid = new Vector3();\n\n\t\t\tconst uvA = new Vector2();\n\t\t\tconst uvB = new Vector2();\n\t\t\tconst uvC = new Vector2();\n\n\t\t\tfor ( let i = 0, j = 0; i < vertexBuffer.length; i += 9, j += 6 ) {\n\n\t\t\t\ta.set( vertexBuffer[ i + 0 ], vertexBuffer[ i + 1 ], vertexBuffer[ i + 2 ] );\n\t\t\t\tb.set( vertexBuffer[ i + 3 ], vertexBuffer[ i + 4 ], vertexBuffer[ i + 5 ] );\n\t\t\t\tc.set( vertexBuffer[ i + 6 ], vertexBuffer[ i + 7 ], vertexBuffer[ i + 8 ] );\n\n\t\t\t\tuvA.set( uvBuffer[ j + 0 ], uvBuffer[ j + 1 ] );\n\t\t\t\tuvB.set( uvBuffer[ j + 2 ], uvBuffer[ j + 3 ] );\n\t\t\t\tuvC.set( uvBuffer[ j + 4 ], uvBuffer[ j + 5 ] );\n\n\t\t\t\tcentroid.copy( a ).add( b ).add( c ).divideScalar( 3 );\n\n\t\t\t\tconst azi = azimuth( centroid );\n\n\t\t\t\tcorrectUV( uvA, j + 0, a, azi );\n\t\t\t\tcorrectUV( uvB, j + 2, b, azi );\n\t\t\t\tcorrectUV( uvC, j + 4, c, azi );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction correctUV( uv, stride, vector, azimuth ) {\n\n\t\t\tif ( ( azimuth < 0 ) && ( uv.x === 1 ) ) {\n\n\t\t\t\tuvBuffer[ stride ] = uv.x - 1;\n\n\t\t\t}\n\n\t\t\tif ( ( vector.x === 0 ) && ( vector.z === 0 ) ) {\n\n\t\t\t\tuvBuffer[ stride ] = azimuth / 2 / Math.PI + 0.5;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Angle around the Y axis, counter-clockwise when looking from above.\n\n\t\tfunction azimuth( vector ) {\n\n\t\t\treturn Math.atan2( vector.z, - vector.x );\n\n\t\t}\n\n\n\t\t// Angle above the XZ plane.\n\n\t\tfunction inclination( vector ) {\n\n\t\t\treturn Math.atan2( - vector.y, Math.sqrt( ( vector.x * vector.x ) + ( vector.z * vector.z ) ) );\n\n\t\t}\n\n\t}\n\n}\n\nclass DodecahedronBufferGeometry extends PolyhedronBufferGeometry {\n\n\tconstructor( radius, detail ) {\n\n\t\tconst t = ( 1 + Math.sqrt( 5 ) ) / 2;\n\t\tconst r = 1 / t;\n\n\t\tconst vertices = [\n\n\t\t\t// (±1, ±1, ±1)\n\t\t\t- 1, - 1, - 1,\t- 1, - 1, 1,\n\t\t\t- 1, 1, - 1, - 1, 1, 1,\n\t\t\t1, - 1, - 1, 1, - 1, 1,\n\t\t\t1, 1, - 1, 1, 1, 1,\n\n\t\t\t// (0, ±1/φ, ±φ)\n\t\t\t0, - r, - t, 0, - r, t,\n\t\t\t0, r, - t, 0, r, t,\n\n\t\t\t// (±1/φ, ±φ, 0)\n\t\t\t- r, - t, 0, - r, t, 0,\n\t\t\tr, - t, 0, r, t, 0,\n\n\t\t\t// (±φ, 0, ±1/φ)\n\t\t\t- t, 0, - r, t, 0, - r,\n\t\t\t- t, 0, r, t, 0, r\n\t\t];\n\n\t\tconst indices = [\n\t\t\t3, 11, 7, \t3, 7, 15, \t3, 15, 13,\n\t\t\t7, 19, 17, \t7, 17, 6, \t7, 6, 15,\n\t\t\t17, 4, 8, \t17, 8, 10, \t17, 10, 6,\n\t\t\t8, 0, 16, \t8, 16, 2, \t8, 2, 10,\n\t\t\t0, 12, 1, \t0, 1, 18, \t0, 18, 16,\n\t\t\t6, 10, 2, \t6, 2, 13, \t6, 13, 15,\n\t\t\t2, 16, 18, \t2, 18, 3, \t2, 3, 13,\n\t\t\t18, 1, 9, \t18, 9, 11, \t18, 11, 3,\n\t\t\t4, 14, 12, \t4, 12, 0, \t4, 0, 8,\n\t\t\t11, 9, 5, \t11, 5, 19, \t11, 19, 7,\n\t\t\t19, 5, 14, \t19, 14, 4, \t19, 4, 17,\n\t\t\t1, 12, 14, \t1, 14, 5, \t1, 5, 9\n\t\t];\n\n\t\tsuper( vertices, indices, radius, detail );\n\n\t\tthis.type = 'DodecahedronBufferGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\n\t}\n\n}\n\nclass DodecahedronGeometry extends Geometry {\n\n\tconstructor( radius, detail ) {\n\n\t\tsuper();\n\t\tthis.type = 'DodecahedronGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\n\t\tthis.fromBufferGeometry( new DodecahedronBufferGeometry( radius, detail ) );\n\t\tthis.mergeVertices();\n\n\t}\n\n}\n\nconst _v0$2 = new Vector3();\nconst _v1$5 = new Vector3();\nconst _normal$1 = new Vector3();\nconst _triangle = new Triangle();\n\nclass EdgesGeometry extends BufferGeometry {\n\n\tconstructor( geometry, thresholdAngle ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'EdgesGeometry';\n\n\t\tthis.parameters = {\n\t\t\tthresholdAngle: thresholdAngle\n\t\t};\n\n\t\tthresholdAngle = ( thresholdAngle !== undefined ) ? thresholdAngle : 1;\n\n\t\tif ( geometry.isGeometry ) {\n\n\t\t\tgeometry = new BufferGeometry().fromGeometry( geometry );\n\n\t\t}\n\n\t\tconst precisionPoints = 4;\n\t\tconst precision = Math.pow( 10, precisionPoints );\n\t\tconst thresholdDot = Math.cos( MathUtils.DEG2RAD * thresholdAngle );\n\n\t\tconst indexAttr = geometry.getIndex();\n\t\tconst positionAttr = geometry.getAttribute( 'position' );\n\t\tconst indexCount = indexAttr ? indexAttr.count : positionAttr.count;\n\n\t\tconst indexArr = [ 0, 0, 0 ];\n\t\tconst vertKeys = [ 'a', 'b', 'c' ];\n\t\tconst hashes = new Array( 3 );\n\n\t\tconst edgeData = {};\n\t\tconst vertices = [];\n\t\tfor ( let i = 0; i < indexCount; i += 3 ) {\n\n\t\t\tif ( indexAttr ) {\n\n\t\t\t\tindexArr[ 0 ] = indexAttr.getX( i );\n\t\t\t\tindexArr[ 1 ] = indexAttr.getX( i + 1 );\n\t\t\t\tindexArr[ 2 ] = indexAttr.getX( i + 2 );\n\n\t\t\t} else {\n\n\t\t\t\tindexArr[ 0 ] = i;\n\t\t\t\tindexArr[ 1 ] = i + 1;\n\t\t\t\tindexArr[ 2 ] = i + 2;\n\n\t\t\t}\n\n\t\t\tconst { a, b, c } = _triangle;\n\t\t\ta.fromBufferAttribute( positionAttr, indexArr[ 0 ] );\n\t\t\tb.fromBufferAttribute( positionAttr, indexArr[ 1 ] );\n\t\t\tc.fromBufferAttribute( positionAttr, indexArr[ 2 ] );\n\t\t\t_triangle.getNormal( _normal$1 );\n\n\t\t\t// create hashes for the edge from the vertices\n\t\t\thashes[ 0 ] = `${ Math.round( a.x * precision ) },${ Math.round( a.y * precision ) },${ Math.round( a.z * precision ) }`;\n\t\t\thashes[ 1 ] = `${ Math.round( b.x * precision ) },${ Math.round( b.y * precision ) },${ Math.round( b.z * precision ) }`;\n\t\t\thashes[ 2 ] = `${ Math.round( c.x * precision ) },${ Math.round( c.y * precision ) },${ Math.round( c.z * precision ) }`;\n\n\t\t\t// skip degenerate triangles\n\t\t\tif ( hashes[ 0 ] === hashes[ 1 ] || hashes[ 1 ] === hashes[ 2 ] || hashes[ 2 ] === hashes[ 0 ] ) {\n\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\t// iterate over every edge\n\t\t\tfor ( let j = 0; j < 3; j ++ ) {\n\n\t\t\t\t// get the first and next vertex making up the edge\n\t\t\t\tconst jNext = ( j + 1 ) % 3;\n\t\t\t\tconst vecHash0 = hashes[ j ];\n\t\t\t\tconst vecHash1 = hashes[ jNext ];\n\t\t\t\tconst v0 = _triangle[ vertKeys[ j ] ];\n\t\t\t\tconst v1 = _triangle[ vertKeys[ jNext ] ];\n\n\t\t\t\tconst hash = `${ vecHash0 }_${ vecHash1 }`;\n\t\t\t\tconst reverseHash = `${ vecHash1 }_${ vecHash0 }`;\n\n\t\t\t\tif ( reverseHash in edgeData && edgeData[ reverseHash ] ) {\n\n\t\t\t\t\t// if we found a sibling edge add it into the vertex array if\n\t\t\t\t\t// it meets the angle threshold and delete the edge from the map.\n\t\t\t\t\tif ( _normal$1.dot( edgeData[ reverseHash ].normal ) <= thresholdDot ) {\n\n\t\t\t\t\t\tvertices.push( v0.x, v0.y, v0.z );\n\t\t\t\t\t\tvertices.push( v1.x, v1.y, v1.z );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tedgeData[ reverseHash ] = null;\n\n\t\t\t\t} else if ( ! ( hash in edgeData ) ) {\n\n\t\t\t\t\t// if we've already got an edge here then skip adding a new one\n\t\t\t\t\tedgeData[ hash ] = {\n\n\t\t\t\t\t\tindex0: indexArr[ j ],\n\t\t\t\t\t\tindex1: indexArr[ jNext ],\n\t\t\t\t\t\tnormal: _normal$1.clone(),\n\n\t\t\t\t\t};\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// iterate over all remaining, unmatched edges and add them to the vertex array\n\t\tfor ( const key in edgeData ) {\n\n\t\t\tif ( edgeData[ key ] ) {\n\n\t\t\t\tconst { index0, index1 } = edgeData[ key ];\n\t\t\t\t_v0$2.fromBufferAttribute( positionAttr, index0 );\n\t\t\t\t_v1$5.fromBufferAttribute( positionAttr, index1 );\n\n\t\t\t\tvertices.push( _v0$2.x, _v0$2.y, _v0$2.z );\n\t\t\t\tvertices.push( _v1$5.x, _v1$5.y, _v1$5.z );\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\n\t}\n\n}\n\n/**\n * Port from https://github.com/mapbox/earcut (v2.2.2)\n */\n\nconst Earcut = {\n\n\ttriangulate: function ( data, holeIndices, dim ) {\n\n\t\tdim = dim || 2;\n\n\t\tconst hasHoles = holeIndices && holeIndices.length;\n\t\tconst outerLen = hasHoles ? holeIndices[ 0 ] * dim : data.length;\n\t\tlet outerNode = linkedList( data, 0, outerLen, dim, true );\n\t\tconst triangles = [];\n\n\t\tif ( ! outerNode || outerNode.next === outerNode.prev ) return triangles;\n\n\t\tlet minX, minY, maxX, maxY, x, y, invSize;\n\n\t\tif ( hasHoles ) outerNode = eliminateHoles( data, holeIndices, outerNode, dim );\n\n\t\t// if the shape is not too simple, we'll use z-order curve hash later; calculate polygon bbox\n\t\tif ( data.length > 80 * dim ) {\n\n\t\t\tminX = maxX = data[ 0 ];\n\t\t\tminY = maxY = data[ 1 ];\n\n\t\t\tfor ( let i = dim; i < outerLen; i += dim ) {\n\n\t\t\t\tx = data[ i ];\n\t\t\t\ty = data[ i + 1 ];\n\t\t\t\tif ( x < minX ) minX = x;\n\t\t\t\tif ( y < minY ) minY = y;\n\t\t\t\tif ( x > maxX ) maxX = x;\n\t\t\t\tif ( y > maxY ) maxY = y;\n\n\t\t\t}\n\n\t\t\t// minX, minY and invSize are later used to transform coords into integers for z-order calculation\n\t\t\tinvSize = Math.max( maxX - minX, maxY - minY );\n\t\t\tinvSize = invSize !== 0 ? 1 / invSize : 0;\n\n\t\t}\n\n\t\tearcutLinked( outerNode, triangles, dim, minX, minY, invSize );\n\n\t\treturn triangles;\n\n\t}\n\n};\n\n// create a circular doubly linked list from polygon points in the specified winding order\nfunction linkedList( data, start, end, dim, clockwise ) {\n\n\tlet i, last;\n\n\tif ( clockwise === ( signedArea( data, start, end, dim ) > 0 ) ) {\n\n\t\tfor ( i = start; i < end; i += dim ) last = insertNode( i, data[ i ], data[ i + 1 ], last );\n\n\t} else {\n\n\t\tfor ( i = end - dim; i >= start; i -= dim ) last = insertNode( i, data[ i ], data[ i + 1 ], last );\n\n\t}\n\n\tif ( last && equals( last, last.next ) ) {\n\n\t\tremoveNode( last );\n\t\tlast = last.next;\n\n\t}\n\n\treturn last;\n\n}\n\n// eliminate colinear or duplicate points\nfunction filterPoints( start, end ) {\n\n\tif ( ! start ) return start;\n\tif ( ! end ) end = start;\n\n\tlet p = start,\n\t\tagain;\n\tdo {\n\n\t\tagain = false;\n\n\t\tif ( ! p.steiner && ( equals( p, p.next ) || area( p.prev, p, p.next ) === 0 ) ) {\n\n\t\t\tremoveNode( p );\n\t\t\tp = end = p.prev;\n\t\t\tif ( p === p.next ) break;\n\t\t\tagain = true;\n\n\t\t} else {\n\n\t\t\tp = p.next;\n\n\t\t}\n\n\t} while ( again || p !== end );\n\n\treturn end;\n\n}\n\n// main ear slicing loop which triangulates a polygon (given as a linked list)\nfunction earcutLinked( ear, triangles, dim, minX, minY, invSize, pass ) {\n\n\tif ( ! ear ) return;\n\n\t// interlink polygon nodes in z-order\n\tif ( ! pass && invSize ) indexCurve( ear, minX, minY, invSize );\n\n\tlet stop = ear,\n\t\tprev, next;\n\n\t// iterate through ears, slicing them one by one\n\twhile ( ear.prev !== ear.next ) {\n\n\t\tprev = ear.prev;\n\t\tnext = ear.next;\n\n\t\tif ( invSize ? isEarHashed( ear, minX, minY, invSize ) : isEar( ear ) ) {\n\n\t\t\t// cut off the triangle\n\t\t\ttriangles.push( prev.i / dim );\n\t\t\ttriangles.push( ear.i / dim );\n\t\t\ttriangles.push( next.i / dim );\n\n\t\t\tremoveNode( ear );\n\n\t\t\t// skipping the next vertex leads to less sliver triangles\n\t\t\tear = next.next;\n\t\t\tstop = next.next;\n\n\t\t\tcontinue;\n\n\t\t}\n\n\t\tear = next;\n\n\t\t// if we looped through the whole remaining polygon and can't find any more ears\n\t\tif ( ear === stop ) {\n\n\t\t\t// try filtering points and slicing again\n\t\t\tif ( ! pass ) {\n\n\t\t\t\tearcutLinked( filterPoints( ear ), triangles, dim, minX, minY, invSize, 1 );\n\n\t\t\t\t// if this didn't work, try curing all small self-intersections locally\n\n\t\t\t} else if ( pass === 1 ) {\n\n\t\t\t\tear = cureLocalIntersections( filterPoints( ear ), triangles, dim );\n\t\t\t\tearcutLinked( ear, triangles, dim, minX, minY, invSize, 2 );\n\n\t\t\t\t// as a last resort, try splitting the remaining polygon into two\n\n\t\t\t} else if ( pass === 2 ) {\n\n\t\t\t\tsplitEarcut( ear, triangles, dim, minX, minY, invSize );\n\n\t\t\t}\n\n\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n}\n\n// check whether a polygon node forms a valid ear with adjacent nodes\nfunction isEar( ear ) {\n\n\tconst a = ear.prev,\n\t\tb = ear,\n\t\tc = ear.next;\n\n\tif ( area( a, b, c ) >= 0 ) return false; // reflex, can't be an ear\n\n\t// now make sure we don't have other points inside the potential ear\n\tlet p = ear.next.next;\n\n\twhile ( p !== ear.prev ) {\n\n\t\tif ( pointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y ) &&\n\t\t\tarea( p.prev, p, p.next ) >= 0 ) return false;\n\t\tp = p.next;\n\n\t}\n\n\treturn true;\n\n}\n\nfunction isEarHashed( ear, minX, minY, invSize ) {\n\n\tconst a = ear.prev,\n\t\tb = ear,\n\t\tc = ear.next;\n\n\tif ( area( a, b, c ) >= 0 ) return false; // reflex, can't be an ear\n\n\t// triangle bbox; min & max are calculated like this for speed\n\tconst minTX = a.x < b.x ? ( a.x < c.x ? a.x : c.x ) : ( b.x < c.x ? b.x : c.x ),\n\t\tminTY = a.y < b.y ? ( a.y < c.y ? a.y : c.y ) : ( b.y < c.y ? b.y : c.y ),\n\t\tmaxTX = a.x > b.x ? ( a.x > c.x ? a.x : c.x ) : ( b.x > c.x ? b.x : c.x ),\n\t\tmaxTY = a.y > b.y ? ( a.y > c.y ? a.y : c.y ) : ( b.y > c.y ? b.y : c.y );\n\n\t// z-order range for the current triangle bbox;\n\tconst minZ = zOrder( minTX, minTY, minX, minY, invSize ),\n\t\tmaxZ = zOrder( maxTX, maxTY, minX, minY, invSize );\n\n\tlet p = ear.prevZ,\n\t\tn = ear.nextZ;\n\n\t// look for points inside the triangle in both directions\n\twhile ( p && p.z >= minZ && n && n.z <= maxZ ) {\n\n\t\tif ( p !== ear.prev && p !== ear.next &&\n\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y ) &&\n\t\t\tarea( p.prev, p, p.next ) >= 0 ) return false;\n\t\tp = p.prevZ;\n\n\t\tif ( n !== ear.prev && n !== ear.next &&\n\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y ) &&\n\t\t\tarea( n.prev, n, n.next ) >= 0 ) return false;\n\t\tn = n.nextZ;\n\n\t}\n\n\t// look for remaining points in decreasing z-order\n\twhile ( p && p.z >= minZ ) {\n\n\t\tif ( p !== ear.prev && p !== ear.next &&\n\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y ) &&\n\t\t\tarea( p.prev, p, p.next ) >= 0 ) return false;\n\t\tp = p.prevZ;\n\n\t}\n\n\t// look for remaining points in increasing z-order\n\twhile ( n && n.z <= maxZ ) {\n\n\t\tif ( n !== ear.prev && n !== ear.next &&\n\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y ) &&\n\t\t\tarea( n.prev, n, n.next ) >= 0 ) return false;\n\t\tn = n.nextZ;\n\n\t}\n\n\treturn true;\n\n}\n\n// go through all polygon nodes and cure small local self-intersections\nfunction cureLocalIntersections( start, triangles, dim ) {\n\n\tlet p = start;\n\tdo {\n\n\t\tconst a = p.prev,\n\t\t\tb = p.next.next;\n\n\t\tif ( ! equals( a, b ) && intersects( a, p, p.next, b ) && locallyInside( a, b ) && locallyInside( b, a ) ) {\n\n\t\t\ttriangles.push( a.i / dim );\n\t\t\ttriangles.push( p.i / dim );\n\t\t\ttriangles.push( b.i / dim );\n\n\t\t\t// remove two nodes involved\n\t\t\tremoveNode( p );\n\t\t\tremoveNode( p.next );\n\n\t\t\tp = start = b;\n\n\t\t}\n\n\t\tp = p.next;\n\n\t} while ( p !== start );\n\n\treturn filterPoints( p );\n\n}\n\n// try splitting polygon into two and triangulate them independently\nfunction splitEarcut( start, triangles, dim, minX, minY, invSize ) {\n\n\t// look for a valid diagonal that divides the polygon into two\n\tlet a = start;\n\tdo {\n\n\t\tlet b = a.next.next;\n\t\twhile ( b !== a.prev ) {\n\n\t\t\tif ( a.i !== b.i && isValidDiagonal( a, b ) ) {\n\n\t\t\t\t// split the polygon in two by the diagonal\n\t\t\t\tlet c = splitPolygon( a, b );\n\n\t\t\t\t// filter colinear points around the cuts\n\t\t\t\ta = filterPoints( a, a.next );\n\t\t\t\tc = filterPoints( c, c.next );\n\n\t\t\t\t// run earcut on each half\n\t\t\t\tearcutLinked( a, triangles, dim, minX, minY, invSize );\n\t\t\t\tearcutLinked( c, triangles, dim, minX, minY, invSize );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tb = b.next;\n\n\t\t}\n\n\t\ta = a.next;\n\n\t} while ( a !== start );\n\n}\n\n// link every hole into the outer loop, producing a single-ring polygon without holes\nfunction eliminateHoles( data, holeIndices, outerNode, dim ) {\n\n\tconst queue = [];\n\tlet i, len, start, end, list;\n\n\tfor ( i = 0, len = holeIndices.length; i < len; i ++ ) {\n\n\t\tstart = holeIndices[ i ] * dim;\n\t\tend = i < len - 1 ? holeIndices[ i + 1 ] * dim : data.length;\n\t\tlist = linkedList( data, start, end, dim, false );\n\t\tif ( list === list.next ) list.steiner = true;\n\t\tqueue.push( getLeftmost( list ) );\n\n\t}\n\n\tqueue.sort( compareX );\n\n\t// process holes from left to right\n\tfor ( i = 0; i < queue.length; i ++ ) {\n\n\t\teliminateHole( queue[ i ], outerNode );\n\t\touterNode = filterPoints( outerNode, outerNode.next );\n\n\t}\n\n\treturn outerNode;\n\n}\n\nfunction compareX( a, b ) {\n\n\treturn a.x - b.x;\n\n}\n\n// find a bridge between vertices that connects hole with an outer ring and and link it\nfunction eliminateHole( hole, outerNode ) {\n\n\touterNode = findHoleBridge( hole, outerNode );\n\tif ( outerNode ) {\n\n\t\tconst b = splitPolygon( outerNode, hole );\n\n\t\t// filter collinear points around the cuts\n\t\tfilterPoints( outerNode, outerNode.next );\n\t\tfilterPoints( b, b.next );\n\n\t}\n\n}\n\n// David Eberly's algorithm for finding a bridge between hole and outer polygon\nfunction findHoleBridge( hole, outerNode ) {\n\n\tlet p = outerNode;\n\tconst hx = hole.x;\n\tconst hy = hole.y;\n\tlet qx = - Infinity, m;\n\n\t// find a segment intersected by a ray from the hole's leftmost point to the left;\n\t// segment's endpoint with lesser x will be potential connection point\n\tdo {\n\n\t\tif ( hy <= p.y && hy >= p.next.y && p.next.y !== p.y ) {\n\n\t\t\tconst x = p.x + ( hy - p.y ) * ( p.next.x - p.x ) / ( p.next.y - p.y );\n\t\t\tif ( x <= hx && x > qx ) {\n\n\t\t\t\tqx = x;\n\t\t\t\tif ( x === hx ) {\n\n\t\t\t\t\tif ( hy === p.y ) return p;\n\t\t\t\t\tif ( hy === p.next.y ) return p.next;\n\n\t\t\t\t}\n\n\t\t\t\tm = p.x < p.next.x ? p : p.next;\n\n\t\t\t}\n\n\t\t}\n\n\t\tp = p.next;\n\n\t} while ( p !== outerNode );\n\n\tif ( ! m ) return null;\n\n\tif ( hx === qx ) return m; // hole touches outer segment; pick leftmost endpoint\n\n\t// look for points inside the triangle of hole point, segment intersection and endpoint;\n\t// if there are no points found, we have a valid connection;\n\t// otherwise choose the point of the minimum angle with the ray as connection point\n\n\tconst stop = m,\n\t\tmx = m.x,\n\t\tmy = m.y;\n\tlet tanMin = Infinity, tan;\n\n\tp = m;\n\n\tdo {\n\n\t\tif ( hx >= p.x && p.x >= mx && hx !== p.x &&\n\t\t\t\tpointInTriangle( hy < my ? hx : qx, hy, mx, my, hy < my ? qx : hx, hy, p.x, p.y ) ) {\n\n\t\t\ttan = Math.abs( hy - p.y ) / ( hx - p.x ); // tangential\n\n\t\t\tif ( locallyInside( p, hole ) && ( tan < tanMin || ( tan === tanMin && ( p.x > m.x || ( p.x === m.x && sectorContainsSector( m, p ) ) ) ) ) ) {\n\n\t\t\t\tm = p;\n\t\t\t\ttanMin = tan;\n\n\t\t\t}\n\n\t\t}\n\n\t\tp = p.next;\n\n\t} while ( p !== stop );\n\n\treturn m;\n\n}\n\n// whether sector in vertex m contains sector in vertex p in the same coordinates\nfunction sectorContainsSector( m, p ) {\n\n\treturn area( m.prev, m, p.prev ) < 0 && area( p.next, m, m.next ) < 0;\n\n}\n\n// interlink polygon nodes in z-order\nfunction indexCurve( start, minX, minY, invSize ) {\n\n\tlet p = start;\n\tdo {\n\n\t\tif ( p.z === null ) p.z = zOrder( p.x, p.y, minX, minY, invSize );\n\t\tp.prevZ = p.prev;\n\t\tp.nextZ = p.next;\n\t\tp = p.next;\n\n\t} while ( p !== start );\n\n\tp.prevZ.nextZ = null;\n\tp.prevZ = null;\n\n\tsortLinked( p );\n\n}\n\n// Simon Tatham's linked list merge sort algorithm\n// http://www.chiark.greenend.org.uk/~sgtatham/algorithms/listsort.html\nfunction sortLinked( list ) {\n\n\tlet i, p, q, e, tail, numMerges, pSize, qSize,\n\t\tinSize = 1;\n\n\tdo {\n\n\t\tp = list;\n\t\tlist = null;\n\t\ttail = null;\n\t\tnumMerges = 0;\n\n\t\twhile ( p ) {\n\n\t\t\tnumMerges ++;\n\t\t\tq = p;\n\t\t\tpSize = 0;\n\t\t\tfor ( i = 0; i < inSize; i ++ ) {\n\n\t\t\t\tpSize ++;\n\t\t\t\tq = q.nextZ;\n\t\t\t\tif ( ! q ) break;\n\n\t\t\t}\n\n\t\t\tqSize = inSize;\n\n\t\t\twhile ( pSize > 0 || ( qSize > 0 && q ) ) {\n\n\t\t\t\tif ( pSize !== 0 && ( qSize === 0 || ! q || p.z <= q.z ) ) {\n\n\t\t\t\t\te = p;\n\t\t\t\t\tp = p.nextZ;\n\t\t\t\t\tpSize --;\n\n\t\t\t\t} else {\n\n\t\t\t\t\te = q;\n\t\t\t\t\tq = q.nextZ;\n\t\t\t\t\tqSize --;\n\n\t\t\t\t}\n\n\t\t\t\tif ( tail ) tail.nextZ = e;\n\t\t\t\telse list = e;\n\n\t\t\t\te.prevZ = tail;\n\t\t\t\ttail = e;\n\n\t\t\t}\n\n\t\t\tp = q;\n\n\t\t}\n\n\t\ttail.nextZ = null;\n\t\tinSize *= 2;\n\n\t} while ( numMerges > 1 );\n\n\treturn list;\n\n}\n\n// z-order of a point given coords and inverse of the longer side of data bbox\nfunction zOrder( x, y, minX, minY, invSize ) {\n\n\t// coords are transformed into non-negative 15-bit integer range\n\tx = 32767 * ( x - minX ) * invSize;\n\ty = 32767 * ( y - minY ) * invSize;\n\n\tx = ( x | ( x << 8 ) ) & 0x00FF00FF;\n\tx = ( x | ( x << 4 ) ) & 0x0F0F0F0F;\n\tx = ( x | ( x << 2 ) ) & 0x33333333;\n\tx = ( x | ( x << 1 ) ) & 0x55555555;\n\n\ty = ( y | ( y << 8 ) ) & 0x00FF00FF;\n\ty = ( y | ( y << 4 ) ) & 0x0F0F0F0F;\n\ty = ( y | ( y << 2 ) ) & 0x33333333;\n\ty = ( y | ( y << 1 ) ) & 0x55555555;\n\n\treturn x | ( y << 1 );\n\n}\n\n// find the leftmost node of a polygon ring\nfunction getLeftmost( start ) {\n\n\tlet p = start,\n\t\tleftmost = start;\n\tdo {\n\n\t\tif ( p.x < leftmost.x || ( p.x === leftmost.x && p.y < leftmost.y ) ) leftmost = p;\n\t\tp = p.next;\n\n\t} while ( p !== start );\n\n\treturn leftmost;\n\n}\n\n// check if a point lies within a convex triangle\nfunction pointInTriangle( ax, ay, bx, by, cx, cy, px, py ) {\n\n\treturn ( cx - px ) * ( ay - py ) - ( ax - px ) * ( cy - py ) >= 0 &&\n\t\t\t( ax - px ) * ( by - py ) - ( bx - px ) * ( ay - py ) >= 0 &&\n\t\t\t( bx - px ) * ( cy - py ) - ( cx - px ) * ( by - py ) >= 0;\n\n}\n\n// check if a diagonal between two polygon nodes is valid (lies in polygon interior)\nfunction isValidDiagonal( a, b ) {\n\n\treturn a.next.i !== b.i && a.prev.i !== b.i && ! intersectsPolygon( a, b ) && // dones't intersect other edges\n\t\t( locallyInside( a, b ) && locallyInside( b, a ) && middleInside( a, b ) && // locally visible\n\t\t( area( a.prev, a, b.prev ) || area( a, b.prev, b ) ) || // does not create opposite-facing sectors\n\t\tequals( a, b ) && area( a.prev, a, a.next ) > 0 && area( b.prev, b, b.next ) > 0 ); // special zero-length case\n\n}\n\n// signed area of a triangle\nfunction area( p, q, r ) {\n\n\treturn ( q.y - p.y ) * ( r.x - q.x ) - ( q.x - p.x ) * ( r.y - q.y );\n\n}\n\n// check if two points are equal\nfunction equals( p1, p2 ) {\n\n\treturn p1.x === p2.x && p1.y === p2.y;\n\n}\n\n// check if two segments intersect\nfunction intersects( p1, q1, p2, q2 ) {\n\n\tconst o1 = sign( area( p1, q1, p2 ) );\n\tconst o2 = sign( area( p1, q1, q2 ) );\n\tconst o3 = sign( area( p2, q2, p1 ) );\n\tconst o4 = sign( area( p2, q2, q1 ) );\n\n\tif ( o1 !== o2 && o3 !== o4 ) return true; // general case\n\n\tif ( o1 === 0 && onSegment( p1, p2, q1 ) ) return true; // p1, q1 and p2 are collinear and p2 lies on p1q1\n\tif ( o2 === 0 && onSegment( p1, q2, q1 ) ) return true; // p1, q1 and q2 are collinear and q2 lies on p1q1\n\tif ( o3 === 0 && onSegment( p2, p1, q2 ) ) return true; // p2, q2 and p1 are collinear and p1 lies on p2q2\n\tif ( o4 === 0 && onSegment( p2, q1, q2 ) ) return true; // p2, q2 and q1 are collinear and q1 lies on p2q2\n\n\treturn false;\n\n}\n\n// for collinear points p, q, r, check if point q lies on segment pr\nfunction onSegment( p, q, r ) {\n\n\treturn q.x <= Math.max( p.x, r.x ) && q.x >= Math.min( p.x, r.x ) && q.y <= Math.max( p.y, r.y ) && q.y >= Math.min( p.y, r.y );\n\n}\n\nfunction sign( num ) {\n\n\treturn num > 0 ? 1 : num < 0 ? - 1 : 0;\n\n}\n\n// check if a polygon diagonal intersects any polygon segments\nfunction intersectsPolygon( a, b ) {\n\n\tlet p = a;\n\tdo {\n\n\t\tif ( p.i !== a.i && p.next.i !== a.i && p.i !== b.i && p.next.i !== b.i &&\n\t\t\t\tintersects( p, p.next, a, b ) ) return true;\n\t\tp = p.next;\n\n\t} while ( p !== a );\n\n\treturn false;\n\n}\n\n// check if a polygon diagonal is locally inside the polygon\nfunction locallyInside( a, b ) {\n\n\treturn area( a.prev, a, a.next ) < 0 ?\n\t\tarea( a, b, a.next ) >= 0 && area( a, a.prev, b ) >= 0 :\n\t\tarea( a, b, a.prev ) < 0 || area( a, a.next, b ) < 0;\n\n}\n\n// check if the middle point of a polygon diagonal is inside the polygon\nfunction middleInside( a, b ) {\n\n\tlet p = a,\n\t\tinside = false;\n\tconst px = ( a.x + b.x ) / 2,\n\t\tpy = ( a.y + b.y ) / 2;\n\tdo {\n\n\t\tif ( ( ( p.y > py ) !== ( p.next.y > py ) ) && p.next.y !== p.y &&\n\t\t\t\t( px < ( p.next.x - p.x ) * ( py - p.y ) / ( p.next.y - p.y ) + p.x ) )\n\t\t\tinside = ! inside;\n\t\tp = p.next;\n\n\t} while ( p !== a );\n\n\treturn inside;\n\n}\n\n// link two polygon vertices with a bridge; if the vertices belong to the same ring, it splits polygon into two;\n// if one belongs to the outer ring and another to a hole, it merges it into a single ring\nfunction splitPolygon( a, b ) {\n\n\tconst a2 = new Node( a.i, a.x, a.y ),\n\t\tb2 = new Node( b.i, b.x, b.y ),\n\t\tan = a.next,\n\t\tbp = b.prev;\n\n\ta.next = b;\n\tb.prev = a;\n\n\ta2.next = an;\n\tan.prev = a2;\n\n\tb2.next = a2;\n\ta2.prev = b2;\n\n\tbp.next = b2;\n\tb2.prev = bp;\n\n\treturn b2;\n\n}\n\n// create a node and optionally link it with previous one (in a circular doubly linked list)\nfunction insertNode( i, x, y, last ) {\n\n\tconst p = new Node( i, x, y );\n\n\tif ( ! last ) {\n\n\t\tp.prev = p;\n\t\tp.next = p;\n\n\t} else {\n\n\t\tp.next = last.next;\n\t\tp.prev = last;\n\t\tlast.next.prev = p;\n\t\tlast.next = p;\n\n\t}\n\n\treturn p;\n\n}\n\nfunction removeNode( p ) {\n\n\tp.next.prev = p.prev;\n\tp.prev.next = p.next;\n\n\tif ( p.prevZ ) p.prevZ.nextZ = p.nextZ;\n\tif ( p.nextZ ) p.nextZ.prevZ = p.prevZ;\n\n}\n\nfunction Node( i, x, y ) {\n\n\t// vertex index in coordinates array\n\tthis.i = i;\n\n\t// vertex coordinates\n\tthis.x = x;\n\tthis.y = y;\n\n\t// previous and next vertex nodes in a polygon ring\n\tthis.prev = null;\n\tthis.next = null;\n\n\t// z-order curve value\n\tthis.z = null;\n\n\t// previous and next nodes in z-order\n\tthis.prevZ = null;\n\tthis.nextZ = null;\n\n\t// indicates whether this is a steiner point\n\tthis.steiner = false;\n\n}\n\nfunction signedArea( data, start, end, dim ) {\n\n\tlet sum = 0;\n\tfor ( let i = start, j = end - dim; i < end; i += dim ) {\n\n\t\tsum += ( data[ j ] - data[ i ] ) * ( data[ i + 1 ] + data[ j + 1 ] );\n\t\tj = i;\n\n\t}\n\n\treturn sum;\n\n}\n\nconst ShapeUtils = {\n\n\t// calculate area of the contour polygon\n\n\tarea: function ( contour ) {\n\n\t\tconst n = contour.length;\n\t\tlet a = 0.0;\n\n\t\tfor ( let p = n - 1, q = 0; q < n; p = q ++ ) {\n\n\t\t\ta += contour[ p ].x * contour[ q ].y - contour[ q ].x * contour[ p ].y;\n\n\t\t}\n\n\t\treturn a * 0.5;\n\n\t},\n\n\tisClockWise: function ( pts ) {\n\n\t\treturn ShapeUtils.area( pts ) < 0;\n\n\t},\n\n\ttriangulateShape: function ( contour, holes ) {\n\n\t\tconst vertices = []; // flat array of vertices like [ x0,y0, x1,y1, x2,y2, ... ]\n\t\tconst holeIndices = []; // array of hole indices\n\t\tconst faces = []; // final array of vertex indices like [ [ a,b,d ], [ b,c,d ] ]\n\n\t\tremoveDupEndPts( contour );\n\t\taddContour( vertices, contour );\n\n\t\t//\n\n\t\tlet holeIndex = contour.length;\n\n\t\tholes.forEach( removeDupEndPts );\n\n\t\tfor ( let i = 0; i < holes.length; i ++ ) {\n\n\t\t\tholeIndices.push( holeIndex );\n\t\t\tholeIndex += holes[ i ].length;\n\t\t\taddContour( vertices, holes[ i ] );\n\n\t\t}\n\n\t\t//\n\n\t\tconst triangles = Earcut.triangulate( vertices, holeIndices );\n\n\t\t//\n\n\t\tfor ( let i = 0; i < triangles.length; i += 3 ) {\n\n\t\t\tfaces.push( triangles.slice( i, i + 3 ) );\n\n\t\t}\n\n\t\treturn faces;\n\n\t}\n\n};\n\nfunction removeDupEndPts( points ) {\n\n\tconst l = points.length;\n\n\tif ( l > 2 && points[ l - 1 ].equals( points[ 0 ] ) ) {\n\n\t\tpoints.pop();\n\n\t}\n\n}\n\nfunction addContour( vertices, contour ) {\n\n\tfor ( let i = 0; i < contour.length; i ++ ) {\n\n\t\tvertices.push( contour[ i ].x );\n\t\tvertices.push( contour[ i ].y );\n\n\t}\n\n}\n\n/**\n * Creates extruded geometry from a path shape.\n *\n * parameters = {\n *\n *  curveSegments: <int>, // number of points on the curves\n *  steps: <int>, // number of points for z-side extrusions / used for subdividing segments of extrude spline too\n *  depth: <float>, // Depth to extrude the shape\n *\n *  bevelEnabled: <bool>, // turn on bevel\n *  bevelThickness: <float>, // how deep into the original shape bevel goes\n *  bevelSize: <float>, // how far from shape outline (including bevelOffset) is bevel\n *  bevelOffset: <float>, // how far from shape outline does bevel start\n *  bevelSegments: <int>, // number of bevel layers\n *\n *  extrudePath: <THREE.Curve> // curve to extrude shape along\n *\n *  UVGenerator: <Object> // object that provides UV generator functions\n *\n * }\n */\n\nclass ExtrudeBufferGeometry extends BufferGeometry {\n\n\tconstructor( shapes, options ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'ExtrudeBufferGeometry';\n\n\t\tthis.parameters = {\n\t\t\tshapes: shapes,\n\t\t\toptions: options\n\t\t};\n\n\t\tshapes = Array.isArray( shapes ) ? shapes : [ shapes ];\n\n\t\tconst scope = this;\n\n\t\tconst verticesArray = [];\n\t\tconst uvArray = [];\n\n\t\tfor ( let i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\tconst shape = shapes[ i ];\n\t\t\taddShape( shape );\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( verticesArray, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvArray, 2 ) );\n\n\t\tthis.computeVertexNormals();\n\n\t\t// functions\n\n\t\tfunction addShape( shape ) {\n\n\t\t\tconst placeholder = [];\n\n\t\t\t// options\n\n\t\t\tconst curveSegments = options.curveSegments !== undefined ? options.curveSegments : 12;\n\t\t\tconst steps = options.steps !== undefined ? options.steps : 1;\n\t\t\tlet depth = options.depth !== undefined ? options.depth : 100;\n\n\t\t\tlet bevelEnabled = options.bevelEnabled !== undefined ? options.bevelEnabled : true;\n\t\t\tlet bevelThickness = options.bevelThickness !== undefined ? options.bevelThickness : 6;\n\t\t\tlet bevelSize = options.bevelSize !== undefined ? options.bevelSize : bevelThickness - 2;\n\t\t\tlet bevelOffset = options.bevelOffset !== undefined ? options.bevelOffset : 0;\n\t\t\tlet bevelSegments = options.bevelSegments !== undefined ? options.bevelSegments : 3;\n\n\t\t\tconst extrudePath = options.extrudePath;\n\n\t\t\tconst uvgen = options.UVGenerator !== undefined ? options.UVGenerator : WorldUVGenerator;\n\n\t\t\t// deprecated options\n\n\t\t\tif ( options.amount !== undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.ExtrudeBufferGeometry: amount has been renamed to depth.' );\n\t\t\t\tdepth = options.amount;\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\tlet extrudePts, extrudeByPath = false;\n\t\t\tlet splineTube, binormal, normal, position2;\n\n\t\t\tif ( extrudePath ) {\n\n\t\t\t\textrudePts = extrudePath.getSpacedPoints( steps );\n\n\t\t\t\textrudeByPath = true;\n\t\t\t\tbevelEnabled = false; // bevels not supported for path extrusion\n\n\t\t\t\t// SETUP TNB variables\n\n\t\t\t\t// TODO1 - have a .isClosed in spline?\n\n\t\t\t\tsplineTube = extrudePath.computeFrenetFrames( steps, false );\n\n\t\t\t\t// console.log(splineTube, 'splineTube', splineTube.normals.length, 'steps', steps, 'extrudePts', extrudePts.length);\n\n\t\t\t\tbinormal = new Vector3();\n\t\t\t\tnormal = new Vector3();\n\t\t\t\tposition2 = new Vector3();\n\n\t\t\t}\n\n\t\t\t// Safeguards if bevels are not enabled\n\n\t\t\tif ( ! bevelEnabled ) {\n\n\t\t\t\tbevelSegments = 0;\n\t\t\t\tbevelThickness = 0;\n\t\t\t\tbevelSize = 0;\n\t\t\t\tbevelOffset = 0;\n\n\t\t\t}\n\n\t\t\t// Variables initialization\n\n\t\t\tconst shapePoints = shape.extractPoints( curveSegments );\n\n\t\t\tlet vertices = shapePoints.shape;\n\t\t\tconst holes = shapePoints.holes;\n\n\t\t\tconst reverse = ! ShapeUtils.isClockWise( vertices );\n\n\t\t\tif ( reverse ) {\n\n\t\t\t\tvertices = vertices.reverse();\n\n\t\t\t\t// Maybe we should also check if holes are in the opposite direction, just to be safe ...\n\n\t\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\t\tconst ahole = holes[ h ];\n\n\t\t\t\t\tif ( ShapeUtils.isClockWise( ahole ) ) {\n\n\t\t\t\t\t\tholes[ h ] = ahole.reverse();\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\tconst faces = ShapeUtils.triangulateShape( vertices, holes );\n\n\t\t\t/* Vertices */\n\n\t\t\tconst contour = vertices; // vertices has all points but contour has only points of circumference\n\n\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\tconst ahole = holes[ h ];\n\n\t\t\t\tvertices = vertices.concat( ahole );\n\n\t\t\t}\n\n\n\t\t\tfunction scalePt2( pt, vec, size ) {\n\n\t\t\t\tif ( ! vec ) console.error( \"THREE.ExtrudeGeometry: vec does not exist\" );\n\n\t\t\t\treturn vec.clone().multiplyScalar( size ).add( pt );\n\n\t\t\t}\n\n\t\t\tconst vlen = vertices.length, flen = faces.length;\n\n\n\t\t\t// Find directions for point movement\n\n\n\t\t\tfunction getBevelVec( inPt, inPrev, inNext ) {\n\n\t\t\t\t// computes for inPt the corresponding point inPt' on a new contour\n\t\t\t\t//   shifted by 1 unit (length of normalized vector) to the left\n\t\t\t\t// if we walk along contour clockwise, this new contour is outside the old one\n\t\t\t\t//\n\t\t\t\t// inPt' is the intersection of the two lines parallel to the two\n\t\t\t\t//  adjacent edges of inPt at a distance of 1 unit on the left side.\n\n\t\t\t\tlet v_trans_x, v_trans_y, shrink_by; // resulting translation vector for inPt\n\n\t\t\t\t// good reading for geometry algorithms (here: line-line intersection)\n\t\t\t\t// http://geomalgorithms.com/a05-_intersect-1.html\n\n\t\t\t\tconst v_prev_x = inPt.x - inPrev.x,\n\t\t\t\t\tv_prev_y = inPt.y - inPrev.y;\n\t\t\t\tconst v_next_x = inNext.x - inPt.x,\n\t\t\t\t\tv_next_y = inNext.y - inPt.y;\n\n\t\t\t\tconst v_prev_lensq = ( v_prev_x * v_prev_x + v_prev_y * v_prev_y );\n\n\t\t\t\t// check for collinear edges\n\t\t\t\tconst collinear0 = ( v_prev_x * v_next_y - v_prev_y * v_next_x );\n\n\t\t\t\tif ( Math.abs( collinear0 ) > Number.EPSILON ) {\n\n\t\t\t\t\t// not collinear\n\n\t\t\t\t\t// length of vectors for normalizing\n\n\t\t\t\t\tconst v_prev_len = Math.sqrt( v_prev_lensq );\n\t\t\t\t\tconst v_next_len = Math.sqrt( v_next_x * v_next_x + v_next_y * v_next_y );\n\n\t\t\t\t\t// shift adjacent points by unit vectors to the left\n\n\t\t\t\t\tconst ptPrevShift_x = ( inPrev.x - v_prev_y / v_prev_len );\n\t\t\t\t\tconst ptPrevShift_y = ( inPrev.y + v_prev_x / v_prev_len );\n\n\t\t\t\t\tconst ptNextShift_x = ( inNext.x - v_next_y / v_next_len );\n\t\t\t\t\tconst ptNextShift_y = ( inNext.y + v_next_x / v_next_len );\n\n\t\t\t\t\t// scaling factor for v_prev to intersection point\n\n\t\t\t\t\tconst sf = ( ( ptNextShift_x - ptPrevShift_x ) * v_next_y -\n\t\t\t\t\t\t\t( ptNextShift_y - ptPrevShift_y ) * v_next_x ) /\n\t\t\t\t\t\t( v_prev_x * v_next_y - v_prev_y * v_next_x );\n\n\t\t\t\t\t// vector from inPt to intersection point\n\n\t\t\t\t\tv_trans_x = ( ptPrevShift_x + v_prev_x * sf - inPt.x );\n\t\t\t\t\tv_trans_y = ( ptPrevShift_y + v_prev_y * sf - inPt.y );\n\n\t\t\t\t\t// Don't normalize!, otherwise sharp corners become ugly\n\t\t\t\t\t//  but prevent crazy spikes\n\t\t\t\t\tconst v_trans_lensq = ( v_trans_x * v_trans_x + v_trans_y * v_trans_y );\n\t\t\t\t\tif ( v_trans_lensq <= 2 ) {\n\n\t\t\t\t\t\treturn new Vector2( v_trans_x, v_trans_y );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tshrink_by = Math.sqrt( v_trans_lensq / 2 );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// handle special case of collinear edges\n\n\t\t\t\t\tlet direction_eq = false; // assumes: opposite\n\n\t\t\t\t\tif ( v_prev_x > Number.EPSILON ) {\n\n\t\t\t\t\t\tif ( v_next_x > Number.EPSILON ) {\n\n\t\t\t\t\t\t\tdirection_eq = true;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( v_prev_x < - Number.EPSILON ) {\n\n\t\t\t\t\t\t\tif ( v_next_x < - Number.EPSILON ) {\n\n\t\t\t\t\t\t\t\tdirection_eq = true;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tif ( Math.sign( v_prev_y ) === Math.sign( v_next_y ) ) {\n\n\t\t\t\t\t\t\t\tdirection_eq = true;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( direction_eq ) {\n\n\t\t\t\t\t\t// console.log(\"Warning: lines are a straight sequence\");\n\t\t\t\t\t\tv_trans_x = - v_prev_y;\n\t\t\t\t\t\tv_trans_y = v_prev_x;\n\t\t\t\t\t\tshrink_by = Math.sqrt( v_prev_lensq );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// console.log(\"Warning: lines are a straight spike\");\n\t\t\t\t\t\tv_trans_x = v_prev_x;\n\t\t\t\t\t\tv_trans_y = v_prev_y;\n\t\t\t\t\t\tshrink_by = Math.sqrt( v_prev_lensq / 2 );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\treturn new Vector2( v_trans_x / shrink_by, v_trans_y / shrink_by );\n\n\t\t\t}\n\n\n\t\t\tconst contourMovements = [];\n\n\t\t\tfor ( let i = 0, il = contour.length, j = il - 1, k = i + 1; i < il; i ++, j ++, k ++ ) {\n\n\t\t\t\tif ( j === il ) j = 0;\n\t\t\t\tif ( k === il ) k = 0;\n\n\t\t\t\t//  (j)---(i)---(k)\n\t\t\t\t// console.log('i,j,k', i, j , k)\n\n\t\t\t\tcontourMovements[ i ] = getBevelVec( contour[ i ], contour[ j ], contour[ k ] );\n\n\t\t\t}\n\n\t\t\tconst holesMovements = [];\n\t\t\tlet oneHoleMovements, verticesMovements = contourMovements.concat();\n\n\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\tconst ahole = holes[ h ];\n\n\t\t\t\toneHoleMovements = [];\n\n\t\t\t\tfor ( let i = 0, il = ahole.length, j = il - 1, k = i + 1; i < il; i ++, j ++, k ++ ) {\n\n\t\t\t\t\tif ( j === il ) j = 0;\n\t\t\t\t\tif ( k === il ) k = 0;\n\n\t\t\t\t\t//  (j)---(i)---(k)\n\t\t\t\t\toneHoleMovements[ i ] = getBevelVec( ahole[ i ], ahole[ j ], ahole[ k ] );\n\n\t\t\t\t}\n\n\t\t\t\tholesMovements.push( oneHoleMovements );\n\t\t\t\tverticesMovements = verticesMovements.concat( oneHoleMovements );\n\n\t\t\t}\n\n\n\t\t\t// Loop bevelSegments, 1 for the front, 1 for the back\n\n\t\t\tfor ( let b = 0; b < bevelSegments; b ++ ) {\n\n\t\t\t\t//for ( b = bevelSegments; b > 0; b -- ) {\n\n\t\t\t\tconst t = b / bevelSegments;\n\t\t\t\tconst z = bevelThickness * Math.cos( t * Math.PI / 2 );\n\t\t\t\tconst bs = bevelSize * Math.sin( t * Math.PI / 2 ) + bevelOffset;\n\n\t\t\t\t// contract shape\n\n\t\t\t\tfor ( let i = 0, il = contour.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst vert = scalePt2( contour[ i ], contourMovements[ i ], bs );\n\n\t\t\t\t\tv( vert.x, vert.y, - z );\n\n\t\t\t\t}\n\n\t\t\t\t// expand holes\n\n\t\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\t\tconst ahole = holes[ h ];\n\t\t\t\t\toneHoleMovements = holesMovements[ h ];\n\n\t\t\t\t\tfor ( let i = 0, il = ahole.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tconst vert = scalePt2( ahole[ i ], oneHoleMovements[ i ], bs );\n\n\t\t\t\t\t\tv( vert.x, vert.y, - z );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst bs = bevelSize + bevelOffset;\n\n\t\t\t// Back facing vertices\n\n\t\t\tfor ( let i = 0; i < vlen; i ++ ) {\n\n\t\t\t\tconst vert = bevelEnabled ? scalePt2( vertices[ i ], verticesMovements[ i ], bs ) : vertices[ i ];\n\n\t\t\t\tif ( ! extrudeByPath ) {\n\n\t\t\t\t\tv( vert.x, vert.y, 0 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// v( vert.x, vert.y + extrudePts[ 0 ].y, extrudePts[ 0 ].x );\n\n\t\t\t\t\tnormal.copy( splineTube.normals[ 0 ] ).multiplyScalar( vert.x );\n\t\t\t\t\tbinormal.copy( splineTube.binormals[ 0 ] ).multiplyScalar( vert.y );\n\n\t\t\t\t\tposition2.copy( extrudePts[ 0 ] ).add( normal ).add( binormal );\n\n\t\t\t\t\tv( position2.x, position2.y, position2.z );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// Add stepped vertices...\n\t\t\t// Including front facing vertices\n\n\t\t\tfor ( let s = 1; s <= steps; s ++ ) {\n\n\t\t\t\tfor ( let i = 0; i < vlen; i ++ ) {\n\n\t\t\t\t\tconst vert = bevelEnabled ? scalePt2( vertices[ i ], verticesMovements[ i ], bs ) : vertices[ i ];\n\n\t\t\t\t\tif ( ! extrudeByPath ) {\n\n\t\t\t\t\t\tv( vert.x, vert.y, depth / steps * s );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// v( vert.x, vert.y + extrudePts[ s - 1 ].y, extrudePts[ s - 1 ].x );\n\n\t\t\t\t\t\tnormal.copy( splineTube.normals[ s ] ).multiplyScalar( vert.x );\n\t\t\t\t\t\tbinormal.copy( splineTube.binormals[ s ] ).multiplyScalar( vert.y );\n\n\t\t\t\t\t\tposition2.copy( extrudePts[ s ] ).add( normal ).add( binormal );\n\n\t\t\t\t\t\tv( position2.x, position2.y, position2.z );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\t// Add bevel segments planes\n\n\t\t\t//for ( b = 1; b <= bevelSegments; b ++ ) {\n\t\t\tfor ( let b = bevelSegments - 1; b >= 0; b -- ) {\n\n\t\t\t\tconst t = b / bevelSegments;\n\t\t\t\tconst z = bevelThickness * Math.cos( t * Math.PI / 2 );\n\t\t\t\tconst bs = bevelSize * Math.sin( t * Math.PI / 2 ) + bevelOffset;\n\n\t\t\t\t// contract shape\n\n\t\t\t\tfor ( let i = 0, il = contour.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst vert = scalePt2( contour[ i ], contourMovements[ i ], bs );\n\t\t\t\t\tv( vert.x, vert.y, depth + z );\n\n\t\t\t\t}\n\n\t\t\t\t// expand holes\n\n\t\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\t\tconst ahole = holes[ h ];\n\t\t\t\t\toneHoleMovements = holesMovements[ h ];\n\n\t\t\t\t\tfor ( let i = 0, il = ahole.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tconst vert = scalePt2( ahole[ i ], oneHoleMovements[ i ], bs );\n\n\t\t\t\t\t\tif ( ! extrudeByPath ) {\n\n\t\t\t\t\t\t\tv( vert.x, vert.y, depth + z );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tv( vert.x, vert.y + extrudePts[ steps - 1 ].y, extrudePts[ steps - 1 ].x + z );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t/* Faces */\n\n\t\t\t// Top and bottom faces\n\n\t\t\tbuildLidFaces();\n\n\t\t\t// Sides faces\n\n\t\t\tbuildSideFaces();\n\n\n\t\t\t/////  Internal functions\n\n\t\t\tfunction buildLidFaces() {\n\n\t\t\t\tconst start = verticesArray.length / 3;\n\n\t\t\t\tif ( bevelEnabled ) {\n\n\t\t\t\t\tlet layer = 0; // steps + 1\n\t\t\t\t\tlet offset = vlen * layer;\n\n\t\t\t\t\t// Bottom faces\n\n\t\t\t\t\tfor ( let i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\t\tconst face = faces[ i ];\n\t\t\t\t\t\tf3( face[ 2 ] + offset, face[ 1 ] + offset, face[ 0 ] + offset );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tlayer = steps + bevelSegments * 2;\n\t\t\t\t\toffset = vlen * layer;\n\n\t\t\t\t\t// Top faces\n\n\t\t\t\t\tfor ( let i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\t\tconst face = faces[ i ];\n\t\t\t\t\t\tf3( face[ 0 ] + offset, face[ 1 ] + offset, face[ 2 ] + offset );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// Bottom faces\n\n\t\t\t\t\tfor ( let i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\t\tconst face = faces[ i ];\n\t\t\t\t\t\tf3( face[ 2 ], face[ 1 ], face[ 0 ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// Top faces\n\n\t\t\t\t\tfor ( let i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\t\tconst face = faces[ i ];\n\t\t\t\t\t\tf3( face[ 0 ] + vlen * steps, face[ 1 ] + vlen * steps, face[ 2 ] + vlen * steps );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tscope.addGroup( start, verticesArray.length / 3 - start, 0 );\n\n\t\t\t}\n\n\t\t\t// Create faces for the z-sides of the shape\n\n\t\t\tfunction buildSideFaces() {\n\n\t\t\t\tconst start = verticesArray.length / 3;\n\t\t\t\tlet layeroffset = 0;\n\t\t\t\tsidewalls( contour, layeroffset );\n\t\t\t\tlayeroffset += contour.length;\n\n\t\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\t\tconst ahole = holes[ h ];\n\t\t\t\t\tsidewalls( ahole, layeroffset );\n\n\t\t\t\t\t//, true\n\t\t\t\t\tlayeroffset += ahole.length;\n\n\t\t\t\t}\n\n\n\t\t\t\tscope.addGroup( start, verticesArray.length / 3 - start, 1 );\n\n\n\t\t\t}\n\n\t\t\tfunction sidewalls( contour, layeroffset ) {\n\n\t\t\t\tlet i = contour.length;\n\n\t\t\t\twhile ( -- i >= 0 ) {\n\n\t\t\t\t\tconst j = i;\n\t\t\t\t\tlet k = i - 1;\n\t\t\t\t\tif ( k < 0 ) k = contour.length - 1;\n\n\t\t\t\t\t//console.log('b', i,j, i-1, k,vertices.length);\n\n\t\t\t\t\tfor ( let s = 0, sl = ( steps + bevelSegments * 2 ); s < sl; s ++ ) {\n\n\t\t\t\t\t\tconst slen1 = vlen * s;\n\t\t\t\t\t\tconst slen2 = vlen * ( s + 1 );\n\n\t\t\t\t\t\tconst a = layeroffset + j + slen1,\n\t\t\t\t\t\t\tb = layeroffset + k + slen1,\n\t\t\t\t\t\t\tc = layeroffset + k + slen2,\n\t\t\t\t\t\t\td = layeroffset + j + slen2;\n\n\t\t\t\t\t\tf4( a, b, c, d );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tfunction v( x, y, z ) {\n\n\t\t\t\tplaceholder.push( x );\n\t\t\t\tplaceholder.push( y );\n\t\t\t\tplaceholder.push( z );\n\n\t\t\t}\n\n\n\t\t\tfunction f3( a, b, c ) {\n\n\t\t\t\taddVertex( a );\n\t\t\t\taddVertex( b );\n\t\t\t\taddVertex( c );\n\n\t\t\t\tconst nextIndex = verticesArray.length / 3;\n\t\t\t\tconst uvs = uvgen.generateTopUV( scope, verticesArray, nextIndex - 3, nextIndex - 2, nextIndex - 1 );\n\n\t\t\t\taddUV( uvs[ 0 ] );\n\t\t\t\taddUV( uvs[ 1 ] );\n\t\t\t\taddUV( uvs[ 2 ] );\n\n\t\t\t}\n\n\t\t\tfunction f4( a, b, c, d ) {\n\n\t\t\t\taddVertex( a );\n\t\t\t\taddVertex( b );\n\t\t\t\taddVertex( d );\n\n\t\t\t\taddVertex( b );\n\t\t\t\taddVertex( c );\n\t\t\t\taddVertex( d );\n\n\n\t\t\t\tconst nextIndex = verticesArray.length / 3;\n\t\t\t\tconst uvs = uvgen.generateSideWallUV( scope, verticesArray, nextIndex - 6, nextIndex - 3, nextIndex - 2, nextIndex - 1 );\n\n\t\t\t\taddUV( uvs[ 0 ] );\n\t\t\t\taddUV( uvs[ 1 ] );\n\t\t\t\taddUV( uvs[ 3 ] );\n\n\t\t\t\taddUV( uvs[ 1 ] );\n\t\t\t\taddUV( uvs[ 2 ] );\n\t\t\t\taddUV( uvs[ 3 ] );\n\n\t\t\t}\n\n\t\t\tfunction addVertex( index ) {\n\n\t\t\t\tverticesArray.push( placeholder[ index * 3 + 0 ] );\n\t\t\t\tverticesArray.push( placeholder[ index * 3 + 1 ] );\n\t\t\t\tverticesArray.push( placeholder[ index * 3 + 2 ] );\n\n\t\t\t}\n\n\n\t\t\tfunction addUV( vector2 ) {\n\n\t\t\t\tuvArray.push( vector2.x );\n\t\t\t\tuvArray.push( vector2.y );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = BufferGeometry.prototype.toJSON.call( this );\n\n\t\tconst shapes = this.parameters.shapes;\n\t\tconst options = this.parameters.options;\n\n\t\treturn toJSON( shapes, options, data );\n\n\t}\n\n}\n\nconst WorldUVGenerator = {\n\n\tgenerateTopUV: function ( geometry, vertices, indexA, indexB, indexC ) {\n\n\t\tconst a_x = vertices[ indexA * 3 ];\n\t\tconst a_y = vertices[ indexA * 3 + 1 ];\n\t\tconst b_x = vertices[ indexB * 3 ];\n\t\tconst b_y = vertices[ indexB * 3 + 1 ];\n\t\tconst c_x = vertices[ indexC * 3 ];\n\t\tconst c_y = vertices[ indexC * 3 + 1 ];\n\n\t\treturn [\n\t\t\tnew Vector2( a_x, a_y ),\n\t\t\tnew Vector2( b_x, b_y ),\n\t\t\tnew Vector2( c_x, c_y )\n\t\t];\n\n\t},\n\n\tgenerateSideWallUV: function ( geometry, vertices, indexA, indexB, indexC, indexD ) {\n\n\t\tconst a_x = vertices[ indexA * 3 ];\n\t\tconst a_y = vertices[ indexA * 3 + 1 ];\n\t\tconst a_z = vertices[ indexA * 3 + 2 ];\n\t\tconst b_x = vertices[ indexB * 3 ];\n\t\tconst b_y = vertices[ indexB * 3 + 1 ];\n\t\tconst b_z = vertices[ indexB * 3 + 2 ];\n\t\tconst c_x = vertices[ indexC * 3 ];\n\t\tconst c_y = vertices[ indexC * 3 + 1 ];\n\t\tconst c_z = vertices[ indexC * 3 + 2 ];\n\t\tconst d_x = vertices[ indexD * 3 ];\n\t\tconst d_y = vertices[ indexD * 3 + 1 ];\n\t\tconst d_z = vertices[ indexD * 3 + 2 ];\n\n\t\tif ( Math.abs( a_y - b_y ) < 0.01 ) {\n\n\t\t\treturn [\n\t\t\t\tnew Vector2( a_x, 1 - a_z ),\n\t\t\t\tnew Vector2( b_x, 1 - b_z ),\n\t\t\t\tnew Vector2( c_x, 1 - c_z ),\n\t\t\t\tnew Vector2( d_x, 1 - d_z )\n\t\t\t];\n\n\t\t} else {\n\n\t\t\treturn [\n\t\t\t\tnew Vector2( a_y, 1 - a_z ),\n\t\t\t\tnew Vector2( b_y, 1 - b_z ),\n\t\t\t\tnew Vector2( c_y, 1 - c_z ),\n\t\t\t\tnew Vector2( d_y, 1 - d_z )\n\t\t\t];\n\n\t\t}\n\n\t}\n\n};\n\nfunction toJSON( shapes, options, data ) {\n\n\tdata.shapes = [];\n\n\tif ( Array.isArray( shapes ) ) {\n\n\t\tfor ( let i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\tconst shape = shapes[ i ];\n\n\t\t\tdata.shapes.push( shape.uuid );\n\n\t\t}\n\n\t} else {\n\n\t\tdata.shapes.push( shapes.uuid );\n\n\t}\n\n\tif ( options.extrudePath !== undefined ) data.options.extrudePath = options.extrudePath.toJSON();\n\n\treturn data;\n\n}\n\n/**\n * Creates extruded geometry from a path shape.\n *\n * parameters = {\n *\n *  curveSegments: <int>, // number of points on the curves\n *  steps: <int>, // number of points for z-side extrusions / used for subdividing segments of extrude spline too\n *  depth: <float>, // Depth to extrude the shape\n *\n *  bevelEnabled: <bool>, // turn on bevel\n *  bevelThickness: <float>, // how deep into the original shape bevel goes\n *  bevelSize: <float>, // how far from shape outline (including bevelOffset) is bevel\n *  bevelOffset: <float>, // how far from shape outline does bevel start\n *  bevelSegments: <int>, // number of bevel layers\n *\n *  extrudePath: <THREE.Curve> // curve to extrude shape along\n *\n *  UVGenerator: <Object> // object that provides UV generator functions\n *\n * }\n */\n\nclass ExtrudeGeometry extends Geometry {\n\n\tconstructor( shapes, options ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'ExtrudeGeometry';\n\n\t\tthis.parameters = {\n\t\t\tshapes: shapes,\n\t\t\toptions: options\n\t\t};\n\n\t\tthis.fromBufferGeometry( new ExtrudeBufferGeometry( shapes, options ) );\n\t\tthis.mergeVertices();\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tconst shapes = this.parameters.shapes;\n\t\tconst options = this.parameters.options;\n\n\t\treturn toJSON$1( shapes, options, data );\n\n\t}\n\n}\n\nfunction toJSON$1( shapes, options, data ) {\n\n\tdata.shapes = [];\n\n\tif ( Array.isArray( shapes ) ) {\n\n\t\tfor ( let i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\tconst shape = shapes[ i ];\n\n\t\t\tdata.shapes.push( shape.uuid );\n\n\t\t}\n\n\t} else {\n\n\t\tdata.shapes.push( shapes.uuid );\n\n\t}\n\n\tif ( options.extrudePath !== undefined ) data.options.extrudePath = options.extrudePath.toJSON();\n\n\treturn data;\n\n}\n\nclass IcosahedronBufferGeometry extends PolyhedronBufferGeometry {\n\n\tconstructor( radius, detail ) {\n\n\t\tconst t = ( 1 + Math.sqrt( 5 ) ) / 2;\n\n\t\tconst vertices = [\n\t\t\t- 1, t, 0, \t1, t, 0, \t- 1, - t, 0, \t1, - t, 0,\n\t\t\t0, - 1, t, \t0, 1, t,\t0, - 1, - t, \t0, 1, - t,\n\t\t\tt, 0, - 1, \tt, 0, 1, \t- t, 0, - 1, \t- t, 0, 1\n\t\t];\n\n\t\tconst indices = [\n\t\t\t0, 11, 5, \t0, 5, 1, \t0, 1, 7, \t0, 7, 10, \t0, 10, 11,\n\t\t\t1, 5, 9, \t5, 11, 4,\t11, 10, 2,\t10, 7, 6,\t7, 1, 8,\n\t\t\t3, 9, 4, \t3, 4, 2,\t3, 2, 6,\t3, 6, 8,\t3, 8, 9,\n\t\t\t4, 9, 5, \t2, 4, 11,\t6, 2, 10,\t8, 6, 7,\t9, 8, 1\n\t\t];\n\n\t\tsuper( vertices, indices, radius, detail );\n\n\t\tthis.type = 'IcosahedronBufferGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\n\t}\n\n}\n\nclass IcosahedronGeometry extends Geometry {\n\n\tconstructor( radius, detail ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'IcosahedronGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\n\t\tthis.fromBufferGeometry( new IcosahedronBufferGeometry( radius, detail ) );\n\t\tthis.mergeVertices();\n\n\t}\n\n}\n\nclass LatheBufferGeometry extends BufferGeometry {\n\n\tconstructor( points, segments, phiStart, phiLength ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'LatheBufferGeometry';\n\n\t\tthis.parameters = {\n\t\t\tpoints: points,\n\t\t\tsegments: segments,\n\t\t\tphiStart: phiStart,\n\t\t\tphiLength: phiLength\n\t\t};\n\n\t\tsegments = Math.floor( segments ) || 12;\n\t\tphiStart = phiStart || 0;\n\t\tphiLength = phiLength || Math.PI * 2;\n\n\t\t// clamp phiLength so it's in range of [ 0, 2PI ]\n\n\t\tphiLength = MathUtils.clamp( phiLength, 0, Math.PI * 2 );\n\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tconst inverseSegments = 1.0 / segments;\n\t\tconst vertex = new Vector3();\n\t\tconst uv = new Vector2();\n\n\t\t// generate vertices and uvs\n\n\t\tfor ( let i = 0; i <= segments; i ++ ) {\n\n\t\t\tconst phi = phiStart + i * inverseSegments * phiLength;\n\n\t\t\tconst sin = Math.sin( phi );\n\t\t\tconst cos = Math.cos( phi );\n\n\t\t\tfor ( let j = 0; j <= ( points.length - 1 ); j ++ ) {\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = points[ j ].x * sin;\n\t\t\t\tvertex.y = points[ j ].y;\n\t\t\t\tvertex.z = points[ j ].x * cos;\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// uv\n\n\t\t\t\tuv.x = i / segments;\n\t\t\t\tuv.y = j / ( points.length - 1 );\n\n\t\t\t\tuvs.push( uv.x, uv.y );\n\n\n\t\t\t}\n\n\t\t}\n\n\t\t// indices\n\n\t\tfor ( let i = 0; i < segments; i ++ ) {\n\n\t\t\tfor ( let j = 0; j < ( points.length - 1 ); j ++ ) {\n\n\t\t\t\tconst base = j + i * points.length;\n\n\t\t\t\tconst a = base;\n\t\t\t\tconst b = base + points.length;\n\t\t\t\tconst c = base + points.length + 1;\n\t\t\t\tconst d = base + 1;\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t\t// generate normals\n\n\t\tthis.computeVertexNormals();\n\n\t\t// if the geometry is closed, we need to average the normals along the seam.\n\t\t// because the corresponding vertices are identical (but still have different UVs).\n\n\t\tif ( phiLength === Math.PI * 2 ) {\n\n\t\t\tconst normals = this.attributes.normal.array;\n\t\t\tconst n1 = new Vector3();\n\t\t\tconst n2 = new Vector3();\n\t\t\tconst n = new Vector3();\n\n\t\t\t// this is the buffer offset for the last line of vertices\n\n\t\t\tconst base = segments * points.length * 3;\n\n\t\t\tfor ( let i = 0, j = 0; i < points.length; i ++, j += 3 ) {\n\n\t\t\t\t// select the normal of the vertex in the first line\n\n\t\t\t\tn1.x = normals[ j + 0 ];\n\t\t\t\tn1.y = normals[ j + 1 ];\n\t\t\t\tn1.z = normals[ j + 2 ];\n\n\t\t\t\t// select the normal of the vertex in the last line\n\n\t\t\t\tn2.x = normals[ base + j + 0 ];\n\t\t\t\tn2.y = normals[ base + j + 1 ];\n\t\t\t\tn2.z = normals[ base + j + 2 ];\n\n\t\t\t\t// average normals\n\n\t\t\t\tn.addVectors( n1, n2 ).normalize();\n\n\t\t\t\t// assign the new values to both normals\n\n\t\t\t\tnormals[ j + 0 ] = normals[ base + j + 0 ] = n.x;\n\t\t\t\tnormals[ j + 1 ] = normals[ base + j + 1 ] = n.y;\n\t\t\t\tnormals[ j + 2 ] = normals[ base + j + 2 ] = n.z;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\n\nclass LatheGeometry extends Geometry {\n\n\tconstructor( points, segments, phiStart, phiLength ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'LatheGeometry';\n\n\t\tthis.parameters = {\n\t\t\tpoints: points,\n\t\t\tsegments: segments,\n\t\t\tphiStart: phiStart,\n\t\t\tphiLength: phiLength\n\t\t};\n\n\t\tthis.fromBufferGeometry( new LatheBufferGeometry( points, segments, phiStart, phiLength ) );\n\t\tthis.mergeVertices();\n\n\t}\n\n}\n\nclass OctahedronBufferGeometry extends PolyhedronBufferGeometry {\n\n\tconstructor( radius, detail ) {\n\n\t\tconst vertices = [\n\t\t\t1, 0, 0, \t- 1, 0, 0,\t0, 1, 0,\n\t\t\t0, - 1, 0, \t0, 0, 1,\t0, 0, - 1\n\t\t];\n\n\t\tconst indices = [\n\t\t\t0, 2, 4,\t0, 4, 3,\t0, 3, 5,\n\t\t\t0, 5, 2,\t1, 2, 5,\t1, 5, 3,\n\t\t\t1, 3, 4,\t1, 4, 2\n\t\t];\n\n\t\tsuper( vertices, indices, radius, detail );\n\n\t\tthis.type = 'OctahedronBufferGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\n\t}\n\n}\n\nclass OctahedronGeometry extends Geometry {\n\n\tconstructor( radius, detail ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'OctahedronGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\n\t\tthis.fromBufferGeometry( new OctahedronBufferGeometry( radius, detail ) );\n\t\tthis.mergeVertices();\n\n\t}\n\n}\n\n/**\n * Parametric Surfaces Geometry\n * based on the brilliant article by @prideout https://prideout.net/blog/old/blog/index.html@p=44.html\n */\n\nfunction ParametricBufferGeometry( func, slices, stacks ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'ParametricBufferGeometry';\n\n\tthis.parameters = {\n\t\tfunc: func,\n\t\tslices: slices,\n\t\tstacks: stacks\n\t};\n\n\t// buffers\n\n\tconst indices = [];\n\tconst vertices = [];\n\tconst normals = [];\n\tconst uvs = [];\n\n\tconst EPS = 0.00001;\n\n\tconst normal = new Vector3();\n\n\tconst p0 = new Vector3(), p1 = new Vector3();\n\tconst pu = new Vector3(), pv = new Vector3();\n\n\tif ( func.length < 3 ) {\n\n\t\tconsole.error( 'THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.' );\n\n\t}\n\n\t// generate vertices, normals and uvs\n\n\tconst sliceCount = slices + 1;\n\n\tfor ( let i = 0; i <= stacks; i ++ ) {\n\n\t\tconst v = i / stacks;\n\n\t\tfor ( let j = 0; j <= slices; j ++ ) {\n\n\t\t\tconst u = j / slices;\n\n\t\t\t// vertex\n\n\t\t\tfunc( u, v, p0 );\n\t\t\tvertices.push( p0.x, p0.y, p0.z );\n\n\t\t\t// normal\n\n\t\t\t// approximate tangent vectors via finite differences\n\n\t\t\tif ( u - EPS >= 0 ) {\n\n\t\t\t\tfunc( u - EPS, v, p1 );\n\t\t\t\tpu.subVectors( p0, p1 );\n\n\t\t\t} else {\n\n\t\t\t\tfunc( u + EPS, v, p1 );\n\t\t\t\tpu.subVectors( p1, p0 );\n\n\t\t\t}\n\n\t\t\tif ( v - EPS >= 0 ) {\n\n\t\t\t\tfunc( u, v - EPS, p1 );\n\t\t\t\tpv.subVectors( p0, p1 );\n\n\t\t\t} else {\n\n\t\t\t\tfunc( u, v + EPS, p1 );\n\t\t\t\tpv.subVectors( p1, p0 );\n\n\t\t\t}\n\n\t\t\t// cross product of tangent vectors returns surface normal\n\n\t\t\tnormal.crossVectors( pu, pv ).normalize();\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t// uv\n\n\t\t\tuvs.push( u, v );\n\n\t\t}\n\n\t}\n\n\t// generate indices\n\n\tfor ( let i = 0; i < stacks; i ++ ) {\n\n\t\tfor ( let j = 0; j < slices; j ++ ) {\n\n\t\t\tconst a = i * sliceCount + j;\n\t\t\tconst b = i * sliceCount + j + 1;\n\t\t\tconst c = ( i + 1 ) * sliceCount + j + 1;\n\t\t\tconst d = ( i + 1 ) * sliceCount + j;\n\n\t\t\t// faces one and two\n\n\t\t\tindices.push( a, b, d );\n\t\t\tindices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nParametricBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nParametricBufferGeometry.prototype.constructor = ParametricBufferGeometry;\n\n/**\n * Parametric Surfaces Geometry\n * based on the brilliant article by @prideout https://prideout.net/blog/old/blog/index.html@p=44.html\n */\n\nfunction ParametricGeometry( func, slices, stacks ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'ParametricGeometry';\n\n\tthis.parameters = {\n\t\tfunc: func,\n\t\tslices: slices,\n\t\tstacks: stacks\n\t};\n\n\tthis.fromBufferGeometry( new ParametricBufferGeometry( func, slices, stacks ) );\n\tthis.mergeVertices();\n\n}\n\nParametricGeometry.prototype = Object.create( Geometry.prototype );\nParametricGeometry.prototype.constructor = ParametricGeometry;\n\nclass PlaneGeometry extends Geometry {\n\n\tconstructor( width, height, widthSegments, heightSegments ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'PlaneGeometry';\n\n\t\tthis.parameters = {\n\t\t\twidth: width,\n\t\t\theight: height,\n\t\t\twidthSegments: widthSegments,\n\t\t\theightSegments: heightSegments\n\t\t};\n\n\t\tthis.fromBufferGeometry( new PlaneBufferGeometry( width, height, widthSegments, heightSegments ) );\n\t\tthis.mergeVertices();\n\n\t}\n\n}\n\nclass PolyhedronGeometry extends Geometry {\n\n\tconstructor( vertices, indices, radius, detail ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'PolyhedronGeometry';\n\n\t\tthis.parameters = {\n\t\t\tvertices: vertices,\n\t\t\tindices: indices,\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\n\t\tthis.fromBufferGeometry( new PolyhedronBufferGeometry( vertices, indices, radius, detail ) );\n\t\tthis.mergeVertices();\n\n\t}\n\n}\n\nclass RingBufferGeometry extends BufferGeometry {\n\n\tconstructor( innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'RingBufferGeometry';\n\n\t\tthis.parameters = {\n\t\t\tinnerRadius: innerRadius,\n\t\t\touterRadius: outerRadius,\n\t\t\tthetaSegments: thetaSegments,\n\t\t\tphiSegments: phiSegments,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\n\t\tinnerRadius = innerRadius || 0.5;\n\t\touterRadius = outerRadius || 1;\n\n\t\tthetaStart = thetaStart !== undefined ? thetaStart : 0;\n\t\tthetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;\n\n\t\tthetaSegments = thetaSegments !== undefined ? Math.max( 3, thetaSegments ) : 8;\n\t\tphiSegments = phiSegments !== undefined ? Math.max( 1, phiSegments ) : 1;\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// some helper variables\n\n\t\tlet radius = innerRadius;\n\t\tconst radiusStep = ( ( outerRadius - innerRadius ) / phiSegments );\n\t\tconst vertex = new Vector3();\n\t\tconst uv = new Vector2();\n\n\t\t// generate vertices, normals and uvs\n\n\t\tfor ( let j = 0; j <= phiSegments; j ++ ) {\n\n\t\t\tfor ( let i = 0; i <= thetaSegments; i ++ ) {\n\n\t\t\t\t// values are generate from the inside of the ring to the outside\n\n\t\t\t\tconst segment = thetaStart + i / thetaSegments * thetaLength;\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = radius * Math.cos( segment );\n\t\t\t\tvertex.y = radius * Math.sin( segment );\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// normal\n\n\t\t\t\tnormals.push( 0, 0, 1 );\n\n\t\t\t\t// uv\n\n\t\t\t\tuv.x = ( vertex.x / outerRadius + 1 ) / 2;\n\t\t\t\tuv.y = ( vertex.y / outerRadius + 1 ) / 2;\n\n\t\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\t}\n\n\t\t\t// increase the radius for next row of vertices\n\n\t\t\tradius += radiusStep;\n\n\t\t}\n\n\t\t// indices\n\n\t\tfor ( let j = 0; j < phiSegments; j ++ ) {\n\n\t\t\tconst thetaSegmentLevel = j * ( thetaSegments + 1 );\n\n\t\t\tfor ( let i = 0; i < thetaSegments; i ++ ) {\n\n\t\t\t\tconst segment = i + thetaSegmentLevel;\n\n\t\t\t\tconst a = segment;\n\t\t\t\tconst b = segment + thetaSegments + 1;\n\t\t\t\tconst c = segment + thetaSegments + 2;\n\t\t\t\tconst d = segment + 1;\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t}\n\n}\n\nclass RingGeometry extends Geometry {\n\n\tconstructor( innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'RingGeometry';\n\n\t\tthis.parameters = {\n\t\t\tinnerRadius: innerRadius,\n\t\t\touterRadius: outerRadius,\n\t\t\tthetaSegments: thetaSegments,\n\t\t\tphiSegments: phiSegments,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\n\t\tthis.fromBufferGeometry( new RingBufferGeometry( innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength ) );\n\t\tthis.mergeVertices();\n\n\t}\n\n}\n\nclass ShapeBufferGeometry extends BufferGeometry {\n\n\tconstructor( shapes, curveSegments ) {\n\n\t\tsuper();\n\t\tthis.type = 'ShapeBufferGeometry';\n\n\t\tthis.parameters = {\n\t\t\tshapes: shapes,\n\t\t\tcurveSegments: curveSegments\n\t\t};\n\n\t\tcurveSegments = curveSegments || 12;\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tlet groupStart = 0;\n\t\tlet groupCount = 0;\n\n\t\t// allow single and array values for \"shapes\" parameter\n\n\t\tif ( Array.isArray( shapes ) === false ) {\n\n\t\t\taddShape( shapes );\n\n\t\t} else {\n\n\t\t\tfor ( let i = 0; i < shapes.length; i ++ ) {\n\n\t\t\t\taddShape( shapes[ i ] );\n\n\t\t\t\tthis.addGroup( groupStart, groupCount, i ); // enables MultiMaterial support\n\n\t\t\t\tgroupStart += groupCount;\n\t\t\t\tgroupCount = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\n\t\t// helper functions\n\n\t\tfunction addShape( shape ) {\n\n\t\t\tconst indexOffset = vertices.length / 3;\n\t\t\tconst points = shape.extractPoints( curveSegments );\n\n\t\t\tlet shapeVertices = points.shape;\n\t\t\tconst shapeHoles = points.holes;\n\n\t\t\t// check direction of vertices\n\n\t\t\tif ( ShapeUtils.isClockWise( shapeVertices ) === false ) {\n\n\t\t\t\tshapeVertices = shapeVertices.reverse();\n\n\t\t\t}\n\n\t\t\tfor ( let i = 0, l = shapeHoles.length; i < l; i ++ ) {\n\n\t\t\t\tconst shapeHole = shapeHoles[ i ];\n\n\t\t\t\tif ( ShapeUtils.isClockWise( shapeHole ) === true ) {\n\n\t\t\t\t\tshapeHoles[ i ] = shapeHole.reverse();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst faces = ShapeUtils.triangulateShape( shapeVertices, shapeHoles );\n\n\t\t\t// join vertices of inner and outer paths to a single array\n\n\t\t\tfor ( let i = 0, l = shapeHoles.length; i < l; i ++ ) {\n\n\t\t\t\tconst shapeHole = shapeHoles[ i ];\n\t\t\t\tshapeVertices = shapeVertices.concat( shapeHole );\n\n\t\t\t}\n\n\t\t\t// vertices, normals, uvs\n\n\t\t\tfor ( let i = 0, l = shapeVertices.length; i < l; i ++ ) {\n\n\t\t\t\tconst vertex = shapeVertices[ i ];\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, 0 );\n\t\t\t\tnormals.push( 0, 0, 1 );\n\t\t\t\tuvs.push( vertex.x, vertex.y ); // world uvs\n\n\t\t\t}\n\n\t\t\t// incides\n\n\t\t\tfor ( let i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\t\t\tconst face = faces[ i ];\n\n\t\t\t\tconst a = face[ 0 ] + indexOffset;\n\t\t\t\tconst b = face[ 1 ] + indexOffset;\n\t\t\t\tconst c = face[ 2 ] + indexOffset;\n\n\t\t\t\tindices.push( a, b, c );\n\t\t\t\tgroupCount += 3;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = BufferGeometry.prototype.toJSON.call( this );\n\n\t\tconst shapes = this.parameters.shapes;\n\n\t\treturn toJSON$2( shapes, data );\n\n\t}\n\n}\n\nfunction toJSON$2( shapes, data ) {\n\n\tdata.shapes = [];\n\n\tif ( Array.isArray( shapes ) ) {\n\n\t\tfor ( let i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\tconst shape = shapes[ i ];\n\n\t\t\tdata.shapes.push( shape.uuid );\n\n\t\t}\n\n\t} else {\n\n\t\tdata.shapes.push( shapes.uuid );\n\n\t}\n\n\treturn data;\n\n}\n\nclass ShapeGeometry extends Geometry {\n\n\tconstructor( shapes, curveSegments ) {\n\n\t\tsuper();\n\t\tthis.type = 'ShapeGeometry';\n\n\t\tif ( typeof curveSegments === 'object' ) {\n\n\t\t\tconsole.warn( 'THREE.ShapeGeometry: Options parameter has been removed.' );\n\n\t\t\tcurveSegments = curveSegments.curveSegments;\n\n\t\t}\n\n\t\tthis.parameters = {\n\t\t\tshapes: shapes,\n\t\t\tcurveSegments: curveSegments\n\t\t};\n\n\t\tthis.fromBufferGeometry( new ShapeBufferGeometry( shapes, curveSegments ) );\n\t\tthis.mergeVertices();\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = Geometry.prototype.toJSON.call( this );\n\n\t\tconst shapes = this.parameters.shapes;\n\n\t\treturn toJSON$3( shapes, data );\n\n\t}\n\n}\n\nfunction toJSON$3( shapes, data ) {\n\n\tdata.shapes = [];\n\n\tif ( Array.isArray( shapes ) ) {\n\n\t\tfor ( let i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\tconst shape = shapes[ i ];\n\n\t\t\tdata.shapes.push( shape.uuid );\n\n\t\t}\n\n\t} else {\n\n\t\tdata.shapes.push( shapes.uuid );\n\n\t}\n\n\treturn data;\n\n}\n\nclass SphereBufferGeometry extends BufferGeometry {\n\n\tconstructor( radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength ) {\n\n\t\tsuper();\n\t\tthis.type = 'SphereBufferGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\twidthSegments: widthSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\tphiStart: phiStart,\n\t\t\tphiLength: phiLength,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\n\t\tradius = radius || 1;\n\n\t\twidthSegments = Math.max( 3, Math.floor( widthSegments ) || 8 );\n\t\theightSegments = Math.max( 2, Math.floor( heightSegments ) || 6 );\n\n\t\tphiStart = phiStart !== undefined ? phiStart : 0;\n\t\tphiLength = phiLength !== undefined ? phiLength : Math.PI * 2;\n\n\t\tthetaStart = thetaStart !== undefined ? thetaStart : 0;\n\t\tthetaLength = thetaLength !== undefined ? thetaLength : Math.PI;\n\n\t\tconst thetaEnd = Math.min( thetaStart + thetaLength, Math.PI );\n\n\t\tlet index = 0;\n\t\tconst grid = [];\n\n\t\tconst vertex = new Vector3();\n\t\tconst normal = new Vector3();\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// generate vertices, normals and uvs\n\n\t\tfor ( let iy = 0; iy <= heightSegments; iy ++ ) {\n\n\t\t\tconst verticesRow = [];\n\n\t\t\tconst v = iy / heightSegments;\n\n\t\t\t// special case for the poles\n\n\t\t\tlet uOffset = 0;\n\n\t\t\tif ( iy == 0 && thetaStart == 0 ) {\n\n\t\t\t\tuOffset = 0.5 / widthSegments;\n\n\t\t\t} else if ( iy == heightSegments && thetaEnd == Math.PI ) {\n\n\t\t\t\tuOffset = - 0.5 / widthSegments;\n\n\t\t\t}\n\n\t\t\tfor ( let ix = 0; ix <= widthSegments; ix ++ ) {\n\n\t\t\t\tconst u = ix / widthSegments;\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = - radius * Math.cos( phiStart + u * phiLength ) * Math.sin( thetaStart + v * thetaLength );\n\t\t\t\tvertex.y = radius * Math.cos( thetaStart + v * thetaLength );\n\t\t\t\tvertex.z = radius * Math.sin( phiStart + u * phiLength ) * Math.sin( thetaStart + v * thetaLength );\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// normal\n\n\t\t\t\tnormal.copy( vertex ).normalize();\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t// uv\n\n\t\t\t\tuvs.push( u + uOffset, 1 - v );\n\n\t\t\t\tverticesRow.push( index ++ );\n\n\t\t\t}\n\n\t\t\tgrid.push( verticesRow );\n\n\t\t}\n\n\t\t// indices\n\n\t\tfor ( let iy = 0; iy < heightSegments; iy ++ ) {\n\n\t\t\tfor ( let ix = 0; ix < widthSegments; ix ++ ) {\n\n\t\t\t\tconst a = grid[ iy ][ ix + 1 ];\n\t\t\t\tconst b = grid[ iy ][ ix ];\n\t\t\t\tconst c = grid[ iy + 1 ][ ix ];\n\t\t\t\tconst d = grid[ iy + 1 ][ ix + 1 ];\n\n\t\t\t\tif ( iy !== 0 || thetaStart > 0 ) indices.push( a, b, d );\n\t\t\t\tif ( iy !== heightSegments - 1 || thetaEnd < Math.PI ) indices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t}\n\n}\n\nclass SphereGeometry extends Geometry {\n\n\tconstructor( radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength ) {\n\n\t\tsuper();\n\t\tthis.type = 'SphereGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\twidthSegments: widthSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\tphiStart: phiStart,\n\t\t\tphiLength: phiLength,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\n\t\tthis.fromBufferGeometry( new SphereBufferGeometry( radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength ) );\n\t\tthis.mergeVertices();\n\n\t}\n\n}\n\nclass TetrahedronBufferGeometry extends PolyhedronBufferGeometry {\n\n\tconstructor( radius, detail ) {\n\n\t\tconst vertices = [\n\t\t\t1, 1, 1, \t- 1, - 1, 1, \t- 1, 1, - 1, \t1, - 1, - 1\n\t\t];\n\n\t\tconst indices = [\n\t\t\t2, 1, 0, \t0, 3, 2,\t1, 3, 0,\t2, 3, 1\n\t\t];\n\n\t\tsuper( vertices, indices, radius, detail );\n\n\t\tthis.type = 'TetrahedronBufferGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\n\t}\n\n}\n\nclass TetrahedronGeometry extends Geometry {\n\n\tconstructor( radius, detail ) {\n\n\t\tsuper();\n\t\tthis.type = 'TetrahedronGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\n\t\tthis.fromBufferGeometry( new TetrahedronBufferGeometry( radius, detail ) );\n\t\tthis.mergeVertices();\n\n\t}\n\n}\n\n/**\n * Text = 3D Text\n *\n * parameters = {\n *  font: <THREE.Font>, // font\n *\n *  size: <float>, // size of the text\n *  height: <float>, // thickness to extrude text\n *  curveSegments: <int>, // number of points on the curves\n *\n *  bevelEnabled: <bool>, // turn on bevel\n *  bevelThickness: <float>, // how deep into text bevel goes\n *  bevelSize: <float>, // how far from text outline (including bevelOffset) is bevel\n *  bevelOffset: <float> // how far from text outline does bevel start\n * }\n */\n\nclass TextBufferGeometry extends ExtrudeBufferGeometry {\n\n\tconstructor( text, parameters ) {\n\n\t\tparameters = parameters || {};\n\n\t\tconst font = parameters.font;\n\n\t\tif ( ! ( font && font.isFont ) ) {\n\n\t\t\tconsole.error( 'THREE.TextGeometry: font parameter is not an instance of THREE.Font.' );\n\t\t\treturn new BufferGeometry();\n\n\t\t}\n\n\t\tconst shapes = font.generateShapes( text, parameters.size );\n\n\t\t// translate parameters to ExtrudeGeometry API\n\n\t\tparameters.depth = parameters.height !== undefined ? parameters.height : 50;\n\n\t\t// defaults\n\n\t\tif ( parameters.bevelThickness === undefined ) parameters.bevelThickness = 10;\n\t\tif ( parameters.bevelSize === undefined ) parameters.bevelSize = 8;\n\t\tif ( parameters.bevelEnabled === undefined ) parameters.bevelEnabled = false;\n\n\t\tsuper( shapes, parameters );\n\n\t\tthis.type = 'TextBufferGeometry';\n\n\t}\n\n}\n\n/**\n * Text = 3D Text\n *\n * parameters = {\n *  font: <THREE.Font>, // font\n *\n *  size: <float>, // size of the text\n *  height: <float>, // thickness to extrude text\n *  curveSegments: <int>, // number of points on the curves\n *\n *  bevelEnabled: <bool>, // turn on bevel\n *  bevelThickness: <float>, // how deep into text bevel goes\n *  bevelSize: <float>, // how far from text outline (including bevelOffset) is bevel\n *  bevelOffset: <float> // how far from text outline does bevel start\n * }\n */\n\nclass TextGeometry extends Geometry {\n\n\tconstructor( text, parameters ) {\n\n\t\tsuper();\n\t\tthis.type = 'TextGeometry';\n\n\t\tthis.parameters = {\n\t\t\ttext: text,\n\t\t\tparameters: parameters\n\t\t};\n\n\t\tthis.fromBufferGeometry( new TextBufferGeometry( text, parameters ) );\n\t\tthis.mergeVertices();\n\n\t}\n\n}\n\nclass TorusBufferGeometry extends BufferGeometry {\n\n\tconstructor( radius, tube, radialSegments, tubularSegments, arc ) {\n\n\t\tsuper();\n\t\tthis.type = 'TorusBufferGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\ttube: tube,\n\t\t\tradialSegments: radialSegments,\n\t\t\ttubularSegments: tubularSegments,\n\t\t\tarc: arc\n\t\t};\n\n\t\tradius = radius || 1;\n\t\ttube = tube || 0.4;\n\t\tradialSegments = Math.floor( radialSegments ) || 8;\n\t\ttubularSegments = Math.floor( tubularSegments ) || 6;\n\t\tarc = arc || Math.PI * 2;\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tconst center = new Vector3();\n\t\tconst vertex = new Vector3();\n\t\tconst normal = new Vector3();\n\n\t\t// generate vertices, normals and uvs\n\n\t\tfor ( let j = 0; j <= radialSegments; j ++ ) {\n\n\t\t\tfor ( let i = 0; i <= tubularSegments; i ++ ) {\n\n\t\t\t\tconst u = i / tubularSegments * arc;\n\t\t\t\tconst v = j / radialSegments * Math.PI * 2;\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = ( radius + tube * Math.cos( v ) ) * Math.cos( u );\n\t\t\t\tvertex.y = ( radius + tube * Math.cos( v ) ) * Math.sin( u );\n\t\t\t\tvertex.z = tube * Math.sin( v );\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// normal\n\n\t\t\t\tcenter.x = radius * Math.cos( u );\n\t\t\t\tcenter.y = radius * Math.sin( u );\n\t\t\t\tnormal.subVectors( vertex, center ).normalize();\n\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t// uv\n\n\t\t\t\tuvs.push( i / tubularSegments );\n\t\t\t\tuvs.push( j / radialSegments );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// generate indices\n\n\t\tfor ( let j = 1; j <= radialSegments; j ++ ) {\n\n\t\t\tfor ( let i = 1; i <= tubularSegments; i ++ ) {\n\n\t\t\t\t// indices\n\n\t\t\t\tconst a = ( tubularSegments + 1 ) * j + i - 1;\n\t\t\t\tconst b = ( tubularSegments + 1 ) * ( j - 1 ) + i - 1;\n\t\t\t\tconst c = ( tubularSegments + 1 ) * ( j - 1 ) + i;\n\t\t\t\tconst d = ( tubularSegments + 1 ) * j + i;\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t}\n\n}\n\nclass TorusGeometry extends Geometry {\n\n\tconstructor( radius, tube, radialSegments, tubularSegments, arc ) {\n\n\t\tsuper();\n\t\tthis.type = 'TorusGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\ttube: tube,\n\t\t\tradialSegments: radialSegments,\n\t\t\ttubularSegments: tubularSegments,\n\t\t\tarc: arc\n\t\t};\n\n\t\tthis.fromBufferGeometry( new TorusBufferGeometry( radius, tube, radialSegments, tubularSegments, arc ) );\n\t\tthis.mergeVertices();\n\n\t}\n\n}\n\nclass TorusKnotBufferGeometry extends BufferGeometry {\n\n\tconstructor( radius, tube, tubularSegments, radialSegments, p, q ) {\n\n\t\tsuper();\n\t\tthis.type = 'TorusKnotBufferGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\ttube: tube,\n\t\t\ttubularSegments: tubularSegments,\n\t\t\tradialSegments: radialSegments,\n\t\t\tp: p,\n\t\t\tq: q\n\t\t};\n\n\t\tradius = radius || 1;\n\t\ttube = tube || 0.4;\n\t\ttubularSegments = Math.floor( tubularSegments ) || 64;\n\t\tradialSegments = Math.floor( radialSegments ) || 8;\n\t\tp = p || 2;\n\t\tq = q || 3;\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tconst vertex = new Vector3();\n\t\tconst normal = new Vector3();\n\n\t\tconst P1 = new Vector3();\n\t\tconst P2 = new Vector3();\n\n\t\tconst B = new Vector3();\n\t\tconst T = new Vector3();\n\t\tconst N = new Vector3();\n\n\t\t// generate vertices, normals and uvs\n\n\t\tfor ( let i = 0; i <= tubularSegments; ++ i ) {\n\n\t\t\t// the radian \"u\" is used to calculate the position on the torus curve of the current tubular segement\n\n\t\t\tconst u = i / tubularSegments * p * Math.PI * 2;\n\n\t\t\t// now we calculate two points. P1 is our current position on the curve, P2 is a little farther ahead.\n\t\t\t// these points are used to create a special \"coordinate space\", which is necessary to calculate the correct vertex positions\n\n\t\t\tcalculatePositionOnCurve( u, p, q, radius, P1 );\n\t\t\tcalculatePositionOnCurve( u + 0.01, p, q, radius, P2 );\n\n\t\t\t// calculate orthonormal basis\n\n\t\t\tT.subVectors( P2, P1 );\n\t\t\tN.addVectors( P2, P1 );\n\t\t\tB.crossVectors( T, N );\n\t\t\tN.crossVectors( B, T );\n\n\t\t\t// normalize B, N. T can be ignored, we don't use it\n\n\t\t\tB.normalize();\n\t\t\tN.normalize();\n\n\t\t\tfor ( let j = 0; j <= radialSegments; ++ j ) {\n\n\t\t\t\t// now calculate the vertices. they are nothing more than an extrusion of the torus curve.\n\t\t\t\t// because we extrude a shape in the xy-plane, there is no need to calculate a z-value.\n\n\t\t\t\tconst v = j / radialSegments * Math.PI * 2;\n\t\t\t\tconst cx = - tube * Math.cos( v );\n\t\t\t\tconst cy = tube * Math.sin( v );\n\n\t\t\t\t// now calculate the final vertex position.\n\t\t\t\t// first we orient the extrusion with our basis vectos, then we add it to the current position on the curve\n\n\t\t\t\tvertex.x = P1.x + ( cx * N.x + cy * B.x );\n\t\t\t\tvertex.y = P1.y + ( cx * N.y + cy * B.y );\n\t\t\t\tvertex.z = P1.z + ( cx * N.z + cy * B.z );\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// normal (P1 is always the center/origin of the extrusion, thus we can use it to calculate the normal)\n\n\t\t\t\tnormal.subVectors( vertex, P1 ).normalize();\n\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t// uv\n\n\t\t\t\tuvs.push( i / tubularSegments );\n\t\t\t\tuvs.push( j / radialSegments );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// generate indices\n\n\t\tfor ( let j = 1; j <= tubularSegments; j ++ ) {\n\n\t\t\tfor ( let i = 1; i <= radialSegments; i ++ ) {\n\n\t\t\t\t// indices\n\n\t\t\t\tconst a = ( radialSegments + 1 ) * ( j - 1 ) + ( i - 1 );\n\t\t\t\tconst b = ( radialSegments + 1 ) * j + ( i - 1 );\n\t\t\t\tconst c = ( radialSegments + 1 ) * j + i;\n\t\t\t\tconst d = ( radialSegments + 1 ) * ( j - 1 ) + i;\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t\t// this function calculates the current position on the torus curve\n\n\t\tfunction calculatePositionOnCurve( u, p, q, radius, position ) {\n\n\t\t\tconst cu = Math.cos( u );\n\t\t\tconst su = Math.sin( u );\n\t\t\tconst quOverP = q / p * u;\n\t\t\tconst cs = Math.cos( quOverP );\n\n\t\t\tposition.x = radius * ( 2 + cs ) * 0.5 * cu;\n\t\t\tposition.y = radius * ( 2 + cs ) * su * 0.5;\n\t\t\tposition.z = radius * Math.sin( quOverP ) * 0.5;\n\n\t\t}\n\n\t}\n\n}\n\nclass TorusKnotGeometry extends Geometry {\n\n\tconstructor( radius, tube, tubularSegments, radialSegments, p, q, heightScale ) {\n\n\t\tsuper();\n\t\tthis.type = 'TorusKnotGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\ttube: tube,\n\t\t\ttubularSegments: tubularSegments,\n\t\t\tradialSegments: radialSegments,\n\t\t\tp: p,\n\t\t\tq: q\n\t\t};\n\n\t\tif ( heightScale !== undefined ) console.warn( 'THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead.' );\n\n\t\tthis.fromBufferGeometry( new TorusKnotBufferGeometry( radius, tube, tubularSegments, radialSegments, p, q ) );\n\t\tthis.mergeVertices();\n\n\t}\n\n}\n\nclass TubeBufferGeometry extends BufferGeometry {\n\n\tconstructor( path, tubularSegments, radius, radialSegments, closed ) {\n\n\t\tsuper();\n\t\tthis.type = 'TubeBufferGeometry';\n\n\t\tthis.parameters = {\n\t\t\tpath: path,\n\t\t\ttubularSegments: tubularSegments,\n\t\t\tradius: radius,\n\t\t\tradialSegments: radialSegments,\n\t\t\tclosed: closed\n\t\t};\n\n\t\ttubularSegments = tubularSegments || 64;\n\t\tradius = radius || 1;\n\t\tradialSegments = radialSegments || 8;\n\t\tclosed = closed || false;\n\n\t\tconst frames = path.computeFrenetFrames( tubularSegments, closed );\n\n\t\t// expose internals\n\n\t\tthis.tangents = frames.tangents;\n\t\tthis.normals = frames.normals;\n\t\tthis.binormals = frames.binormals;\n\n\t\t// helper variables\n\n\t\tconst vertex = new Vector3();\n\t\tconst normal = new Vector3();\n\t\tconst uv = new Vector2();\n\t\tlet P = new Vector3();\n\n\t\t// buffer\n\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\t\tconst indices = [];\n\n\t\t// create buffer data\n\n\t\tgenerateBufferData();\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t\t// functions\n\n\t\tfunction generateBufferData() {\n\n\t\t\tfor ( let i = 0; i < tubularSegments; i ++ ) {\n\n\t\t\t\tgenerateSegment( i );\n\n\t\t\t}\n\n\t\t\t// if the geometry is not closed, generate the last row of vertices and normals\n\t\t\t// at the regular position on the given path\n\t\t\t//\n\t\t\t// if the geometry is closed, duplicate the first row of vertices and normals (uvs will differ)\n\n\t\t\tgenerateSegment( ( closed === false ) ? tubularSegments : 0 );\n\n\t\t\t// uvs are generated in a separate function.\n\t\t\t// this makes it easy compute correct values for closed geometries\n\n\t\t\tgenerateUVs();\n\n\t\t\t// finally create faces\n\n\t\t\tgenerateIndices();\n\n\t\t}\n\n\t\tfunction generateSegment( i ) {\n\n\t\t\t// we use getPointAt to sample evenly distributed points from the given path\n\n\t\t\tP = path.getPointAt( i / tubularSegments, P );\n\n\t\t\t// retrieve corresponding normal and binormal\n\n\t\t\tconst N = frames.normals[ i ];\n\t\t\tconst B = frames.binormals[ i ];\n\n\t\t\t// generate normals and vertices for the current segment\n\n\t\t\tfor ( let j = 0; j <= radialSegments; j ++ ) {\n\n\t\t\t\tconst v = j / radialSegments * Math.PI * 2;\n\n\t\t\t\tconst sin = Math.sin( v );\n\t\t\t\tconst cos = - Math.cos( v );\n\n\t\t\t\t// normal\n\n\t\t\t\tnormal.x = ( cos * N.x + sin * B.x );\n\t\t\t\tnormal.y = ( cos * N.y + sin * B.y );\n\t\t\t\tnormal.z = ( cos * N.z + sin * B.z );\n\t\t\t\tnormal.normalize();\n\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = P.x + radius * normal.x;\n\t\t\t\tvertex.y = P.y + radius * normal.y;\n\t\t\t\tvertex.z = P.z + radius * normal.z;\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction generateIndices() {\n\n\t\t\tfor ( let j = 1; j <= tubularSegments; j ++ ) {\n\n\t\t\t\tfor ( let i = 1; i <= radialSegments; i ++ ) {\n\n\t\t\t\t\tconst a = ( radialSegments + 1 ) * ( j - 1 ) + ( i - 1 );\n\t\t\t\t\tconst b = ( radialSegments + 1 ) * j + ( i - 1 );\n\t\t\t\t\tconst c = ( radialSegments + 1 ) * j + i;\n\t\t\t\t\tconst d = ( radialSegments + 1 ) * ( j - 1 ) + i;\n\n\t\t\t\t\t// faces\n\n\t\t\t\t\tindices.push( a, b, d );\n\t\t\t\t\tindices.push( b, c, d );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction generateUVs() {\n\n\t\t\tfor ( let i = 0; i <= tubularSegments; i ++ ) {\n\n\t\t\t\tfor ( let j = 0; j <= radialSegments; j ++ ) {\n\n\t\t\t\t\tuv.x = i / tubularSegments;\n\t\t\t\t\tuv.y = j / radialSegments;\n\n\t\t\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\ttoJSON() {\n\n\t\tconst data = BufferGeometry.prototype.toJSON.call( this );\n\n\t\tdata.path = this.parameters.path.toJSON();\n\n\t\treturn data;\n\n\t}\n\n}\n\nclass TubeGeometry extends Geometry {\n\n\tconstructor( path, tubularSegments, radius, radialSegments, closed, taper ) {\n\n\t\tsuper();\n\t\tthis.type = 'TubeGeometry';\n\n\t\tthis.parameters = {\n\t\t\tpath: path,\n\t\t\ttubularSegments: tubularSegments,\n\t\t\tradius: radius,\n\t\t\tradialSegments: radialSegments,\n\t\t\tclosed: closed\n\t\t};\n\n\t\tif ( taper !== undefined ) console.warn( 'THREE.TubeGeometry: taper has been removed.' );\n\n\t\tconst bufferGeometry = new TubeBufferGeometry( path, tubularSegments, radius, radialSegments, closed );\n\n\t\t// expose internals\n\n\t\tthis.tangents = bufferGeometry.tangents;\n\t\tthis.normals = bufferGeometry.normals;\n\t\tthis.binormals = bufferGeometry.binormals;\n\n\t\t// create geometry\n\n\t\tthis.fromBufferGeometry( bufferGeometry );\n\t\tthis.mergeVertices();\n\n\t}\n\n}\n\nclass WireframeGeometry extends BufferGeometry {\n\n\tconstructor( geometry ) {\n\n\t\tsuper();\n\t\tthis.type = 'WireframeGeometry';\n\n\t\t// buffer\n\n\t\tconst vertices = [];\n\n\t\t// helper variables\n\n\t\tconst edge = [ 0, 0 ], edges = {};\n\t\tconst keys = [ 'a', 'b', 'c' ];\n\n\t\t// different logic for Geometry and BufferGeometry\n\n\t\tif ( geometry && geometry.isGeometry ) {\n\n\t\t\t// create a data structure that contains all edges without duplicates\n\n\t\t\tconst faces = geometry.faces;\n\n\t\t\tfor ( let i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\t\t\tconst face = faces[ i ];\n\n\t\t\t\tfor ( let j = 0; j < 3; j ++ ) {\n\n\t\t\t\t\tconst edge1 = face[ keys[ j ] ];\n\t\t\t\t\tconst edge2 = face[ keys[ ( j + 1 ) % 3 ] ];\n\t\t\t\t\tedge[ 0 ] = Math.min( edge1, edge2 ); // sorting prevents duplicates\n\t\t\t\t\tedge[ 1 ] = Math.max( edge1, edge2 );\n\n\t\t\t\t\tconst key = edge[ 0 ] + ',' + edge[ 1 ];\n\n\t\t\t\t\tif ( edges[ key ] === undefined ) {\n\n\t\t\t\t\t\tedges[ key ] = { index1: edge[ 0 ], index2: edge[ 1 ] };\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// generate vertices\n\n\t\t\tfor ( const key in edges ) {\n\n\t\t\t\tconst e = edges[ key ];\n\n\t\t\t\tlet vertex = geometry.vertices[ e.index1 ];\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\tvertex = geometry.vertices[ e.index2 ];\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t}\n\n\t\t} else if ( geometry && geometry.isBufferGeometry ) {\n\n\t\t\tconst vertex = new Vector3();\n\n\t\t\tif ( geometry.index !== null ) {\n\n\t\t\t\t// indexed BufferGeometry\n\n\t\t\t\tconst position = geometry.attributes.position;\n\t\t\t\tconst indices = geometry.index;\n\t\t\t\tlet groups = geometry.groups;\n\n\t\t\t\tif ( groups.length === 0 ) {\n\n\t\t\t\t\tgroups = [ { start: 0, count: indices.count, materialIndex: 0 } ];\n\n\t\t\t\t}\n\n\t\t\t\t// create a data structure that contains all eges without duplicates\n\n\t\t\t\tfor ( let o = 0, ol = groups.length; o < ol; ++ o ) {\n\n\t\t\t\t\tconst group = groups[ o ];\n\n\t\t\t\t\tconst start = group.start;\n\t\t\t\t\tconst count = group.count;\n\n\t\t\t\t\tfor ( let i = start, l = ( start + count ); i < l; i += 3 ) {\n\n\t\t\t\t\t\tfor ( let j = 0; j < 3; j ++ ) {\n\n\t\t\t\t\t\t\tconst edge1 = indices.getX( i + j );\n\t\t\t\t\t\t\tconst edge2 = indices.getX( i + ( j + 1 ) % 3 );\n\t\t\t\t\t\t\tedge[ 0 ] = Math.min( edge1, edge2 ); // sorting prevents duplicates\n\t\t\t\t\t\t\tedge[ 1 ] = Math.max( edge1, edge2 );\n\n\t\t\t\t\t\t\tconst key = edge[ 0 ] + ',' + edge[ 1 ];\n\n\t\t\t\t\t\t\tif ( edges[ key ] === undefined ) {\n\n\t\t\t\t\t\t\t\tedges[ key ] = { index1: edge[ 0 ], index2: edge[ 1 ] };\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// generate vertices\n\n\t\t\t\tfor ( const key in edges ) {\n\n\t\t\t\t\tconst e = edges[ key ];\n\n\t\t\t\t\tvertex.fromBufferAttribute( position, e.index1 );\n\t\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t\tvertex.fromBufferAttribute( position, e.index2 );\n\t\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// non-indexed BufferGeometry\n\n\t\t\t\tconst position = geometry.attributes.position;\n\n\t\t\t\tfor ( let i = 0, l = ( position.count / 3 ); i < l; i ++ ) {\n\n\t\t\t\t\tfor ( let j = 0; j < 3; j ++ ) {\n\n\t\t\t\t\t\t// three edges per triangle, an edge is represented as (index1, index2)\n\t\t\t\t\t\t// e.g. the first triangle has the following edges: (0,1),(1,2),(2,0)\n\n\t\t\t\t\t\tconst index1 = 3 * i + j;\n\t\t\t\t\t\tvertex.fromBufferAttribute( position, index1 );\n\t\t\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t\t\tconst index2 = 3 * i + ( ( j + 1 ) % 3 );\n\t\t\t\t\t\tvertex.fromBufferAttribute( position, index2 );\n\t\t\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\n\t}\n\n}\n\nvar Geometries = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tBoxGeometry: BoxGeometry,\n\tBoxBufferGeometry: BoxBufferGeometry,\n\tCircleGeometry: CircleGeometry,\n\tCircleBufferGeometry: CircleBufferGeometry,\n\tConeGeometry: ConeGeometry,\n\tConeBufferGeometry: ConeBufferGeometry,\n\tCylinderGeometry: CylinderGeometry,\n\tCylinderBufferGeometry: CylinderBufferGeometry,\n\tDodecahedronGeometry: DodecahedronGeometry,\n\tDodecahedronBufferGeometry: DodecahedronBufferGeometry,\n\tEdgesGeometry: EdgesGeometry,\n\tExtrudeGeometry: ExtrudeGeometry,\n\tExtrudeBufferGeometry: ExtrudeBufferGeometry,\n\tIcosahedronGeometry: IcosahedronGeometry,\n\tIcosahedronBufferGeometry: IcosahedronBufferGeometry,\n\tLatheGeometry: LatheGeometry,\n\tLatheBufferGeometry: LatheBufferGeometry,\n\tOctahedronGeometry: OctahedronGeometry,\n\tOctahedronBufferGeometry: OctahedronBufferGeometry,\n\tParametricGeometry: ParametricGeometry,\n\tParametricBufferGeometry: ParametricBufferGeometry,\n\tPlaneGeometry: PlaneGeometry,\n\tPlaneBufferGeometry: PlaneBufferGeometry,\n\tPolyhedronGeometry: PolyhedronGeometry,\n\tPolyhedronBufferGeometry: PolyhedronBufferGeometry,\n\tRingGeometry: RingGeometry,\n\tRingBufferGeometry: RingBufferGeometry,\n\tShapeGeometry: ShapeGeometry,\n\tShapeBufferGeometry: ShapeBufferGeometry,\n\tSphereGeometry: SphereGeometry,\n\tSphereBufferGeometry: SphereBufferGeometry,\n\tTetrahedronGeometry: TetrahedronGeometry,\n\tTetrahedronBufferGeometry: TetrahedronBufferGeometry,\n\tTextGeometry: TextGeometry,\n\tTextBufferGeometry: TextBufferGeometry,\n\tTorusGeometry: TorusGeometry,\n\tTorusBufferGeometry: TorusBufferGeometry,\n\tTorusKnotGeometry: TorusKnotGeometry,\n\tTorusKnotBufferGeometry: TorusKnotBufferGeometry,\n\tTubeGeometry: TubeGeometry,\n\tTubeBufferGeometry: TubeBufferGeometry,\n\tWireframeGeometry: WireframeGeometry\n});\n\n/**\n * parameters = {\n *  color: <THREE.Color>\n * }\n */\n\nfunction ShadowMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'ShadowMaterial';\n\n\tthis.color = new Color( 0x000000 );\n\tthis.transparent = true;\n\n\tthis.setValues( parameters );\n\n}\n\nShadowMaterial.prototype = Object.create( Material.prototype );\nShadowMaterial.prototype.constructor = ShadowMaterial;\n\nShadowMaterial.prototype.isShadowMaterial = true;\n\nShadowMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\treturn this;\n\n};\n\nfunction RawShaderMaterial( parameters ) {\n\n\tShaderMaterial.call( this, parameters );\n\n\tthis.type = 'RawShaderMaterial';\n\n}\n\nRawShaderMaterial.prototype = Object.create( ShaderMaterial.prototype );\nRawShaderMaterial.prototype.constructor = RawShaderMaterial;\n\nRawShaderMaterial.prototype.isRawShaderMaterial = true;\n\n/**\n * parameters = {\n *  color: <hex>,\n *  roughness: <float>,\n *  metalness: <float>,\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  roughnessMap: new THREE.Texture( <Image> ),\n *\n *  metalnessMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  envMapIntensity: <float>\n *\n *  refractionRatio: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshStandardMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.defines = { 'STANDARD': '' };\n\n\tthis.type = 'MeshStandardMaterial';\n\n\tthis.color = new Color( 0xffffff ); // diffuse\n\tthis.roughness = 1.0;\n\tthis.metalness = 0.0;\n\n\tthis.map = null;\n\n\tthis.lightMap = null;\n\tthis.lightMapIntensity = 1.0;\n\n\tthis.aoMap = null;\n\tthis.aoMapIntensity = 1.0;\n\n\tthis.emissive = new Color( 0x000000 );\n\tthis.emissiveIntensity = 1.0;\n\tthis.emissiveMap = null;\n\n\tthis.bumpMap = null;\n\tthis.bumpScale = 1;\n\n\tthis.normalMap = null;\n\tthis.normalMapType = TangentSpaceNormalMap;\n\tthis.normalScale = new Vector2( 1, 1 );\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.roughnessMap = null;\n\n\tthis.metalnessMap = null;\n\n\tthis.alphaMap = null;\n\n\tthis.envMap = null;\n\tthis.envMapIntensity = 1.0;\n\n\tthis.refractionRatio = 0.98;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\tthis.wireframeLinecap = 'round';\n\tthis.wireframeLinejoin = 'round';\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.vertexTangents = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshStandardMaterial.prototype = Object.create( Material.prototype );\nMeshStandardMaterial.prototype.constructor = MeshStandardMaterial;\n\nMeshStandardMaterial.prototype.isMeshStandardMaterial = true;\n\nMeshStandardMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.defines = { 'STANDARD': '' };\n\n\tthis.color.copy( source.color );\n\tthis.roughness = source.roughness;\n\tthis.metalness = source.metalness;\n\n\tthis.map = source.map;\n\n\tthis.lightMap = source.lightMap;\n\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\tthis.aoMap = source.aoMap;\n\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\tthis.emissive.copy( source.emissive );\n\tthis.emissiveMap = source.emissiveMap;\n\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\tthis.bumpMap = source.bumpMap;\n\tthis.bumpScale = source.bumpScale;\n\n\tthis.normalMap = source.normalMap;\n\tthis.normalMapType = source.normalMapType;\n\tthis.normalScale.copy( source.normalScale );\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\tthis.roughnessMap = source.roughnessMap;\n\n\tthis.metalnessMap = source.metalnessMap;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.envMap = source.envMap;\n\tthis.envMapIntensity = source.envMapIntensity;\n\n\tthis.refractionRatio = source.refractionRatio;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\tthis.wireframeLinecap = source.wireframeLinecap;\n\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\tthis.vertexTangents = source.vertexTangents;\n\n\treturn this;\n\n};\n\n/**\n * parameters = {\n *  clearcoat: <float>,\n *  clearcoatMap: new THREE.Texture( <Image> ),\n *  clearcoatRoughness: <float>,\n *  clearcoatRoughnessMap: new THREE.Texture( <Image> ),\n *  clearcoatNormalScale: <Vector2>,\n *  clearcoatNormalMap: new THREE.Texture( <Image> ),\n *\n *  reflectivity: <float>,\n *  ior: <float>,\n *\n *  sheen: <Color>,\n *\n *  transmission: <float>,\n *  transmissionMap: new THREE.Texture( <Image> )\n * }\n */\n\nfunction MeshPhysicalMaterial( parameters ) {\n\n\tMeshStandardMaterial.call( this );\n\n\tthis.defines = {\n\n\t\t'STANDARD': '',\n\t\t'PHYSICAL': ''\n\n\t};\n\n\tthis.type = 'MeshPhysicalMaterial';\n\n\tthis.clearcoat = 0.0;\n\tthis.clearcoatMap = null;\n\tthis.clearcoatRoughness = 0.0;\n\tthis.clearcoatRoughnessMap = null;\n\tthis.clearcoatNormalScale = new Vector2( 1, 1 );\n\tthis.clearcoatNormalMap = null;\n\n\tthis.reflectivity = 0.5; // maps to F0 = 0.04\n\n\tObject.defineProperty( this, 'ior', {\n\t\tget: function () {\n\n\t\t\treturn ( 1 + 0.4 * this.reflectivity ) / ( 1 - 0.4 * this.reflectivity );\n\n\t\t},\n\t\tset: function ( ior ) {\n\n\t\t\tthis.reflectivity = MathUtils.clamp( 2.5 * ( ior - 1 ) / ( ior + 1 ), 0, 1 );\n\n\t\t}\n\t} );\n\n\tthis.sheen = null; // null will disable sheen bsdf\n\n\tthis.transmission = 0.0;\n\tthis.transmissionMap = null;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshPhysicalMaterial.prototype = Object.create( MeshStandardMaterial.prototype );\nMeshPhysicalMaterial.prototype.constructor = MeshPhysicalMaterial;\n\nMeshPhysicalMaterial.prototype.isMeshPhysicalMaterial = true;\n\nMeshPhysicalMaterial.prototype.copy = function ( source ) {\n\n\tMeshStandardMaterial.prototype.copy.call( this, source );\n\n\tthis.defines = {\n\n\t\t'STANDARD': '',\n\t\t'PHYSICAL': ''\n\n\t};\n\n\tthis.clearcoat = source.clearcoat;\n\tthis.clearcoatMap = source.clearcoatMap;\n\tthis.clearcoatRoughness = source.clearcoatRoughness;\n\tthis.clearcoatRoughnessMap = source.clearcoatRoughnessMap;\n\tthis.clearcoatNormalMap = source.clearcoatNormalMap;\n\tthis.clearcoatNormalScale.copy( source.clearcoatNormalScale );\n\n\tthis.reflectivity = source.reflectivity;\n\n\tif ( source.sheen ) {\n\n\t\tthis.sheen = ( this.sheen || new Color() ).copy( source.sheen );\n\n\t} else {\n\n\t\tthis.sheen = null;\n\n\t}\n\n\tthis.transmission = source.transmission;\n\tthis.transmissionMap = source.transmissionMap;\n\n\treturn this;\n\n};\n\n/**\n * parameters = {\n *  color: <hex>,\n *  specular: <hex>,\n *  shininess: <float>,\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.MultiplyOperation,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshPhongMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshPhongMaterial';\n\n\tthis.color = new Color( 0xffffff ); // diffuse\n\tthis.specular = new Color( 0x111111 );\n\tthis.shininess = 30;\n\n\tthis.map = null;\n\n\tthis.lightMap = null;\n\tthis.lightMapIntensity = 1.0;\n\n\tthis.aoMap = null;\n\tthis.aoMapIntensity = 1.0;\n\n\tthis.emissive = new Color( 0x000000 );\n\tthis.emissiveIntensity = 1.0;\n\tthis.emissiveMap = null;\n\n\tthis.bumpMap = null;\n\tthis.bumpScale = 1;\n\n\tthis.normalMap = null;\n\tthis.normalMapType = TangentSpaceNormalMap;\n\tthis.normalScale = new Vector2( 1, 1 );\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.specularMap = null;\n\n\tthis.alphaMap = null;\n\n\tthis.envMap = null;\n\tthis.combine = MultiplyOperation;\n\tthis.reflectivity = 1;\n\tthis.refractionRatio = 0.98;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\tthis.wireframeLinecap = 'round';\n\tthis.wireframeLinejoin = 'round';\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshPhongMaterial.prototype = Object.create( Material.prototype );\nMeshPhongMaterial.prototype.constructor = MeshPhongMaterial;\n\nMeshPhongMaterial.prototype.isMeshPhongMaterial = true;\n\nMeshPhongMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\tthis.specular.copy( source.specular );\n\tthis.shininess = source.shininess;\n\n\tthis.map = source.map;\n\n\tthis.lightMap = source.lightMap;\n\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\tthis.aoMap = source.aoMap;\n\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\tthis.emissive.copy( source.emissive );\n\tthis.emissiveMap = source.emissiveMap;\n\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\tthis.bumpMap = source.bumpMap;\n\tthis.bumpScale = source.bumpScale;\n\n\tthis.normalMap = source.normalMap;\n\tthis.normalMapType = source.normalMapType;\n\tthis.normalScale.copy( source.normalScale );\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\tthis.specularMap = source.specularMap;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.envMap = source.envMap;\n\tthis.combine = source.combine;\n\tthis.reflectivity = source.reflectivity;\n\tthis.refractionRatio = source.refractionRatio;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\tthis.wireframeLinecap = source.wireframeLinecap;\n\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\treturn this;\n\n};\n\n/**\n * parameters = {\n *  color: <hex>,\n *\n *  map: new THREE.Texture( <Image> ),\n *  gradientMap: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshToonMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.defines = { 'TOON': '' };\n\n\tthis.type = 'MeshToonMaterial';\n\n\tthis.color = new Color( 0xffffff );\n\n\tthis.map = null;\n\tthis.gradientMap = null;\n\n\tthis.lightMap = null;\n\tthis.lightMapIntensity = 1.0;\n\n\tthis.aoMap = null;\n\tthis.aoMapIntensity = 1.0;\n\n\tthis.emissive = new Color( 0x000000 );\n\tthis.emissiveIntensity = 1.0;\n\tthis.emissiveMap = null;\n\n\tthis.bumpMap = null;\n\tthis.bumpScale = 1;\n\n\tthis.normalMap = null;\n\tthis.normalMapType = TangentSpaceNormalMap;\n\tthis.normalScale = new Vector2( 1, 1 );\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.alphaMap = null;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\tthis.wireframeLinecap = 'round';\n\tthis.wireframeLinejoin = 'round';\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshToonMaterial.prototype = Object.create( Material.prototype );\nMeshToonMaterial.prototype.constructor = MeshToonMaterial;\n\nMeshToonMaterial.prototype.isMeshToonMaterial = true;\n\nMeshToonMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\tthis.map = source.map;\n\tthis.gradientMap = source.gradientMap;\n\n\tthis.lightMap = source.lightMap;\n\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\tthis.aoMap = source.aoMap;\n\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\tthis.emissive.copy( source.emissive );\n\tthis.emissiveMap = source.emissiveMap;\n\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\tthis.bumpMap = source.bumpMap;\n\tthis.bumpScale = source.bumpScale;\n\n\tthis.normalMap = source.normalMap;\n\tthis.normalMapType = source.normalMapType;\n\tthis.normalScale.copy( source.normalScale );\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\tthis.wireframeLinecap = source.wireframeLinecap;\n\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\treturn this;\n\n};\n\n/**\n * parameters = {\n *  opacity: <float>,\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshNormalMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshNormalMaterial';\n\n\tthis.bumpMap = null;\n\tthis.bumpScale = 1;\n\n\tthis.normalMap = null;\n\tthis.normalMapType = TangentSpaceNormalMap;\n\tthis.normalScale = new Vector2( 1, 1 );\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\n\tthis.fog = false;\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshNormalMaterial.prototype = Object.create( Material.prototype );\nMeshNormalMaterial.prototype.constructor = MeshNormalMaterial;\n\nMeshNormalMaterial.prototype.isMeshNormalMaterial = true;\n\nMeshNormalMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.bumpMap = source.bumpMap;\n\tthis.bumpScale = source.bumpScale;\n\n\tthis.normalMap = source.normalMap;\n\tthis.normalMapType = source.normalMapType;\n\tthis.normalScale.copy( source.normalScale );\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\treturn this;\n\n};\n\n/**\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.Multiply,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshLambertMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshLambertMaterial';\n\n\tthis.color = new Color( 0xffffff ); // diffuse\n\n\tthis.map = null;\n\n\tthis.lightMap = null;\n\tthis.lightMapIntensity = 1.0;\n\n\tthis.aoMap = null;\n\tthis.aoMapIntensity = 1.0;\n\n\tthis.emissive = new Color( 0x000000 );\n\tthis.emissiveIntensity = 1.0;\n\tthis.emissiveMap = null;\n\n\tthis.specularMap = null;\n\n\tthis.alphaMap = null;\n\n\tthis.envMap = null;\n\tthis.combine = MultiplyOperation;\n\tthis.reflectivity = 1;\n\tthis.refractionRatio = 0.98;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\tthis.wireframeLinecap = 'round';\n\tthis.wireframeLinejoin = 'round';\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshLambertMaterial.prototype = Object.create( Material.prototype );\nMeshLambertMaterial.prototype.constructor = MeshLambertMaterial;\n\nMeshLambertMaterial.prototype.isMeshLambertMaterial = true;\n\nMeshLambertMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\tthis.map = source.map;\n\n\tthis.lightMap = source.lightMap;\n\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\tthis.aoMap = source.aoMap;\n\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\tthis.emissive.copy( source.emissive );\n\tthis.emissiveMap = source.emissiveMap;\n\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\tthis.specularMap = source.specularMap;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.envMap = source.envMap;\n\tthis.combine = source.combine;\n\tthis.reflectivity = source.reflectivity;\n\tthis.refractionRatio = source.refractionRatio;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\tthis.wireframeLinecap = source.wireframeLinecap;\n\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\treturn this;\n\n};\n\n/**\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  matcap: new THREE.Texture( <Image> ),\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshMatcapMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.defines = { 'MATCAP': '' };\n\n\tthis.type = 'MeshMatcapMaterial';\n\n\tthis.color = new Color( 0xffffff ); // diffuse\n\n\tthis.matcap = null;\n\n\tthis.map = null;\n\n\tthis.bumpMap = null;\n\tthis.bumpScale = 1;\n\n\tthis.normalMap = null;\n\tthis.normalMapType = TangentSpaceNormalMap;\n\tthis.normalScale = new Vector2( 1, 1 );\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.alphaMap = null;\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshMatcapMaterial.prototype = Object.create( Material.prototype );\nMeshMatcapMaterial.prototype.constructor = MeshMatcapMaterial;\n\nMeshMatcapMaterial.prototype.isMeshMatcapMaterial = true;\n\nMeshMatcapMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.defines = { 'MATCAP': '' };\n\n\tthis.color.copy( source.color );\n\n\tthis.matcap = source.matcap;\n\n\tthis.map = source.map;\n\n\tthis.bumpMap = source.bumpMap;\n\tthis.bumpScale = source.bumpScale;\n\n\tthis.normalMap = source.normalMap;\n\tthis.normalMapType = source.normalMapType;\n\tthis.normalScale.copy( source.normalScale );\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\treturn this;\n\n};\n\n/**\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  linewidth: <float>,\n *\n *  scale: <float>,\n *  dashSize: <float>,\n *  gapSize: <float>\n * }\n */\n\nfunction LineDashedMaterial( parameters ) {\n\n\tLineBasicMaterial.call( this );\n\n\tthis.type = 'LineDashedMaterial';\n\n\tthis.scale = 1;\n\tthis.dashSize = 3;\n\tthis.gapSize = 1;\n\n\tthis.setValues( parameters );\n\n}\n\nLineDashedMaterial.prototype = Object.create( LineBasicMaterial.prototype );\nLineDashedMaterial.prototype.constructor = LineDashedMaterial;\n\nLineDashedMaterial.prototype.isLineDashedMaterial = true;\n\nLineDashedMaterial.prototype.copy = function ( source ) {\n\n\tLineBasicMaterial.prototype.copy.call( this, source );\n\n\tthis.scale = source.scale;\n\tthis.dashSize = source.dashSize;\n\tthis.gapSize = source.gapSize;\n\n\treturn this;\n\n};\n\nvar Materials = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tShadowMaterial: ShadowMaterial,\n\tSpriteMaterial: SpriteMaterial,\n\tRawShaderMaterial: RawShaderMaterial,\n\tShaderMaterial: ShaderMaterial,\n\tPointsMaterial: PointsMaterial,\n\tMeshPhysicalMaterial: MeshPhysicalMaterial,\n\tMeshStandardMaterial: MeshStandardMaterial,\n\tMeshPhongMaterial: MeshPhongMaterial,\n\tMeshToonMaterial: MeshToonMaterial,\n\tMeshNormalMaterial: MeshNormalMaterial,\n\tMeshLambertMaterial: MeshLambertMaterial,\n\tMeshDepthMaterial: MeshDepthMaterial,\n\tMeshDistanceMaterial: MeshDistanceMaterial,\n\tMeshBasicMaterial: MeshBasicMaterial,\n\tMeshMatcapMaterial: MeshMatcapMaterial,\n\tLineDashedMaterial: LineDashedMaterial,\n\tLineBasicMaterial: LineBasicMaterial,\n\tMaterial: Material\n});\n\nconst AnimationUtils = {\n\n\t// same as Array.prototype.slice, but also works on typed arrays\n\tarraySlice: function ( array, from, to ) {\n\n\t\tif ( AnimationUtils.isTypedArray( array ) ) {\n\n\t\t\t// in ios9 array.subarray(from, undefined) will return empty array\n\t\t\t// but array.subarray(from) or array.subarray(from, len) is correct\n\t\t\treturn new array.constructor( array.subarray( from, to !== undefined ? to : array.length ) );\n\n\t\t}\n\n\t\treturn array.slice( from, to );\n\n\t},\n\n\t// converts an array to a specific type\n\tconvertArray: function ( array, type, forceClone ) {\n\n\t\tif ( ! array || // let 'undefined' and 'null' pass\n\t\t\t! forceClone && array.constructor === type ) return array;\n\n\t\tif ( typeof type.BYTES_PER_ELEMENT === 'number' ) {\n\n\t\t\treturn new type( array ); // create typed array\n\n\t\t}\n\n\t\treturn Array.prototype.slice.call( array ); // create Array\n\n\t},\n\n\tisTypedArray: function ( object ) {\n\n\t\treturn ArrayBuffer.isView( object ) &&\n\t\t\t! ( object instanceof DataView );\n\n\t},\n\n\t// returns an array by which times and values can be sorted\n\tgetKeyframeOrder: function ( times ) {\n\n\t\tfunction compareTime( i, j ) {\n\n\t\t\treturn times[ i ] - times[ j ];\n\n\t\t}\n\n\t\tconst n = times.length;\n\t\tconst result = new Array( n );\n\t\tfor ( let i = 0; i !== n; ++ i ) result[ i ] = i;\n\n\t\tresult.sort( compareTime );\n\n\t\treturn result;\n\n\t},\n\n\t// uses the array previously returned by 'getKeyframeOrder' to sort data\n\tsortedArray: function ( values, stride, order ) {\n\n\t\tconst nValues = values.length;\n\t\tconst result = new values.constructor( nValues );\n\n\t\tfor ( let i = 0, dstOffset = 0; dstOffset !== nValues; ++ i ) {\n\n\t\t\tconst srcOffset = order[ i ] * stride;\n\n\t\t\tfor ( let j = 0; j !== stride; ++ j ) {\n\n\t\t\t\tresult[ dstOffset ++ ] = values[ srcOffset + j ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn result;\n\n\t},\n\n\t// function for parsing AOS keyframe formats\n\tflattenJSON: function ( jsonKeys, times, values, valuePropertyName ) {\n\n\t\tlet i = 1, key = jsonKeys[ 0 ];\n\n\t\twhile ( key !== undefined && key[ valuePropertyName ] === undefined ) {\n\n\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t}\n\n\t\tif ( key === undefined ) return; // no data\n\n\t\tlet value = key[ valuePropertyName ];\n\t\tif ( value === undefined ) return; // no data\n\n\t\tif ( Array.isArray( value ) ) {\n\n\t\t\tdo {\n\n\t\t\t\tvalue = key[ valuePropertyName ];\n\n\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\ttimes.push( key.time );\n\t\t\t\t\tvalues.push.apply( values, value ); // push all elements\n\n\t\t\t\t}\n\n\t\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t\t} while ( key !== undefined );\n\n\t\t} else if ( value.toArray !== undefined ) {\n\n\t\t\t// ...assume THREE.Math-ish\n\n\t\t\tdo {\n\n\t\t\t\tvalue = key[ valuePropertyName ];\n\n\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\ttimes.push( key.time );\n\t\t\t\t\tvalue.toArray( values, values.length );\n\n\t\t\t\t}\n\n\t\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t\t} while ( key !== undefined );\n\n\t\t} else {\n\n\t\t\t// otherwise push as-is\n\n\t\t\tdo {\n\n\t\t\t\tvalue = key[ valuePropertyName ];\n\n\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\ttimes.push( key.time );\n\t\t\t\t\tvalues.push( value );\n\n\t\t\t\t}\n\n\t\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t\t} while ( key !== undefined );\n\n\t\t}\n\n\t},\n\n\tsubclip: function ( sourceClip, name, startFrame, endFrame, fps ) {\n\n\t\tfps = fps || 30;\n\n\t\tconst clip = sourceClip.clone();\n\n\t\tclip.name = name;\n\n\t\tconst tracks = [];\n\n\t\tfor ( let i = 0; i < clip.tracks.length; ++ i ) {\n\n\t\t\tconst track = clip.tracks[ i ];\n\t\t\tconst valueSize = track.getValueSize();\n\n\t\t\tconst times = [];\n\t\t\tconst values = [];\n\n\t\t\tfor ( let j = 0; j < track.times.length; ++ j ) {\n\n\t\t\t\tconst frame = track.times[ j ] * fps;\n\n\t\t\t\tif ( frame < startFrame || frame >= endFrame ) continue;\n\n\t\t\t\ttimes.push( track.times[ j ] );\n\n\t\t\t\tfor ( let k = 0; k < valueSize; ++ k ) {\n\n\t\t\t\t\tvalues.push( track.values[ j * valueSize + k ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( times.length === 0 ) continue;\n\n\t\t\ttrack.times = AnimationUtils.convertArray( times, track.times.constructor );\n\t\t\ttrack.values = AnimationUtils.convertArray( values, track.values.constructor );\n\n\t\t\ttracks.push( track );\n\n\t\t}\n\n\t\tclip.tracks = tracks;\n\n\t\t// find minimum .times value across all tracks in the trimmed clip\n\n\t\tlet minStartTime = Infinity;\n\n\t\tfor ( let i = 0; i < clip.tracks.length; ++ i ) {\n\n\t\t\tif ( minStartTime > clip.tracks[ i ].times[ 0 ] ) {\n\n\t\t\t\tminStartTime = clip.tracks[ i ].times[ 0 ];\n\n\t\t\t}\n\n\t\t}\n\n\t\t// shift all tracks such that clip begins at t=0\n\n\t\tfor ( let i = 0; i < clip.tracks.length; ++ i ) {\n\n\t\t\tclip.tracks[ i ].shift( - 1 * minStartTime );\n\n\t\t}\n\n\t\tclip.resetDuration();\n\n\t\treturn clip;\n\n\t},\n\n\tmakeClipAdditive: function ( targetClip, referenceFrame, referenceClip, fps ) {\n\n\t\tif ( referenceFrame === undefined ) referenceFrame = 0;\n\t\tif ( referenceClip === undefined ) referenceClip = targetClip;\n\t\tif ( fps === undefined || fps <= 0 ) fps = 30;\n\n\t\tconst numTracks = referenceClip.tracks.length;\n\t\tconst referenceTime = referenceFrame / fps;\n\n\t\t// Make each track's values relative to the values at the reference frame\n\t\tfor ( let i = 0; i < numTracks; ++ i ) {\n\n\t\t\tconst referenceTrack = referenceClip.tracks[ i ];\n\t\t\tconst referenceTrackType = referenceTrack.ValueTypeName;\n\n\t\t\t// Skip this track if it's non-numeric\n\t\t\tif ( referenceTrackType === 'bool' || referenceTrackType === 'string' ) continue;\n\n\t\t\t// Find the track in the target clip whose name and type matches the reference track\n\t\t\tconst targetTrack = targetClip.tracks.find( function ( track ) {\n\n\t\t\t\treturn track.name === referenceTrack.name\n\t\t\t\t\t&& track.ValueTypeName === referenceTrackType;\n\n\t\t\t} );\n\n\t\t\tif ( targetTrack === undefined ) continue;\n\n\t\t\tlet referenceOffset = 0;\n\t\t\tconst referenceValueSize = referenceTrack.getValueSize();\n\n\t\t\tif ( referenceTrack.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline ) {\n\n\t\t\t\treferenceOffset = referenceValueSize / 3;\n\n\t\t\t}\n\n\t\t\tlet targetOffset = 0;\n\t\t\tconst targetValueSize = targetTrack.getValueSize();\n\n\t\t\tif ( targetTrack.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline ) {\n\n\t\t\t\ttargetOffset = targetValueSize / 3;\n\n\t\t\t}\n\n\t\t\tconst lastIndex = referenceTrack.times.length - 1;\n\t\t\tlet referenceValue;\n\n\t\t\t// Find the value to subtract out of the track\n\t\t\tif ( referenceTime <= referenceTrack.times[ 0 ] ) {\n\n\t\t\t\t// Reference frame is earlier than the first keyframe, so just use the first keyframe\n\t\t\t\tconst startIndex = referenceOffset;\n\t\t\t\tconst endIndex = referenceValueSize - referenceOffset;\n\t\t\t\treferenceValue = AnimationUtils.arraySlice( referenceTrack.values, startIndex, endIndex );\n\n\t\t\t} else if ( referenceTime >= referenceTrack.times[ lastIndex ] ) {\n\n\t\t\t\t// Reference frame is after the last keyframe, so just use the last keyframe\n\t\t\t\tconst startIndex = lastIndex * referenceValueSize + referenceOffset;\n\t\t\t\tconst endIndex = startIndex + referenceValueSize - referenceOffset;\n\t\t\t\treferenceValue = AnimationUtils.arraySlice( referenceTrack.values, startIndex, endIndex );\n\n\t\t\t} else {\n\n\t\t\t\t// Interpolate to the reference value\n\t\t\t\tconst interpolant = referenceTrack.createInterpolant();\n\t\t\t\tconst startIndex = referenceOffset;\n\t\t\t\tconst endIndex = referenceValueSize - referenceOffset;\n\t\t\t\tinterpolant.evaluate( referenceTime );\n\t\t\t\treferenceValue = AnimationUtils.arraySlice( interpolant.resultBuffer, startIndex, endIndex );\n\n\t\t\t}\n\n\t\t\t// Conjugate the quaternion\n\t\t\tif ( referenceTrackType === 'quaternion' ) {\n\n\t\t\t\tconst referenceQuat = new Quaternion().fromArray( referenceValue ).normalize().conjugate();\n\t\t\t\treferenceQuat.toArray( referenceValue );\n\n\t\t\t}\n\n\t\t\t// Subtract the reference value from all of the track values\n\n\t\t\tconst numTimes = targetTrack.times.length;\n\t\t\tfor ( let j = 0; j < numTimes; ++ j ) {\n\n\t\t\t\tconst valueStart = j * targetValueSize + targetOffset;\n\n\t\t\t\tif ( referenceTrackType === 'quaternion' ) {\n\n\t\t\t\t\t// Multiply the conjugate for quaternion track types\n\t\t\t\t\tQuaternion.multiplyQuaternionsFlat(\n\t\t\t\t\t\ttargetTrack.values,\n\t\t\t\t\t\tvalueStart,\n\t\t\t\t\t\treferenceValue,\n\t\t\t\t\t\t0,\n\t\t\t\t\t\ttargetTrack.values,\n\t\t\t\t\t\tvalueStart\n\t\t\t\t\t);\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconst valueEnd = targetValueSize - targetOffset * 2;\n\n\t\t\t\t\t// Subtract each value for all other numeric track types\n\t\t\t\t\tfor ( let k = 0; k < valueEnd; ++ k ) {\n\n\t\t\t\t\t\ttargetTrack.values[ valueStart + k ] -= referenceValue[ k ];\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\ttargetClip.blendMode = AdditiveAnimationBlendMode;\n\n\t\treturn targetClip;\n\n\t}\n\n};\n\n/**\n * Abstract base class of interpolants over parametric samples.\n *\n * The parameter domain is one dimensional, typically the time or a path\n * along a curve defined by the data.\n *\n * The sample values can have any dimensionality and derived classes may\n * apply special interpretations to the data.\n *\n * This class provides the interval seek in a Template Method, deferring\n * the actual interpolation to derived classes.\n *\n * Time complexity is O(1) for linear access crossing at most two points\n * and O(log N) for random access, where N is the number of positions.\n *\n * References:\n *\n * \t\thttp://www.oodesign.com/template-method-pattern.html\n *\n */\n\nfunction Interpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\tthis.parameterPositions = parameterPositions;\n\tthis._cachedIndex = 0;\n\n\tthis.resultBuffer = resultBuffer !== undefined ?\n\t\tresultBuffer : new sampleValues.constructor( sampleSize );\n\tthis.sampleValues = sampleValues;\n\tthis.valueSize = sampleSize;\n\n}\n\nObject.assign( Interpolant.prototype, {\n\n\tevaluate: function ( t ) {\n\n\t\tconst pp = this.parameterPositions;\n\t\tlet i1 = this._cachedIndex,\n\t\t\tt1 = pp[ i1 ],\n\t\t\tt0 = pp[ i1 - 1 ];\n\n\t\tvalidate_interval: {\n\n\t\t\tseek: {\n\n\t\t\t\tlet right;\n\n\t\t\t\tlinear_scan: {\n\n\t\t\t\t\t//- See http://jsperf.com/comparison-to-undefined/3\n\t\t\t\t\t//- slower code:\n\t\t\t\t\t//-\n\t\t\t\t\t//- \t\t\t\tif ( t >= t1 || t1 === undefined ) {\n\t\t\t\t\tforward_scan: if ( ! ( t < t1 ) ) {\n\n\t\t\t\t\t\tfor ( let giveUpAt = i1 + 2; ; ) {\n\n\t\t\t\t\t\t\tif ( t1 === undefined ) {\n\n\t\t\t\t\t\t\t\tif ( t < t0 ) break forward_scan;\n\n\t\t\t\t\t\t\t\t// after end\n\n\t\t\t\t\t\t\t\ti1 = pp.length;\n\t\t\t\t\t\t\t\tthis._cachedIndex = i1;\n\t\t\t\t\t\t\t\treturn this.afterEnd_( i1 - 1, t, t0 );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( i1 === giveUpAt ) break; // this loop\n\n\t\t\t\t\t\t\tt0 = t1;\n\t\t\t\t\t\t\tt1 = pp[ ++ i1 ];\n\n\t\t\t\t\t\t\tif ( t < t1 ) {\n\n\t\t\t\t\t\t\t\t// we have arrived at the sought interval\n\t\t\t\t\t\t\t\tbreak seek;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// prepare binary search on the right side of the index\n\t\t\t\t\t\tright = pp.length;\n\t\t\t\t\t\tbreak linear_scan;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t//- slower code:\n\t\t\t\t\t//-\t\t\t\t\tif ( t < t0 || t0 === undefined ) {\n\t\t\t\t\tif ( ! ( t >= t0 ) ) {\n\n\t\t\t\t\t\t// looping?\n\n\t\t\t\t\t\tconst t1global = pp[ 1 ];\n\n\t\t\t\t\t\tif ( t < t1global ) {\n\n\t\t\t\t\t\t\ti1 = 2; // + 1, using the scan for the details\n\t\t\t\t\t\t\tt0 = t1global;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// linear reverse scan\n\n\t\t\t\t\t\tfor ( let giveUpAt = i1 - 2; ; ) {\n\n\t\t\t\t\t\t\tif ( t0 === undefined ) {\n\n\t\t\t\t\t\t\t\t// before start\n\n\t\t\t\t\t\t\t\tthis._cachedIndex = 0;\n\t\t\t\t\t\t\t\treturn this.beforeStart_( 0, t, t1 );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( i1 === giveUpAt ) break; // this loop\n\n\t\t\t\t\t\t\tt1 = t0;\n\t\t\t\t\t\t\tt0 = pp[ -- i1 - 1 ];\n\n\t\t\t\t\t\t\tif ( t >= t0 ) {\n\n\t\t\t\t\t\t\t\t// we have arrived at the sought interval\n\t\t\t\t\t\t\t\tbreak seek;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// prepare binary search on the left side of the index\n\t\t\t\t\t\tright = i1;\n\t\t\t\t\t\ti1 = 0;\n\t\t\t\t\t\tbreak linear_scan;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// the interval is valid\n\n\t\t\t\t\tbreak validate_interval;\n\n\t\t\t\t} // linear scan\n\n\t\t\t\t// binary search\n\n\t\t\t\twhile ( i1 < right ) {\n\n\t\t\t\t\tconst mid = ( i1 + right ) >>> 1;\n\n\t\t\t\t\tif ( t < pp[ mid ] ) {\n\n\t\t\t\t\t\tright = mid;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\ti1 = mid + 1;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tt1 = pp[ i1 ];\n\t\t\t\tt0 = pp[ i1 - 1 ];\n\n\t\t\t\t// check boundary cases, again\n\n\t\t\t\tif ( t0 === undefined ) {\n\n\t\t\t\t\tthis._cachedIndex = 0;\n\t\t\t\t\treturn this.beforeStart_( 0, t, t1 );\n\n\t\t\t\t}\n\n\t\t\t\tif ( t1 === undefined ) {\n\n\t\t\t\t\ti1 = pp.length;\n\t\t\t\t\tthis._cachedIndex = i1;\n\t\t\t\t\treturn this.afterEnd_( i1 - 1, t0, t );\n\n\t\t\t\t}\n\n\t\t\t} // seek\n\n\t\t\tthis._cachedIndex = i1;\n\n\t\t\tthis.intervalChanged_( i1, t0, t1 );\n\n\t\t} // validate_interval\n\n\t\treturn this.interpolate_( i1, t0, t, t1 );\n\n\t},\n\n\tsettings: null, // optional, subclass-specific settings structure\n\t// Note: The indirection allows central control of many interpolants.\n\n\t// --- Protected interface\n\n\tDefaultSettings_: {},\n\n\tgetSettings_: function () {\n\n\t\treturn this.settings || this.DefaultSettings_;\n\n\t},\n\n\tcopySampleValue_: function ( index ) {\n\n\t\t// copies a sample value to the result buffer\n\n\t\tconst result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\t\t\toffset = index * stride;\n\n\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\tresult[ i ] = values[ offset + i ];\n\n\t\t}\n\n\t\treturn result;\n\n\t},\n\n\t// Template methods for derived classes:\n\n\tinterpolate_: function ( /* i1, t0, t, t1 */ ) {\n\n\t\tthrow new Error( 'call to abstract method' );\n\t\t// implementations shall return this.resultBuffer\n\n\t},\n\n\tintervalChanged_: function ( /* i1, t0, t1 */ ) {\n\n\t\t// empty\n\n\t}\n\n} );\n\n// DECLARE ALIAS AFTER assign prototype\nObject.assign( Interpolant.prototype, {\n\n\t//( 0, t, t0 ), returns this.resultBuffer\n\tbeforeStart_: Interpolant.prototype.copySampleValue_,\n\n\t//( N-1, tN-1, t ), returns this.resultBuffer\n\tafterEnd_: Interpolant.prototype.copySampleValue_,\n\n} );\n\n/**\n * Fast and simple cubic spline interpolant.\n *\n * It was derived from a Hermitian construction setting the first derivative\n * at each sample position to the linear slope between neighboring positions\n * over their parameter interval.\n */\n\nfunction CubicInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n\tthis._weightPrev = - 0;\n\tthis._offsetPrev = - 0;\n\tthis._weightNext = - 0;\n\tthis._offsetNext = - 0;\n\n}\n\nCubicInterpolant.prototype = Object.assign( Object.create( Interpolant.prototype ), {\n\n\tconstructor: CubicInterpolant,\n\n\tDefaultSettings_: {\n\n\t\tendingStart: ZeroCurvatureEnding,\n\t\tendingEnd: ZeroCurvatureEnding\n\n\t},\n\n\tintervalChanged_: function ( i1, t0, t1 ) {\n\n\t\tconst pp = this.parameterPositions;\n\t\tlet iPrev = i1 - 2,\n\t\t\tiNext = i1 + 1,\n\n\t\t\ttPrev = pp[ iPrev ],\n\t\t\ttNext = pp[ iNext ];\n\n\t\tif ( tPrev === undefined ) {\n\n\t\t\tswitch ( this.getSettings_().endingStart ) {\n\n\t\t\t\tcase ZeroSlopeEnding:\n\n\t\t\t\t\t// f'(t0) = 0\n\t\t\t\t\tiPrev = i1;\n\t\t\t\t\ttPrev = 2 * t0 - t1;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase WrapAroundEnding:\n\n\t\t\t\t\t// use the other end of the curve\n\t\t\t\t\tiPrev = pp.length - 2;\n\t\t\t\t\ttPrev = t0 + pp[ iPrev ] - pp[ iPrev + 1 ];\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault: // ZeroCurvatureEnding\n\n\t\t\t\t\t// f''(t0) = 0 a.k.a. Natural Spline\n\t\t\t\t\tiPrev = i1;\n\t\t\t\t\ttPrev = t1;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( tNext === undefined ) {\n\n\t\t\tswitch ( this.getSettings_().endingEnd ) {\n\n\t\t\t\tcase ZeroSlopeEnding:\n\n\t\t\t\t\t// f'(tN) = 0\n\t\t\t\t\tiNext = i1;\n\t\t\t\t\ttNext = 2 * t1 - t0;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase WrapAroundEnding:\n\n\t\t\t\t\t// use the other end of the curve\n\t\t\t\t\tiNext = 1;\n\t\t\t\t\ttNext = t1 + pp[ 1 ] - pp[ 0 ];\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault: // ZeroCurvatureEnding\n\n\t\t\t\t\t// f''(tN) = 0, a.k.a. Natural Spline\n\t\t\t\t\tiNext = i1 - 1;\n\t\t\t\t\ttNext = t0;\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst halfDt = ( t1 - t0 ) * 0.5,\n\t\t\tstride = this.valueSize;\n\n\t\tthis._weightPrev = halfDt / ( t0 - tPrev );\n\t\tthis._weightNext = halfDt / ( tNext - t1 );\n\t\tthis._offsetPrev = iPrev * stride;\n\t\tthis._offsetNext = iNext * stride;\n\n\t},\n\n\tinterpolate_: function ( i1, t0, t, t1 ) {\n\n\t\tconst result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\n\t\t\to1 = i1 * stride,\t\to0 = o1 - stride,\n\t\t\toP = this._offsetPrev, \toN = this._offsetNext,\n\t\t\twP = this._weightPrev,\twN = this._weightNext,\n\n\t\t\tp = ( t - t0 ) / ( t1 - t0 ),\n\t\t\tpp = p * p,\n\t\t\tppp = pp * p;\n\n\t\t// evaluate polynomials\n\n\t\tconst sP = - wP * ppp + 2 * wP * pp - wP * p;\n\t\tconst s0 = ( 1 + wP ) * ppp + ( - 1.5 - 2 * wP ) * pp + ( - 0.5 + wP ) * p + 1;\n\t\tconst s1 = ( - 1 - wN ) * ppp + ( 1.5 + wN ) * pp + 0.5 * p;\n\t\tconst sN = wN * ppp - wN * pp;\n\n\t\t// combine data linearly\n\n\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\tresult[ i ] =\n\t\t\t\t\tsP * values[ oP + i ] +\n\t\t\t\t\ts0 * values[ o0 + i ] +\n\t\t\t\t\ts1 * values[ o1 + i ] +\n\t\t\t\t\tsN * values[ oN + i ];\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n} );\n\nfunction LinearInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n}\n\nLinearInterpolant.prototype = Object.assign( Object.create( Interpolant.prototype ), {\n\n\tconstructor: LinearInterpolant,\n\n\tinterpolate_: function ( i1, t0, t, t1 ) {\n\n\t\tconst result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\n\t\t\toffset1 = i1 * stride,\n\t\t\toffset0 = offset1 - stride,\n\n\t\t\tweight1 = ( t - t0 ) / ( t1 - t0 ),\n\t\t\tweight0 = 1 - weight1;\n\n\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\tresult[ i ] =\n\t\t\t\t\tvalues[ offset0 + i ] * weight0 +\n\t\t\t\t\tvalues[ offset1 + i ] * weight1;\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n} );\n\n/**\n *\n * Interpolant that evaluates to the sample value at the position preceeding\n * the parameter.\n */\n\nfunction DiscreteInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n}\n\nDiscreteInterpolant.prototype = Object.assign( Object.create( Interpolant.prototype ), {\n\n\tconstructor: DiscreteInterpolant,\n\n\tinterpolate_: function ( i1 /*, t0, t, t1 */ ) {\n\n\t\treturn this.copySampleValue_( i1 - 1 );\n\n\t}\n\n} );\n\nfunction KeyframeTrack( name, times, values, interpolation ) {\n\n\tif ( name === undefined ) throw new Error( 'THREE.KeyframeTrack: track name is undefined' );\n\tif ( times === undefined || times.length === 0 ) throw new Error( 'THREE.KeyframeTrack: no keyframes in track named ' + name );\n\n\tthis.name = name;\n\n\tthis.times = AnimationUtils.convertArray( times, this.TimeBufferType );\n\tthis.values = AnimationUtils.convertArray( values, this.ValueBufferType );\n\n\tthis.setInterpolation( interpolation || this.DefaultInterpolation );\n\n}\n\n// Static methods\n\nObject.assign( KeyframeTrack, {\n\n\t// Serialization (in static context, because of constructor invocation\n\t// and automatic invocation of .toJSON):\n\n\ttoJSON: function ( track ) {\n\n\t\tconst trackType = track.constructor;\n\n\t\tlet json;\n\n\t\t// derived classes can define a static toJSON method\n\t\tif ( trackType.toJSON !== undefined ) {\n\n\t\t\tjson = trackType.toJSON( track );\n\n\t\t} else {\n\n\t\t\t// by default, we assume the data can be serialized as-is\n\t\t\tjson = {\n\n\t\t\t\t'name': track.name,\n\t\t\t\t'times': AnimationUtils.convertArray( track.times, Array ),\n\t\t\t\t'values': AnimationUtils.convertArray( track.values, Array )\n\n\t\t\t};\n\n\t\t\tconst interpolation = track.getInterpolation();\n\n\t\t\tif ( interpolation !== track.DefaultInterpolation ) {\n\n\t\t\t\tjson.interpolation = interpolation;\n\n\t\t\t}\n\n\t\t}\n\n\t\tjson.type = track.ValueTypeName; // mandatory\n\n\t\treturn json;\n\n\t}\n\n} );\n\nObject.assign( KeyframeTrack.prototype, {\n\n\tconstructor: KeyframeTrack,\n\n\tTimeBufferType: Float32Array,\n\n\tValueBufferType: Float32Array,\n\n\tDefaultInterpolation: InterpolateLinear,\n\n\tInterpolantFactoryMethodDiscrete: function ( result ) {\n\n\t\treturn new DiscreteInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t},\n\n\tInterpolantFactoryMethodLinear: function ( result ) {\n\n\t\treturn new LinearInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t},\n\n\tInterpolantFactoryMethodSmooth: function ( result ) {\n\n\t\treturn new CubicInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t},\n\n\tsetInterpolation: function ( interpolation ) {\n\n\t\tlet factoryMethod;\n\n\t\tswitch ( interpolation ) {\n\n\t\t\tcase InterpolateDiscrete:\n\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodDiscrete;\n\n\t\t\t\tbreak;\n\n\t\t\tcase InterpolateLinear:\n\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodLinear;\n\n\t\t\t\tbreak;\n\n\t\t\tcase InterpolateSmooth:\n\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodSmooth;\n\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tif ( factoryMethod === undefined ) {\n\n\t\t\tconst message = \"unsupported interpolation for \" +\n\t\t\t\tthis.ValueTypeName + \" keyframe track named \" + this.name;\n\n\t\t\tif ( this.createInterpolant === undefined ) {\n\n\t\t\t\t// fall back to default, unless the default itself is messed up\n\t\t\t\tif ( interpolation !== this.DefaultInterpolation ) {\n\n\t\t\t\t\tthis.setInterpolation( this.DefaultInterpolation );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthrow new Error( message ); // fatal, in this case\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconsole.warn( 'THREE.KeyframeTrack:', message );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tthis.createInterpolant = factoryMethod;\n\n\t\treturn this;\n\n\t},\n\n\tgetInterpolation: function () {\n\n\t\tswitch ( this.createInterpolant ) {\n\n\t\t\tcase this.InterpolantFactoryMethodDiscrete:\n\n\t\t\t\treturn InterpolateDiscrete;\n\n\t\t\tcase this.InterpolantFactoryMethodLinear:\n\n\t\t\t\treturn InterpolateLinear;\n\n\t\t\tcase this.InterpolantFactoryMethodSmooth:\n\n\t\t\t\treturn InterpolateSmooth;\n\n\t\t}\n\n\t},\n\n\tgetValueSize: function () {\n\n\t\treturn this.values.length / this.times.length;\n\n\t},\n\n\t// move all keyframes either forwards or backwards in time\n\tshift: function ( timeOffset ) {\n\n\t\tif ( timeOffset !== 0.0 ) {\n\n\t\t\tconst times = this.times;\n\n\t\t\tfor ( let i = 0, n = times.length; i !== n; ++ i ) {\n\n\t\t\t\ttimes[ i ] += timeOffset;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// scale all keyframe times by a factor (useful for frame <-> seconds conversions)\n\tscale: function ( timeScale ) {\n\n\t\tif ( timeScale !== 1.0 ) {\n\n\t\t\tconst times = this.times;\n\n\t\t\tfor ( let i = 0, n = times.length; i !== n; ++ i ) {\n\n\t\t\t\ttimes[ i ] *= timeScale;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// removes keyframes before and after animation without changing any values within the range [startTime, endTime].\n\t// IMPORTANT: We do not shift around keys to the start of the track time, because for interpolated keys this will change their values\n\ttrim: function ( startTime, endTime ) {\n\n\t\tconst times = this.times,\n\t\t\tnKeys = times.length;\n\n\t\tlet from = 0,\n\t\t\tto = nKeys - 1;\n\n\t\twhile ( from !== nKeys && times[ from ] < startTime ) {\n\n\t\t\t++ from;\n\n\t\t}\n\n\t\twhile ( to !== - 1 && times[ to ] > endTime ) {\n\n\t\t\t-- to;\n\n\t\t}\n\n\t\t++ to; // inclusive -> exclusive bound\n\n\t\tif ( from !== 0 || to !== nKeys ) {\n\n\t\t\t// empty tracks are forbidden, so keep at least one keyframe\n\t\t\tif ( from >= to ) {\n\n\t\t\t\tto = Math.max( to, 1 );\n\t\t\t\tfrom = to - 1;\n\n\t\t\t}\n\n\t\t\tconst stride = this.getValueSize();\n\t\t\tthis.times = AnimationUtils.arraySlice( times, from, to );\n\t\t\tthis.values = AnimationUtils.arraySlice( this.values, from * stride, to * stride );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// ensure we do not get a GarbageInGarbageOut situation, make sure tracks are at least minimally viable\n\tvalidate: function () {\n\n\t\tlet valid = true;\n\n\t\tconst valueSize = this.getValueSize();\n\t\tif ( valueSize - Math.floor( valueSize ) !== 0 ) {\n\n\t\t\tconsole.error( 'THREE.KeyframeTrack: Invalid value size in track.', this );\n\t\t\tvalid = false;\n\n\t\t}\n\n\t\tconst times = this.times,\n\t\t\tvalues = this.values,\n\n\t\t\tnKeys = times.length;\n\n\t\tif ( nKeys === 0 ) {\n\n\t\t\tconsole.error( 'THREE.KeyframeTrack: Track is empty.', this );\n\t\t\tvalid = false;\n\n\t\t}\n\n\t\tlet prevTime = null;\n\n\t\tfor ( let i = 0; i !== nKeys; i ++ ) {\n\n\t\t\tconst currTime = times[ i ];\n\n\t\t\tif ( typeof currTime === 'number' && isNaN( currTime ) ) {\n\n\t\t\t\tconsole.error( 'THREE.KeyframeTrack: Time is not a valid number.', this, i, currTime );\n\t\t\t\tvalid = false;\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tif ( prevTime !== null && prevTime > currTime ) {\n\n\t\t\t\tconsole.error( 'THREE.KeyframeTrack: Out of order keys.', this, i, currTime, prevTime );\n\t\t\t\tvalid = false;\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tprevTime = currTime;\n\n\t\t}\n\n\t\tif ( values !== undefined ) {\n\n\t\t\tif ( AnimationUtils.isTypedArray( values ) ) {\n\n\t\t\t\tfor ( let i = 0, n = values.length; i !== n; ++ i ) {\n\n\t\t\t\t\tconst value = values[ i ];\n\n\t\t\t\t\tif ( isNaN( value ) ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.KeyframeTrack: Value is not a valid number.', this, i, value );\n\t\t\t\t\t\tvalid = false;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn valid;\n\n\t},\n\n\t// removes equivalent sequential keys as common in morph target sequences\n\t// (0,0,0,0,1,1,1,0,0,0,0,0,0,0) --> (0,0,1,1,0,0)\n\toptimize: function () {\n\n\t\t// times or values may be shared with other tracks, so overwriting is unsafe\n\t\tconst times = AnimationUtils.arraySlice( this.times ),\n\t\t\tvalues = AnimationUtils.arraySlice( this.values ),\n\t\t\tstride = this.getValueSize(),\n\n\t\t\tsmoothInterpolation = this.getInterpolation() === InterpolateSmooth,\n\n\t\t\tlastIndex = times.length - 1;\n\n\t\tlet writeIndex = 1;\n\n\t\tfor ( let i = 1; i < lastIndex; ++ i ) {\n\n\t\t\tlet keep = false;\n\n\t\t\tconst time = times[ i ];\n\t\t\tconst timeNext = times[ i + 1 ];\n\n\t\t\t// remove adjacent keyframes scheduled at the same time\n\n\t\t\tif ( time !== timeNext && ( i !== 1 || time !== time[ 0 ] ) ) {\n\n\t\t\t\tif ( ! smoothInterpolation ) {\n\n\t\t\t\t\t// remove unnecessary keyframes same as their neighbors\n\n\t\t\t\t\tconst offset = i * stride,\n\t\t\t\t\t\toffsetP = offset - stride,\n\t\t\t\t\t\toffsetN = offset + stride;\n\n\t\t\t\t\tfor ( let j = 0; j !== stride; ++ j ) {\n\n\t\t\t\t\t\tconst value = values[ offset + j ];\n\n\t\t\t\t\t\tif ( value !== values[ offsetP + j ] ||\n\t\t\t\t\t\t\tvalue !== values[ offsetN + j ] ) {\n\n\t\t\t\t\t\t\tkeep = true;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tkeep = true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// in-place compaction\n\n\t\t\tif ( keep ) {\n\n\t\t\t\tif ( i !== writeIndex ) {\n\n\t\t\t\t\ttimes[ writeIndex ] = times[ i ];\n\n\t\t\t\t\tconst readOffset = i * stride,\n\t\t\t\t\t\twriteOffset = writeIndex * stride;\n\n\t\t\t\t\tfor ( let j = 0; j !== stride; ++ j ) {\n\n\t\t\t\t\t\tvalues[ writeOffset + j ] = values[ readOffset + j ];\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t++ writeIndex;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// flush last keyframe (compaction looks ahead)\n\n\t\tif ( lastIndex > 0 ) {\n\n\t\t\ttimes[ writeIndex ] = times[ lastIndex ];\n\n\t\t\tfor ( let readOffset = lastIndex * stride, writeOffset = writeIndex * stride, j = 0; j !== stride; ++ j ) {\n\n\t\t\t\tvalues[ writeOffset + j ] = values[ readOffset + j ];\n\n\t\t\t}\n\n\t\t\t++ writeIndex;\n\n\t\t}\n\n\t\tif ( writeIndex !== times.length ) {\n\n\t\t\tthis.times = AnimationUtils.arraySlice( times, 0, writeIndex );\n\t\t\tthis.values = AnimationUtils.arraySlice( values, 0, writeIndex * stride );\n\n\t\t} else {\n\n\t\t\tthis.times = times;\n\t\t\tthis.values = values;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\tconst times = AnimationUtils.arraySlice( this.times, 0 );\n\t\tconst values = AnimationUtils.arraySlice( this.values, 0 );\n\n\t\tconst TypedKeyframeTrack = this.constructor;\n\t\tconst track = new TypedKeyframeTrack( this.name, times, values );\n\n\t\t// Interpolant argument to constructor is not saved, so copy the factory method directly.\n\t\ttrack.createInterpolant = this.createInterpolant;\n\n\t\treturn track;\n\n\t}\n\n} );\n\n/**\n * A Track of Boolean keyframe values.\n */\n\nfunction BooleanKeyframeTrack( name, times, values ) {\n\n\tKeyframeTrack.call( this, name, times, values );\n\n}\n\nBooleanKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\n\n\tconstructor: BooleanKeyframeTrack,\n\n\tValueTypeName: 'bool',\n\tValueBufferType: Array,\n\n\tDefaultInterpolation: InterpolateDiscrete,\n\n\tInterpolantFactoryMethodLinear: undefined,\n\tInterpolantFactoryMethodSmooth: undefined\n\n\t// Note: Actually this track could have a optimized / compressed\n\t// representation of a single value and a custom interpolant that\n\t// computes \"firstValue ^ isOdd( index )\".\n\n} );\n\n/**\n * A Track of keyframe values that represent color.\n */\n\nfunction ColorKeyframeTrack( name, times, values, interpolation ) {\n\n\tKeyframeTrack.call( this, name, times, values, interpolation );\n\n}\n\nColorKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\n\n\tconstructor: ColorKeyframeTrack,\n\n\tValueTypeName: 'color'\n\n\t// ValueBufferType is inherited\n\n\t// DefaultInterpolation is inherited\n\n\t// Note: Very basic implementation and nothing special yet.\n\t// However, this is the place for color space parameterization.\n\n} );\n\n/**\n * A Track of numeric keyframe values.\n */\n\nfunction NumberKeyframeTrack( name, times, values, interpolation ) {\n\n\tKeyframeTrack.call( this, name, times, values, interpolation );\n\n}\n\nNumberKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\n\n\tconstructor: NumberKeyframeTrack,\n\n\tValueTypeName: 'number'\n\n\t// ValueBufferType is inherited\n\n\t// DefaultInterpolation is inherited\n\n} );\n\n/**\n * Spherical linear unit quaternion interpolant.\n */\n\nfunction QuaternionLinearInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n}\n\nQuaternionLinearInterpolant.prototype = Object.assign( Object.create( Interpolant.prototype ), {\n\n\tconstructor: QuaternionLinearInterpolant,\n\n\tinterpolate_: function ( i1, t0, t, t1 ) {\n\n\t\tconst result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\n\t\t\talpha = ( t - t0 ) / ( t1 - t0 );\n\n\t\tlet offset = i1 * stride;\n\n\t\tfor ( let end = offset + stride; offset !== end; offset += 4 ) {\n\n\t\t\tQuaternion.slerpFlat( result, 0, values, offset - stride, values, offset, alpha );\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n} );\n\n/**\n * A Track of quaternion keyframe values.\n */\n\nfunction QuaternionKeyframeTrack( name, times, values, interpolation ) {\n\n\tKeyframeTrack.call( this, name, times, values, interpolation );\n\n}\n\nQuaternionKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\n\n\tconstructor: QuaternionKeyframeTrack,\n\n\tValueTypeName: 'quaternion',\n\n\t// ValueBufferType is inherited\n\n\tDefaultInterpolation: InterpolateLinear,\n\n\tInterpolantFactoryMethodLinear: function ( result ) {\n\n\t\treturn new QuaternionLinearInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t},\n\n\tInterpolantFactoryMethodSmooth: undefined // not yet implemented\n\n} );\n\n/**\n * A Track that interpolates Strings\n */\n\nfunction StringKeyframeTrack( name, times, values, interpolation ) {\n\n\tKeyframeTrack.call( this, name, times, values, interpolation );\n\n}\n\nStringKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\n\n\tconstructor: StringKeyframeTrack,\n\n\tValueTypeName: 'string',\n\tValueBufferType: Array,\n\n\tDefaultInterpolation: InterpolateDiscrete,\n\n\tInterpolantFactoryMethodLinear: undefined,\n\n\tInterpolantFactoryMethodSmooth: undefined\n\n} );\n\n/**\n * A Track of vectored keyframe values.\n */\n\nfunction VectorKeyframeTrack( name, times, values, interpolation ) {\n\n\tKeyframeTrack.call( this, name, times, values, interpolation );\n\n}\n\nVectorKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\n\n\tconstructor: VectorKeyframeTrack,\n\n\tValueTypeName: 'vector'\n\n\t// ValueBufferType is inherited\n\n\t// DefaultInterpolation is inherited\n\n} );\n\nfunction AnimationClip( name, duration, tracks, blendMode ) {\n\n\tthis.name = name;\n\tthis.tracks = tracks;\n\tthis.duration = ( duration !== undefined ) ? duration : - 1;\n\tthis.blendMode = ( blendMode !== undefined ) ? blendMode : NormalAnimationBlendMode;\n\n\tthis.uuid = MathUtils.generateUUID();\n\n\t// this means it should figure out its duration by scanning the tracks\n\tif ( this.duration < 0 ) {\n\n\t\tthis.resetDuration();\n\n\t}\n\n}\n\nfunction getTrackTypeForValueTypeName( typeName ) {\n\n\tswitch ( typeName.toLowerCase() ) {\n\n\t\tcase 'scalar':\n\t\tcase 'double':\n\t\tcase 'float':\n\t\tcase 'number':\n\t\tcase 'integer':\n\n\t\t\treturn NumberKeyframeTrack;\n\n\t\tcase 'vector':\n\t\tcase 'vector2':\n\t\tcase 'vector3':\n\t\tcase 'vector4':\n\n\t\t\treturn VectorKeyframeTrack;\n\n\t\tcase 'color':\n\n\t\t\treturn ColorKeyframeTrack;\n\n\t\tcase 'quaternion':\n\n\t\t\treturn QuaternionKeyframeTrack;\n\n\t\tcase 'bool':\n\t\tcase 'boolean':\n\n\t\t\treturn BooleanKeyframeTrack;\n\n\t\tcase 'string':\n\n\t\t\treturn StringKeyframeTrack;\n\n\t}\n\n\tthrow new Error( 'THREE.KeyframeTrack: Unsupported typeName: ' + typeName );\n\n}\n\nfunction parseKeyframeTrack( json ) {\n\n\tif ( json.type === undefined ) {\n\n\t\tthrow new Error( 'THREE.KeyframeTrack: track type undefined, can not parse' );\n\n\t}\n\n\tconst trackType = getTrackTypeForValueTypeName( json.type );\n\n\tif ( json.times === undefined ) {\n\n\t\tconst times = [], values = [];\n\n\t\tAnimationUtils.flattenJSON( json.keys, times, values, 'value' );\n\n\t\tjson.times = times;\n\t\tjson.values = values;\n\n\t}\n\n\t// derived classes can define a static parse method\n\tif ( trackType.parse !== undefined ) {\n\n\t\treturn trackType.parse( json );\n\n\t} else {\n\n\t\t// by default, we assume a constructor compatible with the base\n\t\treturn new trackType( json.name, json.times, json.values, json.interpolation );\n\n\t}\n\n}\n\nObject.assign( AnimationClip, {\n\n\tparse: function ( json ) {\n\n\t\tconst tracks = [],\n\t\t\tjsonTracks = json.tracks,\n\t\t\tframeTime = 1.0 / ( json.fps || 1.0 );\n\n\t\tfor ( let i = 0, n = jsonTracks.length; i !== n; ++ i ) {\n\n\t\t\ttracks.push( parseKeyframeTrack( jsonTracks[ i ] ).scale( frameTime ) );\n\n\t\t}\n\n\t\treturn new AnimationClip( json.name, json.duration, tracks, json.blendMode );\n\n\t},\n\n\ttoJSON: function ( clip ) {\n\n\t\tconst tracks = [],\n\t\t\tclipTracks = clip.tracks;\n\n\t\tconst json = {\n\n\t\t\t'name': clip.name,\n\t\t\t'duration': clip.duration,\n\t\t\t'tracks': tracks,\n\t\t\t'uuid': clip.uuid,\n\t\t\t'blendMode': clip.blendMode\n\n\t\t};\n\n\t\tfor ( let i = 0, n = clipTracks.length; i !== n; ++ i ) {\n\n\t\t\ttracks.push( KeyframeTrack.toJSON( clipTracks[ i ] ) );\n\n\t\t}\n\n\t\treturn json;\n\n\t},\n\n\tCreateFromMorphTargetSequence: function ( name, morphTargetSequence, fps, noLoop ) {\n\n\t\tconst numMorphTargets = morphTargetSequence.length;\n\t\tconst tracks = [];\n\n\t\tfor ( let i = 0; i < numMorphTargets; i ++ ) {\n\n\t\t\tlet times = [];\n\t\t\tlet values = [];\n\n\t\t\ttimes.push(\n\t\t\t\t( i + numMorphTargets - 1 ) % numMorphTargets,\n\t\t\t\ti,\n\t\t\t\t( i + 1 ) % numMorphTargets );\n\n\t\t\tvalues.push( 0, 1, 0 );\n\n\t\t\tconst order = AnimationUtils.getKeyframeOrder( times );\n\t\t\ttimes = AnimationUtils.sortedArray( times, 1, order );\n\t\t\tvalues = AnimationUtils.sortedArray( values, 1, order );\n\n\t\t\t// if there is a key at the first frame, duplicate it as the\n\t\t\t// last frame as well for perfect loop.\n\t\t\tif ( ! noLoop && times[ 0 ] === 0 ) {\n\n\t\t\t\ttimes.push( numMorphTargets );\n\t\t\t\tvalues.push( values[ 0 ] );\n\n\t\t\t}\n\n\t\t\ttracks.push(\n\t\t\t\tnew NumberKeyframeTrack(\n\t\t\t\t\t'.morphTargetInfluences[' + morphTargetSequence[ i ].name + ']',\n\t\t\t\t\ttimes, values\n\t\t\t\t).scale( 1.0 / fps ) );\n\n\t\t}\n\n\t\treturn new AnimationClip( name, - 1, tracks );\n\n\t},\n\n\tfindByName: function ( objectOrClipArray, name ) {\n\n\t\tlet clipArray = objectOrClipArray;\n\n\t\tif ( ! Array.isArray( objectOrClipArray ) ) {\n\n\t\t\tconst o = objectOrClipArray;\n\t\t\tclipArray = o.geometry && o.geometry.animations || o.animations;\n\n\t\t}\n\n\t\tfor ( let i = 0; i < clipArray.length; i ++ ) {\n\n\t\t\tif ( clipArray[ i ].name === name ) {\n\n\t\t\t\treturn clipArray[ i ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn null;\n\n\t},\n\n\tCreateClipsFromMorphTargetSequences: function ( morphTargets, fps, noLoop ) {\n\n\t\tconst animationToMorphTargets = {};\n\n\t\t// tested with https://regex101.com/ on trick sequences\n\t\t// such flamingo_flyA_003, flamingo_run1_003, crdeath0059\n\t\tconst pattern = /^([\\w-]*?)([\\d]+)$/;\n\n\t\t// sort morph target names into animation groups based\n\t\t// patterns like Walk_001, Walk_002, Run_001, Run_002\n\t\tfor ( let i = 0, il = morphTargets.length; i < il; i ++ ) {\n\n\t\t\tconst morphTarget = morphTargets[ i ];\n\t\t\tconst parts = morphTarget.name.match( pattern );\n\n\t\t\tif ( parts && parts.length > 1 ) {\n\n\t\t\t\tconst name = parts[ 1 ];\n\n\t\t\t\tlet animationMorphTargets = animationToMorphTargets[ name ];\n\n\t\t\t\tif ( ! animationMorphTargets ) {\n\n\t\t\t\t\tanimationToMorphTargets[ name ] = animationMorphTargets = [];\n\n\t\t\t\t}\n\n\t\t\t\tanimationMorphTargets.push( morphTarget );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst clips = [];\n\n\t\tfor ( const name in animationToMorphTargets ) {\n\n\t\t\tclips.push( AnimationClip.CreateFromMorphTargetSequence( name, animationToMorphTargets[ name ], fps, noLoop ) );\n\n\t\t}\n\n\t\treturn clips;\n\n\t},\n\n\t// parse the animation.hierarchy format\n\tparseAnimation: function ( animation, bones ) {\n\n\t\tif ( ! animation ) {\n\n\t\t\tconsole.error( 'THREE.AnimationClip: No animation in JSONLoader data.' );\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst addNonemptyTrack = function ( trackType, trackName, animationKeys, propertyName, destTracks ) {\n\n\t\t\t// only return track if there are actually keys.\n\t\t\tif ( animationKeys.length !== 0 ) {\n\n\t\t\t\tconst times = [];\n\t\t\t\tconst values = [];\n\n\t\t\t\tAnimationUtils.flattenJSON( animationKeys, times, values, propertyName );\n\n\t\t\t\t// empty keys are filtered out, so check again\n\t\t\t\tif ( times.length !== 0 ) {\n\n\t\t\t\t\tdestTracks.push( new trackType( trackName, times, values ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t\tconst tracks = [];\n\n\t\tconst clipName = animation.name || 'default';\n\t\tconst fps = animation.fps || 30;\n\t\tconst blendMode = animation.blendMode;\n\n\t\t// automatic length determination in AnimationClip.\n\t\tlet duration = animation.length || - 1;\n\n\t\tconst hierarchyTracks = animation.hierarchy || [];\n\n\t\tfor ( let h = 0; h < hierarchyTracks.length; h ++ ) {\n\n\t\t\tconst animationKeys = hierarchyTracks[ h ].keys;\n\n\t\t\t// skip empty tracks\n\t\t\tif ( ! animationKeys || animationKeys.length === 0 ) continue;\n\n\t\t\t// process morph targets\n\t\t\tif ( animationKeys[ 0 ].morphTargets ) {\n\n\t\t\t\t// figure out all morph targets used in this track\n\t\t\t\tconst morphTargetNames = {};\n\n\t\t\t\tlet k;\n\n\t\t\t\tfor ( k = 0; k < animationKeys.length; k ++ ) {\n\n\t\t\t\t\tif ( animationKeys[ k ].morphTargets ) {\n\n\t\t\t\t\t\tfor ( let m = 0; m < animationKeys[ k ].morphTargets.length; m ++ ) {\n\n\t\t\t\t\t\t\tmorphTargetNames[ animationKeys[ k ].morphTargets[ m ] ] = - 1;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// create a track for each morph target with all zero\n\t\t\t\t// morphTargetInfluences except for the keys in which\n\t\t\t\t// the morphTarget is named.\n\t\t\t\tfor ( const morphTargetName in morphTargetNames ) {\n\n\t\t\t\t\tconst times = [];\n\t\t\t\t\tconst values = [];\n\n\t\t\t\t\tfor ( let m = 0; m !== animationKeys[ k ].morphTargets.length; ++ m ) {\n\n\t\t\t\t\t\tconst animationKey = animationKeys[ k ];\n\n\t\t\t\t\t\ttimes.push( animationKey.time );\n\t\t\t\t\t\tvalues.push( ( animationKey.morphTarget === morphTargetName ) ? 1 : 0 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttracks.push( new NumberKeyframeTrack( '.morphTargetInfluence[' + morphTargetName + ']', times, values ) );\n\n\t\t\t\t}\n\n\t\t\t\tduration = morphTargetNames.length * ( fps || 1.0 );\n\n\t\t\t} else {\n\n\t\t\t\t// ...assume skeletal animation\n\n\t\t\t\tconst boneName = '.bones[' + bones[ h ].name + ']';\n\n\t\t\t\taddNonemptyTrack(\n\t\t\t\t\tVectorKeyframeTrack, boneName + '.position',\n\t\t\t\t\tanimationKeys, 'pos', tracks );\n\n\t\t\t\taddNonemptyTrack(\n\t\t\t\t\tQuaternionKeyframeTrack, boneName + '.quaternion',\n\t\t\t\t\tanimationKeys, 'rot', tracks );\n\n\t\t\t\taddNonemptyTrack(\n\t\t\t\t\tVectorKeyframeTrack, boneName + '.scale',\n\t\t\t\t\tanimationKeys, 'scl', tracks );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( tracks.length === 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst clip = new AnimationClip( clipName, duration, tracks, blendMode );\n\n\t\treturn clip;\n\n\t}\n\n} );\n\nObject.assign( AnimationClip.prototype, {\n\n\tresetDuration: function () {\n\n\t\tconst tracks = this.tracks;\n\t\tlet duration = 0;\n\n\t\tfor ( let i = 0, n = tracks.length; i !== n; ++ i ) {\n\n\t\t\tconst track = this.tracks[ i ];\n\n\t\t\tduration = Math.max( duration, track.times[ track.times.length - 1 ] );\n\n\t\t}\n\n\t\tthis.duration = duration;\n\n\t\treturn this;\n\n\t},\n\n\ttrim: function () {\n\n\t\tfor ( let i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\tthis.tracks[ i ].trim( 0, this.duration );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tvalidate: function () {\n\n\t\tlet valid = true;\n\n\t\tfor ( let i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\tvalid = valid && this.tracks[ i ].validate();\n\n\t\t}\n\n\t\treturn valid;\n\n\t},\n\n\toptimize: function () {\n\n\t\tfor ( let i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\tthis.tracks[ i ].optimize();\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\tconst tracks = [];\n\n\t\tfor ( let i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\ttracks.push( this.tracks[ i ].clone() );\n\n\t\t}\n\n\t\treturn new AnimationClip( this.name, this.duration, tracks, this.blendMode );\n\n\t}\n\n} );\n\nconst Cache = {\n\n\tenabled: false,\n\n\tfiles: {},\n\n\tadd: function ( key, file ) {\n\n\t\tif ( this.enabled === false ) return;\n\n\t\t// console.log( 'THREE.Cache', 'Adding key:', key );\n\n\t\tthis.files[ key ] = file;\n\n\t},\n\n\tget: function ( key ) {\n\n\t\tif ( this.enabled === false ) return;\n\n\t\t// console.log( 'THREE.Cache', 'Checking key:', key );\n\n\t\treturn this.files[ key ];\n\n\t},\n\n\tremove: function ( key ) {\n\n\t\tdelete this.files[ key ];\n\n\t},\n\n\tclear: function () {\n\n\t\tthis.files = {};\n\n\t}\n\n};\n\nfunction LoadingManager( onLoad, onProgress, onError ) {\n\n\tconst scope = this;\n\n\tlet isLoading = false;\n\tlet itemsLoaded = 0;\n\tlet itemsTotal = 0;\n\tlet urlModifier = undefined;\n\tconst handlers = [];\n\n\t// Refer to #5689 for the reason why we don't set .onStart\n\t// in the constructor\n\n\tthis.onStart = undefined;\n\tthis.onLoad = onLoad;\n\tthis.onProgress = onProgress;\n\tthis.onError = onError;\n\n\tthis.itemStart = function ( url ) {\n\n\t\titemsTotal ++;\n\n\t\tif ( isLoading === false ) {\n\n\t\t\tif ( scope.onStart !== undefined ) {\n\n\t\t\t\tscope.onStart( url, itemsLoaded, itemsTotal );\n\n\t\t\t}\n\n\t\t}\n\n\t\tisLoading = true;\n\n\t};\n\n\tthis.itemEnd = function ( url ) {\n\n\t\titemsLoaded ++;\n\n\t\tif ( scope.onProgress !== undefined ) {\n\n\t\t\tscope.onProgress( url, itemsLoaded, itemsTotal );\n\n\t\t}\n\n\t\tif ( itemsLoaded === itemsTotal ) {\n\n\t\t\tisLoading = false;\n\n\t\t\tif ( scope.onLoad !== undefined ) {\n\n\t\t\t\tscope.onLoad();\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tthis.itemError = function ( url ) {\n\n\t\tif ( scope.onError !== undefined ) {\n\n\t\t\tscope.onError( url );\n\n\t\t}\n\n\t};\n\n\tthis.resolveURL = function ( url ) {\n\n\t\tif ( urlModifier ) {\n\n\t\t\treturn urlModifier( url );\n\n\t\t}\n\n\t\treturn url;\n\n\t};\n\n\tthis.setURLModifier = function ( transform ) {\n\n\t\turlModifier = transform;\n\n\t\treturn this;\n\n\t};\n\n\tthis.addHandler = function ( regex, loader ) {\n\n\t\thandlers.push( regex, loader );\n\n\t\treturn this;\n\n\t};\n\n\tthis.removeHandler = function ( regex ) {\n\n\t\tconst index = handlers.indexOf( regex );\n\n\t\tif ( index !== - 1 ) {\n\n\t\t\thandlers.splice( index, 2 );\n\n\t\t}\n\n\t\treturn this;\n\n\t};\n\n\tthis.getHandler = function ( file ) {\n\n\t\tfor ( let i = 0, l = handlers.length; i < l; i += 2 ) {\n\n\t\t\tconst regex = handlers[ i ];\n\t\t\tconst loader = handlers[ i + 1 ];\n\n\t\t\tif ( regex.global ) regex.lastIndex = 0; // see #17920\n\n\t\t\tif ( regex.test( file ) ) {\n\n\t\t\t\treturn loader;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn null;\n\n\t};\n\n}\n\nconst DefaultLoadingManager = new LoadingManager();\n\nfunction Loader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n\tthis.crossOrigin = 'anonymous';\n\tthis.withCredentials = false;\n\tthis.path = '';\n\tthis.resourcePath = '';\n\tthis.requestHeader = {};\n\n}\n\nObject.assign( Loader.prototype, {\n\n\tload: function ( /* url, onLoad, onProgress, onError */ ) {},\n\n\tloadAsync: function ( url, onProgress ) {\n\n\t\tconst scope = this;\n\n\t\treturn new Promise( function ( resolve, reject ) {\n\n\t\t\tscope.load( url, resolve, onProgress, reject );\n\n\t\t} );\n\n\t},\n\n\tparse: function ( /* data */ ) {},\n\n\tsetCrossOrigin: function ( crossOrigin ) {\n\n\t\tthis.crossOrigin = crossOrigin;\n\t\treturn this;\n\n\t},\n\n\tsetWithCredentials: function ( value ) {\n\n\t\tthis.withCredentials = value;\n\t\treturn this;\n\n\t},\n\n\tsetPath: function ( path ) {\n\n\t\tthis.path = path;\n\t\treturn this;\n\n\t},\n\n\tsetResourcePath: function ( resourcePath ) {\n\n\t\tthis.resourcePath = resourcePath;\n\t\treturn this;\n\n\t},\n\n\tsetRequestHeader: function ( requestHeader ) {\n\n\t\tthis.requestHeader = requestHeader;\n\t\treturn this;\n\n\t}\n\n} );\n\nconst loading = {};\n\nfunction FileLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nFileLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: FileLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tif ( url === undefined ) url = '';\n\n\t\tif ( this.path !== undefined ) url = this.path + url;\n\n\t\turl = this.manager.resolveURL( url );\n\n\t\tconst scope = this;\n\n\t\tconst cached = Cache.get( url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tsetTimeout( function () {\n\n\t\t\t\tif ( onLoad ) onLoad( cached );\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, 0 );\n\n\t\t\treturn cached;\n\n\t\t}\n\n\t\t// Check if request is duplicate\n\n\t\tif ( loading[ url ] !== undefined ) {\n\n\t\t\tloading[ url ].push( {\n\n\t\t\t\tonLoad: onLoad,\n\t\t\t\tonProgress: onProgress,\n\t\t\t\tonError: onError\n\n\t\t\t} );\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t// Check for data: URI\n\t\tconst dataUriRegex = /^data:(.*?)(;base64)?,(.*)$/;\n\t\tconst dataUriRegexResult = url.match( dataUriRegex );\n\t\tlet request;\n\n\t\t// Safari can not handle Data URIs through XMLHttpRequest so process manually\n\t\tif ( dataUriRegexResult ) {\n\n\t\t\tconst mimeType = dataUriRegexResult[ 1 ];\n\t\t\tconst isBase64 = !! dataUriRegexResult[ 2 ];\n\n\t\t\tlet data = dataUriRegexResult[ 3 ];\n\t\t\tdata = decodeURIComponent( data );\n\n\t\t\tif ( isBase64 ) data = atob( data );\n\n\t\t\ttry {\n\n\t\t\t\tlet response;\n\t\t\t\tconst responseType = ( this.responseType || '' ).toLowerCase();\n\n\t\t\t\tswitch ( responseType ) {\n\n\t\t\t\t\tcase 'arraybuffer':\n\t\t\t\t\tcase 'blob':\n\n\t\t\t\t\t\tconst view = new Uint8Array( data.length );\n\n\t\t\t\t\t\tfor ( let i = 0; i < data.length; i ++ ) {\n\n\t\t\t\t\t\t\tview[ i ] = data.charCodeAt( i );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( responseType === 'blob' ) {\n\n\t\t\t\t\t\t\tresponse = new Blob( [ view.buffer ], { type: mimeType } );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tresponse = view.buffer;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'document':\n\n\t\t\t\t\t\tconst parser = new DOMParser();\n\t\t\t\t\t\tresponse = parser.parseFromString( data, mimeType );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'json':\n\n\t\t\t\t\t\tresponse = JSON.parse( data );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault: // 'text' or other\n\n\t\t\t\t\t\tresponse = data;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\t// Wait for next browser tick like standard XMLHttpRequest event dispatching does\n\t\t\t\tsetTimeout( function () {\n\n\t\t\t\t\tif ( onLoad ) onLoad( response );\n\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t}, 0 );\n\n\t\t\t} catch ( error ) {\n\n\t\t\t\t// Wait for next browser tick like standard XMLHttpRequest event dispatching does\n\t\t\t\tsetTimeout( function () {\n\n\t\t\t\t\tif ( onError ) onError( error );\n\n\t\t\t\t\tscope.manager.itemError( url );\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t}, 0 );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// Initialise array for duplicate requests\n\n\t\t\tloading[ url ] = [];\n\n\t\t\tloading[ url ].push( {\n\n\t\t\t\tonLoad: onLoad,\n\t\t\t\tonProgress: onProgress,\n\t\t\t\tonError: onError\n\n\t\t\t} );\n\n\t\t\trequest = new XMLHttpRequest();\n\n\t\t\trequest.open( 'GET', url, true );\n\n\t\t\trequest.addEventListener( 'load', function ( event ) {\n\n\t\t\t\tconst response = this.response;\n\n\t\t\t\tconst callbacks = loading[ url ];\n\n\t\t\t\tdelete loading[ url ];\n\n\t\t\t\tif ( this.status === 200 || this.status === 0 ) {\n\n\t\t\t\t\t// Some browsers return HTTP Status 0 when using non-http protocol\n\t\t\t\t\t// e.g. 'file://' or 'data://'. Handle as success.\n\n\t\t\t\t\tif ( this.status === 0 ) console.warn( 'THREE.FileLoader: HTTP Status 0 received.' );\n\n\t\t\t\t\t// Add to cache only on HTTP success, so that we do not cache\n\t\t\t\t\t// error response bodies as proper responses to requests.\n\t\t\t\t\tCache.add( url, response );\n\n\t\t\t\t\tfor ( let i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tconst callback = callbacks[ i ];\n\t\t\t\t\t\tif ( callback.onLoad ) callback.onLoad( response );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tfor ( let i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tconst callback = callbacks[ i ];\n\t\t\t\t\t\tif ( callback.onError ) callback.onError( event );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tscope.manager.itemError( url );\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t}\n\n\t\t\t}, false );\n\n\t\t\trequest.addEventListener( 'progress', function ( event ) {\n\n\t\t\t\tconst callbacks = loading[ url ];\n\n\t\t\t\tfor ( let i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst callback = callbacks[ i ];\n\t\t\t\t\tif ( callback.onProgress ) callback.onProgress( event );\n\n\t\t\t\t}\n\n\t\t\t}, false );\n\n\t\t\trequest.addEventListener( 'error', function ( event ) {\n\n\t\t\t\tconst callbacks = loading[ url ];\n\n\t\t\t\tdelete loading[ url ];\n\n\t\t\t\tfor ( let i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst callback = callbacks[ i ];\n\t\t\t\t\tif ( callback.onError ) callback.onError( event );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, false );\n\n\t\t\trequest.addEventListener( 'abort', function ( event ) {\n\n\t\t\t\tconst callbacks = loading[ url ];\n\n\t\t\t\tdelete loading[ url ];\n\n\t\t\t\tfor ( let i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst callback = callbacks[ i ];\n\t\t\t\t\tif ( callback.onError ) callback.onError( event );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, false );\n\n\t\t\tif ( this.responseType !== undefined ) request.responseType = this.responseType;\n\t\t\tif ( this.withCredentials !== undefined ) request.withCredentials = this.withCredentials;\n\n\t\t\tif ( request.overrideMimeType ) request.overrideMimeType( this.mimeType !== undefined ? this.mimeType : 'text/plain' );\n\n\t\t\tfor ( const header in this.requestHeader ) {\n\n\t\t\t\trequest.setRequestHeader( header, this.requestHeader[ header ] );\n\n\t\t\t}\n\n\t\t\trequest.send( null );\n\n\t\t}\n\n\t\tscope.manager.itemStart( url );\n\n\t\treturn request;\n\n\t},\n\n\tsetResponseType: function ( value ) {\n\n\t\tthis.responseType = value;\n\t\treturn this;\n\n\t},\n\n\tsetMimeType: function ( value ) {\n\n\t\tthis.mimeType = value;\n\t\treturn this;\n\n\t}\n\n} );\n\nfunction AnimationLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nAnimationLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: AnimationLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( scope.manager );\n\t\tloader.setPath( scope.path );\n\t\tloader.setRequestHeader( scope.requestHeader );\n\t\tloader.setWithCredentials( scope.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\ttry {\n\n\t\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tparse: function ( json ) {\n\n\t\tconst animations = [];\n\n\t\tfor ( let i = 0; i < json.length; i ++ ) {\n\n\t\t\tconst clip = AnimationClip.parse( json[ i ] );\n\n\t\t\tanimations.push( clip );\n\n\t\t}\n\n\t\treturn animations;\n\n\t}\n\n} );\n\n/**\n * Abstract Base class to block based textures loader (dds, pvr, ...)\n *\n * Sub classes have to implement the parse() method which will be used in load().\n */\n\nfunction CompressedTextureLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nCompressedTextureLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: CompressedTextureLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst images = [];\n\n\t\tconst texture = new CompressedTexture();\n\t\ttexture.image = images;\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( scope.withCredentials );\n\n\t\tlet loaded = 0;\n\n\t\tfunction loadTexture( i ) {\n\n\t\t\tloader.load( url[ i ], function ( buffer ) {\n\n\t\t\t\tconst texDatas = scope.parse( buffer, true );\n\n\t\t\t\timages[ i ] = {\n\t\t\t\t\twidth: texDatas.width,\n\t\t\t\t\theight: texDatas.height,\n\t\t\t\t\tformat: texDatas.format,\n\t\t\t\t\tmipmaps: texDatas.mipmaps\n\t\t\t\t};\n\n\t\t\t\tloaded += 1;\n\n\t\t\t\tif ( loaded === 6 ) {\n\n\t\t\t\t\tif ( texDatas.mipmapCount === 1 )\n\t\t\t\t\t\ttexture.minFilter = LinearFilter;\n\n\t\t\t\t\ttexture.format = texDatas.format;\n\t\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t\t}\n\n\t\t\t}, onProgress, onError );\n\n\t\t}\n\n\t\tif ( Array.isArray( url ) ) {\n\n\t\t\tfor ( let i = 0, il = url.length; i < il; ++ i ) {\n\n\t\t\t\tloadTexture( i );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// compressed cubemap texture stored in a single DDS file\n\n\t\t\tloader.load( url, function ( buffer ) {\n\n\t\t\t\tconst texDatas = scope.parse( buffer, true );\n\n\t\t\t\tif ( texDatas.isCubemap ) {\n\n\t\t\t\t\tconst faces = texDatas.mipmaps.length / texDatas.mipmapCount;\n\n\t\t\t\t\tfor ( let f = 0; f < faces; f ++ ) {\n\n\t\t\t\t\t\timages[ f ] = { mipmaps: [] };\n\n\t\t\t\t\t\tfor ( let i = 0; i < texDatas.mipmapCount; i ++ ) {\n\n\t\t\t\t\t\t\timages[ f ].mipmaps.push( texDatas.mipmaps[ f * texDatas.mipmapCount + i ] );\n\t\t\t\t\t\t\timages[ f ].format = texDatas.format;\n\t\t\t\t\t\t\timages[ f ].width = texDatas.width;\n\t\t\t\t\t\t\timages[ f ].height = texDatas.height;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttexture.image.width = texDatas.width;\n\t\t\t\t\ttexture.image.height = texDatas.height;\n\t\t\t\t\ttexture.mipmaps = texDatas.mipmaps;\n\n\t\t\t\t}\n\n\t\t\t\tif ( texDatas.mipmapCount === 1 ) {\n\n\t\t\t\t\ttexture.minFilter = LinearFilter;\n\n\t\t\t\t}\n\n\t\t\t\ttexture.format = texDatas.format;\n\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t}, onProgress, onError );\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n} );\n\nfunction ImageLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nImageLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: ImageLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tif ( this.path !== undefined ) url = this.path + url;\n\n\t\turl = this.manager.resolveURL( url );\n\n\t\tconst scope = this;\n\n\t\tconst cached = Cache.get( url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tsetTimeout( function () {\n\n\t\t\t\tif ( onLoad ) onLoad( cached );\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, 0 );\n\n\t\t\treturn cached;\n\n\t\t}\n\n\t\tconst image = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'img' );\n\n\t\tfunction onImageLoad() {\n\n\t\t\timage.removeEventListener( 'load', onImageLoad, false );\n\t\t\timage.removeEventListener( 'error', onImageError, false );\n\n\t\t\tCache.add( url, this );\n\n\t\t\tif ( onLoad ) onLoad( this );\n\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t}\n\n\t\tfunction onImageError( event ) {\n\n\t\t\timage.removeEventListener( 'load', onImageLoad, false );\n\t\t\timage.removeEventListener( 'error', onImageError, false );\n\n\t\t\tif ( onError ) onError( event );\n\n\t\t\tscope.manager.itemError( url );\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t}\n\n\t\timage.addEventListener( 'load', onImageLoad, false );\n\t\timage.addEventListener( 'error', onImageError, false );\n\n\t\tif ( url.substr( 0, 5 ) !== 'data:' ) {\n\n\t\t\tif ( this.crossOrigin !== undefined ) image.crossOrigin = this.crossOrigin;\n\n\t\t}\n\n\t\tscope.manager.itemStart( url );\n\n\t\timage.src = url;\n\n\t\treturn image;\n\n\t}\n\n} );\n\nfunction CubeTextureLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nCubeTextureLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: CubeTextureLoader,\n\n\tload: function ( urls, onLoad, onProgress, onError ) {\n\n\t\tconst texture = new CubeTexture();\n\n\t\tconst loader = new ImageLoader( this.manager );\n\t\tloader.setCrossOrigin( this.crossOrigin );\n\t\tloader.setPath( this.path );\n\n\t\tlet loaded = 0;\n\n\t\tfunction loadTexture( i ) {\n\n\t\t\tloader.load( urls[ i ], function ( image ) {\n\n\t\t\t\ttexture.images[ i ] = image;\n\n\t\t\t\tloaded ++;\n\n\t\t\t\tif ( loaded === 6 ) {\n\n\t\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t\t}\n\n\t\t\t}, undefined, onError );\n\n\t\t}\n\n\t\tfor ( let i = 0; i < urls.length; ++ i ) {\n\n\t\t\tloadTexture( i );\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n} );\n\n/**\n * Abstract Base class to load generic binary textures formats (rgbe, hdr, ...)\n *\n * Sub classes have to implement the parse() method which will be used in load().\n */\n\nfunction DataTextureLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nDataTextureLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: DataTextureLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst texture = new DataTexture();\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setPath( this.path );\n\t\tloader.setWithCredentials( scope.withCredentials );\n\t\tloader.load( url, function ( buffer ) {\n\n\t\t\tconst texData = scope.parse( buffer );\n\n\t\t\tif ( ! texData ) return;\n\n\t\t\tif ( texData.image !== undefined ) {\n\n\t\t\t\ttexture.image = texData.image;\n\n\t\t\t} else if ( texData.data !== undefined ) {\n\n\t\t\t\ttexture.image.width = texData.width;\n\t\t\t\ttexture.image.height = texData.height;\n\t\t\t\ttexture.image.data = texData.data;\n\n\t\t\t}\n\n\t\t\ttexture.wrapS = texData.wrapS !== undefined ? texData.wrapS : ClampToEdgeWrapping;\n\t\t\ttexture.wrapT = texData.wrapT !== undefined ? texData.wrapT : ClampToEdgeWrapping;\n\n\t\t\ttexture.magFilter = texData.magFilter !== undefined ? texData.magFilter : LinearFilter;\n\t\t\ttexture.minFilter = texData.minFilter !== undefined ? texData.minFilter : LinearFilter;\n\n\t\t\ttexture.anisotropy = texData.anisotropy !== undefined ? texData.anisotropy : 1;\n\n\t\t\tif ( texData.format !== undefined ) {\n\n\t\t\t\ttexture.format = texData.format;\n\n\t\t\t}\n\n\t\t\tif ( texData.type !== undefined ) {\n\n\t\t\t\ttexture.type = texData.type;\n\n\t\t\t}\n\n\t\t\tif ( texData.mipmaps !== undefined ) {\n\n\t\t\t\ttexture.mipmaps = texData.mipmaps;\n\t\t\t\ttexture.minFilter = LinearMipmapLinearFilter; // presumably...\n\n\t\t\t}\n\n\t\t\tif ( texData.mipmapCount === 1 ) {\n\n\t\t\t\ttexture.minFilter = LinearFilter;\n\n\t\t\t}\n\n\t\t\ttexture.needsUpdate = true;\n\n\t\t\tif ( onLoad ) onLoad( texture, texData );\n\n\t\t}, onProgress, onError );\n\n\n\t\treturn texture;\n\n\t}\n\n} );\n\nfunction TextureLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nTextureLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: TextureLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tconst texture = new Texture();\n\n\t\tconst loader = new ImageLoader( this.manager );\n\t\tloader.setCrossOrigin( this.crossOrigin );\n\t\tloader.setPath( this.path );\n\n\t\tloader.load( url, function ( image ) {\n\n\t\t\ttexture.image = image;\n\n\t\t\t// JPEGs can't have an alpha channel, so memory can be saved by storing them as RGB.\n\t\t\tconst isJPEG = url.search( /\\.jpe?g($|\\?)/i ) > 0 || url.search( /^data\\:image\\/jpeg/ ) === 0;\n\n\t\t\ttexture.format = isJPEG ? RGBFormat : RGBAFormat;\n\t\t\ttexture.needsUpdate = true;\n\n\t\t\tif ( onLoad !== undefined ) {\n\n\t\t\t\tonLoad( texture );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t\treturn texture;\n\n\t}\n\n} );\n\n/**\n * Extensible curve object.\n *\n * Some common of curve methods:\n * .getPoint( t, optionalTarget ), .getTangent( t, optionalTarget )\n * .getPointAt( u, optionalTarget ), .getTangentAt( u, optionalTarget )\n * .getPoints(), .getSpacedPoints()\n * .getLength()\n * .updateArcLengths()\n *\n * This following curves inherit from THREE.Curve:\n *\n * -- 2D curves --\n * THREE.ArcCurve\n * THREE.CubicBezierCurve\n * THREE.EllipseCurve\n * THREE.LineCurve\n * THREE.QuadraticBezierCurve\n * THREE.SplineCurve\n *\n * -- 3D curves --\n * THREE.CatmullRomCurve3\n * THREE.CubicBezierCurve3\n * THREE.LineCurve3\n * THREE.QuadraticBezierCurve3\n *\n * A series of curves can be represented as a THREE.CurvePath.\n *\n **/\n\nfunction Curve() {\n\n\tthis.type = 'Curve';\n\n\tthis.arcLengthDivisions = 200;\n\n}\n\nObject.assign( Curve.prototype, {\n\n\t// Virtual base class method to overwrite and implement in subclasses\n\t//\t- t [0 .. 1]\n\n\tgetPoint: function ( /* t, optionalTarget */ ) {\n\n\t\tconsole.warn( 'THREE.Curve: .getPoint() not implemented.' );\n\t\treturn null;\n\n\t},\n\n\t// Get point at relative position in curve according to arc length\n\t// - u [0 .. 1]\n\n\tgetPointAt: function ( u, optionalTarget ) {\n\n\t\tconst t = this.getUtoTmapping( u );\n\t\treturn this.getPoint( t, optionalTarget );\n\n\t},\n\n\t// Get sequence of points using getPoint( t )\n\n\tgetPoints: function ( divisions ) {\n\n\t\tif ( divisions === undefined ) divisions = 5;\n\n\t\tconst points = [];\n\n\t\tfor ( let d = 0; d <= divisions; d ++ ) {\n\n\t\t\tpoints.push( this.getPoint( d / divisions ) );\n\n\t\t}\n\n\t\treturn points;\n\n\t},\n\n\t// Get sequence of points using getPointAt( u )\n\n\tgetSpacedPoints: function ( divisions ) {\n\n\t\tif ( divisions === undefined ) divisions = 5;\n\n\t\tconst points = [];\n\n\t\tfor ( let d = 0; d <= divisions; d ++ ) {\n\n\t\t\tpoints.push( this.getPointAt( d / divisions ) );\n\n\t\t}\n\n\t\treturn points;\n\n\t},\n\n\t// Get total curve arc length\n\n\tgetLength: function () {\n\n\t\tconst lengths = this.getLengths();\n\t\treturn lengths[ lengths.length - 1 ];\n\n\t},\n\n\t// Get list of cumulative segment lengths\n\n\tgetLengths: function ( divisions ) {\n\n\t\tif ( divisions === undefined ) divisions = this.arcLengthDivisions;\n\n\t\tif ( this.cacheArcLengths &&\n\t\t\t( this.cacheArcLengths.length === divisions + 1 ) &&\n\t\t\t! this.needsUpdate ) {\n\n\t\t\treturn this.cacheArcLengths;\n\n\t\t}\n\n\t\tthis.needsUpdate = false;\n\n\t\tconst cache = [];\n\t\tlet current, last = this.getPoint( 0 );\n\t\tlet sum = 0;\n\n\t\tcache.push( 0 );\n\n\t\tfor ( let p = 1; p <= divisions; p ++ ) {\n\n\t\t\tcurrent = this.getPoint( p / divisions );\n\t\t\tsum += current.distanceTo( last );\n\t\t\tcache.push( sum );\n\t\t\tlast = current;\n\n\t\t}\n\n\t\tthis.cacheArcLengths = cache;\n\n\t\treturn cache; // { sums: cache, sum: sum }; Sum is in the last element.\n\n\t},\n\n\tupdateArcLengths: function () {\n\n\t\tthis.needsUpdate = true;\n\t\tthis.getLengths();\n\n\t},\n\n\t// Given u ( 0 .. 1 ), get a t to find p. This gives you points which are equidistant\n\n\tgetUtoTmapping: function ( u, distance ) {\n\n\t\tconst arcLengths = this.getLengths();\n\n\t\tlet i = 0;\n\t\tconst il = arcLengths.length;\n\n\t\tlet targetArcLength; // The targeted u distance value to get\n\n\t\tif ( distance ) {\n\n\t\t\ttargetArcLength = distance;\n\n\t\t} else {\n\n\t\t\ttargetArcLength = u * arcLengths[ il - 1 ];\n\n\t\t}\n\n\t\t// binary search for the index with largest value smaller than target u distance\n\n\t\tlet low = 0, high = il - 1, comparison;\n\n\t\twhile ( low <= high ) {\n\n\t\t\ti = Math.floor( low + ( high - low ) / 2 ); // less likely to overflow, though probably not issue here, JS doesn't really have integers, all numbers are floats\n\n\t\t\tcomparison = arcLengths[ i ] - targetArcLength;\n\n\t\t\tif ( comparison < 0 ) {\n\n\t\t\t\tlow = i + 1;\n\n\t\t\t} else if ( comparison > 0 ) {\n\n\t\t\t\thigh = i - 1;\n\n\t\t\t} else {\n\n\t\t\t\thigh = i;\n\t\t\t\tbreak;\n\n\t\t\t\t// DONE\n\n\t\t\t}\n\n\t\t}\n\n\t\ti = high;\n\n\t\tif ( arcLengths[ i ] === targetArcLength ) {\n\n\t\t\treturn i / ( il - 1 );\n\n\t\t}\n\n\t\t// we could get finer grain at lengths, or use simple interpolation between two points\n\n\t\tconst lengthBefore = arcLengths[ i ];\n\t\tconst lengthAfter = arcLengths[ i + 1 ];\n\n\t\tconst segmentLength = lengthAfter - lengthBefore;\n\n\t\t// determine where we are between the 'before' and 'after' points\n\n\t\tconst segmentFraction = ( targetArcLength - lengthBefore ) / segmentLength;\n\n\t\t// add that fractional amount to t\n\n\t\tconst t = ( i + segmentFraction ) / ( il - 1 );\n\n\t\treturn t;\n\n\t},\n\n\t// Returns a unit vector tangent at t\n\t// In case any sub curve does not implement its tangent derivation,\n\t// 2 points a small delta apart will be used to find its gradient\n\t// which seems to give a reasonable approximation\n\n\tgetTangent: function ( t, optionalTarget ) {\n\n\t\tconst delta = 0.0001;\n\t\tlet t1 = t - delta;\n\t\tlet t2 = t + delta;\n\n\t\t// Capping in case of danger\n\n\t\tif ( t1 < 0 ) t1 = 0;\n\t\tif ( t2 > 1 ) t2 = 1;\n\n\t\tconst pt1 = this.getPoint( t1 );\n\t\tconst pt2 = this.getPoint( t2 );\n\n\t\tconst tangent = optionalTarget || ( ( pt1.isVector2 ) ? new Vector2() : new Vector3() );\n\n\t\ttangent.copy( pt2 ).sub( pt1 ).normalize();\n\n\t\treturn tangent;\n\n\t},\n\n\tgetTangentAt: function ( u, optionalTarget ) {\n\n\t\tconst t = this.getUtoTmapping( u );\n\t\treturn this.getTangent( t, optionalTarget );\n\n\t},\n\n\tcomputeFrenetFrames: function ( segments, closed ) {\n\n\t\t// see http://www.cs.indiana.edu/pub/techreports/TR425.pdf\n\n\t\tconst normal = new Vector3();\n\n\t\tconst tangents = [];\n\t\tconst normals = [];\n\t\tconst binormals = [];\n\n\t\tconst vec = new Vector3();\n\t\tconst mat = new Matrix4();\n\n\t\t// compute the tangent vectors for each segment on the curve\n\n\t\tfor ( let i = 0; i <= segments; i ++ ) {\n\n\t\t\tconst u = i / segments;\n\n\t\t\ttangents[ i ] = this.getTangentAt( u, new Vector3() );\n\t\t\ttangents[ i ].normalize();\n\n\t\t}\n\n\t\t// select an initial normal vector perpendicular to the first tangent vector,\n\t\t// and in the direction of the minimum tangent xyz component\n\n\t\tnormals[ 0 ] = new Vector3();\n\t\tbinormals[ 0 ] = new Vector3();\n\t\tlet min = Number.MAX_VALUE;\n\t\tconst tx = Math.abs( tangents[ 0 ].x );\n\t\tconst ty = Math.abs( tangents[ 0 ].y );\n\t\tconst tz = Math.abs( tangents[ 0 ].z );\n\n\t\tif ( tx <= min ) {\n\n\t\t\tmin = tx;\n\t\t\tnormal.set( 1, 0, 0 );\n\n\t\t}\n\n\t\tif ( ty <= min ) {\n\n\t\t\tmin = ty;\n\t\t\tnormal.set( 0, 1, 0 );\n\n\t\t}\n\n\t\tif ( tz <= min ) {\n\n\t\t\tnormal.set( 0, 0, 1 );\n\n\t\t}\n\n\t\tvec.crossVectors( tangents[ 0 ], normal ).normalize();\n\n\t\tnormals[ 0 ].crossVectors( tangents[ 0 ], vec );\n\t\tbinormals[ 0 ].crossVectors( tangents[ 0 ], normals[ 0 ] );\n\n\n\t\t// compute the slowly-varying normal and binormal vectors for each segment on the curve\n\n\t\tfor ( let i = 1; i <= segments; i ++ ) {\n\n\t\t\tnormals[ i ] = normals[ i - 1 ].clone();\n\n\t\t\tbinormals[ i ] = binormals[ i - 1 ].clone();\n\n\t\t\tvec.crossVectors( tangents[ i - 1 ], tangents[ i ] );\n\n\t\t\tif ( vec.length() > Number.EPSILON ) {\n\n\t\t\t\tvec.normalize();\n\n\t\t\t\tconst theta = Math.acos( MathUtils.clamp( tangents[ i - 1 ].dot( tangents[ i ] ), - 1, 1 ) ); // clamp for floating pt errors\n\n\t\t\t\tnormals[ i ].applyMatrix4( mat.makeRotationAxis( vec, theta ) );\n\n\t\t\t}\n\n\t\t\tbinormals[ i ].crossVectors( tangents[ i ], normals[ i ] );\n\n\t\t}\n\n\t\t// if the curve is closed, postprocess the vectors so the first and last normal vectors are the same\n\n\t\tif ( closed === true ) {\n\n\t\t\tlet theta = Math.acos( MathUtils.clamp( normals[ 0 ].dot( normals[ segments ] ), - 1, 1 ) );\n\t\t\ttheta /= segments;\n\n\t\t\tif ( tangents[ 0 ].dot( vec.crossVectors( normals[ 0 ], normals[ segments ] ) ) > 0 ) {\n\n\t\t\t\ttheta = - theta;\n\n\t\t\t}\n\n\t\t\tfor ( let i = 1; i <= segments; i ++ ) {\n\n\t\t\t\t// twist a little...\n\t\t\t\tnormals[ i ].applyMatrix4( mat.makeRotationAxis( tangents[ i ], theta * i ) );\n\t\t\t\tbinormals[ i ].crossVectors( tangents[ i ], normals[ i ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn {\n\t\t\ttangents: tangents,\n\t\t\tnormals: normals,\n\t\t\tbinormals: binormals\n\t\t};\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.arcLengthDivisions = source.arcLengthDivisions;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tconst data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Curve',\n\t\t\t\tgenerator: 'Curve.toJSON'\n\t\t\t}\n\t\t};\n\n\t\tdata.arcLengthDivisions = this.arcLengthDivisions;\n\t\tdata.type = this.type;\n\n\t\treturn data;\n\n\t},\n\n\tfromJSON: function ( json ) {\n\n\t\tthis.arcLengthDivisions = json.arcLengthDivisions;\n\n\t\treturn this;\n\n\t}\n\n} );\n\nfunction EllipseCurve( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'EllipseCurve';\n\n\tthis.aX = aX || 0;\n\tthis.aY = aY || 0;\n\n\tthis.xRadius = xRadius || 1;\n\tthis.yRadius = yRadius || 1;\n\n\tthis.aStartAngle = aStartAngle || 0;\n\tthis.aEndAngle = aEndAngle || 2 * Math.PI;\n\n\tthis.aClockwise = aClockwise || false;\n\n\tthis.aRotation = aRotation || 0;\n\n}\n\nEllipseCurve.prototype = Object.create( Curve.prototype );\nEllipseCurve.prototype.constructor = EllipseCurve;\n\nEllipseCurve.prototype.isEllipseCurve = true;\n\nEllipseCurve.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tconst point = optionalTarget || new Vector2();\n\n\tconst twoPi = Math.PI * 2;\n\tlet deltaAngle = this.aEndAngle - this.aStartAngle;\n\tconst samePoints = Math.abs( deltaAngle ) < Number.EPSILON;\n\n\t// ensures that deltaAngle is 0 .. 2 PI\n\twhile ( deltaAngle < 0 ) deltaAngle += twoPi;\n\twhile ( deltaAngle > twoPi ) deltaAngle -= twoPi;\n\n\tif ( deltaAngle < Number.EPSILON ) {\n\n\t\tif ( samePoints ) {\n\n\t\t\tdeltaAngle = 0;\n\n\t\t} else {\n\n\t\t\tdeltaAngle = twoPi;\n\n\t\t}\n\n\t}\n\n\tif ( this.aClockwise === true && ! samePoints ) {\n\n\t\tif ( deltaAngle === twoPi ) {\n\n\t\t\tdeltaAngle = - twoPi;\n\n\t\t} else {\n\n\t\t\tdeltaAngle = deltaAngle - twoPi;\n\n\t\t}\n\n\t}\n\n\tconst angle = this.aStartAngle + t * deltaAngle;\n\tlet x = this.aX + this.xRadius * Math.cos( angle );\n\tlet y = this.aY + this.yRadius * Math.sin( angle );\n\n\tif ( this.aRotation !== 0 ) {\n\n\t\tconst cos = Math.cos( this.aRotation );\n\t\tconst sin = Math.sin( this.aRotation );\n\n\t\tconst tx = x - this.aX;\n\t\tconst ty = y - this.aY;\n\n\t\t// Rotate the point about the center of the ellipse.\n\t\tx = tx * cos - ty * sin + this.aX;\n\t\ty = tx * sin + ty * cos + this.aY;\n\n\t}\n\n\treturn point.set( x, y );\n\n};\n\nEllipseCurve.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.aX = source.aX;\n\tthis.aY = source.aY;\n\n\tthis.xRadius = source.xRadius;\n\tthis.yRadius = source.yRadius;\n\n\tthis.aStartAngle = source.aStartAngle;\n\tthis.aEndAngle = source.aEndAngle;\n\n\tthis.aClockwise = source.aClockwise;\n\n\tthis.aRotation = source.aRotation;\n\n\treturn this;\n\n};\n\n\nEllipseCurve.prototype.toJSON = function () {\n\n\tconst data = Curve.prototype.toJSON.call( this );\n\n\tdata.aX = this.aX;\n\tdata.aY = this.aY;\n\n\tdata.xRadius = this.xRadius;\n\tdata.yRadius = this.yRadius;\n\n\tdata.aStartAngle = this.aStartAngle;\n\tdata.aEndAngle = this.aEndAngle;\n\n\tdata.aClockwise = this.aClockwise;\n\n\tdata.aRotation = this.aRotation;\n\n\treturn data;\n\n};\n\nEllipseCurve.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.aX = json.aX;\n\tthis.aY = json.aY;\n\n\tthis.xRadius = json.xRadius;\n\tthis.yRadius = json.yRadius;\n\n\tthis.aStartAngle = json.aStartAngle;\n\tthis.aEndAngle = json.aEndAngle;\n\n\tthis.aClockwise = json.aClockwise;\n\n\tthis.aRotation = json.aRotation;\n\n\treturn this;\n\n};\n\nfunction ArcCurve( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n\tEllipseCurve.call( this, aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise );\n\n\tthis.type = 'ArcCurve';\n\n}\n\nArcCurve.prototype = Object.create( EllipseCurve.prototype );\nArcCurve.prototype.constructor = ArcCurve;\n\nArcCurve.prototype.isArcCurve = true;\n\n/**\n * Centripetal CatmullRom Curve - which is useful for avoiding\n * cusps and self-intersections in non-uniform catmull rom curves.\n * http://www.cemyuksel.com/research/catmullrom_param/catmullrom.pdf\n *\n * curve.type accepts centripetal(default), chordal and catmullrom\n * curve.tension is used for catmullrom which defaults to 0.5\n */\n\n\n/*\nBased on an optimized c++ solution in\n - http://stackoverflow.com/questions/9489736/catmull-rom-curve-with-no-cusps-and-no-self-intersections/\n - http://ideone.com/NoEbVM\n\nThis CubicPoly class could be used for reusing some variables and calculations,\nbut for three.js curve use, it could be possible inlined and flatten into a single function call\nwhich can be placed in CurveUtils.\n*/\n\nfunction CubicPoly() {\n\n\tlet c0 = 0, c1 = 0, c2 = 0, c3 = 0;\n\n\t/*\n\t * Compute coefficients for a cubic polynomial\n\t *   p(s) = c0 + c1*s + c2*s^2 + c3*s^3\n\t * such that\n\t *   p(0) = x0, p(1) = x1\n\t *  and\n\t *   p'(0) = t0, p'(1) = t1.\n\t */\n\tfunction init( x0, x1, t0, t1 ) {\n\n\t\tc0 = x0;\n\t\tc1 = t0;\n\t\tc2 = - 3 * x0 + 3 * x1 - 2 * t0 - t1;\n\t\tc3 = 2 * x0 - 2 * x1 + t0 + t1;\n\n\t}\n\n\treturn {\n\n\t\tinitCatmullRom: function ( x0, x1, x2, x3, tension ) {\n\n\t\t\tinit( x1, x2, tension * ( x2 - x0 ), tension * ( x3 - x1 ) );\n\n\t\t},\n\n\t\tinitNonuniformCatmullRom: function ( x0, x1, x2, x3, dt0, dt1, dt2 ) {\n\n\t\t\t// compute tangents when parameterized in [t1,t2]\n\t\t\tlet t1 = ( x1 - x0 ) / dt0 - ( x2 - x0 ) / ( dt0 + dt1 ) + ( x2 - x1 ) / dt1;\n\t\t\tlet t2 = ( x2 - x1 ) / dt1 - ( x3 - x1 ) / ( dt1 + dt2 ) + ( x3 - x2 ) / dt2;\n\n\t\t\t// rescale tangents for parametrization in [0,1]\n\t\t\tt1 *= dt1;\n\t\t\tt2 *= dt1;\n\n\t\t\tinit( x1, x2, t1, t2 );\n\n\t\t},\n\n\t\tcalc: function ( t ) {\n\n\t\t\tconst t2 = t * t;\n\t\t\tconst t3 = t2 * t;\n\t\t\treturn c0 + c1 * t + c2 * t2 + c3 * t3;\n\n\t\t}\n\n\t};\n\n}\n\n//\n\nconst tmp = new Vector3();\nconst px = new CubicPoly(), py = new CubicPoly(), pz = new CubicPoly();\n\nfunction CatmullRomCurve3( points, closed, curveType, tension ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'CatmullRomCurve3';\n\n\tthis.points = points || [];\n\tthis.closed = closed || false;\n\tthis.curveType = curveType || 'centripetal';\n\tthis.tension = ( tension !== undefined ) ? tension : 0.5;\n\n}\n\nCatmullRomCurve3.prototype = Object.create( Curve.prototype );\nCatmullRomCurve3.prototype.constructor = CatmullRomCurve3;\n\nCatmullRomCurve3.prototype.isCatmullRomCurve3 = true;\n\nCatmullRomCurve3.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tconst point = optionalTarget || new Vector3();\n\n\tconst points = this.points;\n\tconst l = points.length;\n\n\tconst p = ( l - ( this.closed ? 0 : 1 ) ) * t;\n\tlet intPoint = Math.floor( p );\n\tlet weight = p - intPoint;\n\n\tif ( this.closed ) {\n\n\t\tintPoint += intPoint > 0 ? 0 : ( Math.floor( Math.abs( intPoint ) / l ) + 1 ) * l;\n\n\t} else if ( weight === 0 && intPoint === l - 1 ) {\n\n\t\tintPoint = l - 2;\n\t\tweight = 1;\n\n\t}\n\n\tlet p0, p3; // 4 points (p1 & p2 defined below)\n\n\tif ( this.closed || intPoint > 0 ) {\n\n\t\tp0 = points[ ( intPoint - 1 ) % l ];\n\n\t} else {\n\n\t\t// extrapolate first point\n\t\ttmp.subVectors( points[ 0 ], points[ 1 ] ).add( points[ 0 ] );\n\t\tp0 = tmp;\n\n\t}\n\n\tconst p1 = points[ intPoint % l ];\n\tconst p2 = points[ ( intPoint + 1 ) % l ];\n\n\tif ( this.closed || intPoint + 2 < l ) {\n\n\t\tp3 = points[ ( intPoint + 2 ) % l ];\n\n\t} else {\n\n\t\t// extrapolate last point\n\t\ttmp.subVectors( points[ l - 1 ], points[ l - 2 ] ).add( points[ l - 1 ] );\n\t\tp3 = tmp;\n\n\t}\n\n\tif ( this.curveType === 'centripetal' || this.curveType === 'chordal' ) {\n\n\t\t// init Centripetal / Chordal Catmull-Rom\n\t\tconst pow = this.curveType === 'chordal' ? 0.5 : 0.25;\n\t\tlet dt0 = Math.pow( p0.distanceToSquared( p1 ), pow );\n\t\tlet dt1 = Math.pow( p1.distanceToSquared( p2 ), pow );\n\t\tlet dt2 = Math.pow( p2.distanceToSquared( p3 ), pow );\n\n\t\t// safety check for repeated points\n\t\tif ( dt1 < 1e-4 ) dt1 = 1.0;\n\t\tif ( dt0 < 1e-4 ) dt0 = dt1;\n\t\tif ( dt2 < 1e-4 ) dt2 = dt1;\n\n\t\tpx.initNonuniformCatmullRom( p0.x, p1.x, p2.x, p3.x, dt0, dt1, dt2 );\n\t\tpy.initNonuniformCatmullRom( p0.y, p1.y, p2.y, p3.y, dt0, dt1, dt2 );\n\t\tpz.initNonuniformCatmullRom( p0.z, p1.z, p2.z, p3.z, dt0, dt1, dt2 );\n\n\t} else if ( this.curveType === 'catmullrom' ) {\n\n\t\tpx.initCatmullRom( p0.x, p1.x, p2.x, p3.x, this.tension );\n\t\tpy.initCatmullRom( p0.y, p1.y, p2.y, p3.y, this.tension );\n\t\tpz.initCatmullRom( p0.z, p1.z, p2.z, p3.z, this.tension );\n\n\t}\n\n\tpoint.set(\n\t\tpx.calc( weight ),\n\t\tpy.calc( weight ),\n\t\tpz.calc( weight )\n\t);\n\n\treturn point;\n\n};\n\nCatmullRomCurve3.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.points = [];\n\n\tfor ( let i = 0, l = source.points.length; i < l; i ++ ) {\n\n\t\tconst point = source.points[ i ];\n\n\t\tthis.points.push( point.clone() );\n\n\t}\n\n\tthis.closed = source.closed;\n\tthis.curveType = source.curveType;\n\tthis.tension = source.tension;\n\n\treturn this;\n\n};\n\nCatmullRomCurve3.prototype.toJSON = function () {\n\n\tconst data = Curve.prototype.toJSON.call( this );\n\n\tdata.points = [];\n\n\tfor ( let i = 0, l = this.points.length; i < l; i ++ ) {\n\n\t\tconst point = this.points[ i ];\n\t\tdata.points.push( point.toArray() );\n\n\t}\n\n\tdata.closed = this.closed;\n\tdata.curveType = this.curveType;\n\tdata.tension = this.tension;\n\n\treturn data;\n\n};\n\nCatmullRomCurve3.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.points = [];\n\n\tfor ( let i = 0, l = json.points.length; i < l; i ++ ) {\n\n\t\tconst point = json.points[ i ];\n\t\tthis.points.push( new Vector3().fromArray( point ) );\n\n\t}\n\n\tthis.closed = json.closed;\n\tthis.curveType = json.curveType;\n\tthis.tension = json.tension;\n\n\treturn this;\n\n};\n\n/**\n * Bezier Curves formulas obtained from\n * http://en.wikipedia.org/wiki/Bézier_curve\n */\n\nfunction CatmullRom( t, p0, p1, p2, p3 ) {\n\n\tconst v0 = ( p2 - p0 ) * 0.5;\n\tconst v1 = ( p3 - p1 ) * 0.5;\n\tconst t2 = t * t;\n\tconst t3 = t * t2;\n\treturn ( 2 * p1 - 2 * p2 + v0 + v1 ) * t3 + ( - 3 * p1 + 3 * p2 - 2 * v0 - v1 ) * t2 + v0 * t + p1;\n\n}\n\n//\n\nfunction QuadraticBezierP0( t, p ) {\n\n\tconst k = 1 - t;\n\treturn k * k * p;\n\n}\n\nfunction QuadraticBezierP1( t, p ) {\n\n\treturn 2 * ( 1 - t ) * t * p;\n\n}\n\nfunction QuadraticBezierP2( t, p ) {\n\n\treturn t * t * p;\n\n}\n\nfunction QuadraticBezier( t, p0, p1, p2 ) {\n\n\treturn QuadraticBezierP0( t, p0 ) + QuadraticBezierP1( t, p1 ) +\n\t\tQuadraticBezierP2( t, p2 );\n\n}\n\n//\n\nfunction CubicBezierP0( t, p ) {\n\n\tconst k = 1 - t;\n\treturn k * k * k * p;\n\n}\n\nfunction CubicBezierP1( t, p ) {\n\n\tconst k = 1 - t;\n\treturn 3 * k * k * t * p;\n\n}\n\nfunction CubicBezierP2( t, p ) {\n\n\treturn 3 * ( 1 - t ) * t * t * p;\n\n}\n\nfunction CubicBezierP3( t, p ) {\n\n\treturn t * t * t * p;\n\n}\n\nfunction CubicBezier( t, p0, p1, p2, p3 ) {\n\n\treturn CubicBezierP0( t, p0 ) + CubicBezierP1( t, p1 ) + CubicBezierP2( t, p2 ) +\n\t\tCubicBezierP3( t, p3 );\n\n}\n\nfunction CubicBezierCurve( v0, v1, v2, v3 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'CubicBezierCurve';\n\n\tthis.v0 = v0 || new Vector2();\n\tthis.v1 = v1 || new Vector2();\n\tthis.v2 = v2 || new Vector2();\n\tthis.v3 = v3 || new Vector2();\n\n}\n\nCubicBezierCurve.prototype = Object.create( Curve.prototype );\nCubicBezierCurve.prototype.constructor = CubicBezierCurve;\n\nCubicBezierCurve.prototype.isCubicBezierCurve = true;\n\nCubicBezierCurve.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tconst point = optionalTarget || new Vector2();\n\n\tconst v0 = this.v0, v1 = this.v1, v2 = this.v2, v3 = this.v3;\n\n\tpoint.set(\n\t\tCubicBezier( t, v0.x, v1.x, v2.x, v3.x ),\n\t\tCubicBezier( t, v0.y, v1.y, v2.y, v3.y )\n\t);\n\n\treturn point;\n\n};\n\nCubicBezierCurve.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v0.copy( source.v0 );\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\tthis.v3.copy( source.v3 );\n\n\treturn this;\n\n};\n\nCubicBezierCurve.prototype.toJSON = function () {\n\n\tconst data = Curve.prototype.toJSON.call( this );\n\n\tdata.v0 = this.v0.toArray();\n\tdata.v1 = this.v1.toArray();\n\tdata.v2 = this.v2.toArray();\n\tdata.v3 = this.v3.toArray();\n\n\treturn data;\n\n};\n\nCubicBezierCurve.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.v0.fromArray( json.v0 );\n\tthis.v1.fromArray( json.v1 );\n\tthis.v2.fromArray( json.v2 );\n\tthis.v3.fromArray( json.v3 );\n\n\treturn this;\n\n};\n\nfunction CubicBezierCurve3( v0, v1, v2, v3 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'CubicBezierCurve3';\n\n\tthis.v0 = v0 || new Vector3();\n\tthis.v1 = v1 || new Vector3();\n\tthis.v2 = v2 || new Vector3();\n\tthis.v3 = v3 || new Vector3();\n\n}\n\nCubicBezierCurve3.prototype = Object.create( Curve.prototype );\nCubicBezierCurve3.prototype.constructor = CubicBezierCurve3;\n\nCubicBezierCurve3.prototype.isCubicBezierCurve3 = true;\n\nCubicBezierCurve3.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tconst point = optionalTarget || new Vector3();\n\n\tconst v0 = this.v0, v1 = this.v1, v2 = this.v2, v3 = this.v3;\n\n\tpoint.set(\n\t\tCubicBezier( t, v0.x, v1.x, v2.x, v3.x ),\n\t\tCubicBezier( t, v0.y, v1.y, v2.y, v3.y ),\n\t\tCubicBezier( t, v0.z, v1.z, v2.z, v3.z )\n\t);\n\n\treturn point;\n\n};\n\nCubicBezierCurve3.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v0.copy( source.v0 );\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\tthis.v3.copy( source.v3 );\n\n\treturn this;\n\n};\n\nCubicBezierCurve3.prototype.toJSON = function () {\n\n\tconst data = Curve.prototype.toJSON.call( this );\n\n\tdata.v0 = this.v0.toArray();\n\tdata.v1 = this.v1.toArray();\n\tdata.v2 = this.v2.toArray();\n\tdata.v3 = this.v3.toArray();\n\n\treturn data;\n\n};\n\nCubicBezierCurve3.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.v0.fromArray( json.v0 );\n\tthis.v1.fromArray( json.v1 );\n\tthis.v2.fromArray( json.v2 );\n\tthis.v3.fromArray( json.v3 );\n\n\treturn this;\n\n};\n\nfunction LineCurve( v1, v2 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'LineCurve';\n\n\tthis.v1 = v1 || new Vector2();\n\tthis.v2 = v2 || new Vector2();\n\n}\n\nLineCurve.prototype = Object.create( Curve.prototype );\nLineCurve.prototype.constructor = LineCurve;\n\nLineCurve.prototype.isLineCurve = true;\n\nLineCurve.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tconst point = optionalTarget || new Vector2();\n\n\tif ( t === 1 ) {\n\n\t\tpoint.copy( this.v2 );\n\n\t} else {\n\n\t\tpoint.copy( this.v2 ).sub( this.v1 );\n\t\tpoint.multiplyScalar( t ).add( this.v1 );\n\n\t}\n\n\treturn point;\n\n};\n\n// Line curve is linear, so we can overwrite default getPointAt\n\nLineCurve.prototype.getPointAt = function ( u, optionalTarget ) {\n\n\treturn this.getPoint( u, optionalTarget );\n\n};\n\nLineCurve.prototype.getTangent = function ( t, optionalTarget ) {\n\n\tconst tangent = optionalTarget || new Vector2();\n\n\ttangent.copy( this.v2 ).sub( this.v1 ).normalize();\n\n\treturn tangent;\n\n};\n\nLineCurve.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\n\treturn this;\n\n};\n\nLineCurve.prototype.toJSON = function () {\n\n\tconst data = Curve.prototype.toJSON.call( this );\n\n\tdata.v1 = this.v1.toArray();\n\tdata.v2 = this.v2.toArray();\n\n\treturn data;\n\n};\n\nLineCurve.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.v1.fromArray( json.v1 );\n\tthis.v2.fromArray( json.v2 );\n\n\treturn this;\n\n};\n\nfunction LineCurve3( v1, v2 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'LineCurve3';\n\n\tthis.v1 = v1 || new Vector3();\n\tthis.v2 = v2 || new Vector3();\n\n}\n\nLineCurve3.prototype = Object.create( Curve.prototype );\nLineCurve3.prototype.constructor = LineCurve3;\n\nLineCurve3.prototype.isLineCurve3 = true;\n\nLineCurve3.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tconst point = optionalTarget || new Vector3();\n\n\tif ( t === 1 ) {\n\n\t\tpoint.copy( this.v2 );\n\n\t} else {\n\n\t\tpoint.copy( this.v2 ).sub( this.v1 );\n\t\tpoint.multiplyScalar( t ).add( this.v1 );\n\n\t}\n\n\treturn point;\n\n};\n\n// Line curve is linear, so we can overwrite default getPointAt\n\nLineCurve3.prototype.getPointAt = function ( u, optionalTarget ) {\n\n\treturn this.getPoint( u, optionalTarget );\n\n};\n\nLineCurve3.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\n\treturn this;\n\n};\n\nLineCurve3.prototype.toJSON = function () {\n\n\tconst data = Curve.prototype.toJSON.call( this );\n\n\tdata.v1 = this.v1.toArray();\n\tdata.v2 = this.v2.toArray();\n\n\treturn data;\n\n};\n\nLineCurve3.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.v1.fromArray( json.v1 );\n\tthis.v2.fromArray( json.v2 );\n\n\treturn this;\n\n};\n\nfunction QuadraticBezierCurve( v0, v1, v2 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'QuadraticBezierCurve';\n\n\tthis.v0 = v0 || new Vector2();\n\tthis.v1 = v1 || new Vector2();\n\tthis.v2 = v2 || new Vector2();\n\n}\n\nQuadraticBezierCurve.prototype = Object.create( Curve.prototype );\nQuadraticBezierCurve.prototype.constructor = QuadraticBezierCurve;\n\nQuadraticBezierCurve.prototype.isQuadraticBezierCurve = true;\n\nQuadraticBezierCurve.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tconst point = optionalTarget || new Vector2();\n\n\tconst v0 = this.v0, v1 = this.v1, v2 = this.v2;\n\n\tpoint.set(\n\t\tQuadraticBezier( t, v0.x, v1.x, v2.x ),\n\t\tQuadraticBezier( t, v0.y, v1.y, v2.y )\n\t);\n\n\treturn point;\n\n};\n\nQuadraticBezierCurve.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v0.copy( source.v0 );\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\n\treturn this;\n\n};\n\nQuadraticBezierCurve.prototype.toJSON = function () {\n\n\tconst data = Curve.prototype.toJSON.call( this );\n\n\tdata.v0 = this.v0.toArray();\n\tdata.v1 = this.v1.toArray();\n\tdata.v2 = this.v2.toArray();\n\n\treturn data;\n\n};\n\nQuadraticBezierCurve.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.v0.fromArray( json.v0 );\n\tthis.v1.fromArray( json.v1 );\n\tthis.v2.fromArray( json.v2 );\n\n\treturn this;\n\n};\n\nfunction QuadraticBezierCurve3( v0, v1, v2 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'QuadraticBezierCurve3';\n\n\tthis.v0 = v0 || new Vector3();\n\tthis.v1 = v1 || new Vector3();\n\tthis.v2 = v2 || new Vector3();\n\n}\n\nQuadraticBezierCurve3.prototype = Object.create( Curve.prototype );\nQuadraticBezierCurve3.prototype.constructor = QuadraticBezierCurve3;\n\nQuadraticBezierCurve3.prototype.isQuadraticBezierCurve3 = true;\n\nQuadraticBezierCurve3.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tconst point = optionalTarget || new Vector3();\n\n\tconst v0 = this.v0, v1 = this.v1, v2 = this.v2;\n\n\tpoint.set(\n\t\tQuadraticBezier( t, v0.x, v1.x, v2.x ),\n\t\tQuadraticBezier( t, v0.y, v1.y, v2.y ),\n\t\tQuadraticBezier( t, v0.z, v1.z, v2.z )\n\t);\n\n\treturn point;\n\n};\n\nQuadraticBezierCurve3.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v0.copy( source.v0 );\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\n\treturn this;\n\n};\n\nQuadraticBezierCurve3.prototype.toJSON = function () {\n\n\tconst data = Curve.prototype.toJSON.call( this );\n\n\tdata.v0 = this.v0.toArray();\n\tdata.v1 = this.v1.toArray();\n\tdata.v2 = this.v2.toArray();\n\n\treturn data;\n\n};\n\nQuadraticBezierCurve3.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.v0.fromArray( json.v0 );\n\tthis.v1.fromArray( json.v1 );\n\tthis.v2.fromArray( json.v2 );\n\n\treturn this;\n\n};\n\nfunction SplineCurve( points ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'SplineCurve';\n\n\tthis.points = points || [];\n\n}\n\nSplineCurve.prototype = Object.create( Curve.prototype );\nSplineCurve.prototype.constructor = SplineCurve;\n\nSplineCurve.prototype.isSplineCurve = true;\n\nSplineCurve.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tconst point = optionalTarget || new Vector2();\n\n\tconst points = this.points;\n\tconst p = ( points.length - 1 ) * t;\n\n\tconst intPoint = Math.floor( p );\n\tconst weight = p - intPoint;\n\n\tconst p0 = points[ intPoint === 0 ? intPoint : intPoint - 1 ];\n\tconst p1 = points[ intPoint ];\n\tconst p2 = points[ intPoint > points.length - 2 ? points.length - 1 : intPoint + 1 ];\n\tconst p3 = points[ intPoint > points.length - 3 ? points.length - 1 : intPoint + 2 ];\n\n\tpoint.set(\n\t\tCatmullRom( weight, p0.x, p1.x, p2.x, p3.x ),\n\t\tCatmullRom( weight, p0.y, p1.y, p2.y, p3.y )\n\t);\n\n\treturn point;\n\n};\n\nSplineCurve.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.points = [];\n\n\tfor ( let i = 0, l = source.points.length; i < l; i ++ ) {\n\n\t\tconst point = source.points[ i ];\n\n\t\tthis.points.push( point.clone() );\n\n\t}\n\n\treturn this;\n\n};\n\nSplineCurve.prototype.toJSON = function () {\n\n\tconst data = Curve.prototype.toJSON.call( this );\n\n\tdata.points = [];\n\n\tfor ( let i = 0, l = this.points.length; i < l; i ++ ) {\n\n\t\tconst point = this.points[ i ];\n\t\tdata.points.push( point.toArray() );\n\n\t}\n\n\treturn data;\n\n};\n\nSplineCurve.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.points = [];\n\n\tfor ( let i = 0, l = json.points.length; i < l; i ++ ) {\n\n\t\tconst point = json.points[ i ];\n\t\tthis.points.push( new Vector2().fromArray( point ) );\n\n\t}\n\n\treturn this;\n\n};\n\nvar Curves = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tArcCurve: ArcCurve,\n\tCatmullRomCurve3: CatmullRomCurve3,\n\tCubicBezierCurve: CubicBezierCurve,\n\tCubicBezierCurve3: CubicBezierCurve3,\n\tEllipseCurve: EllipseCurve,\n\tLineCurve: LineCurve,\n\tLineCurve3: LineCurve3,\n\tQuadraticBezierCurve: QuadraticBezierCurve,\n\tQuadraticBezierCurve3: QuadraticBezierCurve3,\n\tSplineCurve: SplineCurve\n});\n\n/**************************************************************\n *\tCurved Path - a curve path is simply a array of connected\n *  curves, but retains the api of a curve\n **************************************************************/\n\nfunction CurvePath() {\n\n\tCurve.call( this );\n\n\tthis.type = 'CurvePath';\n\n\tthis.curves = [];\n\tthis.autoClose = false; // Automatically closes the path\n\n}\n\nCurvePath.prototype = Object.assign( Object.create( Curve.prototype ), {\n\n\tconstructor: CurvePath,\n\n\tadd: function ( curve ) {\n\n\t\tthis.curves.push( curve );\n\n\t},\n\n\tclosePath: function () {\n\n\t\t// Add a line curve if start and end of lines are not connected\n\t\tconst startPoint = this.curves[ 0 ].getPoint( 0 );\n\t\tconst endPoint = this.curves[ this.curves.length - 1 ].getPoint( 1 );\n\n\t\tif ( ! startPoint.equals( endPoint ) ) {\n\n\t\t\tthis.curves.push( new LineCurve( endPoint, startPoint ) );\n\n\t\t}\n\n\t},\n\n\t// To get accurate point with reference to\n\t// entire path distance at time t,\n\t// following has to be done:\n\n\t// 1. Length of each sub path have to be known\n\t// 2. Locate and identify type of curve\n\t// 3. Get t for the curve\n\t// 4. Return curve.getPointAt(t')\n\n\tgetPoint: function ( t ) {\n\n\t\tconst d = t * this.getLength();\n\t\tconst curveLengths = this.getCurveLengths();\n\t\tlet i = 0;\n\n\t\t// To think about boundaries points.\n\n\t\twhile ( i < curveLengths.length ) {\n\n\t\t\tif ( curveLengths[ i ] >= d ) {\n\n\t\t\t\tconst diff = curveLengths[ i ] - d;\n\t\t\t\tconst curve = this.curves[ i ];\n\n\t\t\t\tconst segmentLength = curve.getLength();\n\t\t\t\tconst u = segmentLength === 0 ? 0 : 1 - diff / segmentLength;\n\n\t\t\t\treturn curve.getPointAt( u );\n\n\t\t\t}\n\n\t\t\ti ++;\n\n\t\t}\n\n\t\treturn null;\n\n\t\t// loop where sum != 0, sum > d , sum+1 <d\n\n\t},\n\n\t// We cannot use the default THREE.Curve getPoint() with getLength() because in\n\t// THREE.Curve, getLength() depends on getPoint() but in THREE.CurvePath\n\t// getPoint() depends on getLength\n\n\tgetLength: function () {\n\n\t\tconst lens = this.getCurveLengths();\n\t\treturn lens[ lens.length - 1 ];\n\n\t},\n\n\t// cacheLengths must be recalculated.\n\tupdateArcLengths: function () {\n\n\t\tthis.needsUpdate = true;\n\t\tthis.cacheLengths = null;\n\t\tthis.getCurveLengths();\n\n\t},\n\n\t// Compute lengths and cache them\n\t// We cannot overwrite getLengths() because UtoT mapping uses it.\n\n\tgetCurveLengths: function () {\n\n\t\t// We use cache values if curves and cache array are same length\n\n\t\tif ( this.cacheLengths && this.cacheLengths.length === this.curves.length ) {\n\n\t\t\treturn this.cacheLengths;\n\n\t\t}\n\n\t\t// Get length of sub-curve\n\t\t// Push sums into cached array\n\n\t\tconst lengths = [];\n\t\tlet sums = 0;\n\n\t\tfor ( let i = 0, l = this.curves.length; i < l; i ++ ) {\n\n\t\t\tsums += this.curves[ i ].getLength();\n\t\t\tlengths.push( sums );\n\n\t\t}\n\n\t\tthis.cacheLengths = lengths;\n\n\t\treturn lengths;\n\n\t},\n\n\tgetSpacedPoints: function ( divisions ) {\n\n\t\tif ( divisions === undefined ) divisions = 40;\n\n\t\tconst points = [];\n\n\t\tfor ( let i = 0; i <= divisions; i ++ ) {\n\n\t\t\tpoints.push( this.getPoint( i / divisions ) );\n\n\t\t}\n\n\t\tif ( this.autoClose ) {\n\n\t\t\tpoints.push( points[ 0 ] );\n\n\t\t}\n\n\t\treturn points;\n\n\t},\n\n\tgetPoints: function ( divisions ) {\n\n\t\tdivisions = divisions || 12;\n\n\t\tconst points = [];\n\t\tlet last;\n\n\t\tfor ( let i = 0, curves = this.curves; i < curves.length; i ++ ) {\n\n\t\t\tconst curve = curves[ i ];\n\t\t\tconst resolution = ( curve && curve.isEllipseCurve ) ? divisions * 2\n\t\t\t\t: ( curve && ( curve.isLineCurve || curve.isLineCurve3 ) ) ? 1\n\t\t\t\t\t: ( curve && curve.isSplineCurve ) ? divisions * curve.points.length\n\t\t\t\t\t\t: divisions;\n\n\t\t\tconst pts = curve.getPoints( resolution );\n\n\t\t\tfor ( let j = 0; j < pts.length; j ++ ) {\n\n\t\t\t\tconst point = pts[ j ];\n\n\t\t\t\tif ( last && last.equals( point ) ) continue; // ensures no consecutive points are duplicates\n\n\t\t\t\tpoints.push( point );\n\t\t\t\tlast = point;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.autoClose && points.length > 1 && ! points[ points.length - 1 ].equals( points[ 0 ] ) ) {\n\n\t\t\tpoints.push( points[ 0 ] );\n\n\t\t}\n\n\t\treturn points;\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tCurve.prototype.copy.call( this, source );\n\n\t\tthis.curves = [];\n\n\t\tfor ( let i = 0, l = source.curves.length; i < l; i ++ ) {\n\n\t\t\tconst curve = source.curves[ i ];\n\n\t\t\tthis.curves.push( curve.clone() );\n\n\t\t}\n\n\t\tthis.autoClose = source.autoClose;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tconst data = Curve.prototype.toJSON.call( this );\n\n\t\tdata.autoClose = this.autoClose;\n\t\tdata.curves = [];\n\n\t\tfor ( let i = 0, l = this.curves.length; i < l; i ++ ) {\n\n\t\t\tconst curve = this.curves[ i ];\n\t\t\tdata.curves.push( curve.toJSON() );\n\n\t\t}\n\n\t\treturn data;\n\n\t},\n\n\tfromJSON: function ( json ) {\n\n\t\tCurve.prototype.fromJSON.call( this, json );\n\n\t\tthis.autoClose = json.autoClose;\n\t\tthis.curves = [];\n\n\t\tfor ( let i = 0, l = json.curves.length; i < l; i ++ ) {\n\n\t\t\tconst curve = json.curves[ i ];\n\t\t\tthis.curves.push( new Curves[ curve.type ]().fromJSON( curve ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\nfunction Path( points ) {\n\n\tCurvePath.call( this );\n\n\tthis.type = 'Path';\n\n\tthis.currentPoint = new Vector2();\n\n\tif ( points ) {\n\n\t\tthis.setFromPoints( points );\n\n\t}\n\n}\n\nPath.prototype = Object.assign( Object.create( CurvePath.prototype ), {\n\n\tconstructor: Path,\n\n\tsetFromPoints: function ( points ) {\n\n\t\tthis.moveTo( points[ 0 ].x, points[ 0 ].y );\n\n\t\tfor ( let i = 1, l = points.length; i < l; i ++ ) {\n\n\t\t\tthis.lineTo( points[ i ].x, points[ i ].y );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tmoveTo: function ( x, y ) {\n\n\t\tthis.currentPoint.set( x, y ); // TODO consider referencing vectors instead of copying?\n\n\t\treturn this;\n\n\t},\n\n\tlineTo: function ( x, y ) {\n\n\t\tconst curve = new LineCurve( this.currentPoint.clone(), new Vector2( x, y ) );\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.set( x, y );\n\n\t\treturn this;\n\n\t},\n\n\tquadraticCurveTo: function ( aCPx, aCPy, aX, aY ) {\n\n\t\tconst curve = new QuadraticBezierCurve(\n\t\t\tthis.currentPoint.clone(),\n\t\t\tnew Vector2( aCPx, aCPy ),\n\t\t\tnew Vector2( aX, aY )\n\t\t);\n\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.set( aX, aY );\n\n\t\treturn this;\n\n\t},\n\n\tbezierCurveTo: function ( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY ) {\n\n\t\tconst curve = new CubicBezierCurve(\n\t\t\tthis.currentPoint.clone(),\n\t\t\tnew Vector2( aCP1x, aCP1y ),\n\t\t\tnew Vector2( aCP2x, aCP2y ),\n\t\t\tnew Vector2( aX, aY )\n\t\t);\n\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.set( aX, aY );\n\n\t\treturn this;\n\n\t},\n\n\tsplineThru: function ( pts /*Array of Vector*/ ) {\n\n\t\tconst npts = [ this.currentPoint.clone() ].concat( pts );\n\n\t\tconst curve = new SplineCurve( npts );\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.copy( pts[ pts.length - 1 ] );\n\n\t\treturn this;\n\n\t},\n\n\tarc: function ( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n\t\tconst x0 = this.currentPoint.x;\n\t\tconst y0 = this.currentPoint.y;\n\n\t\tthis.absarc( aX + x0, aY + y0, aRadius,\n\t\t\taStartAngle, aEndAngle, aClockwise );\n\n\t\treturn this;\n\n\t},\n\n\tabsarc: function ( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n\t\tthis.absellipse( aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise );\n\n\t\treturn this;\n\n\t},\n\n\tellipse: function ( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\n\n\t\tconst x0 = this.currentPoint.x;\n\t\tconst y0 = this.currentPoint.y;\n\n\t\tthis.absellipse( aX + x0, aY + y0, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation );\n\n\t\treturn this;\n\n\t},\n\n\tabsellipse: function ( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\n\n\t\tconst curve = new EllipseCurve( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation );\n\n\t\tif ( this.curves.length > 0 ) {\n\n\t\t\t// if a previous curve is present, attempt to join\n\t\t\tconst firstPoint = curve.getPoint( 0 );\n\n\t\t\tif ( ! firstPoint.equals( this.currentPoint ) ) {\n\n\t\t\t\tthis.lineTo( firstPoint.x, firstPoint.y );\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.curves.push( curve );\n\n\t\tconst lastPoint = curve.getPoint( 1 );\n\t\tthis.currentPoint.copy( lastPoint );\n\n\t\treturn this;\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tCurvePath.prototype.copy.call( this, source );\n\n\t\tthis.currentPoint.copy( source.currentPoint );\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tconst data = CurvePath.prototype.toJSON.call( this );\n\n\t\tdata.currentPoint = this.currentPoint.toArray();\n\n\t\treturn data;\n\n\t},\n\n\tfromJSON: function ( json ) {\n\n\t\tCurvePath.prototype.fromJSON.call( this, json );\n\n\t\tthis.currentPoint.fromArray( json.currentPoint );\n\n\t\treturn this;\n\n\t}\n\n} );\n\nfunction Shape( points ) {\n\n\tPath.call( this, points );\n\n\tthis.uuid = MathUtils.generateUUID();\n\n\tthis.type = 'Shape';\n\n\tthis.holes = [];\n\n}\n\nShape.prototype = Object.assign( Object.create( Path.prototype ), {\n\n\tconstructor: Shape,\n\n\tgetPointsHoles: function ( divisions ) {\n\n\t\tconst holesPts = [];\n\n\t\tfor ( let i = 0, l = this.holes.length; i < l; i ++ ) {\n\n\t\t\tholesPts[ i ] = this.holes[ i ].getPoints( divisions );\n\n\t\t}\n\n\t\treturn holesPts;\n\n\t},\n\n\t// get points of shape and holes (keypoints based on segments parameter)\n\n\textractPoints: function ( divisions ) {\n\n\t\treturn {\n\n\t\t\tshape: this.getPoints( divisions ),\n\t\t\tholes: this.getPointsHoles( divisions )\n\n\t\t};\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tPath.prototype.copy.call( this, source );\n\n\t\tthis.holes = [];\n\n\t\tfor ( let i = 0, l = source.holes.length; i < l; i ++ ) {\n\n\t\t\tconst hole = source.holes[ i ];\n\n\t\t\tthis.holes.push( hole.clone() );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tconst data = Path.prototype.toJSON.call( this );\n\n\t\tdata.uuid = this.uuid;\n\t\tdata.holes = [];\n\n\t\tfor ( let i = 0, l = this.holes.length; i < l; i ++ ) {\n\n\t\t\tconst hole = this.holes[ i ];\n\t\t\tdata.holes.push( hole.toJSON() );\n\n\t\t}\n\n\t\treturn data;\n\n\t},\n\n\tfromJSON: function ( json ) {\n\n\t\tPath.prototype.fromJSON.call( this, json );\n\n\t\tthis.uuid = json.uuid;\n\t\tthis.holes = [];\n\n\t\tfor ( let i = 0, l = json.holes.length; i < l; i ++ ) {\n\n\t\t\tconst hole = json.holes[ i ];\n\t\t\tthis.holes.push( new Path().fromJSON( hole ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\nfunction Light( color, intensity ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Light';\n\n\tthis.color = new Color( color );\n\tthis.intensity = intensity !== undefined ? intensity : 1;\n\n}\n\nLight.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Light,\n\n\tisLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tObject3D.prototype.copy.call( this, source );\n\n\t\tthis.color.copy( source.color );\n\t\tthis.intensity = source.intensity;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tconst data = Object3D.prototype.toJSON.call( this, meta );\n\n\t\tdata.object.color = this.color.getHex();\n\t\tdata.object.intensity = this.intensity;\n\n\t\tif ( this.groundColor !== undefined ) data.object.groundColor = this.groundColor.getHex();\n\n\t\tif ( this.distance !== undefined ) data.object.distance = this.distance;\n\t\tif ( this.angle !== undefined ) data.object.angle = this.angle;\n\t\tif ( this.decay !== undefined ) data.object.decay = this.decay;\n\t\tif ( this.penumbra !== undefined ) data.object.penumbra = this.penumbra;\n\n\t\tif ( this.shadow !== undefined ) data.object.shadow = this.shadow.toJSON();\n\n\t\treturn data;\n\n\t}\n\n} );\n\nfunction HemisphereLight( skyColor, groundColor, intensity ) {\n\n\tLight.call( this, skyColor, intensity );\n\n\tthis.type = 'HemisphereLight';\n\n\tthis.position.copy( Object3D.DefaultUp );\n\tthis.updateMatrix();\n\n\tthis.groundColor = new Color( groundColor );\n\n}\n\nHemisphereLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: HemisphereLight,\n\n\tisHemisphereLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.groundColor.copy( source.groundColor );\n\n\t\treturn this;\n\n\t}\n\n} );\n\nfunction LightShadow( camera ) {\n\n\tthis.camera = camera;\n\n\tthis.bias = 0;\n\tthis.normalBias = 0;\n\tthis.radius = 1;\n\n\tthis.mapSize = new Vector2( 512, 512 );\n\n\tthis.map = null;\n\tthis.mapPass = null;\n\tthis.matrix = new Matrix4();\n\n\tthis.autoUpdate = true;\n\tthis.needsUpdate = false;\n\n\tthis._frustum = new Frustum();\n\tthis._frameExtents = new Vector2( 1, 1 );\n\n\tthis._viewportCount = 1;\n\n\tthis._viewports = [\n\n\t\tnew Vector4( 0, 0, 1, 1 )\n\n\t];\n\n}\n\nObject.assign( LightShadow.prototype, {\n\n\t_projScreenMatrix: new Matrix4(),\n\n\t_lightPositionWorld: new Vector3(),\n\n\t_lookTarget: new Vector3(),\n\n\tgetViewportCount: function () {\n\n\t\treturn this._viewportCount;\n\n\t},\n\n\tgetFrustum: function () {\n\n\t\treturn this._frustum;\n\n\t},\n\n\tupdateMatrices: function ( light ) {\n\n\t\tconst shadowCamera = this.camera,\n\t\t\tshadowMatrix = this.matrix,\n\t\t\tprojScreenMatrix = this._projScreenMatrix,\n\t\t\tlookTarget = this._lookTarget,\n\t\t\tlightPositionWorld = this._lightPositionWorld;\n\n\t\tlightPositionWorld.setFromMatrixPosition( light.matrixWorld );\n\t\tshadowCamera.position.copy( lightPositionWorld );\n\n\t\tlookTarget.setFromMatrixPosition( light.target.matrixWorld );\n\t\tshadowCamera.lookAt( lookTarget );\n\t\tshadowCamera.updateMatrixWorld();\n\n\t\tprojScreenMatrix.multiplyMatrices( shadowCamera.projectionMatrix, shadowCamera.matrixWorldInverse );\n\t\tthis._frustum.setFromProjectionMatrix( projScreenMatrix );\n\n\t\tshadowMatrix.set(\n\t\t\t0.5, 0.0, 0.0, 0.5,\n\t\t\t0.0, 0.5, 0.0, 0.5,\n\t\t\t0.0, 0.0, 0.5, 0.5,\n\t\t\t0.0, 0.0, 0.0, 1.0\n\t\t);\n\n\t\tshadowMatrix.multiply( shadowCamera.projectionMatrix );\n\t\tshadowMatrix.multiply( shadowCamera.matrixWorldInverse );\n\n\t},\n\n\tgetViewport: function ( viewportIndex ) {\n\n\t\treturn this._viewports[ viewportIndex ];\n\n\t},\n\n\tgetFrameExtents: function () {\n\n\t\treturn this._frameExtents;\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.camera = source.camera.clone();\n\n\t\tthis.bias = source.bias;\n\t\tthis.radius = source.radius;\n\n\t\tthis.mapSize.copy( source.mapSize );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tconst object = {};\n\n\t\tif ( this.bias !== 0 ) object.bias = this.bias;\n\t\tif ( this.normalBias !== 0 ) object.normalBias = this.normalBias;\n\t\tif ( this.radius !== 1 ) object.radius = this.radius;\n\t\tif ( this.mapSize.x !== 512 || this.mapSize.y !== 512 ) object.mapSize = this.mapSize.toArray();\n\n\t\tobject.camera = this.camera.toJSON( false ).object;\n\t\tdelete object.camera.matrix;\n\n\t\treturn object;\n\n\t}\n\n} );\n\nfunction SpotLightShadow() {\n\n\tLightShadow.call( this, new PerspectiveCamera( 50, 1, 0.5, 500 ) );\n\n\tthis.focus = 1;\n\n}\n\nSpotLightShadow.prototype = Object.assign( Object.create( LightShadow.prototype ), {\n\n\tconstructor: SpotLightShadow,\n\n\tisSpotLightShadow: true,\n\n\tupdateMatrices: function ( light ) {\n\n\t\tconst camera = this.camera;\n\n\t\tconst fov = MathUtils.RAD2DEG * 2 * light.angle * this.focus;\n\t\tconst aspect = this.mapSize.width / this.mapSize.height;\n\t\tconst far = light.distance || camera.far;\n\n\t\tif ( fov !== camera.fov || aspect !== camera.aspect || far !== camera.far ) {\n\n\t\t\tcamera.fov = fov;\n\t\t\tcamera.aspect = aspect;\n\t\t\tcamera.far = far;\n\t\t\tcamera.updateProjectionMatrix();\n\n\t\t}\n\n\t\tLightShadow.prototype.updateMatrices.call( this, light );\n\n\t}\n\n} );\n\nfunction SpotLight( color, intensity, distance, angle, penumbra, decay ) {\n\n\tLight.call( this, color, intensity );\n\n\tthis.type = 'SpotLight';\n\n\tthis.position.copy( Object3D.DefaultUp );\n\tthis.updateMatrix();\n\n\tthis.target = new Object3D();\n\n\tObject.defineProperty( this, 'power', {\n\t\tget: function () {\n\n\t\t\t// intensity = power per solid angle.\n\t\t\t// ref: equation (17) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\t\t\treturn this.intensity * Math.PI;\n\n\t\t},\n\t\tset: function ( power ) {\n\n\t\t\t// intensity = power per solid angle.\n\t\t\t// ref: equation (17) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\t\t\tthis.intensity = power / Math.PI;\n\n\t\t}\n\t} );\n\n\tthis.distance = ( distance !== undefined ) ? distance : 0;\n\tthis.angle = ( angle !== undefined ) ? angle : Math.PI / 3;\n\tthis.penumbra = ( penumbra !== undefined ) ? penumbra : 0;\n\tthis.decay = ( decay !== undefined ) ? decay : 1;\t// for physically correct lights, should be 2.\n\n\tthis.shadow = new SpotLightShadow();\n\n}\n\nSpotLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: SpotLight,\n\n\tisSpotLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.distance = source.distance;\n\t\tthis.angle = source.angle;\n\t\tthis.penumbra = source.penumbra;\n\t\tthis.decay = source.decay;\n\n\t\tthis.target = source.target.clone();\n\n\t\tthis.shadow = source.shadow.clone();\n\n\t\treturn this;\n\n\t}\n\n} );\n\nfunction PointLightShadow() {\n\n\tLightShadow.call( this, new PerspectiveCamera( 90, 1, 0.5, 500 ) );\n\n\tthis._frameExtents = new Vector2( 4, 2 );\n\n\tthis._viewportCount = 6;\n\n\tthis._viewports = [\n\t\t// These viewports map a cube-map onto a 2D texture with the\n\t\t// following orientation:\n\t\t//\n\t\t//  xzXZ\n\t\t//   y Y\n\t\t//\n\t\t// X - Positive x direction\n\t\t// x - Negative x direction\n\t\t// Y - Positive y direction\n\t\t// y - Negative y direction\n\t\t// Z - Positive z direction\n\t\t// z - Negative z direction\n\n\t\t// positive X\n\t\tnew Vector4( 2, 1, 1, 1 ),\n\t\t// negative X\n\t\tnew Vector4( 0, 1, 1, 1 ),\n\t\t// positive Z\n\t\tnew Vector4( 3, 1, 1, 1 ),\n\t\t// negative Z\n\t\tnew Vector4( 1, 1, 1, 1 ),\n\t\t// positive Y\n\t\tnew Vector4( 3, 0, 1, 1 ),\n\t\t// negative Y\n\t\tnew Vector4( 1, 0, 1, 1 )\n\t];\n\n\tthis._cubeDirections = [\n\t\tnew Vector3( 1, 0, 0 ), new Vector3( - 1, 0, 0 ), new Vector3( 0, 0, 1 ),\n\t\tnew Vector3( 0, 0, - 1 ), new Vector3( 0, 1, 0 ), new Vector3( 0, - 1, 0 )\n\t];\n\n\tthis._cubeUps = [\n\t\tnew Vector3( 0, 1, 0 ), new Vector3( 0, 1, 0 ), new Vector3( 0, 1, 0 ),\n\t\tnew Vector3( 0, 1, 0 ), new Vector3( 0, 0, 1 ),\tnew Vector3( 0, 0, - 1 )\n\t];\n\n}\n\nPointLightShadow.prototype = Object.assign( Object.create( LightShadow.prototype ), {\n\n\tconstructor: PointLightShadow,\n\n\tisPointLightShadow: true,\n\n\tupdateMatrices: function ( light, viewportIndex ) {\n\n\t\tif ( viewportIndex === undefined ) viewportIndex = 0;\n\n\t\tconst camera = this.camera,\n\t\t\tshadowMatrix = this.matrix,\n\t\t\tlightPositionWorld = this._lightPositionWorld,\n\t\t\tlookTarget = this._lookTarget,\n\t\t\tprojScreenMatrix = this._projScreenMatrix;\n\n\t\tlightPositionWorld.setFromMatrixPosition( light.matrixWorld );\n\t\tcamera.position.copy( lightPositionWorld );\n\n\t\tlookTarget.copy( camera.position );\n\t\tlookTarget.add( this._cubeDirections[ viewportIndex ] );\n\t\tcamera.up.copy( this._cubeUps[ viewportIndex ] );\n\t\tcamera.lookAt( lookTarget );\n\t\tcamera.updateMatrixWorld();\n\n\t\tshadowMatrix.makeTranslation( - lightPositionWorld.x, - lightPositionWorld.y, - lightPositionWorld.z );\n\n\t\tprojScreenMatrix.multiplyMatrices( camera.projectionMatrix, camera.matrixWorldInverse );\n\t\tthis._frustum.setFromProjectionMatrix( projScreenMatrix );\n\n\t}\n\n} );\n\nfunction PointLight( color, intensity, distance, decay ) {\n\n\tLight.call( this, color, intensity );\n\n\tthis.type = 'PointLight';\n\n\tObject.defineProperty( this, 'power', {\n\t\tget: function () {\n\n\t\t\t// intensity = power per solid angle.\n\t\t\t// ref: equation (15) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\t\t\treturn this.intensity * 4 * Math.PI;\n\n\t\t},\n\t\tset: function ( power ) {\n\n\t\t\t// intensity = power per solid angle.\n\t\t\t// ref: equation (15) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\t\t\tthis.intensity = power / ( 4 * Math.PI );\n\n\t\t}\n\t} );\n\n\tthis.distance = ( distance !== undefined ) ? distance : 0;\n\tthis.decay = ( decay !== undefined ) ? decay : 1;\t// for physically correct lights, should be 2.\n\n\tthis.shadow = new PointLightShadow();\n\n}\n\nPointLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: PointLight,\n\n\tisPointLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.distance = source.distance;\n\t\tthis.decay = source.decay;\n\n\t\tthis.shadow = source.shadow.clone();\n\n\t\treturn this;\n\n\t}\n\n} );\n\nfunction OrthographicCamera( left, right, top, bottom, near, far ) {\n\n\tCamera.call( this );\n\n\tthis.type = 'OrthographicCamera';\n\n\tthis.zoom = 1;\n\tthis.view = null;\n\n\tthis.left = ( left !== undefined ) ? left : - 1;\n\tthis.right = ( right !== undefined ) ? right : 1;\n\tthis.top = ( top !== undefined ) ? top : 1;\n\tthis.bottom = ( bottom !== undefined ) ? bottom : - 1;\n\n\tthis.near = ( near !== undefined ) ? near : 0.1;\n\tthis.far = ( far !== undefined ) ? far : 2000;\n\n\tthis.updateProjectionMatrix();\n\n}\n\nOrthographicCamera.prototype = Object.assign( Object.create( Camera.prototype ), {\n\n\tconstructor: OrthographicCamera,\n\n\tisOrthographicCamera: true,\n\n\tcopy: function ( source, recursive ) {\n\n\t\tCamera.prototype.copy.call( this, source, recursive );\n\n\t\tthis.left = source.left;\n\t\tthis.right = source.right;\n\t\tthis.top = source.top;\n\t\tthis.bottom = source.bottom;\n\t\tthis.near = source.near;\n\t\tthis.far = source.far;\n\n\t\tthis.zoom = source.zoom;\n\t\tthis.view = source.view === null ? null : Object.assign( {}, source.view );\n\n\t\treturn this;\n\n\t},\n\n\tsetViewOffset: function ( fullWidth, fullHeight, x, y, width, height ) {\n\n\t\tif ( this.view === null ) {\n\n\t\t\tthis.view = {\n\t\t\t\tenabled: true,\n\t\t\t\tfullWidth: 1,\n\t\t\t\tfullHeight: 1,\n\t\t\t\toffsetX: 0,\n\t\t\t\toffsetY: 0,\n\t\t\t\twidth: 1,\n\t\t\t\theight: 1\n\t\t\t};\n\n\t\t}\n\n\t\tthis.view.enabled = true;\n\t\tthis.view.fullWidth = fullWidth;\n\t\tthis.view.fullHeight = fullHeight;\n\t\tthis.view.offsetX = x;\n\t\tthis.view.offsetY = y;\n\t\tthis.view.width = width;\n\t\tthis.view.height = height;\n\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\tclearViewOffset: function () {\n\n\t\tif ( this.view !== null ) {\n\n\t\t\tthis.view.enabled = false;\n\n\t\t}\n\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\tupdateProjectionMatrix: function () {\n\n\t\tconst dx = ( this.right - this.left ) / ( 2 * this.zoom );\n\t\tconst dy = ( this.top - this.bottom ) / ( 2 * this.zoom );\n\t\tconst cx = ( this.right + this.left ) / 2;\n\t\tconst cy = ( this.top + this.bottom ) / 2;\n\n\t\tlet left = cx - dx;\n\t\tlet right = cx + dx;\n\t\tlet top = cy + dy;\n\t\tlet bottom = cy - dy;\n\n\t\tif ( this.view !== null && this.view.enabled ) {\n\n\t\t\tconst scaleW = ( this.right - this.left ) / this.view.fullWidth / this.zoom;\n\t\t\tconst scaleH = ( this.top - this.bottom ) / this.view.fullHeight / this.zoom;\n\n\t\t\tleft += scaleW * this.view.offsetX;\n\t\t\tright = left + scaleW * this.view.width;\n\t\t\ttop -= scaleH * this.view.offsetY;\n\t\t\tbottom = top - scaleH * this.view.height;\n\n\t\t}\n\n\t\tthis.projectionMatrix.makeOrthographic( left, right, top, bottom, this.near, this.far );\n\n\t\tthis.projectionMatrixInverse.getInverse( this.projectionMatrix );\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tconst data = Object3D.prototype.toJSON.call( this, meta );\n\n\t\tdata.object.zoom = this.zoom;\n\t\tdata.object.left = this.left;\n\t\tdata.object.right = this.right;\n\t\tdata.object.top = this.top;\n\t\tdata.object.bottom = this.bottom;\n\t\tdata.object.near = this.near;\n\t\tdata.object.far = this.far;\n\n\t\tif ( this.view !== null ) data.object.view = Object.assign( {}, this.view );\n\n\t\treturn data;\n\n\t}\n\n} );\n\nfunction DirectionalLightShadow() {\n\n\tLightShadow.call( this, new OrthographicCamera( - 5, 5, 5, - 5, 0.5, 500 ) );\n\n}\n\nDirectionalLightShadow.prototype = Object.assign( Object.create( LightShadow.prototype ), {\n\n\tconstructor: DirectionalLightShadow,\n\n\tisDirectionalLightShadow: true,\n\n\tupdateMatrices: function ( light ) {\n\n\t\tLightShadow.prototype.updateMatrices.call( this, light );\n\n\t}\n\n} );\n\nfunction DirectionalLight( color, intensity ) {\n\n\tLight.call( this, color, intensity );\n\n\tthis.type = 'DirectionalLight';\n\n\tthis.position.copy( Object3D.DefaultUp );\n\tthis.updateMatrix();\n\n\tthis.target = new Object3D();\n\n\tthis.shadow = new DirectionalLightShadow();\n\n}\n\nDirectionalLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: DirectionalLight,\n\n\tisDirectionalLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.target = source.target.clone();\n\n\t\tthis.shadow = source.shadow.clone();\n\n\t\treturn this;\n\n\t}\n\n} );\n\nfunction AmbientLight( color, intensity ) {\n\n\tLight.call( this, color, intensity );\n\n\tthis.type = 'AmbientLight';\n\n}\n\nAmbientLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: AmbientLight,\n\n\tisAmbientLight: true\n\n} );\n\nfunction RectAreaLight( color, intensity, width, height ) {\n\n\tLight.call( this, color, intensity );\n\n\tthis.type = 'RectAreaLight';\n\n\tthis.width = ( width !== undefined ) ? width : 10;\n\tthis.height = ( height !== undefined ) ? height : 10;\n\n}\n\nRectAreaLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: RectAreaLight,\n\n\tisRectAreaLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.width = source.width;\n\t\tthis.height = source.height;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tconst data = Light.prototype.toJSON.call( this, meta );\n\n\t\tdata.object.width = this.width;\n\t\tdata.object.height = this.height;\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * Primary reference:\n *   https://graphics.stanford.edu/papers/envmap/envmap.pdf\n *\n * Secondary reference:\n *   https://www.ppsloan.org/publications/StupidSH36.pdf\n */\n\n// 3-band SH defined by 9 coefficients\n\nclass SphericalHarmonics3 {\n\n\tconstructor() {\n\n\t\tObject.defineProperty( this, 'isSphericalHarmonics3', { value: true } );\n\n\t\tthis.coefficients = [];\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients.push( new Vector3() );\n\n\t\t}\n\n\t}\n\n\tset( coefficients ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].copy( coefficients[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tzero() {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].set( 0, 0, 0 );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// get the radiance in the direction of the normal\n\t// target is a Vector3\n\tgetAt( normal, target ) {\n\n\t\t// normal is assumed to be unit length\n\n\t\tconst x = normal.x, y = normal.y, z = normal.z;\n\n\t\tconst coeff = this.coefficients;\n\n\t\t// band 0\n\t\ttarget.copy( coeff[ 0 ] ).multiplyScalar( 0.282095 );\n\n\t\t// band 1\n\t\ttarget.addScaledVector( coeff[ 1 ], 0.488603 * y );\n\t\ttarget.addScaledVector( coeff[ 2 ], 0.488603 * z );\n\t\ttarget.addScaledVector( coeff[ 3 ], 0.488603 * x );\n\n\t\t// band 2\n\t\ttarget.addScaledVector( coeff[ 4 ], 1.092548 * ( x * y ) );\n\t\ttarget.addScaledVector( coeff[ 5 ], 1.092548 * ( y * z ) );\n\t\ttarget.addScaledVector( coeff[ 6 ], 0.315392 * ( 3.0 * z * z - 1.0 ) );\n\t\ttarget.addScaledVector( coeff[ 7 ], 1.092548 * ( x * z ) );\n\t\ttarget.addScaledVector( coeff[ 8 ], 0.546274 * ( x * x - y * y ) );\n\n\t\treturn target;\n\n\t}\n\n\t// get the irradiance (radiance convolved with cosine lobe) in the direction of the normal\n\t// target is a Vector3\n\t// https://graphics.stanford.edu/papers/envmap/envmap.pdf\n\tgetIrradianceAt( normal, target ) {\n\n\t\t// normal is assumed to be unit length\n\n\t\tconst x = normal.x, y = normal.y, z = normal.z;\n\n\t\tconst coeff = this.coefficients;\n\n\t\t// band 0\n\t\ttarget.copy( coeff[ 0 ] ).multiplyScalar( 0.886227 ); // π * 0.282095\n\n\t\t// band 1\n\t\ttarget.addScaledVector( coeff[ 1 ], 2.0 * 0.511664 * y ); // ( 2 * π / 3 ) * 0.488603\n\t\ttarget.addScaledVector( coeff[ 2 ], 2.0 * 0.511664 * z );\n\t\ttarget.addScaledVector( coeff[ 3 ], 2.0 * 0.511664 * x );\n\n\t\t// band 2\n\t\ttarget.addScaledVector( coeff[ 4 ], 2.0 * 0.429043 * x * y ); // ( π / 4 ) * 1.092548\n\t\ttarget.addScaledVector( coeff[ 5 ], 2.0 * 0.429043 * y * z );\n\t\ttarget.addScaledVector( coeff[ 6 ], 0.743125 * z * z - 0.247708 ); // ( π / 4 ) * 0.315392 * 3\n\t\ttarget.addScaledVector( coeff[ 7 ], 2.0 * 0.429043 * x * z );\n\t\ttarget.addScaledVector( coeff[ 8 ], 0.429043 * ( x * x - y * y ) ); // ( π / 4 ) * 0.546274\n\n\t\treturn target;\n\n\t}\n\n\tadd( sh ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].add( sh.coefficients[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\taddScaledSH( sh, s ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].addScaledVector( sh.coefficients[ i ], s );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tscale( s ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].multiplyScalar( s );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tlerp( sh, alpha ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].lerp( sh.coefficients[ i ], alpha );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tequals( sh ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tif ( ! this.coefficients[ i ].equals( sh.coefficients[ i ] ) ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tcopy( sh ) {\n\n\t\treturn this.set( sh.coefficients );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tconst coefficients = this.coefficients;\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tcoefficients[ i ].fromArray( array, offset + ( i * 3 ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tconst coefficients = this.coefficients;\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tcoefficients[ i ].toArray( array, offset + ( i * 3 ) );\n\n\t\t}\n\n\t\treturn array;\n\n\t}\n\n\t// evaluate the basis functions\n\t// shBasis is an Array[ 9 ]\n\tstatic getBasisAt( normal, shBasis ) {\n\n\t\t// normal is assumed to be unit length\n\n\t\tconst x = normal.x, y = normal.y, z = normal.z;\n\n\t\t// band 0\n\t\tshBasis[ 0 ] = 0.282095;\n\n\t\t// band 1\n\t\tshBasis[ 1 ] = 0.488603 * y;\n\t\tshBasis[ 2 ] = 0.488603 * z;\n\t\tshBasis[ 3 ] = 0.488603 * x;\n\n\t\t// band 2\n\t\tshBasis[ 4 ] = 1.092548 * x * y;\n\t\tshBasis[ 5 ] = 1.092548 * y * z;\n\t\tshBasis[ 6 ] = 0.315392 * ( 3 * z * z - 1 );\n\t\tshBasis[ 7 ] = 1.092548 * x * z;\n\t\tshBasis[ 8 ] = 0.546274 * ( x * x - y * y );\n\n\t}\n\n}\n\nfunction LightProbe( sh, intensity ) {\n\n\tLight.call( this, undefined, intensity );\n\n\tthis.type = 'LightProbe';\n\n\tthis.sh = ( sh !== undefined ) ? sh : new SphericalHarmonics3();\n\n}\n\nLightProbe.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: LightProbe,\n\n\tisLightProbe: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.sh.copy( source.sh );\n\n\t\treturn this;\n\n\t},\n\n\tfromJSON: function ( json ) {\n\n\t\tthis.intensity = json.intensity; // TODO: Move this bit to Light.fromJSON();\n\t\tthis.sh.fromArray( json.sh );\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tconst data = Light.prototype.toJSON.call( this, meta );\n\n\t\tdata.object.sh = this.sh.toArray();\n\n\t\treturn data;\n\n\t}\n\n} );\n\nfunction MaterialLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n\tthis.textures = {};\n\n}\n\nMaterialLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: MaterialLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( scope.manager );\n\t\tloader.setPath( scope.path );\n\t\tloader.setRequestHeader( scope.requestHeader );\n\t\tloader.setWithCredentials( scope.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\ttry {\n\n\t\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tparse: function ( json ) {\n\n\t\tconst textures = this.textures;\n\n\t\tfunction getTexture( name ) {\n\n\t\t\tif ( textures[ name ] === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.MaterialLoader: Undefined texture', name );\n\n\t\t\t}\n\n\t\t\treturn textures[ name ];\n\n\t\t}\n\n\t\tconst material = new Materials[ json.type ]();\n\n\t\tif ( json.uuid !== undefined ) material.uuid = json.uuid;\n\t\tif ( json.name !== undefined ) material.name = json.name;\n\t\tif ( json.color !== undefined && material.color !== undefined ) material.color.setHex( json.color );\n\t\tif ( json.roughness !== undefined ) material.roughness = json.roughness;\n\t\tif ( json.metalness !== undefined ) material.metalness = json.metalness;\n\t\tif ( json.sheen !== undefined ) material.sheen = new Color().setHex( json.sheen );\n\t\tif ( json.emissive !== undefined && material.emissive !== undefined ) material.emissive.setHex( json.emissive );\n\t\tif ( json.specular !== undefined && material.specular !== undefined ) material.specular.setHex( json.specular );\n\t\tif ( json.shininess !== undefined ) material.shininess = json.shininess;\n\t\tif ( json.clearcoat !== undefined ) material.clearcoat = json.clearcoat;\n\t\tif ( json.clearcoatRoughness !== undefined ) material.clearcoatRoughness = json.clearcoatRoughness;\n\t\tif ( json.fog !== undefined ) material.fog = json.fog;\n\t\tif ( json.flatShading !== undefined ) material.flatShading = json.flatShading;\n\t\tif ( json.blending !== undefined ) material.blending = json.blending;\n\t\tif ( json.combine !== undefined ) material.combine = json.combine;\n\t\tif ( json.side !== undefined ) material.side = json.side;\n\t\tif ( json.opacity !== undefined ) material.opacity = json.opacity;\n\t\tif ( json.transparent !== undefined ) material.transparent = json.transparent;\n\t\tif ( json.alphaTest !== undefined ) material.alphaTest = json.alphaTest;\n\t\tif ( json.depthTest !== undefined ) material.depthTest = json.depthTest;\n\t\tif ( json.depthWrite !== undefined ) material.depthWrite = json.depthWrite;\n\t\tif ( json.colorWrite !== undefined ) material.colorWrite = json.colorWrite;\n\n\t\tif ( json.stencilWrite !== undefined ) material.stencilWrite = json.stencilWrite;\n\t\tif ( json.stencilWriteMask !== undefined ) material.stencilWriteMask = json.stencilWriteMask;\n\t\tif ( json.stencilFunc !== undefined ) material.stencilFunc = json.stencilFunc;\n\t\tif ( json.stencilRef !== undefined ) material.stencilRef = json.stencilRef;\n\t\tif ( json.stencilFuncMask !== undefined ) material.stencilFuncMask = json.stencilFuncMask;\n\t\tif ( json.stencilFail !== undefined ) material.stencilFail = json.stencilFail;\n\t\tif ( json.stencilZFail !== undefined ) material.stencilZFail = json.stencilZFail;\n\t\tif ( json.stencilZPass !== undefined ) material.stencilZPass = json.stencilZPass;\n\n\t\tif ( json.wireframe !== undefined ) material.wireframe = json.wireframe;\n\t\tif ( json.wireframeLinewidth !== undefined ) material.wireframeLinewidth = json.wireframeLinewidth;\n\t\tif ( json.wireframeLinecap !== undefined ) material.wireframeLinecap = json.wireframeLinecap;\n\t\tif ( json.wireframeLinejoin !== undefined ) material.wireframeLinejoin = json.wireframeLinejoin;\n\n\t\tif ( json.rotation !== undefined ) material.rotation = json.rotation;\n\n\t\tif ( json.linewidth !== 1 ) material.linewidth = json.linewidth;\n\t\tif ( json.dashSize !== undefined ) material.dashSize = json.dashSize;\n\t\tif ( json.gapSize !== undefined ) material.gapSize = json.gapSize;\n\t\tif ( json.scale !== undefined ) material.scale = json.scale;\n\n\t\tif ( json.polygonOffset !== undefined ) material.polygonOffset = json.polygonOffset;\n\t\tif ( json.polygonOffsetFactor !== undefined ) material.polygonOffsetFactor = json.polygonOffsetFactor;\n\t\tif ( json.polygonOffsetUnits !== undefined ) material.polygonOffsetUnits = json.polygonOffsetUnits;\n\n\t\tif ( json.skinning !== undefined ) material.skinning = json.skinning;\n\t\tif ( json.morphTargets !== undefined ) material.morphTargets = json.morphTargets;\n\t\tif ( json.morphNormals !== undefined ) material.morphNormals = json.morphNormals;\n\t\tif ( json.dithering !== undefined ) material.dithering = json.dithering;\n\n\t\tif ( json.vertexTangents !== undefined ) material.vertexTangents = json.vertexTangents;\n\n\t\tif ( json.visible !== undefined ) material.visible = json.visible;\n\n\t\tif ( json.toneMapped !== undefined ) material.toneMapped = json.toneMapped;\n\n\t\tif ( json.userData !== undefined ) material.userData = json.userData;\n\n\t\tif ( json.vertexColors !== undefined ) {\n\n\t\t\tif ( typeof json.vertexColors === 'number' ) {\n\n\t\t\t\tmaterial.vertexColors = ( json.vertexColors > 0 ) ? true : false;\n\n\t\t\t} else {\n\n\t\t\t\tmaterial.vertexColors = json.vertexColors;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Shader Material\n\n\t\tif ( json.uniforms !== undefined ) {\n\n\t\t\tfor ( const name in json.uniforms ) {\n\n\t\t\t\tconst uniform = json.uniforms[ name ];\n\n\t\t\t\tmaterial.uniforms[ name ] = {};\n\n\t\t\t\tswitch ( uniform.type ) {\n\n\t\t\t\t\tcase 't':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = getTexture( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'c':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Color().setHex( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'v2':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Vector2().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'v3':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Vector3().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'v4':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Vector4().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'm3':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Matrix3().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'm4':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Matrix4().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = uniform.value;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( json.defines !== undefined ) material.defines = json.defines;\n\t\tif ( json.vertexShader !== undefined ) material.vertexShader = json.vertexShader;\n\t\tif ( json.fragmentShader !== undefined ) material.fragmentShader = json.fragmentShader;\n\n\t\tif ( json.extensions !== undefined ) {\n\n\t\t\tfor ( const key in json.extensions ) {\n\n\t\t\t\tmaterial.extensions[ key ] = json.extensions[ key ];\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Deprecated\n\n\t\tif ( json.shading !== undefined ) material.flatShading = json.shading === 1; // THREE.FlatShading\n\n\t\t// for PointsMaterial\n\n\t\tif ( json.size !== undefined ) material.size = json.size;\n\t\tif ( json.sizeAttenuation !== undefined ) material.sizeAttenuation = json.sizeAttenuation;\n\n\t\t// maps\n\n\t\tif ( json.map !== undefined ) material.map = getTexture( json.map );\n\t\tif ( json.matcap !== undefined ) material.matcap = getTexture( json.matcap );\n\n\t\tif ( json.alphaMap !== undefined ) material.alphaMap = getTexture( json.alphaMap );\n\n\t\tif ( json.bumpMap !== undefined ) material.bumpMap = getTexture( json.bumpMap );\n\t\tif ( json.bumpScale !== undefined ) material.bumpScale = json.bumpScale;\n\n\t\tif ( json.normalMap !== undefined ) material.normalMap = getTexture( json.normalMap );\n\t\tif ( json.normalMapType !== undefined ) material.normalMapType = json.normalMapType;\n\t\tif ( json.normalScale !== undefined ) {\n\n\t\t\tlet normalScale = json.normalScale;\n\n\t\t\tif ( Array.isArray( normalScale ) === false ) {\n\n\t\t\t\t// Blender exporter used to export a scalar. See #7459\n\n\t\t\t\tnormalScale = [ normalScale, normalScale ];\n\n\t\t\t}\n\n\t\t\tmaterial.normalScale = new Vector2().fromArray( normalScale );\n\n\t\t}\n\n\t\tif ( json.displacementMap !== undefined ) material.displacementMap = getTexture( json.displacementMap );\n\t\tif ( json.displacementScale !== undefined ) material.displacementScale = json.displacementScale;\n\t\tif ( json.displacementBias !== undefined ) material.displacementBias = json.displacementBias;\n\n\t\tif ( json.roughnessMap !== undefined ) material.roughnessMap = getTexture( json.roughnessMap );\n\t\tif ( json.metalnessMap !== undefined ) material.metalnessMap = getTexture( json.metalnessMap );\n\n\t\tif ( json.emissiveMap !== undefined ) material.emissiveMap = getTexture( json.emissiveMap );\n\t\tif ( json.emissiveIntensity !== undefined ) material.emissiveIntensity = json.emissiveIntensity;\n\n\t\tif ( json.specularMap !== undefined ) material.specularMap = getTexture( json.specularMap );\n\n\t\tif ( json.envMap !== undefined ) material.envMap = getTexture( json.envMap );\n\t\tif ( json.envMapIntensity !== undefined ) material.envMapIntensity = json.envMapIntensity;\n\n\t\tif ( json.reflectivity !== undefined ) material.reflectivity = json.reflectivity;\n\t\tif ( json.refractionRatio !== undefined ) material.refractionRatio = json.refractionRatio;\n\n\t\tif ( json.lightMap !== undefined ) material.lightMap = getTexture( json.lightMap );\n\t\tif ( json.lightMapIntensity !== undefined ) material.lightMapIntensity = json.lightMapIntensity;\n\n\t\tif ( json.aoMap !== undefined ) material.aoMap = getTexture( json.aoMap );\n\t\tif ( json.aoMapIntensity !== undefined ) material.aoMapIntensity = json.aoMapIntensity;\n\n\t\tif ( json.gradientMap !== undefined ) material.gradientMap = getTexture( json.gradientMap );\n\n\t\tif ( json.clearcoatMap !== undefined ) material.clearcoatMap = getTexture( json.clearcoatMap );\n\t\tif ( json.clearcoatRoughnessMap !== undefined ) material.clearcoatRoughnessMap = getTexture( json.clearcoatRoughnessMap );\n\t\tif ( json.clearcoatNormalMap !== undefined ) material.clearcoatNormalMap = getTexture( json.clearcoatNormalMap );\n\t\tif ( json.clearcoatNormalScale !== undefined ) material.clearcoatNormalScale = new Vector2().fromArray( json.clearcoatNormalScale );\n\n\t\tif ( json.transmission !== undefined ) material.transmission = json.transmission;\n\t\tif ( json.transmissionMap !== undefined ) material.transmissionMap = getTexture( json.transmissionMap );\n\n\t\treturn material;\n\n\t},\n\n\tsetTextures: function ( value ) {\n\n\t\tthis.textures = value;\n\t\treturn this;\n\n\t}\n\n} );\n\nconst LoaderUtils = {\n\n\tdecodeText: function ( array ) {\n\n\t\tif ( typeof TextDecoder !== 'undefined' ) {\n\n\t\t\treturn new TextDecoder().decode( array );\n\n\t\t}\n\n\t\t// Avoid the String.fromCharCode.apply(null, array) shortcut, which\n\t\t// throws a \"maximum call stack size exceeded\" error for large arrays.\n\n\t\tlet s = '';\n\n\t\tfor ( let i = 0, il = array.length; i < il; i ++ ) {\n\n\t\t\t// Implicitly assumes little-endian.\n\t\t\ts += String.fromCharCode( array[ i ] );\n\n\t\t}\n\n\t\ttry {\n\n\t\t\t// merges multi-byte utf-8 characters.\n\n\t\t\treturn decodeURIComponent( escape( s ) );\n\n\t\t} catch ( e ) { // see #16358\n\n\t\t\treturn s;\n\n\t\t}\n\n\t},\n\n\textractUrlBase: function ( url ) {\n\n\t\tconst index = url.lastIndexOf( '/' );\n\n\t\tif ( index === - 1 ) return './';\n\n\t\treturn url.substr( 0, index + 1 );\n\n\t}\n\n};\n\nfunction InstancedBufferGeometry() {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'InstancedBufferGeometry';\n\tthis.instanceCount = Infinity;\n\n}\n\nInstancedBufferGeometry.prototype = Object.assign( Object.create( BufferGeometry.prototype ), {\n\n\tconstructor: InstancedBufferGeometry,\n\n\tisInstancedBufferGeometry: true,\n\n\tcopy: function ( source ) {\n\n\t\tBufferGeometry.prototype.copy.call( this, source );\n\n\t\tthis.instanceCount = source.instanceCount;\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tconst data = BufferGeometry.prototype.toJSON.call( this );\n\n\t\tdata.instanceCount = this.instanceCount;\n\n\t\tdata.isInstancedBufferGeometry = true;\n\n\t\treturn data;\n\n\t}\n\n} );\n\nfunction InstancedBufferAttribute( array, itemSize, normalized, meshPerAttribute ) {\n\n\tif ( typeof ( normalized ) === 'number' ) {\n\n\t\tmeshPerAttribute = normalized;\n\n\t\tnormalized = false;\n\n\t\tconsole.error( 'THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.' );\n\n\t}\n\n\tBufferAttribute.call( this, array, itemSize, normalized );\n\n\tthis.meshPerAttribute = meshPerAttribute || 1;\n\n}\n\nInstancedBufferAttribute.prototype = Object.assign( Object.create( BufferAttribute.prototype ), {\n\n\tconstructor: InstancedBufferAttribute,\n\n\tisInstancedBufferAttribute: true,\n\n\tcopy: function ( source ) {\n\n\t\tBufferAttribute.prototype.copy.call( this, source );\n\n\t\tthis.meshPerAttribute = source.meshPerAttribute;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ()\t{\n\n\t\tconst data = BufferAttribute.prototype.toJSON.call( this );\n\n\t\tdata.meshPerAttribute = this.meshPerAttribute;\n\n\t\tdata.isInstancedBufferAttribute = true;\n\n\t\treturn data;\n\n\t}\n\n} );\n\nfunction BufferGeometryLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nBufferGeometryLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: BufferGeometryLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( scope.manager );\n\t\tloader.setPath( scope.path );\n\t\tloader.setRequestHeader( scope.requestHeader );\n\t\tloader.setWithCredentials( scope.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\ttry {\n\n\t\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tparse: function ( json ) {\n\n\t\tconst interleavedBufferMap = {};\n\t\tconst arrayBufferMap = {};\n\n\t\tfunction getInterleavedBuffer( json, uuid ) {\n\n\t\t\tif ( interleavedBufferMap[ uuid ] !== undefined ) return interleavedBufferMap[ uuid ];\n\n\t\t\tconst interleavedBuffers = json.interleavedBuffers;\n\t\t\tconst interleavedBuffer = interleavedBuffers[ uuid ];\n\n\t\t\tconst buffer = getArrayBuffer( json, interleavedBuffer.buffer );\n\n\t\t\tconst array = new TYPED_ARRAYS[ interleavedBuffer.type ]( buffer );\n\t\t\tconst ib = new InterleavedBuffer( array, interleavedBuffer.stride );\n\t\t\tib.uuid = interleavedBuffer.uuid;\n\n\t\t\tinterleavedBufferMap[ uuid ] = ib;\n\n\t\t\treturn ib;\n\n\t\t}\n\n\t\tfunction getArrayBuffer( json, uuid ) {\n\n\t\t\tif ( arrayBufferMap[ uuid ] !== undefined ) return arrayBufferMap[ uuid ];\n\n\t\t\tconst arrayBuffers = json.arrayBuffers;\n\t\t\tconst arrayBuffer = arrayBuffers[ uuid ];\n\n\t\t\tconst ab = new Uint32Array( arrayBuffer ).buffer;\n\n\t\t\tarrayBufferMap[ uuid ] = ab;\n\n\t\t\treturn ab;\n\n\t\t}\n\n\t\tconst geometry = json.isInstancedBufferGeometry ? new InstancedBufferGeometry() : new BufferGeometry();\n\n\t\tconst index = json.data.index;\n\n\t\tif ( index !== undefined ) {\n\n\t\t\tconst typedArray = new TYPED_ARRAYS[ index.type ]( index.array );\n\t\t\tgeometry.setIndex( new BufferAttribute( typedArray, 1 ) );\n\n\t\t}\n\n\t\tconst attributes = json.data.attributes;\n\n\t\tfor ( const key in attributes ) {\n\n\t\t\tconst attribute = attributes[ key ];\n\t\t\tlet bufferAttribute;\n\n\t\t\tif ( attribute.isInterleavedBufferAttribute ) {\n\n\t\t\t\tconst interleavedBuffer = getInterleavedBuffer( json.data, attribute.data );\n\t\t\t\tbufferAttribute = new InterleavedBufferAttribute( interleavedBuffer, attribute.itemSize, attribute.offset, attribute.normalized );\n\n\t\t\t} else {\n\n\t\t\t\tconst typedArray = new TYPED_ARRAYS[ attribute.type ]( attribute.array );\n\t\t\t\tconst bufferAttributeConstr = attribute.isInstancedBufferAttribute ? InstancedBufferAttribute : BufferAttribute;\n\t\t\t\tbufferAttribute = new bufferAttributeConstr( typedArray, attribute.itemSize, attribute.normalized );\n\n\t\t\t}\n\n\t\t\tif ( attribute.name !== undefined ) bufferAttribute.name = attribute.name;\n\t\t\tgeometry.setAttribute( key, bufferAttribute );\n\n\t\t}\n\n\t\tconst morphAttributes = json.data.morphAttributes;\n\n\t\tif ( morphAttributes ) {\n\n\t\t\tfor ( const key in morphAttributes ) {\n\n\t\t\t\tconst attributeArray = morphAttributes[ key ];\n\n\t\t\t\tconst array = [];\n\n\t\t\t\tfor ( let i = 0, il = attributeArray.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst attribute = attributeArray[ i ];\n\t\t\t\t\tlet bufferAttribute;\n\n\t\t\t\t\tif ( attribute.isInterleavedBufferAttribute ) {\n\n\t\t\t\t\t\tconst interleavedBuffer = getInterleavedBuffer( json.data, attribute.data );\n\t\t\t\t\t\tbufferAttribute = new InterleavedBufferAttribute( interleavedBuffer, attribute.itemSize, attribute.offset, attribute.normalized );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconst typedArray = new TYPED_ARRAYS[ attribute.type ]( attribute.array );\n\t\t\t\t\t\tbufferAttribute = new BufferAttribute( typedArray, attribute.itemSize, attribute.normalized );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( attribute.name !== undefined ) bufferAttribute.name = attribute.name;\n\t\t\t\t\tarray.push( bufferAttribute );\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.morphAttributes[ key ] = array;\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst morphTargetsRelative = json.data.morphTargetsRelative;\n\n\t\tif ( morphTargetsRelative ) {\n\n\t\t\tgeometry.morphTargetsRelative = true;\n\n\t\t}\n\n\t\tconst groups = json.data.groups || json.data.drawcalls || json.data.offsets;\n\n\t\tif ( groups !== undefined ) {\n\n\t\t\tfor ( let i = 0, n = groups.length; i !== n; ++ i ) {\n\n\t\t\t\tconst group = groups[ i ];\n\n\t\t\t\tgeometry.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst boundingSphere = json.data.boundingSphere;\n\n\t\tif ( boundingSphere !== undefined ) {\n\n\t\t\tconst center = new Vector3();\n\n\t\t\tif ( boundingSphere.center !== undefined ) {\n\n\t\t\t\tcenter.fromArray( boundingSphere.center );\n\n\t\t\t}\n\n\t\t\tgeometry.boundingSphere = new Sphere( center, boundingSphere.radius );\n\n\t\t}\n\n\t\tif ( json.name ) geometry.name = json.name;\n\t\tif ( json.userData ) geometry.userData = json.userData;\n\n\t\treturn geometry;\n\n\t}\n\n} );\n\nconst TYPED_ARRAYS = {\n\tInt8Array: Int8Array,\n\tUint8Array: Uint8Array,\n\t// Workaround for IE11 pre KB2929437. See #11440\n\tUint8ClampedArray: typeof Uint8ClampedArray !== 'undefined' ? Uint8ClampedArray : Uint8Array,\n\tInt16Array: Int16Array,\n\tUint16Array: Uint16Array,\n\tInt32Array: Int32Array,\n\tUint32Array: Uint32Array,\n\tFloat32Array: Float32Array,\n\tFloat64Array: Float64Array\n};\n\nclass ObjectLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst path = ( this.path === '' ) ? LoaderUtils.extractUrlBase( url ) : this.path;\n\t\tthis.resourcePath = this.resourcePath || path;\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( this.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tlet json = null;\n\n\t\t\ttry {\n\n\t\t\t\tjson = JSON.parse( text );\n\n\t\t\t} catch ( error ) {\n\n\t\t\t\tif ( onError !== undefined ) onError( error );\n\n\t\t\t\tconsole.error( 'THREE:ObjectLoader: Can\\'t parse ' + url + '.', error.message );\n\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tconst metadata = json.metadata;\n\n\t\t\tif ( metadata === undefined || metadata.type === undefined || metadata.type.toLowerCase() === 'geometry' ) {\n\n\t\t\t\tconsole.error( 'THREE.ObjectLoader: Can\\'t load ' + url );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tscope.parse( json, onLoad );\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\tparse( json, onLoad ) {\n\n\t\tconst shapes = this.parseShape( json.shapes );\n\t\tconst geometries = this.parseGeometries( json.geometries, shapes );\n\n\t\tconst images = this.parseImages( json.images, function () {\n\n\t\t\tif ( onLoad !== undefined ) onLoad( object );\n\n\t\t} );\n\n\t\tconst textures = this.parseTextures( json.textures, images );\n\t\tconst materials = this.parseMaterials( json.materials, textures );\n\n\t\tconst object = this.parseObject( json.object, geometries, materials );\n\n\t\tif ( json.animations ) {\n\n\t\t\tobject.animations = this.parseAnimations( json.animations );\n\n\t\t}\n\n\t\tif ( json.images === undefined || json.images.length === 0 ) {\n\n\t\t\tif ( onLoad !== undefined ) onLoad( object );\n\n\t\t}\n\n\t\treturn object;\n\n\t}\n\n\tparseShape( json ) {\n\n\t\tconst shapes = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tfor ( let i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tconst shape = new Shape().fromJSON( json[ i ] );\n\n\t\t\t\tshapes[ shape.uuid ] = shape;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn shapes;\n\n\t}\n\n\tparseGeometries( json, shapes ) {\n\n\t\tconst geometries = {};\n\t\tlet geometryShapes;\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tconst bufferGeometryLoader = new BufferGeometryLoader();\n\n\t\t\tfor ( let i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tlet geometry;\n\t\t\t\tconst data = json[ i ];\n\n\t\t\t\tswitch ( data.type ) {\n\n\t\t\t\t\tcase 'PlaneGeometry':\n\t\t\t\t\tcase 'PlaneBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.width,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.widthSegments,\n\t\t\t\t\t\t\tdata.heightSegments\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'BoxGeometry':\n\t\t\t\t\tcase 'BoxBufferGeometry':\n\t\t\t\t\tcase 'CubeGeometry': // backwards compatible\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.width,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.depth,\n\t\t\t\t\t\t\tdata.widthSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.depthSegments\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'CircleGeometry':\n\t\t\t\t\tcase 'CircleBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.segments,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'CylinderGeometry':\n\t\t\t\t\tcase 'CylinderBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radiusTop,\n\t\t\t\t\t\t\tdata.radiusBottom,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.openEnded,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'ConeGeometry':\n\t\t\t\t\tcase 'ConeBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.openEnded,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'SphereGeometry':\n\t\t\t\t\tcase 'SphereBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.widthSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.phiStart,\n\t\t\t\t\t\t\tdata.phiLength,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'DodecahedronGeometry':\n\t\t\t\t\tcase 'DodecahedronBufferGeometry':\n\t\t\t\t\tcase 'IcosahedronGeometry':\n\t\t\t\t\tcase 'IcosahedronBufferGeometry':\n\t\t\t\t\tcase 'OctahedronGeometry':\n\t\t\t\t\tcase 'OctahedronBufferGeometry':\n\t\t\t\t\tcase 'TetrahedronGeometry':\n\t\t\t\t\tcase 'TetrahedronBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.detail\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'RingGeometry':\n\t\t\t\t\tcase 'RingBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.innerRadius,\n\t\t\t\t\t\t\tdata.outerRadius,\n\t\t\t\t\t\t\tdata.thetaSegments,\n\t\t\t\t\t\t\tdata.phiSegments,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'TorusGeometry':\n\t\t\t\t\tcase 'TorusBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.tube,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.tubularSegments,\n\t\t\t\t\t\t\tdata.arc\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'TorusKnotGeometry':\n\t\t\t\t\tcase 'TorusKnotBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.tube,\n\t\t\t\t\t\t\tdata.tubularSegments,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.p,\n\t\t\t\t\t\t\tdata.q\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'TubeGeometry':\n\t\t\t\t\tcase 'TubeBufferGeometry':\n\n\t\t\t\t\t\t// This only works for built-in curves (e.g. CatmullRomCurve3).\n\t\t\t\t\t\t// User defined curves or instances of CurvePath will not be deserialized.\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tnew Curves[ data.path.type ]().fromJSON( data.path ),\n\t\t\t\t\t\t\tdata.tubularSegments,\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.closed\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'LatheGeometry':\n\t\t\t\t\tcase 'LatheBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.points,\n\t\t\t\t\t\t\tdata.segments,\n\t\t\t\t\t\t\tdata.phiStart,\n\t\t\t\t\t\t\tdata.phiLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'PolyhedronGeometry':\n\t\t\t\t\tcase 'PolyhedronBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.vertices,\n\t\t\t\t\t\t\tdata.indices,\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.details\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'ShapeGeometry':\n\t\t\t\t\tcase 'ShapeBufferGeometry':\n\n\t\t\t\t\t\tgeometryShapes = [];\n\n\t\t\t\t\t\tfor ( let j = 0, jl = data.shapes.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\t\tconst shape = shapes[ data.shapes[ j ] ];\n\n\t\t\t\t\t\t\tgeometryShapes.push( shape );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tgeometryShapes,\n\t\t\t\t\t\t\tdata.curveSegments\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\n\t\t\t\t\tcase 'ExtrudeGeometry':\n\t\t\t\t\tcase 'ExtrudeBufferGeometry':\n\n\t\t\t\t\t\tgeometryShapes = [];\n\n\t\t\t\t\t\tfor ( let j = 0, jl = data.shapes.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\t\tconst shape = shapes[ data.shapes[ j ] ];\n\n\t\t\t\t\t\t\tgeometryShapes.push( shape );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst extrudePath = data.options.extrudePath;\n\n\t\t\t\t\t\tif ( extrudePath !== undefined ) {\n\n\t\t\t\t\t\t\tdata.options.extrudePath = new Curves[ extrudePath.type ]().fromJSON( extrudePath );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tgeometryShapes,\n\t\t\t\t\t\t\tdata.options\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'BufferGeometry':\n\t\t\t\t\tcase 'InstancedBufferGeometry':\n\n\t\t\t\t\t\tgeometry = bufferGeometryLoader.parse( data );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'Geometry':\n\n\t\t\t\t\t\tconsole.error( 'THREE.ObjectLoader: Loading \"Geometry\" is not supported anymore.' );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Unsupported geometry type \"' + data.type + '\"' );\n\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.uuid = data.uuid;\n\n\t\t\t\tif ( data.name !== undefined ) geometry.name = data.name;\n\t\t\t\tif ( geometry.isBufferGeometry === true && data.userData !== undefined ) geometry.userData = data.userData;\n\n\t\t\t\tgeometries[ data.uuid ] = geometry;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn geometries;\n\n\t}\n\n\tparseMaterials( json, textures ) {\n\n\t\tconst cache = {}; // MultiMaterial\n\t\tconst materials = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tconst loader = new MaterialLoader();\n\t\t\tloader.setTextures( textures );\n\n\t\t\tfor ( let i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tconst data = json[ i ];\n\n\t\t\t\tif ( data.type === 'MultiMaterial' ) {\n\n\t\t\t\t\t// Deprecated\n\n\t\t\t\t\tconst array = [];\n\n\t\t\t\t\tfor ( let j = 0; j < data.materials.length; j ++ ) {\n\n\t\t\t\t\t\tconst material = data.materials[ j ];\n\n\t\t\t\t\t\tif ( cache[ material.uuid ] === undefined ) {\n\n\t\t\t\t\t\t\tcache[ material.uuid ] = loader.parse( material );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tarray.push( cache[ material.uuid ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tmaterials[ data.uuid ] = array;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( cache[ data.uuid ] === undefined ) {\n\n\t\t\t\t\t\tcache[ data.uuid ] = loader.parse( data );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tmaterials[ data.uuid ] = cache[ data.uuid ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn materials;\n\n\t}\n\n\tparseAnimations( json ) {\n\n\t\tconst animations = [];\n\n\t\tfor ( let i = 0; i < json.length; i ++ ) {\n\n\t\t\tconst data = json[ i ];\n\n\t\t\tconst clip = AnimationClip.parse( data );\n\n\t\t\tif ( data.uuid !== undefined ) clip.uuid = data.uuid;\n\n\t\t\tanimations.push( clip );\n\n\t\t}\n\n\t\treturn animations;\n\n\t}\n\n\tparseImages( json, onLoad ) {\n\n\t\tconst scope = this;\n\t\tconst images = {};\n\n\t\tlet loader;\n\n\t\tfunction loadImage( url ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\treturn loader.load( url, function () {\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, undefined, function () {\n\n\t\t\t\tscope.manager.itemError( url );\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t} );\n\n\t\t}\n\n\t\tif ( json !== undefined && json.length > 0 ) {\n\n\t\t\tconst manager = new LoadingManager( onLoad );\n\n\t\t\tloader = new ImageLoader( manager );\n\t\t\tloader.setCrossOrigin( this.crossOrigin );\n\n\t\t\tfor ( let i = 0, il = json.length; i < il; i ++ ) {\n\n\t\t\t\tconst image = json[ i ];\n\t\t\t\tconst url = image.url;\n\n\t\t\t\tif ( Array.isArray( url ) ) {\n\n\t\t\t\t\t// load array of images e.g CubeTexture\n\n\t\t\t\t\timages[ image.uuid ] = [];\n\n\t\t\t\t\tfor ( let j = 0, jl = url.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\tconst currentUrl = url[ j ];\n\n\t\t\t\t\t\tconst path = /^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test( currentUrl ) ? currentUrl : scope.resourcePath + currentUrl;\n\n\t\t\t\t\t\timages[ image.uuid ].push( loadImage( path ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// load single image\n\n\t\t\t\t\tconst path = /^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test( image.url ) ? image.url : scope.resourcePath + image.url;\n\n\t\t\t\t\timages[ image.uuid ] = loadImage( path );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn images;\n\n\t}\n\n\tparseTextures( json, images ) {\n\n\t\tfunction parseConstant( value, type ) {\n\n\t\t\tif ( typeof value === 'number' ) return value;\n\n\t\t\tconsole.warn( 'THREE.ObjectLoader.parseTexture: Constant should be in numeric form.', value );\n\n\t\t\treturn type[ value ];\n\n\t\t}\n\n\t\tconst textures = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tfor ( let i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tconst data = json[ i ];\n\n\t\t\t\tif ( data.image === undefined ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: No \"image\" specified for', data.uuid );\n\n\t\t\t\t}\n\n\t\t\t\tif ( images[ data.image ] === undefined ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined image', data.image );\n\n\t\t\t\t}\n\n\t\t\t\tlet texture;\n\n\t\t\t\tif ( Array.isArray( images[ data.image ] ) ) {\n\n\t\t\t\t\ttexture = new CubeTexture( images[ data.image ] );\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttexture = new Texture( images[ data.image ] );\n\n\t\t\t\t}\n\n\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\ttexture.uuid = data.uuid;\n\n\t\t\t\tif ( data.name !== undefined ) texture.name = data.name;\n\n\t\t\t\tif ( data.mapping !== undefined ) texture.mapping = parseConstant( data.mapping, TEXTURE_MAPPING );\n\n\t\t\t\tif ( data.offset !== undefined ) texture.offset.fromArray( data.offset );\n\t\t\t\tif ( data.repeat !== undefined ) texture.repeat.fromArray( data.repeat );\n\t\t\t\tif ( data.center !== undefined ) texture.center.fromArray( data.center );\n\t\t\t\tif ( data.rotation !== undefined ) texture.rotation = data.rotation;\n\n\t\t\t\tif ( data.wrap !== undefined ) {\n\n\t\t\t\t\ttexture.wrapS = parseConstant( data.wrap[ 0 ], TEXTURE_WRAPPING );\n\t\t\t\t\ttexture.wrapT = parseConstant( data.wrap[ 1 ], TEXTURE_WRAPPING );\n\n\t\t\t\t}\n\n\t\t\t\tif ( data.format !== undefined ) texture.format = data.format;\n\t\t\t\tif ( data.type !== undefined ) texture.type = data.type;\n\t\t\t\tif ( data.encoding !== undefined ) texture.encoding = data.encoding;\n\n\t\t\t\tif ( data.minFilter !== undefined ) texture.minFilter = parseConstant( data.minFilter, TEXTURE_FILTER );\n\t\t\t\tif ( data.magFilter !== undefined ) texture.magFilter = parseConstant( data.magFilter, TEXTURE_FILTER );\n\t\t\t\tif ( data.anisotropy !== undefined ) texture.anisotropy = data.anisotropy;\n\n\t\t\t\tif ( data.flipY !== undefined ) texture.flipY = data.flipY;\n\n\t\t\t\tif ( data.premultiplyAlpha !== undefined ) texture.premultiplyAlpha = data.premultiplyAlpha;\n\t\t\t\tif ( data.unpackAlignment !== undefined ) texture.unpackAlignment = data.unpackAlignment;\n\n\t\t\t\ttextures[ data.uuid ] = texture;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn textures;\n\n\t}\n\n\tparseObject( data, geometries, materials ) {\n\n\t\tlet object;\n\n\t\tfunction getGeometry( name ) {\n\n\t\t\tif ( geometries[ name ] === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined geometry', name );\n\n\t\t\t}\n\n\t\t\treturn geometries[ name ];\n\n\t\t}\n\n\t\tfunction getMaterial( name ) {\n\n\t\t\tif ( name === undefined ) return undefined;\n\n\t\t\tif ( Array.isArray( name ) ) {\n\n\t\t\t\tconst array = [];\n\n\t\t\t\tfor ( let i = 0, l = name.length; i < l; i ++ ) {\n\n\t\t\t\t\tconst uuid = name[ i ];\n\n\t\t\t\t\tif ( materials[ uuid ] === undefined ) {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined material', uuid );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tarray.push( materials[ uuid ] );\n\n\t\t\t\t}\n\n\t\t\t\treturn array;\n\n\t\t\t}\n\n\t\t\tif ( materials[ name ] === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined material', name );\n\n\t\t\t}\n\n\t\t\treturn materials[ name ];\n\n\t\t}\n\n\t\tlet geometry, material;\n\n\t\tswitch ( data.type ) {\n\n\t\t\tcase 'Scene':\n\n\t\t\t\tobject = new Scene();\n\n\t\t\t\tif ( data.background !== undefined ) {\n\n\t\t\t\t\tif ( Number.isInteger( data.background ) ) {\n\n\t\t\t\t\t\tobject.background = new Color( data.background );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( data.fog !== undefined ) {\n\n\t\t\t\t\tif ( data.fog.type === 'Fog' ) {\n\n\t\t\t\t\t\tobject.fog = new Fog( data.fog.color, data.fog.near, data.fog.far );\n\n\t\t\t\t\t} else if ( data.fog.type === 'FogExp2' ) {\n\n\t\t\t\t\t\tobject.fog = new FogExp2( data.fog.color, data.fog.density );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'PerspectiveCamera':\n\n\t\t\t\tobject = new PerspectiveCamera( data.fov, data.aspect, data.near, data.far );\n\n\t\t\t\tif ( data.focus !== undefined ) object.focus = data.focus;\n\t\t\t\tif ( data.zoom !== undefined ) object.zoom = data.zoom;\n\t\t\t\tif ( data.filmGauge !== undefined ) object.filmGauge = data.filmGauge;\n\t\t\t\tif ( data.filmOffset !== undefined ) object.filmOffset = data.filmOffset;\n\t\t\t\tif ( data.view !== undefined ) object.view = Object.assign( {}, data.view );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'OrthographicCamera':\n\n\t\t\t\tobject = new OrthographicCamera( data.left, data.right, data.top, data.bottom, data.near, data.far );\n\n\t\t\t\tif ( data.zoom !== undefined ) object.zoom = data.zoom;\n\t\t\t\tif ( data.view !== undefined ) object.view = Object.assign( {}, data.view );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'AmbientLight':\n\n\t\t\t\tobject = new AmbientLight( data.color, data.intensity );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'DirectionalLight':\n\n\t\t\t\tobject = new DirectionalLight( data.color, data.intensity );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'PointLight':\n\n\t\t\t\tobject = new PointLight( data.color, data.intensity, data.distance, data.decay );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'RectAreaLight':\n\n\t\t\t\tobject = new RectAreaLight( data.color, data.intensity, data.width, data.height );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'SpotLight':\n\n\t\t\t\tobject = new SpotLight( data.color, data.intensity, data.distance, data.angle, data.penumbra, data.decay );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'HemisphereLight':\n\n\t\t\t\tobject = new HemisphereLight( data.color, data.groundColor, data.intensity );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LightProbe':\n\n\t\t\t\tobject = new LightProbe().fromJSON( data );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'SkinnedMesh':\n\n\t\t\t\tconsole.warn( 'THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.' );\n\n\t\t\tcase 'Mesh':\n\n\t\t\t\tgeometry = getGeometry( data.geometry );\n\t\t\t\tmaterial = getMaterial( data.material );\n\n\t\t\t\tobject = new Mesh( geometry, material );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'InstancedMesh':\n\n\t\t\t\tgeometry = getGeometry( data.geometry );\n\t\t\t\tmaterial = getMaterial( data.material );\n\t\t\t\tconst count = data.count;\n\t\t\t\tconst instanceMatrix = data.instanceMatrix;\n\n\t\t\t\tobject = new InstancedMesh( geometry, material, count );\n\t\t\t\tobject.instanceMatrix = new BufferAttribute( new Float32Array( instanceMatrix.array ), 16 );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LOD':\n\n\t\t\t\tobject = new LOD();\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Line':\n\n\t\t\t\tobject = new Line( getGeometry( data.geometry ), getMaterial( data.material ), data.mode );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LineLoop':\n\n\t\t\t\tobject = new LineLoop( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LineSegments':\n\n\t\t\t\tobject = new LineSegments( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'PointCloud':\n\t\t\tcase 'Points':\n\n\t\t\t\tobject = new Points( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Sprite':\n\n\t\t\t\tobject = new Sprite( getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Group':\n\n\t\t\t\tobject = new Group();\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tobject = new Object3D();\n\n\t\t}\n\n\t\tobject.uuid = data.uuid;\n\n\t\tif ( data.name !== undefined ) object.name = data.name;\n\n\t\tif ( data.matrix !== undefined ) {\n\n\t\t\tobject.matrix.fromArray( data.matrix );\n\n\t\t\tif ( data.matrixAutoUpdate !== undefined ) object.matrixAutoUpdate = data.matrixAutoUpdate;\n\t\t\tif ( object.matrixAutoUpdate ) object.matrix.decompose( object.position, object.quaternion, object.scale );\n\n\t\t} else {\n\n\t\t\tif ( data.position !== undefined ) object.position.fromArray( data.position );\n\t\t\tif ( data.rotation !== undefined ) object.rotation.fromArray( data.rotation );\n\t\t\tif ( data.quaternion !== undefined ) object.quaternion.fromArray( data.quaternion );\n\t\t\tif ( data.scale !== undefined ) object.scale.fromArray( data.scale );\n\n\t\t}\n\n\t\tif ( data.castShadow !== undefined ) object.castShadow = data.castShadow;\n\t\tif ( data.receiveShadow !== undefined ) object.receiveShadow = data.receiveShadow;\n\n\t\tif ( data.shadow ) {\n\n\t\t\tif ( data.shadow.bias !== undefined ) object.shadow.bias = data.shadow.bias;\n\t\t\tif ( data.shadow.normalBias !== undefined ) object.shadow.normalBias = data.shadow.normalBias;\n\t\t\tif ( data.shadow.radius !== undefined ) object.shadow.radius = data.shadow.radius;\n\t\t\tif ( data.shadow.mapSize !== undefined ) object.shadow.mapSize.fromArray( data.shadow.mapSize );\n\t\t\tif ( data.shadow.camera !== undefined ) object.shadow.camera = this.parseObject( data.shadow.camera );\n\n\t\t}\n\n\t\tif ( data.visible !== undefined ) object.visible = data.visible;\n\t\tif ( data.frustumCulled !== undefined ) object.frustumCulled = data.frustumCulled;\n\t\tif ( data.renderOrder !== undefined ) object.renderOrder = data.renderOrder;\n\t\tif ( data.userData !== undefined ) object.userData = data.userData;\n\t\tif ( data.layers !== undefined ) object.layers.mask = data.layers;\n\n\t\tif ( data.children !== undefined ) {\n\n\t\t\tconst children = data.children;\n\n\t\t\tfor ( let i = 0; i < children.length; i ++ ) {\n\n\t\t\t\tobject.add( this.parseObject( children[ i ], geometries, materials ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( data.type === 'LOD' ) {\n\n\t\t\tif ( data.autoUpdate !== undefined ) object.autoUpdate = data.autoUpdate;\n\n\t\t\tconst levels = data.levels;\n\n\t\t\tfor ( let l = 0; l < levels.length; l ++ ) {\n\n\t\t\t\tconst level = levels[ l ];\n\t\t\t\tconst child = object.getObjectByProperty( 'uuid', level.object );\n\n\t\t\t\tif ( child !== undefined ) {\n\n\t\t\t\t\tobject.addLevel( child, level.distance );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn object;\n\n\t}\n\n\t/* DEPRECATED */\n\n\tsetTexturePath( value ) {\n\n\t\tconsole.warn( 'THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath().' );\n\t\treturn this.setResourcePath( value );\n\n\t}\n\n}\n\nconst TEXTURE_MAPPING = {\n\tUVMapping: UVMapping,\n\tCubeReflectionMapping: CubeReflectionMapping,\n\tCubeRefractionMapping: CubeRefractionMapping,\n\tEquirectangularReflectionMapping: EquirectangularReflectionMapping,\n\tEquirectangularRefractionMapping: EquirectangularRefractionMapping,\n\tCubeUVReflectionMapping: CubeUVReflectionMapping,\n\tCubeUVRefractionMapping: CubeUVRefractionMapping\n};\n\nconst TEXTURE_WRAPPING = {\n\tRepeatWrapping: RepeatWrapping,\n\tClampToEdgeWrapping: ClampToEdgeWrapping,\n\tMirroredRepeatWrapping: MirroredRepeatWrapping\n};\n\nconst TEXTURE_FILTER = {\n\tNearestFilter: NearestFilter,\n\tNearestMipmapNearestFilter: NearestMipmapNearestFilter,\n\tNearestMipmapLinearFilter: NearestMipmapLinearFilter,\n\tLinearFilter: LinearFilter,\n\tLinearMipmapNearestFilter: LinearMipmapNearestFilter,\n\tLinearMipmapLinearFilter: LinearMipmapLinearFilter\n};\n\nfunction ImageBitmapLoader( manager ) {\n\n\tif ( typeof createImageBitmap === 'undefined' ) {\n\n\t\tconsole.warn( 'THREE.ImageBitmapLoader: createImageBitmap() not supported.' );\n\n\t}\n\n\tif ( typeof fetch === 'undefined' ) {\n\n\t\tconsole.warn( 'THREE.ImageBitmapLoader: fetch() not supported.' );\n\n\t}\n\n\tLoader.call( this, manager );\n\n\tthis.options = { premultiplyAlpha: 'none' };\n\n}\n\nImageBitmapLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: ImageBitmapLoader,\n\n\tisImageBitmapLoader: true,\n\n\tsetOptions: function setOptions( options ) {\n\n\t\tthis.options = options;\n\n\t\treturn this;\n\n\t},\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tif ( url === undefined ) url = '';\n\n\t\tif ( this.path !== undefined ) url = this.path + url;\n\n\t\turl = this.manager.resolveURL( url );\n\n\t\tconst scope = this;\n\n\t\tconst cached = Cache.get( url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tsetTimeout( function () {\n\n\t\t\t\tif ( onLoad ) onLoad( cached );\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, 0 );\n\n\t\t\treturn cached;\n\n\t\t}\n\n\t\tconst fetchOptions = {};\n\t\tfetchOptions.credentials = ( this.crossOrigin === 'anonymous' ) ? 'same-origin' : 'include';\n\n\t\tfetch( url, fetchOptions ).then( function ( res ) {\n\n\t\t\treturn res.blob();\n\n\t\t} ).then( function ( blob ) {\n\n\t\t\treturn createImageBitmap( blob, scope.options );\n\n\t\t} ).then( function ( imageBitmap ) {\n\n\t\t\tCache.add( url, imageBitmap );\n\n\t\t\tif ( onLoad ) onLoad( imageBitmap );\n\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t} ).catch( function ( e ) {\n\n\t\t\tif ( onError ) onError( e );\n\n\t\t\tscope.manager.itemError( url );\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t} );\n\n\t\tscope.manager.itemStart( url );\n\n\t}\n\n} );\n\nfunction ShapePath() {\n\n\tthis.type = 'ShapePath';\n\n\tthis.color = new Color();\n\n\tthis.subPaths = [];\n\tthis.currentPath = null;\n\n}\n\nObject.assign( ShapePath.prototype, {\n\n\tmoveTo: function ( x, y ) {\n\n\t\tthis.currentPath = new Path();\n\t\tthis.subPaths.push( this.currentPath );\n\t\tthis.currentPath.moveTo( x, y );\n\n\t\treturn this;\n\n\t},\n\n\tlineTo: function ( x, y ) {\n\n\t\tthis.currentPath.lineTo( x, y );\n\n\t\treturn this;\n\n\t},\n\n\tquadraticCurveTo: function ( aCPx, aCPy, aX, aY ) {\n\n\t\tthis.currentPath.quadraticCurveTo( aCPx, aCPy, aX, aY );\n\n\t\treturn this;\n\n\t},\n\n\tbezierCurveTo: function ( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY ) {\n\n\t\tthis.currentPath.bezierCurveTo( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY );\n\n\t\treturn this;\n\n\t},\n\n\tsplineThru: function ( pts ) {\n\n\t\tthis.currentPath.splineThru( pts );\n\n\t\treturn this;\n\n\t},\n\n\ttoShapes: function ( isCCW, noHoles ) {\n\n\t\tfunction toShapesNoHoles( inSubpaths ) {\n\n\t\t\tconst shapes = [];\n\n\t\t\tfor ( let i = 0, l = inSubpaths.length; i < l; i ++ ) {\n\n\t\t\t\tconst tmpPath = inSubpaths[ i ];\n\n\t\t\t\tconst tmpShape = new Shape();\n\t\t\t\ttmpShape.curves = tmpPath.curves;\n\n\t\t\t\tshapes.push( tmpShape );\n\n\t\t\t}\n\n\t\t\treturn shapes;\n\n\t\t}\n\n\t\tfunction isPointInsidePolygon( inPt, inPolygon ) {\n\n\t\t\tconst polyLen = inPolygon.length;\n\n\t\t\t// inPt on polygon contour => immediate success    or\n\t\t\t// toggling of inside/outside at every single! intersection point of an edge\n\t\t\t//  with the horizontal line through inPt, left of inPt\n\t\t\t//  not counting lowerY endpoints of edges and whole edges on that line\n\t\t\tlet inside = false;\n\t\t\tfor ( let p = polyLen - 1, q = 0; q < polyLen; p = q ++ ) {\n\n\t\t\t\tlet edgeLowPt = inPolygon[ p ];\n\t\t\t\tlet edgeHighPt = inPolygon[ q ];\n\n\t\t\t\tlet edgeDx = edgeHighPt.x - edgeLowPt.x;\n\t\t\t\tlet edgeDy = edgeHighPt.y - edgeLowPt.y;\n\n\t\t\t\tif ( Math.abs( edgeDy ) > Number.EPSILON ) {\n\n\t\t\t\t\t// not parallel\n\t\t\t\t\tif ( edgeDy < 0 ) {\n\n\t\t\t\t\t\tedgeLowPt = inPolygon[ q ]; edgeDx = - edgeDx;\n\t\t\t\t\t\tedgeHighPt = inPolygon[ p ]; edgeDy = - edgeDy;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( ( inPt.y < edgeLowPt.y ) || ( inPt.y > edgeHighPt.y ) ) \t\tcontinue;\n\n\t\t\t\t\tif ( inPt.y === edgeLowPt.y ) {\n\n\t\t\t\t\t\tif ( inPt.x === edgeLowPt.x )\t\treturn\ttrue;\t\t// inPt is on contour ?\n\t\t\t\t\t\t// continue;\t\t\t\t// no intersection or edgeLowPt => doesn't count !!!\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconst perpEdge = edgeDy * ( inPt.x - edgeLowPt.x ) - edgeDx * ( inPt.y - edgeLowPt.y );\n\t\t\t\t\t\tif ( perpEdge === 0 )\t\t\t\treturn\ttrue;\t\t// inPt is on contour ?\n\t\t\t\t\t\tif ( perpEdge < 0 ) \t\t\t\tcontinue;\n\t\t\t\t\t\tinside = ! inside;\t\t// true intersection left of inPt\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// parallel or collinear\n\t\t\t\t\tif ( inPt.y !== edgeLowPt.y ) \t\tcontinue;\t\t\t// parallel\n\t\t\t\t\t// edge lies on the same horizontal line as inPt\n\t\t\t\t\tif ( ( ( edgeHighPt.x <= inPt.x ) && ( inPt.x <= edgeLowPt.x ) ) ||\n\t\t\t\t\t\t ( ( edgeLowPt.x <= inPt.x ) && ( inPt.x <= edgeHighPt.x ) ) )\t\treturn\ttrue;\t// inPt: Point on contour !\n\t\t\t\t\t// continue;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn\tinside;\n\n\t\t}\n\n\t\tconst isClockWise = ShapeUtils.isClockWise;\n\n\t\tconst subPaths = this.subPaths;\n\t\tif ( subPaths.length === 0 ) return [];\n\n\t\tif ( noHoles === true )\treturn\ttoShapesNoHoles( subPaths );\n\n\n\t\tlet solid, tmpPath, tmpShape;\n\t\tconst shapes = [];\n\n\t\tif ( subPaths.length === 1 ) {\n\n\t\t\ttmpPath = subPaths[ 0 ];\n\t\t\ttmpShape = new Shape();\n\t\t\ttmpShape.curves = tmpPath.curves;\n\t\t\tshapes.push( tmpShape );\n\t\t\treturn shapes;\n\n\t\t}\n\n\t\tlet holesFirst = ! isClockWise( subPaths[ 0 ].getPoints() );\n\t\tholesFirst = isCCW ? ! holesFirst : holesFirst;\n\n\t\t// console.log(\"Holes first\", holesFirst);\n\n\t\tconst betterShapeHoles = [];\n\t\tconst newShapes = [];\n\t\tlet newShapeHoles = [];\n\t\tlet mainIdx = 0;\n\t\tlet tmpPoints;\n\n\t\tnewShapes[ mainIdx ] = undefined;\n\t\tnewShapeHoles[ mainIdx ] = [];\n\n\t\tfor ( let i = 0, l = subPaths.length; i < l; i ++ ) {\n\n\t\t\ttmpPath = subPaths[ i ];\n\t\t\ttmpPoints = tmpPath.getPoints();\n\t\t\tsolid = isClockWise( tmpPoints );\n\t\t\tsolid = isCCW ? ! solid : solid;\n\n\t\t\tif ( solid ) {\n\n\t\t\t\tif ( ( ! holesFirst ) && ( newShapes[ mainIdx ] ) )\tmainIdx ++;\n\n\t\t\t\tnewShapes[ mainIdx ] = { s: new Shape(), p: tmpPoints };\n\t\t\t\tnewShapes[ mainIdx ].s.curves = tmpPath.curves;\n\n\t\t\t\tif ( holesFirst )\tmainIdx ++;\n\t\t\t\tnewShapeHoles[ mainIdx ] = [];\n\n\t\t\t\t//console.log('cw', i);\n\n\t\t\t} else {\n\n\t\t\t\tnewShapeHoles[ mainIdx ].push( { h: tmpPath, p: tmpPoints[ 0 ] } );\n\n\t\t\t\t//console.log('ccw', i);\n\n\t\t\t}\n\n\t\t}\n\n\t\t// only Holes? -> probably all Shapes with wrong orientation\n\t\tif ( ! newShapes[ 0 ] )\treturn\ttoShapesNoHoles( subPaths );\n\n\n\t\tif ( newShapes.length > 1 ) {\n\n\t\t\tlet ambiguous = false;\n\t\t\tconst toChange = [];\n\n\t\t\tfor ( let sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx ++ ) {\n\n\t\t\t\tbetterShapeHoles[ sIdx ] = [];\n\n\t\t\t}\n\n\t\t\tfor ( let sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx ++ ) {\n\n\t\t\t\tconst sho = newShapeHoles[ sIdx ];\n\n\t\t\t\tfor ( let hIdx = 0; hIdx < sho.length; hIdx ++ ) {\n\n\t\t\t\t\tconst ho = sho[ hIdx ];\n\t\t\t\t\tlet hole_unassigned = true;\n\n\t\t\t\t\tfor ( let s2Idx = 0; s2Idx < newShapes.length; s2Idx ++ ) {\n\n\t\t\t\t\t\tif ( isPointInsidePolygon( ho.p, newShapes[ s2Idx ].p ) ) {\n\n\t\t\t\t\t\t\tif ( sIdx !== s2Idx )\ttoChange.push( { froms: sIdx, tos: s2Idx, hole: hIdx } );\n\t\t\t\t\t\t\tif ( hole_unassigned ) {\n\n\t\t\t\t\t\t\t\thole_unassigned = false;\n\t\t\t\t\t\t\t\tbetterShapeHoles[ s2Idx ].push( ho );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tambiguous = true;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( hole_unassigned ) {\n\n\t\t\t\t\t\tbetterShapeHoles[ sIdx ].push( ho );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t\t// console.log(\"ambiguous: \", ambiguous);\n\n\t\t\tif ( toChange.length > 0 ) {\n\n\t\t\t\t// console.log(\"to change: \", toChange);\n\t\t\t\tif ( ! ambiguous )\tnewShapeHoles = betterShapeHoles;\n\n\t\t\t}\n\n\t\t}\n\n\t\tlet tmpHoles;\n\n\t\tfor ( let i = 0, il = newShapes.length; i < il; i ++ ) {\n\n\t\t\ttmpShape = newShapes[ i ].s;\n\t\t\tshapes.push( tmpShape );\n\t\t\ttmpHoles = newShapeHoles[ i ];\n\n\t\t\tfor ( let j = 0, jl = tmpHoles.length; j < jl; j ++ ) {\n\n\t\t\t\ttmpShape.holes.push( tmpHoles[ j ].h );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//console.log(\"shape\", shapes);\n\n\t\treturn shapes;\n\n\t}\n\n} );\n\nfunction Font( data ) {\n\n\tthis.type = 'Font';\n\n\tthis.data = data;\n\n}\n\nObject.assign( Font.prototype, {\n\n\tisFont: true,\n\n\tgenerateShapes: function ( text, size ) {\n\n\t\tif ( size === undefined ) size = 100;\n\n\t\tconst shapes = [];\n\t\tconst paths = createPaths( text, size, this.data );\n\n\t\tfor ( let p = 0, pl = paths.length; p < pl; p ++ ) {\n\n\t\t\tArray.prototype.push.apply( shapes, paths[ p ].toShapes() );\n\n\t\t}\n\n\t\treturn shapes;\n\n\t}\n\n} );\n\nfunction createPaths( text, size, data ) {\n\n\tconst chars = Array.from ? Array.from( text ) : String( text ).split( '' ); // workaround for IE11, see #13988\n\tconst scale = size / data.resolution;\n\tconst line_height = ( data.boundingBox.yMax - data.boundingBox.yMin + data.underlineThickness ) * scale;\n\n\tconst paths = [];\n\n\tlet offsetX = 0, offsetY = 0;\n\n\tfor ( let i = 0; i < chars.length; i ++ ) {\n\n\t\tconst char = chars[ i ];\n\n\t\tif ( char === '\\n' ) {\n\n\t\t\toffsetX = 0;\n\t\t\toffsetY -= line_height;\n\n\t\t} else {\n\n\t\t\tconst ret = createPath( char, scale, offsetX, offsetY, data );\n\t\t\toffsetX += ret.offsetX;\n\t\t\tpaths.push( ret.path );\n\n\t\t}\n\n\t}\n\n\treturn paths;\n\n}\n\nfunction createPath( char, scale, offsetX, offsetY, data ) {\n\n\tconst glyph = data.glyphs[ char ] || data.glyphs[ '?' ];\n\n\tif ( ! glyph ) {\n\n\t\tconsole.error( 'THREE.Font: character \"' + char + '\" does not exists in font family ' + data.familyName + '.' );\n\n\t\treturn;\n\n\t}\n\n\tconst path = new ShapePath();\n\n\tlet x, y, cpx, cpy, cpx1, cpy1, cpx2, cpy2;\n\n\tif ( glyph.o ) {\n\n\t\tconst outline = glyph._cachedOutline || ( glyph._cachedOutline = glyph.o.split( ' ' ) );\n\n\t\tfor ( let i = 0, l = outline.length; i < l; ) {\n\n\t\t\tconst action = outline[ i ++ ];\n\n\t\t\tswitch ( action ) {\n\n\t\t\t\tcase 'm': // moveTo\n\n\t\t\t\t\tx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\ty = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.moveTo( x, y );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'l': // lineTo\n\n\t\t\t\t\tx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\ty = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.lineTo( x, y );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'q': // quadraticCurveTo\n\n\t\t\t\t\tcpx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy = outline[ i ++ ] * scale + offsetY;\n\t\t\t\t\tcpx1 = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy1 = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.quadraticCurveTo( cpx1, cpy1, cpx, cpy );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'b': // bezierCurveTo\n\n\t\t\t\t\tcpx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy = outline[ i ++ ] * scale + offsetY;\n\t\t\t\t\tcpx1 = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy1 = outline[ i ++ ] * scale + offsetY;\n\t\t\t\t\tcpx2 = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy2 = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.bezierCurveTo( cpx1, cpy1, cpx2, cpy2, cpx, cpy );\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn { offsetX: glyph.ha * scale, path: path };\n\n}\n\nfunction FontLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nFontLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: FontLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( scope.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tlet json;\n\n\t\t\ttry {\n\n\t\t\t\tjson = JSON.parse( text );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tconsole.warn( 'THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead.' );\n\t\t\t\tjson = JSON.parse( text.substring( 65, text.length - 2 ) );\n\n\t\t\t}\n\n\t\t\tconst font = scope.parse( json );\n\n\t\t\tif ( onLoad ) onLoad( font );\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tparse: function ( json ) {\n\n\t\treturn new Font( json );\n\n\t}\n\n} );\n\nlet _context;\n\nconst AudioContext = {\n\n\tgetContext: function () {\n\n\t\tif ( _context === undefined ) {\n\n\t\t\t_context = new ( window.AudioContext || window.webkitAudioContext )();\n\n\t\t}\n\n\t\treturn _context;\n\n\t},\n\n\tsetContext: function ( value ) {\n\n\t\t_context = value;\n\n\t}\n\n};\n\nfunction AudioLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nAudioLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: AudioLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( scope.manager );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setPath( scope.path );\n\t\tloader.setRequestHeader( scope.requestHeader );\n\t\tloader.setWithCredentials( scope.withCredentials );\n\t\tloader.load( url, function ( buffer ) {\n\n\t\t\ttry {\n\n\t\t\t\t// Create a copy of the buffer. The `decodeAudioData` method\n\t\t\t\t// detaches the buffer when complete, preventing reuse.\n\t\t\t\tconst bufferCopy = buffer.slice( 0 );\n\n\t\t\t\tconst context = AudioContext.getContext();\n\t\t\t\tcontext.decodeAudioData( bufferCopy, function ( audioBuffer ) {\n\n\t\t\t\t\tonLoad( audioBuffer );\n\n\t\t\t\t} );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t}\n\n} );\n\nfunction HemisphereLightProbe( skyColor, groundColor, intensity ) {\n\n\tLightProbe.call( this, undefined, intensity );\n\n\tconst color1 = new Color().set( skyColor );\n\tconst color2 = new Color().set( groundColor );\n\n\tconst sky = new Vector3( color1.r, color1.g, color1.b );\n\tconst ground = new Vector3( color2.r, color2.g, color2.b );\n\n\t// without extra factor of PI in the shader, should = 1 / Math.sqrt( Math.PI );\n\tconst c0 = Math.sqrt( Math.PI );\n\tconst c1 = c0 * Math.sqrt( 0.75 );\n\n\tthis.sh.coefficients[ 0 ].copy( sky ).add( ground ).multiplyScalar( c0 );\n\tthis.sh.coefficients[ 1 ].copy( sky ).sub( ground ).multiplyScalar( c1 );\n\n}\n\nHemisphereLightProbe.prototype = Object.assign( Object.create( LightProbe.prototype ), {\n\n\tconstructor: HemisphereLightProbe,\n\n\tisHemisphereLightProbe: true,\n\n\tcopy: function ( source ) { // modifying colors not currently supported\n\n\t\tLightProbe.prototype.copy.call( this, source );\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tconst data = LightProbe.prototype.toJSON.call( this, meta );\n\n\t\t// data.sh = this.sh.toArray(); // todo\n\n\t\treturn data;\n\n\t}\n\n} );\n\nfunction AmbientLightProbe( color, intensity ) {\n\n\tLightProbe.call( this, undefined, intensity );\n\n\tconst color1 = new Color().set( color );\n\n\t// without extra factor of PI in the shader, would be 2 / Math.sqrt( Math.PI );\n\tthis.sh.coefficients[ 0 ].set( color1.r, color1.g, color1.b ).multiplyScalar( 2 * Math.sqrt( Math.PI ) );\n\n}\n\nAmbientLightProbe.prototype = Object.assign( Object.create( LightProbe.prototype ), {\n\n\tconstructor: AmbientLightProbe,\n\n\tisAmbientLightProbe: true,\n\n\tcopy: function ( source ) { // modifying color not currently supported\n\n\t\tLightProbe.prototype.copy.call( this, source );\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tconst data = LightProbe.prototype.toJSON.call( this, meta );\n\n\t\t// data.sh = this.sh.toArray(); // todo\n\n\t\treturn data;\n\n\t}\n\n} );\n\nconst _eyeRight = new Matrix4();\nconst _eyeLeft = new Matrix4();\n\nfunction StereoCamera() {\n\n\tthis.type = 'StereoCamera';\n\n\tthis.aspect = 1;\n\n\tthis.eyeSep = 0.064;\n\n\tthis.cameraL = new PerspectiveCamera();\n\tthis.cameraL.layers.enable( 1 );\n\tthis.cameraL.matrixAutoUpdate = false;\n\n\tthis.cameraR = new PerspectiveCamera();\n\tthis.cameraR.layers.enable( 2 );\n\tthis.cameraR.matrixAutoUpdate = false;\n\n\tthis._cache = {\n\t\tfocus: null,\n\t\tfov: null,\n\t\taspect: null,\n\t\tnear: null,\n\t\tfar: null,\n\t\tzoom: null,\n\t\teyeSep: null\n\t};\n\n}\n\nObject.assign( StereoCamera.prototype, {\n\n\tupdate: function ( camera ) {\n\n\t\tconst cache = this._cache;\n\n\t\tconst needsUpdate = cache.focus !== camera.focus || cache.fov !== camera.fov ||\n\t\t\tcache.aspect !== camera.aspect * this.aspect || cache.near !== camera.near ||\n\t\t\tcache.far !== camera.far || cache.zoom !== camera.zoom || cache.eyeSep !== this.eyeSep;\n\n\t\tif ( needsUpdate ) {\n\n\t\t\tcache.focus = camera.focus;\n\t\t\tcache.fov = camera.fov;\n\t\t\tcache.aspect = camera.aspect * this.aspect;\n\t\t\tcache.near = camera.near;\n\t\t\tcache.far = camera.far;\n\t\t\tcache.zoom = camera.zoom;\n\t\t\tcache.eyeSep = this.eyeSep;\n\n\t\t\t// Off-axis stereoscopic effect based on\n\t\t\t// http://paulbourke.net/stereographics/stereorender/\n\n\t\t\tconst projectionMatrix = camera.projectionMatrix.clone();\n\t\t\tconst eyeSepHalf = cache.eyeSep / 2;\n\t\t\tconst eyeSepOnProjection = eyeSepHalf * cache.near / cache.focus;\n\t\t\tconst ymax = ( cache.near * Math.tan( MathUtils.DEG2RAD * cache.fov * 0.5 ) ) / cache.zoom;\n\t\t\tlet xmin, xmax;\n\n\t\t\t// translate xOffset\n\n\t\t\t_eyeLeft.elements[ 12 ] = - eyeSepHalf;\n\t\t\t_eyeRight.elements[ 12 ] = eyeSepHalf;\n\n\t\t\t// for left eye\n\n\t\t\txmin = - ymax * cache.aspect + eyeSepOnProjection;\n\t\t\txmax = ymax * cache.aspect + eyeSepOnProjection;\n\n\t\t\tprojectionMatrix.elements[ 0 ] = 2 * cache.near / ( xmax - xmin );\n\t\t\tprojectionMatrix.elements[ 8 ] = ( xmax + xmin ) / ( xmax - xmin );\n\n\t\t\tthis.cameraL.projectionMatrix.copy( projectionMatrix );\n\n\t\t\t// for right eye\n\n\t\t\txmin = - ymax * cache.aspect - eyeSepOnProjection;\n\t\t\txmax = ymax * cache.aspect - eyeSepOnProjection;\n\n\t\t\tprojectionMatrix.elements[ 0 ] = 2 * cache.near / ( xmax - xmin );\n\t\t\tprojectionMatrix.elements[ 8 ] = ( xmax + xmin ) / ( xmax - xmin );\n\n\t\t\tthis.cameraR.projectionMatrix.copy( projectionMatrix );\n\n\t\t}\n\n\t\tthis.cameraL.matrixWorld.copy( camera.matrixWorld ).multiply( _eyeLeft );\n\t\tthis.cameraR.matrixWorld.copy( camera.matrixWorld ).multiply( _eyeRight );\n\n\t}\n\n} );\n\nclass Clock {\n\n\tconstructor( autoStart ) {\n\n\t\tthis.autoStart = ( autoStart !== undefined ) ? autoStart : true;\n\n\t\tthis.startTime = 0;\n\t\tthis.oldTime = 0;\n\t\tthis.elapsedTime = 0;\n\n\t\tthis.running = false;\n\n\t}\n\n\tstart() {\n\n\t\tthis.startTime = ( typeof performance === 'undefined' ? Date : performance ).now(); // see #10732\n\n\t\tthis.oldTime = this.startTime;\n\t\tthis.elapsedTime = 0;\n\t\tthis.running = true;\n\n\t}\n\n\tstop() {\n\n\t\tthis.getElapsedTime();\n\t\tthis.running = false;\n\t\tthis.autoStart = false;\n\n\t}\n\n\tgetElapsedTime() {\n\n\t\tthis.getDelta();\n\t\treturn this.elapsedTime;\n\n\t}\n\n\tgetDelta() {\n\n\t\tlet diff = 0;\n\n\t\tif ( this.autoStart && ! this.running ) {\n\n\t\t\tthis.start();\n\t\t\treturn 0;\n\n\t\t}\n\n\t\tif ( this.running ) {\n\n\t\t\tconst newTime = ( typeof performance === 'undefined' ? Date : performance ).now();\n\n\t\t\tdiff = ( newTime - this.oldTime ) / 1000;\n\t\t\tthis.oldTime = newTime;\n\n\t\t\tthis.elapsedTime += diff;\n\n\t\t}\n\n\t\treturn diff;\n\n\t}\n\n}\n\nconst _position$2 = /*@__PURE__*/ new Vector3();\nconst _quaternion$3 = /*@__PURE__*/ new Quaternion();\nconst _scale$1 = /*@__PURE__*/ new Vector3();\nconst _orientation = /*@__PURE__*/ new Vector3();\n\nclass AudioListener extends Object3D {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.type = 'AudioListener';\n\n\t\tthis.context = AudioContext.getContext();\n\n\t\tthis.gain = this.context.createGain();\n\t\tthis.gain.connect( this.context.destination );\n\n\t\tthis.filter = null;\n\n\t\tthis.timeDelta = 0;\n\n\t\t// private\n\n\t\tthis._clock = new Clock();\n\n\t}\n\n\tgetInput() {\n\n\t\treturn this.gain;\n\n\t}\n\n\tremoveFilter() {\n\n\t\tif ( this.filter !== null ) {\n\n\t\t\tthis.gain.disconnect( this.filter );\n\t\t\tthis.filter.disconnect( this.context.destination );\n\t\t\tthis.gain.connect( this.context.destination );\n\t\t\tthis.filter = null;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetFilter() {\n\n\t\treturn this.filter;\n\n\t}\n\n\tsetFilter( value ) {\n\n\t\tif ( this.filter !== null ) {\n\n\t\t\tthis.gain.disconnect( this.filter );\n\t\t\tthis.filter.disconnect( this.context.destination );\n\n\t\t} else {\n\n\t\t\tthis.gain.disconnect( this.context.destination );\n\n\t\t}\n\n\t\tthis.filter = value;\n\t\tthis.gain.connect( this.filter );\n\t\tthis.filter.connect( this.context.destination );\n\n\t\treturn this;\n\n\t}\n\n\tgetMasterVolume() {\n\n\t\treturn this.gain.gain.value;\n\n\t}\n\n\tsetMasterVolume( value ) {\n\n\t\tthis.gain.gain.setTargetAtTime( value, this.context.currentTime, 0.01 );\n\n\t\treturn this;\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t\tconst listener = this.context.listener;\n\t\tconst up = this.up;\n\n\t\tthis.timeDelta = this._clock.getDelta();\n\n\t\tthis.matrixWorld.decompose( _position$2, _quaternion$3, _scale$1 );\n\n\t\t_orientation.set( 0, 0, - 1 ).applyQuaternion( _quaternion$3 );\n\n\t\tif ( listener.positionX ) {\n\n\t\t\t// code path for Chrome (see #14393)\n\n\t\t\tconst endTime = this.context.currentTime + this.timeDelta;\n\n\t\t\tlistener.positionX.linearRampToValueAtTime( _position$2.x, endTime );\n\t\t\tlistener.positionY.linearRampToValueAtTime( _position$2.y, endTime );\n\t\t\tlistener.positionZ.linearRampToValueAtTime( _position$2.z, endTime );\n\t\t\tlistener.forwardX.linearRampToValueAtTime( _orientation.x, endTime );\n\t\t\tlistener.forwardY.linearRampToValueAtTime( _orientation.y, endTime );\n\t\t\tlistener.forwardZ.linearRampToValueAtTime( _orientation.z, endTime );\n\t\t\tlistener.upX.linearRampToValueAtTime( up.x, endTime );\n\t\t\tlistener.upY.linearRampToValueAtTime( up.y, endTime );\n\t\t\tlistener.upZ.linearRampToValueAtTime( up.z, endTime );\n\n\t\t} else {\n\n\t\t\tlistener.setPosition( _position$2.x, _position$2.y, _position$2.z );\n\t\t\tlistener.setOrientation( _orientation.x, _orientation.y, _orientation.z, up.x, up.y, up.z );\n\n\t\t}\n\n\t}\n\n}\n\nclass Audio extends Object3D {\n\n\tconstructor( listener ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'Audio';\n\n\t\tthis.listener = listener;\n\t\tthis.context = listener.context;\n\n\t\tthis.gain = this.context.createGain();\n\t\tthis.gain.connect( listener.getInput() );\n\n\t\tthis.autoplay = false;\n\n\t\tthis.buffer = null;\n\t\tthis.detune = 0;\n\t\tthis.loop = false;\n\t\tthis.loopStart = 0;\n\t\tthis.loopEnd = 0;\n\t\tthis.offset = 0;\n\t\tthis.duration = undefined;\n\t\tthis.playbackRate = 1;\n\t\tthis.isPlaying = false;\n\t\tthis.hasPlaybackControl = true;\n\t\tthis.source = null;\n\t\tthis.sourceType = 'empty';\n\n\t\tthis._startedAt = 0;\n\t\tthis._progress = 0;\n\t\tthis._connected = false;\n\n\t\tthis.filters = [];\n\n\t}\n\n\tgetOutput() {\n\n\t\treturn this.gain;\n\n\t}\n\n\tsetNodeSource( audioNode ) {\n\n\t\tthis.hasPlaybackControl = false;\n\t\tthis.sourceType = 'audioNode';\n\t\tthis.source = audioNode;\n\t\tthis.connect();\n\n\t\treturn this;\n\n\t}\n\n\tsetMediaElementSource( mediaElement ) {\n\n\t\tthis.hasPlaybackControl = false;\n\t\tthis.sourceType = 'mediaNode';\n\t\tthis.source = this.context.createMediaElementSource( mediaElement );\n\t\tthis.connect();\n\n\t\treturn this;\n\n\t}\n\n\tsetMediaStreamSource( mediaStream ) {\n\n\t\tthis.hasPlaybackControl = false;\n\t\tthis.sourceType = 'mediaStreamNode';\n\t\tthis.source = this.context.createMediaStreamSource( mediaStream );\n\t\tthis.connect();\n\n\t\treturn this;\n\n\t}\n\n\tsetBuffer( audioBuffer ) {\n\n\t\tthis.buffer = audioBuffer;\n\t\tthis.sourceType = 'buffer';\n\n\t\tif ( this.autoplay ) this.play();\n\n\t\treturn this;\n\n\t}\n\n\tplay( delay ) {\n\n\t\tif ( delay === undefined ) delay = 0;\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: Audio is already playing.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis._startedAt = this.context.currentTime + delay;\n\n\t\tconst source = this.context.createBufferSource();\n\t\tsource.buffer = this.buffer;\n\t\tsource.loop = this.loop;\n\t\tsource.loopStart = this.loopStart;\n\t\tsource.loopEnd = this.loopEnd;\n\t\tsource.onended = this.onEnded.bind( this );\n\t\tsource.start( this._startedAt, this._progress + this.offset, this.duration );\n\n\t\tthis.isPlaying = true;\n\n\t\tthis.source = source;\n\n\t\tthis.setDetune( this.detune );\n\t\tthis.setPlaybackRate( this.playbackRate );\n\n\t\treturn this.connect();\n\n\t}\n\n\tpause() {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\t// update current progress\n\n\t\t\tthis._progress += Math.max( this.context.currentTime - this._startedAt, 0 ) * this.playbackRate;\n\n\t\t\tif ( this.loop === true ) {\n\n\t\t\t\t// ensure _progress does not exceed duration with looped audios\n\n\t\t\t\tthis._progress = this._progress % ( this.duration || this.buffer.duration );\n\n\t\t\t}\n\n\t\t\tthis.source.stop();\n\t\t\tthis.source.onended = null;\n\n\t\t\tthis.isPlaying = false;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tstop() {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis._progress = 0;\n\n\t\tthis.source.stop();\n\t\tthis.source.onended = null;\n\t\tthis.isPlaying = false;\n\n\t\treturn this;\n\n\t}\n\n\tconnect() {\n\n\t\tif ( this.filters.length > 0 ) {\n\n\t\t\tthis.source.connect( this.filters[ 0 ] );\n\n\t\t\tfor ( let i = 1, l = this.filters.length; i < l; i ++ ) {\n\n\t\t\t\tthis.filters[ i - 1 ].connect( this.filters[ i ] );\n\n\t\t\t}\n\n\t\t\tthis.filters[ this.filters.length - 1 ].connect( this.getOutput() );\n\n\t\t} else {\n\n\t\t\tthis.source.connect( this.getOutput() );\n\n\t\t}\n\n\t\tthis._connected = true;\n\n\t\treturn this;\n\n\t}\n\n\tdisconnect() {\n\n\t\tif ( this.filters.length > 0 ) {\n\n\t\t\tthis.source.disconnect( this.filters[ 0 ] );\n\n\t\t\tfor ( let i = 1, l = this.filters.length; i < l; i ++ ) {\n\n\t\t\t\tthis.filters[ i - 1 ].disconnect( this.filters[ i ] );\n\n\t\t\t}\n\n\t\t\tthis.filters[ this.filters.length - 1 ].disconnect( this.getOutput() );\n\n\t\t} else {\n\n\t\t\tthis.source.disconnect( this.getOutput() );\n\n\t\t}\n\n\t\tthis._connected = false;\n\n\t\treturn this;\n\n\t}\n\n\tgetFilters() {\n\n\t\treturn this.filters;\n\n\t}\n\n\tsetFilters( value ) {\n\n\t\tif ( ! value ) value = [];\n\n\t\tif ( this._connected === true ) {\n\n\t\t\tthis.disconnect();\n\t\t\tthis.filters = value.slice();\n\t\t\tthis.connect();\n\n\t\t} else {\n\n\t\t\tthis.filters = value.slice();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetDetune( value ) {\n\n\t\tthis.detune = value;\n\n\t\tif ( this.source.detune === undefined ) return; // only set detune when available\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.detune.setTargetAtTime( this.detune, this.context.currentTime, 0.01 );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetDetune() {\n\n\t\treturn this.detune;\n\n\t}\n\n\tgetFilter() {\n\n\t\treturn this.getFilters()[ 0 ];\n\n\t}\n\n\tsetFilter( filter ) {\n\n\t\treturn this.setFilters( filter ? [ filter ] : [] );\n\n\t}\n\n\tsetPlaybackRate( value ) {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.playbackRate = value;\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.playbackRate.setTargetAtTime( this.playbackRate, this.context.currentTime, 0.01 );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetPlaybackRate() {\n\n\t\treturn this.playbackRate;\n\n\t}\n\n\tonEnded() {\n\n\t\tthis.isPlaying = false;\n\n\t}\n\n\tgetLoop() {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn false;\n\n\t\t}\n\n\t\treturn this.loop;\n\n\t}\n\n\tsetLoop( value ) {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.loop = value;\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.loop = this.loop;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetLoopStart( value ) {\n\n\t\tthis.loopStart = value;\n\n\t\treturn this;\n\n\t}\n\n\tsetLoopEnd( value ) {\n\n\t\tthis.loopEnd = value;\n\n\t\treturn this;\n\n\t}\n\n\tgetVolume() {\n\n\t\treturn this.gain.gain.value;\n\n\t}\n\n\tsetVolume( value ) {\n\n\t\tthis.gain.gain.setTargetAtTime( value, this.context.currentTime, 0.01 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nconst _position$3 = /*@__PURE__*/ new Vector3();\nconst _quaternion$4 = /*@__PURE__*/ new Quaternion();\nconst _scale$2 = /*@__PURE__*/ new Vector3();\nconst _orientation$1 = /*@__PURE__*/ new Vector3();\n\nclass PositionalAudio extends Audio {\n\n\tconstructor( listener ) {\n\n\t\tsuper( listener );\n\n\t\tthis.panner = this.context.createPanner();\n\t\tthis.panner.panningModel = 'HRTF';\n\t\tthis.panner.connect( this.gain );\n\n\t}\n\n\tgetOutput() {\n\n\t\treturn this.panner;\n\n\t}\n\n\tgetRefDistance() {\n\n\t\treturn this.panner.refDistance;\n\n\t}\n\n\tsetRefDistance( value ) {\n\n\t\tthis.panner.refDistance = value;\n\n\t\treturn this;\n\n\t}\n\n\tgetRolloffFactor() {\n\n\t\treturn this.panner.rolloffFactor;\n\n\t}\n\n\tsetRolloffFactor( value ) {\n\n\t\tthis.panner.rolloffFactor = value;\n\n\t\treturn this;\n\n\t}\n\n\tgetDistanceModel() {\n\n\t\treturn this.panner.distanceModel;\n\n\t}\n\n\tsetDistanceModel( value ) {\n\n\t\tthis.panner.distanceModel = value;\n\n\t\treturn this;\n\n\t}\n\n\tgetMaxDistance() {\n\n\t\treturn this.panner.maxDistance;\n\n\t}\n\n\tsetMaxDistance( value ) {\n\n\t\tthis.panner.maxDistance = value;\n\n\t\treturn this;\n\n\t}\n\n\tsetDirectionalCone( coneInnerAngle, coneOuterAngle, coneOuterGain ) {\n\n\t\tthis.panner.coneInnerAngle = coneInnerAngle;\n\t\tthis.panner.coneOuterAngle = coneOuterAngle;\n\t\tthis.panner.coneOuterGain = coneOuterGain;\n\n\t\treturn this;\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t\tif ( this.hasPlaybackControl === true && this.isPlaying === false ) return;\n\n\t\tthis.matrixWorld.decompose( _position$3, _quaternion$4, _scale$2 );\n\n\t\t_orientation$1.set( 0, 0, 1 ).applyQuaternion( _quaternion$4 );\n\n\t\tconst panner = this.panner;\n\n\t\tif ( panner.positionX ) {\n\n\t\t\t// code path for Chrome and Firefox (see #14393)\n\n\t\t\tconst endTime = this.context.currentTime + this.listener.timeDelta;\n\n\t\t\tpanner.positionX.linearRampToValueAtTime( _position$3.x, endTime );\n\t\t\tpanner.positionY.linearRampToValueAtTime( _position$3.y, endTime );\n\t\t\tpanner.positionZ.linearRampToValueAtTime( _position$3.z, endTime );\n\t\t\tpanner.orientationX.linearRampToValueAtTime( _orientation$1.x, endTime );\n\t\t\tpanner.orientationY.linearRampToValueAtTime( _orientation$1.y, endTime );\n\t\t\tpanner.orientationZ.linearRampToValueAtTime( _orientation$1.z, endTime );\n\n\t\t} else {\n\n\t\t\tpanner.setPosition( _position$3.x, _position$3.y, _position$3.z );\n\t\t\tpanner.setOrientation( _orientation$1.x, _orientation$1.y, _orientation$1.z );\n\n\t\t}\n\n\t}\n\n}\n\nclass AudioAnalyser {\n\n\tconstructor( audio, fftSize ) {\n\n\t\tthis.analyser = audio.context.createAnalyser();\n\t\tthis.analyser.fftSize = fftSize !== undefined ? fftSize : 2048;\n\n\t\tthis.data = new Uint8Array( this.analyser.frequencyBinCount );\n\n\t\taudio.getOutput().connect( this.analyser );\n\n\t}\n\n\n\tgetFrequencyData() {\n\n\t\tthis.analyser.getByteFrequencyData( this.data );\n\n\t\treturn this.data;\n\n\t}\n\n\tgetAverageFrequency() {\n\n\t\tlet value = 0;\n\t\tconst data = this.getFrequencyData();\n\n\t\tfor ( let i = 0; i < data.length; i ++ ) {\n\n\t\t\tvalue += data[ i ];\n\n\t\t}\n\n\t\treturn value / data.length;\n\n\t}\n\n}\n\nfunction PropertyMixer( binding, typeName, valueSize ) {\n\n\tthis.binding = binding;\n\tthis.valueSize = valueSize;\n\n\tlet mixFunction,\n\t\tmixFunctionAdditive,\n\t\tsetIdentity;\n\n\t// buffer layout: [ incoming | accu0 | accu1 | orig | addAccu | (optional work) ]\n\t//\n\t// interpolators can use .buffer as their .result\n\t// the data then goes to 'incoming'\n\t//\n\t// 'accu0' and 'accu1' are used frame-interleaved for\n\t// the cumulative result and are compared to detect\n\t// changes\n\t//\n\t// 'orig' stores the original state of the property\n\t//\n\t// 'add' is used for additive cumulative results\n\t//\n\t// 'work' is optional and is only present for quaternion types. It is used\n\t// to store intermediate quaternion multiplication results\n\n\tswitch ( typeName ) {\n\n\t\tcase 'quaternion':\n\t\t\tmixFunction = this._slerp;\n\t\t\tmixFunctionAdditive = this._slerpAdditive;\n\t\t\tsetIdentity = this._setAdditiveIdentityQuaternion;\n\n\t\t\tthis.buffer = new Float64Array( valueSize * 6 );\n\t\t\tthis._workIndex = 5;\n\t\t\tbreak;\n\n\t\tcase 'string':\n\t\tcase 'bool':\n\t\t\tmixFunction = this._select;\n\n\t\t\t// Use the regular mix function and for additive on these types,\n\t\t\t// additive is not relevant for non-numeric types\n\t\t\tmixFunctionAdditive = this._select;\n\n\t\t\tsetIdentity = this._setAdditiveIdentityOther;\n\n\t\t\tthis.buffer = new Array( valueSize * 5 );\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tmixFunction = this._lerp;\n\t\t\tmixFunctionAdditive = this._lerpAdditive;\n\t\t\tsetIdentity = this._setAdditiveIdentityNumeric;\n\n\t\t\tthis.buffer = new Float64Array( valueSize * 5 );\n\n\t}\n\n\tthis._mixBufferRegion = mixFunction;\n\tthis._mixBufferRegionAdditive = mixFunctionAdditive;\n\tthis._setIdentity = setIdentity;\n\tthis._origIndex = 3;\n\tthis._addIndex = 4;\n\n\tthis.cumulativeWeight = 0;\n\tthis.cumulativeWeightAdditive = 0;\n\n\tthis.useCount = 0;\n\tthis.referenceCount = 0;\n\n}\n\nObject.assign( PropertyMixer.prototype, {\n\n\t// accumulate data in the 'incoming' region into 'accu<i>'\n\taccumulate: function ( accuIndex, weight ) {\n\n\t\t// note: happily accumulating nothing when weight = 0, the caller knows\n\t\t// the weight and shouldn't have made the call in the first place\n\n\t\tconst buffer = this.buffer,\n\t\t\tstride = this.valueSize,\n\t\t\toffset = accuIndex * stride + stride;\n\n\t\tlet currentWeight = this.cumulativeWeight;\n\n\t\tif ( currentWeight === 0 ) {\n\n\t\t\t// accuN := incoming * weight\n\n\t\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\t\tbuffer[ offset + i ] = buffer[ i ];\n\n\t\t\t}\n\n\t\t\tcurrentWeight = weight;\n\n\t\t} else {\n\n\t\t\t// accuN := accuN + incoming * weight\n\n\t\t\tcurrentWeight += weight;\n\t\t\tconst mix = weight / currentWeight;\n\t\t\tthis._mixBufferRegion( buffer, offset, 0, mix, stride );\n\n\t\t}\n\n\t\tthis.cumulativeWeight = currentWeight;\n\n\t},\n\n\t// accumulate data in the 'incoming' region into 'add'\n\taccumulateAdditive: function ( weight ) {\n\n\t\tconst buffer = this.buffer,\n\t\t\tstride = this.valueSize,\n\t\t\toffset = stride * this._addIndex;\n\n\t\tif ( this.cumulativeWeightAdditive === 0 ) {\n\n\t\t\t// add = identity\n\n\t\t\tthis._setIdentity();\n\n\t\t}\n\n\t\t// add := add + incoming * weight\n\n\t\tthis._mixBufferRegionAdditive( buffer, offset, 0, weight, stride );\n\t\tthis.cumulativeWeightAdditive += weight;\n\n\t},\n\n\t// apply the state of 'accu<i>' to the binding when accus differ\n\tapply: function ( accuIndex ) {\n\n\t\tconst stride = this.valueSize,\n\t\t\tbuffer = this.buffer,\n\t\t\toffset = accuIndex * stride + stride,\n\n\t\t\tweight = this.cumulativeWeight,\n\t\t\tweightAdditive = this.cumulativeWeightAdditive,\n\n\t\t\tbinding = this.binding;\n\n\t\tthis.cumulativeWeight = 0;\n\t\tthis.cumulativeWeightAdditive = 0;\n\n\t\tif ( weight < 1 ) {\n\n\t\t\t// accuN := accuN + original * ( 1 - cumulativeWeight )\n\n\t\t\tconst originalValueOffset = stride * this._origIndex;\n\n\t\t\tthis._mixBufferRegion(\n\t\t\t\tbuffer, offset, originalValueOffset, 1 - weight, stride );\n\n\t\t}\n\n\t\tif ( weightAdditive > 0 ) {\n\n\t\t\t// accuN := accuN + additive accuN\n\n\t\t\tthis._mixBufferRegionAdditive( buffer, offset, this._addIndex * stride, 1, stride );\n\n\t\t}\n\n\t\tfor ( let i = stride, e = stride + stride; i !== e; ++ i ) {\n\n\t\t\tif ( buffer[ i ] !== buffer[ i + stride ] ) {\n\n\t\t\t\t// value has changed -> update scene graph\n\n\t\t\t\tbinding.setValue( buffer, offset );\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t// remember the state of the bound property and copy it to both accus\n\tsaveOriginalState: function () {\n\n\t\tconst binding = this.binding;\n\n\t\tconst buffer = this.buffer,\n\t\t\tstride = this.valueSize,\n\n\t\t\toriginalValueOffset = stride * this._origIndex;\n\n\t\tbinding.getValue( buffer, originalValueOffset );\n\n\t\t// accu[0..1] := orig -- initially detect changes against the original\n\t\tfor ( let i = stride, e = originalValueOffset; i !== e; ++ i ) {\n\n\t\t\tbuffer[ i ] = buffer[ originalValueOffset + ( i % stride ) ];\n\n\t\t}\n\n\t\t// Add to identity for additive\n\t\tthis._setIdentity();\n\n\t\tthis.cumulativeWeight = 0;\n\t\tthis.cumulativeWeightAdditive = 0;\n\n\t},\n\n\t// apply the state previously taken via 'saveOriginalState' to the binding\n\trestoreOriginalState: function () {\n\n\t\tconst originalValueOffset = this.valueSize * 3;\n\t\tthis.binding.setValue( this.buffer, originalValueOffset );\n\n\t},\n\n\t_setAdditiveIdentityNumeric: function () {\n\n\t\tconst startIndex = this._addIndex * this.valueSize;\n\t\tconst endIndex = startIndex + this.valueSize;\n\n\t\tfor ( let i = startIndex; i < endIndex; i ++ ) {\n\n\t\t\tthis.buffer[ i ] = 0;\n\n\t\t}\n\n\t},\n\n\t_setAdditiveIdentityQuaternion: function () {\n\n\t\tthis._setAdditiveIdentityNumeric();\n\t\tthis.buffer[ this._addIndex * this.valueSize + 3 ] = 1;\n\n\t},\n\n\t_setAdditiveIdentityOther: function () {\n\n\t\tconst startIndex = this._origIndex * this.valueSize;\n\t\tconst targetIndex = this._addIndex * this.valueSize;\n\n\t\tfor ( let i = 0; i < this.valueSize; i ++ ) {\n\n\t\t\tthis.buffer[ targetIndex + i ] = this.buffer[ startIndex + i ];\n\n\t\t}\n\n\t},\n\n\n\t// mix functions\n\n\t_select: function ( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tif ( t >= 0.5 ) {\n\n\t\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\t\tbuffer[ dstOffset + i ] = buffer[ srcOffset + i ];\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t_slerp: function ( buffer, dstOffset, srcOffset, t ) {\n\n\t\tQuaternion.slerpFlat( buffer, dstOffset, buffer, dstOffset, buffer, srcOffset, t );\n\n\t},\n\n\t_slerpAdditive: function ( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tconst workOffset = this._workIndex * stride;\n\n\t\t// Store result in intermediate buffer offset\n\t\tQuaternion.multiplyQuaternionsFlat( buffer, workOffset, buffer, dstOffset, buffer, srcOffset );\n\n\t\t// Slerp to the intermediate result\n\t\tQuaternion.slerpFlat( buffer, dstOffset, buffer, dstOffset, buffer, workOffset, t );\n\n\t},\n\n\t_lerp: function ( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tconst s = 1 - t;\n\n\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\tconst j = dstOffset + i;\n\n\t\t\tbuffer[ j ] = buffer[ j ] * s + buffer[ srcOffset + i ] * t;\n\n\t\t}\n\n\t},\n\n\t_lerpAdditive: function ( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\tconst j = dstOffset + i;\n\n\t\t\tbuffer[ j ] = buffer[ j ] + buffer[ srcOffset + i ] * t;\n\n\t\t}\n\n\t}\n\n} );\n\n// Characters [].:/ are reserved for track binding syntax.\nconst _RESERVED_CHARS_RE = '\\\\[\\\\]\\\\.:\\\\/';\nconst _reservedRe = new RegExp( '[' + _RESERVED_CHARS_RE + ']', 'g' );\n\n// Attempts to allow node names from any language. ES5's `\\w` regexp matches\n// only latin characters, and the unicode \\p{L} is not yet supported. So\n// instead, we exclude reserved characters and match everything else.\nconst _wordChar = '[^' + _RESERVED_CHARS_RE + ']';\nconst _wordCharOrDot = '[^' + _RESERVED_CHARS_RE.replace( '\\\\.', '' ) + ']';\n\n// Parent directories, delimited by '/' or ':'. Currently unused, but must\n// be matched to parse the rest of the track name.\nconst _directoryRe = /((?:WC+[\\/:])*)/.source.replace( 'WC', _wordChar );\n\n// Target node. May contain word characters (a-zA-Z0-9_) and '.' or '-'.\nconst _nodeRe = /(WCOD+)?/.source.replace( 'WCOD', _wordCharOrDot );\n\n// Object on target node, and accessor. May not contain reserved\n// characters. Accessor may contain any character except closing bracket.\nconst _objectRe = /(?:\\.(WC+)(?:\\[(.+)\\])?)?/.source.replace( 'WC', _wordChar );\n\n// Property and accessor. May not contain reserved characters. Accessor may\n// contain any non-bracket characters.\nconst _propertyRe = /\\.(WC+)(?:\\[(.+)\\])?/.source.replace( 'WC', _wordChar );\n\nconst _trackRe = new RegExp( ''\n\t+ '^'\n\t+ _directoryRe\n\t+ _nodeRe\n\t+ _objectRe\n\t+ _propertyRe\n\t+ '$'\n);\n\nconst _supportedObjectNames = [ 'material', 'materials', 'bones' ];\n\nfunction Composite( targetGroup, path, optionalParsedPath ) {\n\n\tconst parsedPath = optionalParsedPath || PropertyBinding.parseTrackName( path );\n\n\tthis._targetGroup = targetGroup;\n\tthis._bindings = targetGroup.subscribe_( path, parsedPath );\n\n}\n\nObject.assign( Composite.prototype, {\n\n\tgetValue: function ( array, offset ) {\n\n\t\tthis.bind(); // bind all binding\n\n\t\tconst firstValidIndex = this._targetGroup.nCachedObjects_,\n\t\t\tbinding = this._bindings[ firstValidIndex ];\n\n\t\t// and only call .getValue on the first\n\t\tif ( binding !== undefined ) binding.getValue( array, offset );\n\n\t},\n\n\tsetValue: function ( array, offset ) {\n\n\t\tconst bindings = this._bindings;\n\n\t\tfor ( let i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tbindings[ i ].setValue( array, offset );\n\n\t\t}\n\n\t},\n\n\tbind: function () {\n\n\t\tconst bindings = this._bindings;\n\n\t\tfor ( let i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tbindings[ i ].bind();\n\n\t\t}\n\n\t},\n\n\tunbind: function () {\n\n\t\tconst bindings = this._bindings;\n\n\t\tfor ( let i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tbindings[ i ].unbind();\n\n\t\t}\n\n\t}\n\n} );\n\n\nfunction PropertyBinding( rootNode, path, parsedPath ) {\n\n\tthis.path = path;\n\tthis.parsedPath = parsedPath || PropertyBinding.parseTrackName( path );\n\n\tthis.node = PropertyBinding.findNode( rootNode, this.parsedPath.nodeName ) || rootNode;\n\n\tthis.rootNode = rootNode;\n\n}\n\nObject.assign( PropertyBinding, {\n\n\tComposite: Composite,\n\n\tcreate: function ( root, path, parsedPath ) {\n\n\t\tif ( ! ( root && root.isAnimationObjectGroup ) ) {\n\n\t\t\treturn new PropertyBinding( root, path, parsedPath );\n\n\t\t} else {\n\n\t\t\treturn new PropertyBinding.Composite( root, path, parsedPath );\n\n\t\t}\n\n\t},\n\n\t/**\n\t * Replaces spaces with underscores and removes unsupported characters from\n\t * node names, to ensure compatibility with parseTrackName().\n\t *\n\t * @param {string} name Node name to be sanitized.\n\t * @return {string}\n\t */\n\tsanitizeNodeName: function ( name ) {\n\n\t\treturn name.replace( /\\s/g, '_' ).replace( _reservedRe, '' );\n\n\t},\n\n\tparseTrackName: function ( trackName ) {\n\n\t\tconst matches = _trackRe.exec( trackName );\n\n\t\tif ( ! matches ) {\n\n\t\t\tthrow new Error( 'PropertyBinding: Cannot parse trackName: ' + trackName );\n\n\t\t}\n\n\t\tconst results = {\n\t\t\t// directoryName: matches[ 1 ], // (tschw) currently unused\n\t\t\tnodeName: matches[ 2 ],\n\t\t\tobjectName: matches[ 3 ],\n\t\t\tobjectIndex: matches[ 4 ],\n\t\t\tpropertyName: matches[ 5 ], // required\n\t\t\tpropertyIndex: matches[ 6 ]\n\t\t};\n\n\t\tconst lastDot = results.nodeName && results.nodeName.lastIndexOf( '.' );\n\n\t\tif ( lastDot !== undefined && lastDot !== - 1 ) {\n\n\t\t\tconst objectName = results.nodeName.substring( lastDot + 1 );\n\n\t\t\t// Object names must be checked against an allowlist. Otherwise, there\n\t\t\t// is no way to parse 'foo.bar.baz': 'baz' must be a property, but\n\t\t\t// 'bar' could be the objectName, or part of a nodeName (which can\n\t\t\t// include '.' characters).\n\t\t\tif ( _supportedObjectNames.indexOf( objectName ) !== - 1 ) {\n\n\t\t\t\tresults.nodeName = results.nodeName.substring( 0, lastDot );\n\t\t\t\tresults.objectName = objectName;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( results.propertyName === null || results.propertyName.length === 0 ) {\n\n\t\t\tthrow new Error( 'PropertyBinding: can not parse propertyName from trackName: ' + trackName );\n\n\t\t}\n\n\t\treturn results;\n\n\t},\n\n\tfindNode: function ( root, nodeName ) {\n\n\t\tif ( ! nodeName || nodeName === \"\" || nodeName === \".\" || nodeName === - 1 || nodeName === root.name || nodeName === root.uuid ) {\n\n\t\t\treturn root;\n\n\t\t}\n\n\t\t// search into skeleton bones.\n\t\tif ( root.skeleton ) {\n\n\t\t\tconst bone = root.skeleton.getBoneByName( nodeName );\n\n\t\t\tif ( bone !== undefined ) {\n\n\t\t\t\treturn bone;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// search into node subtree.\n\t\tif ( root.children ) {\n\n\t\t\tconst searchNodeSubtree = function ( children ) {\n\n\t\t\t\tfor ( let i = 0; i < children.length; i ++ ) {\n\n\t\t\t\t\tconst childNode = children[ i ];\n\n\t\t\t\t\tif ( childNode.name === nodeName || childNode.uuid === nodeName ) {\n\n\t\t\t\t\t\treturn childNode;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst result = searchNodeSubtree( childNode.children );\n\n\t\t\t\t\tif ( result ) return result;\n\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\n\t\t\t};\n\n\t\t\tconst subTreeNode = searchNodeSubtree( root.children );\n\n\t\t\tif ( subTreeNode ) {\n\n\t\t\t\treturn subTreeNode;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n} );\n\nObject.assign( PropertyBinding.prototype, { // prototype, continued\n\n\t// these are used to \"bind\" a nonexistent property\n\t_getValue_unavailable: function () {},\n\t_setValue_unavailable: function () {},\n\n\tBindingType: {\n\t\tDirect: 0,\n\t\tEntireArray: 1,\n\t\tArrayElement: 2,\n\t\tHasFromToArray: 3\n\t},\n\n\tVersioning: {\n\t\tNone: 0,\n\t\tNeedsUpdate: 1,\n\t\tMatrixWorldNeedsUpdate: 2\n\t},\n\n\tGetterByBindingType: [\n\n\t\tfunction getValue_direct( buffer, offset ) {\n\n\t\t\tbuffer[ offset ] = this.node[ this.propertyName ];\n\n\t\t},\n\n\t\tfunction getValue_array( buffer, offset ) {\n\n\t\t\tconst source = this.resolvedProperty;\n\n\t\t\tfor ( let i = 0, n = source.length; i !== n; ++ i ) {\n\n\t\t\t\tbuffer[ offset ++ ] = source[ i ];\n\n\t\t\t}\n\n\t\t},\n\n\t\tfunction getValue_arrayElement( buffer, offset ) {\n\n\t\t\tbuffer[ offset ] = this.resolvedProperty[ this.propertyIndex ];\n\n\t\t},\n\n\t\tfunction getValue_toArray( buffer, offset ) {\n\n\t\t\tthis.resolvedProperty.toArray( buffer, offset );\n\n\t\t}\n\n\t],\n\n\tSetterByBindingTypeAndVersioning: [\n\n\t\t[\n\t\t\t// Direct\n\n\t\t\tfunction setValue_direct( buffer, offset ) {\n\n\t\t\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\n\n\t\t\t},\n\n\t\t\tfunction setValue_direct_setNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\n\t\t\t\tthis.targetObject.needsUpdate = true;\n\n\t\t\t},\n\n\t\t\tfunction setValue_direct_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\n\t\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t\t\t}\n\n\t\t], [\n\n\t\t\t// EntireArray\n\n\t\t\tfunction setValue_array( buffer, offset ) {\n\n\t\t\t\tconst dest = this.resolvedProperty;\n\n\t\t\t\tfor ( let i = 0, n = dest.length; i !== n; ++ i ) {\n\n\t\t\t\t\tdest[ i ] = buffer[ offset ++ ];\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tfunction setValue_array_setNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tconst dest = this.resolvedProperty;\n\n\t\t\t\tfor ( let i = 0, n = dest.length; i !== n; ++ i ) {\n\n\t\t\t\t\tdest[ i ] = buffer[ offset ++ ];\n\n\t\t\t\t}\n\n\t\t\t\tthis.targetObject.needsUpdate = true;\n\n\t\t\t},\n\n\t\t\tfunction setValue_array_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tconst dest = this.resolvedProperty;\n\n\t\t\t\tfor ( let i = 0, n = dest.length; i !== n; ++ i ) {\n\n\t\t\t\t\tdest[ i ] = buffer[ offset ++ ];\n\n\t\t\t\t}\n\n\t\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t\t\t}\n\n\t\t], [\n\n\t\t\t// ArrayElement\n\n\t\t\tfunction setValue_arrayElement( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n\n\t\t\t},\n\n\t\t\tfunction setValue_arrayElement_setNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n\t\t\t\tthis.targetObject.needsUpdate = true;\n\n\t\t\t},\n\n\t\t\tfunction setValue_arrayElement_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n\t\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t\t\t}\n\n\t\t], [\n\n\t\t\t// HasToFromArray\n\n\t\t\tfunction setValue_fromArray( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty.fromArray( buffer, offset );\n\n\t\t\t},\n\n\t\t\tfunction setValue_fromArray_setNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty.fromArray( buffer, offset );\n\t\t\t\tthis.targetObject.needsUpdate = true;\n\n\t\t\t},\n\n\t\t\tfunction setValue_fromArray_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty.fromArray( buffer, offset );\n\t\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t\t\t}\n\n\t\t]\n\n\t],\n\n\tgetValue: function getValue_unbound( targetArray, offset ) {\n\n\t\tthis.bind();\n\t\tthis.getValue( targetArray, offset );\n\n\t\t// Note: This class uses a State pattern on a per-method basis:\n\t\t// 'bind' sets 'this.getValue' / 'setValue' and shadows the\n\t\t// prototype version of these methods with one that represents\n\t\t// the bound state. When the property is not found, the methods\n\t\t// become no-ops.\n\n\t},\n\n\tsetValue: function getValue_unbound( sourceArray, offset ) {\n\n\t\tthis.bind();\n\t\tthis.setValue( sourceArray, offset );\n\n\t},\n\n\t// create getter / setter pair for a property in the scene graph\n\tbind: function () {\n\n\t\tlet targetObject = this.node;\n\t\tconst parsedPath = this.parsedPath;\n\n\t\tconst objectName = parsedPath.objectName;\n\t\tconst propertyName = parsedPath.propertyName;\n\t\tlet propertyIndex = parsedPath.propertyIndex;\n\n\t\tif ( ! targetObject ) {\n\n\t\t\ttargetObject = PropertyBinding.findNode( this.rootNode, parsedPath.nodeName ) || this.rootNode;\n\n\t\t\tthis.node = targetObject;\n\n\t\t}\n\n\t\t// set fail state so we can just 'return' on error\n\t\tthis.getValue = this._getValue_unavailable;\n\t\tthis.setValue = this._setValue_unavailable;\n\n\t\t// ensure there is a value node\n\t\tif ( ! targetObject ) {\n\n\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to update node for track: ' + this.path + ' but it wasn\\'t found.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( objectName ) {\n\n\t\t\tlet objectIndex = parsedPath.objectIndex;\n\n\t\t\t// special cases were we need to reach deeper into the hierarchy to get the face materials....\n\t\t\tswitch ( objectName ) {\n\n\t\t\t\tcase 'materials':\n\n\t\t\t\t\tif ( ! targetObject.material ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to material as node does not have a material.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( ! targetObject.material.materials ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttargetObject = targetObject.material.materials;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'bones':\n\n\t\t\t\t\tif ( ! targetObject.skeleton ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// potential future optimization: skip this if propertyIndex is already an integer\n\t\t\t\t\t// and convert the integer string to a true integer.\n\n\t\t\t\t\ttargetObject = targetObject.skeleton.bones;\n\n\t\t\t\t\t// support resolving morphTarget names into indices.\n\t\t\t\t\tfor ( let i = 0; i < targetObject.length; i ++ ) {\n\n\t\t\t\t\t\tif ( targetObject[ i ].name === objectIndex ) {\n\n\t\t\t\t\t\t\tobjectIndex = i;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tif ( targetObject[ objectName ] === undefined ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to objectName of node undefined.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttargetObject = targetObject[ objectName ];\n\n\t\t\t}\n\n\n\t\t\tif ( objectIndex !== undefined ) {\n\n\t\t\t\tif ( targetObject[ objectIndex ] === undefined ) {\n\n\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.', this, targetObject );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\ttargetObject = targetObject[ objectIndex ];\n\n\t\t\t}\n\n\t\t}\n\n\t\t// resolve property\n\t\tconst nodeProperty = targetObject[ propertyName ];\n\n\t\tif ( nodeProperty === undefined ) {\n\n\t\t\tconst nodeName = parsedPath.nodeName;\n\n\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to update property for track: ' + nodeName +\n\t\t\t\t'.' + propertyName + ' but it wasn\\'t found.', targetObject );\n\t\t\treturn;\n\n\t\t}\n\n\t\t// determine versioning scheme\n\t\tlet versioning = this.Versioning.None;\n\n\t\tthis.targetObject = targetObject;\n\n\t\tif ( targetObject.needsUpdate !== undefined ) { // material\n\n\t\t\tversioning = this.Versioning.NeedsUpdate;\n\n\t\t} else if ( targetObject.matrixWorldNeedsUpdate !== undefined ) { // node transform\n\n\t\t\tversioning = this.Versioning.MatrixWorldNeedsUpdate;\n\n\t\t}\n\n\t\t// determine how the property gets bound\n\t\tlet bindingType = this.BindingType.Direct;\n\n\t\tif ( propertyIndex !== undefined ) {\n\n\t\t\t// access a sub element of the property array (only primitives are supported right now)\n\n\t\t\tif ( propertyName === \"morphTargetInfluences\" ) {\n\n\t\t\t\t// potential optimization, skip this if propertyIndex is already an integer, and convert the integer string to a true integer.\n\n\t\t\t\t// support resolving morphTarget names into indices.\n\t\t\t\tif ( ! targetObject.geometry ) {\n\n\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.', this );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tif ( targetObject.geometry.isBufferGeometry ) {\n\n\t\t\t\t\tif ( ! targetObject.geometry.morphAttributes ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( targetObject.morphTargetDictionary[ propertyIndex ] !== undefined ) {\n\n\t\t\t\t\t\tpropertyIndex = targetObject.morphTargetDictionary[ propertyIndex ];\n\n\t\t\t\t\t}\n\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.', this );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tbindingType = this.BindingType.ArrayElement;\n\n\t\t\tthis.resolvedProperty = nodeProperty;\n\t\t\tthis.propertyIndex = propertyIndex;\n\n\t\t} else if ( nodeProperty.fromArray !== undefined && nodeProperty.toArray !== undefined ) {\n\n\t\t\t// must use copy for Object3D.Euler/Quaternion\n\n\t\t\tbindingType = this.BindingType.HasFromToArray;\n\n\t\t\tthis.resolvedProperty = nodeProperty;\n\n\t\t} else if ( Array.isArray( nodeProperty ) ) {\n\n\t\t\tbindingType = this.BindingType.EntireArray;\n\n\t\t\tthis.resolvedProperty = nodeProperty;\n\n\t\t} else {\n\n\t\t\tthis.propertyName = propertyName;\n\n\t\t}\n\n\t\t// select getter / setter\n\t\tthis.getValue = this.GetterByBindingType[ bindingType ];\n\t\tthis.setValue = this.SetterByBindingTypeAndVersioning[ bindingType ][ versioning ];\n\n\t},\n\n\tunbind: function () {\n\n\t\tthis.node = null;\n\n\t\t// back to the prototype version of getValue / setValue\n\t\t// note: avoiding to mutate the shape of 'this' via 'delete'\n\t\tthis.getValue = this._getValue_unbound;\n\t\tthis.setValue = this._setValue_unbound;\n\n\t}\n\n} );\n\n// DECLARE ALIAS AFTER assign prototype\nObject.assign( PropertyBinding.prototype, {\n\n\t// initial state of these methods that calls 'bind'\n\t_getValue_unbound: PropertyBinding.prototype.getValue,\n\t_setValue_unbound: PropertyBinding.prototype.setValue,\n\n} );\n\n/**\n *\n * A group of objects that receives a shared animation state.\n *\n * Usage:\n *\n *  - Add objects you would otherwise pass as 'root' to the\n *    constructor or the .clipAction method of AnimationMixer.\n *\n *  - Instead pass this object as 'root'.\n *\n *  - You can also add and remove objects later when the mixer\n *    is running.\n *\n * Note:\n *\n *    Objects of this class appear as one object to the mixer,\n *    so cache control of the individual objects must be done\n *    on the group.\n *\n * Limitation:\n *\n *  - The animated properties must be compatible among the\n *    all objects in the group.\n *\n *  - A single property can either be controlled through a\n *    target group or directly, but not both.\n */\n\nfunction AnimationObjectGroup() {\n\n\tthis.uuid = MathUtils.generateUUID();\n\n\t// cached objects followed by the active ones\n\tthis._objects = Array.prototype.slice.call( arguments );\n\n\tthis.nCachedObjects_ = 0; // threshold\n\t// note: read by PropertyBinding.Composite\n\n\tconst indices = {};\n\tthis._indicesByUUID = indices; // for bookkeeping\n\n\tfor ( let i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\tindices[ arguments[ i ].uuid ] = i;\n\n\t}\n\n\tthis._paths = []; // inside: string\n\tthis._parsedPaths = []; // inside: { we don't care, here }\n\tthis._bindings = []; // inside: Array< PropertyBinding >\n\tthis._bindingsIndicesByPath = {}; // inside: indices in these arrays\n\n\tconst scope = this;\n\n\tthis.stats = {\n\n\t\tobjects: {\n\t\t\tget total() {\n\n\t\t\t\treturn scope._objects.length;\n\n\t\t\t},\n\t\t\tget inUse() {\n\n\t\t\t\treturn this.total - scope.nCachedObjects_;\n\n\t\t\t}\n\t\t},\n\t\tget bindingsPerObject() {\n\n\t\t\treturn scope._bindings.length;\n\n\t\t}\n\n\t};\n\n}\n\nObject.assign( AnimationObjectGroup.prototype, {\n\n\tisAnimationObjectGroup: true,\n\n\tadd: function () {\n\n\t\tconst objects = this._objects,\n\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\tpaths = this._paths,\n\t\t\tparsedPaths = this._parsedPaths,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = bindings.length;\n\n\t\tlet knownObject = undefined,\n\t\t\tnObjects = objects.length,\n\t\t\tnCachedObjects = this.nCachedObjects_;\n\n\t\tfor ( let i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tconst object = arguments[ i ],\n\t\t\t\tuuid = object.uuid;\n\t\t\tlet index = indicesByUUID[ uuid ];\n\n\t\t\tif ( index === undefined ) {\n\n\t\t\t\t// unknown object -> add it to the ACTIVE region\n\n\t\t\t\tindex = nObjects ++;\n\t\t\t\tindicesByUUID[ uuid ] = index;\n\t\t\t\tobjects.push( object );\n\n\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\tfor ( let j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\tbindings[ j ].push( new PropertyBinding( object, paths[ j ], parsedPaths[ j ] ) );\n\n\t\t\t\t}\n\n\t\t\t} else if ( index < nCachedObjects ) {\n\n\t\t\t\tknownObject = objects[ index ];\n\n\t\t\t\t// move existing object to the ACTIVE region\n\n\t\t\t\tconst firstActiveIndex = -- nCachedObjects,\n\t\t\t\t\tlastCachedObject = objects[ firstActiveIndex ];\n\n\t\t\t\tindicesByUUID[ lastCachedObject.uuid ] = index;\n\t\t\t\tobjects[ index ] = lastCachedObject;\n\n\t\t\t\tindicesByUUID[ uuid ] = firstActiveIndex;\n\t\t\t\tobjects[ firstActiveIndex ] = object;\n\n\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\tfor ( let j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\tconst bindingsForPath = bindings[ j ],\n\t\t\t\t\t\tlastCached = bindingsForPath[ firstActiveIndex ];\n\n\t\t\t\t\tlet binding = bindingsForPath[ index ];\n\n\t\t\t\t\tbindingsForPath[ index ] = lastCached;\n\n\t\t\t\t\tif ( binding === undefined ) {\n\n\t\t\t\t\t\t// since we do not bother to create new bindings\n\t\t\t\t\t\t// for objects that are cached, the binding may\n\t\t\t\t\t\t// or may not exist\n\n\t\t\t\t\t\tbinding = new PropertyBinding( object, paths[ j ], parsedPaths[ j ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbindingsForPath[ firstActiveIndex ] = binding;\n\n\t\t\t\t}\n\n\t\t\t} else if ( objects[ index ] !== knownObject ) {\n\n\t\t\t\tconsole.error( 'THREE.AnimationObjectGroup: Different objects with the same UUID ' +\n\t\t\t\t\t'detected. Clean the caches or recreate your infrastructure when reloading scenes.' );\n\n\t\t\t} // else the object is already where we want it to be\n\n\t\t} // for arguments\n\n\t\tthis.nCachedObjects_ = nCachedObjects;\n\n\t},\n\n\tremove: function () {\n\n\t\tconst objects = this._objects,\n\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = bindings.length;\n\n\t\tlet nCachedObjects = this.nCachedObjects_;\n\n\t\tfor ( let i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tconst object = arguments[ i ],\n\t\t\t\tuuid = object.uuid,\n\t\t\t\tindex = indicesByUUID[ uuid ];\n\n\t\t\tif ( index !== undefined && index >= nCachedObjects ) {\n\n\t\t\t\t// move existing object into the CACHED region\n\n\t\t\t\tconst lastCachedIndex = nCachedObjects ++,\n\t\t\t\t\tfirstActiveObject = objects[ lastCachedIndex ];\n\n\t\t\t\tindicesByUUID[ firstActiveObject.uuid ] = index;\n\t\t\t\tobjects[ index ] = firstActiveObject;\n\n\t\t\t\tindicesByUUID[ uuid ] = lastCachedIndex;\n\t\t\t\tobjects[ lastCachedIndex ] = object;\n\n\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\tfor ( let j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\tconst bindingsForPath = bindings[ j ],\n\t\t\t\t\t\tfirstActive = bindingsForPath[ lastCachedIndex ],\n\t\t\t\t\t\tbinding = bindingsForPath[ index ];\n\n\t\t\t\t\tbindingsForPath[ index ] = firstActive;\n\t\t\t\t\tbindingsForPath[ lastCachedIndex ] = binding;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} // for arguments\n\n\t\tthis.nCachedObjects_ = nCachedObjects;\n\n\t},\n\n\t// remove & forget\n\tuncache: function () {\n\n\t\tconst objects = this._objects,\n\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = bindings.length;\n\n\t\tlet nCachedObjects = this.nCachedObjects_,\n\t\t\tnObjects = objects.length;\n\n\t\tfor ( let i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tconst object = arguments[ i ],\n\t\t\t\tuuid = object.uuid,\n\t\t\t\tindex = indicesByUUID[ uuid ];\n\n\t\t\tif ( index !== undefined ) {\n\n\t\t\t\tdelete indicesByUUID[ uuid ];\n\n\t\t\t\tif ( index < nCachedObjects ) {\n\n\t\t\t\t\t// object is cached, shrink the CACHED region\n\n\t\t\t\t\tconst firstActiveIndex = -- nCachedObjects,\n\t\t\t\t\t\tlastCachedObject = objects[ firstActiveIndex ],\n\t\t\t\t\t\tlastIndex = -- nObjects,\n\t\t\t\t\t\tlastObject = objects[ lastIndex ];\n\n\t\t\t\t\t// last cached object takes this object's place\n\t\t\t\t\tindicesByUUID[ lastCachedObject.uuid ] = index;\n\t\t\t\t\tobjects[ index ] = lastCachedObject;\n\n\t\t\t\t\t// last object goes to the activated slot and pop\n\t\t\t\t\tindicesByUUID[ lastObject.uuid ] = firstActiveIndex;\n\t\t\t\t\tobjects[ firstActiveIndex ] = lastObject;\n\t\t\t\t\tobjects.pop();\n\n\t\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\t\tfor ( let j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\t\tconst bindingsForPath = bindings[ j ],\n\t\t\t\t\t\t\tlastCached = bindingsForPath[ firstActiveIndex ],\n\t\t\t\t\t\t\tlast = bindingsForPath[ lastIndex ];\n\n\t\t\t\t\t\tbindingsForPath[ index ] = lastCached;\n\t\t\t\t\t\tbindingsForPath[ firstActiveIndex ] = last;\n\t\t\t\t\t\tbindingsForPath.pop();\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// object is active, just swap with the last and pop\n\n\t\t\t\t\tconst lastIndex = -- nObjects,\n\t\t\t\t\t\tlastObject = objects[ lastIndex ];\n\n\t\t\t\t\tif ( lastIndex > 0 ) {\n\n\t\t\t\t\t\tindicesByUUID[ lastObject.uuid ] = index;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tobjects[ index ] = lastObject;\n\t\t\t\t\tobjects.pop();\n\n\t\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\t\tfor ( let j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\t\tconst bindingsForPath = bindings[ j ];\n\n\t\t\t\t\t\tbindingsForPath[ index ] = bindingsForPath[ lastIndex ];\n\t\t\t\t\t\tbindingsForPath.pop();\n\n\t\t\t\t\t}\n\n\t\t\t\t} // cached or active\n\n\t\t\t} // if object is known\n\n\t\t} // for arguments\n\n\t\tthis.nCachedObjects_ = nCachedObjects;\n\n\t},\n\n\t// Internal interface used by befriended PropertyBinding.Composite:\n\n\tsubscribe_: function ( path, parsedPath ) {\n\n\t\t// returns an array of bindings for the given path that is changed\n\t\t// according to the contained objects in the group\n\n\t\tconst indicesByPath = this._bindingsIndicesByPath;\n\t\tlet index = indicesByPath[ path ];\n\t\tconst bindings = this._bindings;\n\n\t\tif ( index !== undefined ) return bindings[ index ];\n\n\t\tconst paths = this._paths,\n\t\t\tparsedPaths = this._parsedPaths,\n\t\t\tobjects = this._objects,\n\t\t\tnObjects = objects.length,\n\t\t\tnCachedObjects = this.nCachedObjects_,\n\t\t\tbindingsForPath = new Array( nObjects );\n\n\t\tindex = bindings.length;\n\n\t\tindicesByPath[ path ] = index;\n\n\t\tpaths.push( path );\n\t\tparsedPaths.push( parsedPath );\n\t\tbindings.push( bindingsForPath );\n\n\t\tfor ( let i = nCachedObjects, n = objects.length; i !== n; ++ i ) {\n\n\t\t\tconst object = objects[ i ];\n\t\t\tbindingsForPath[ i ] = new PropertyBinding( object, path, parsedPath );\n\n\t\t}\n\n\t\treturn bindingsForPath;\n\n\t},\n\n\tunsubscribe_: function ( path ) {\n\n\t\t// tells the group to forget about a property path and no longer\n\t\t// update the array previously obtained with 'subscribe_'\n\n\t\tconst indicesByPath = this._bindingsIndicesByPath,\n\t\t\tindex = indicesByPath[ path ];\n\n\t\tif ( index !== undefined ) {\n\n\t\t\tconst paths = this._paths,\n\t\t\t\tparsedPaths = this._parsedPaths,\n\t\t\t\tbindings = this._bindings,\n\t\t\t\tlastBindingsIndex = bindings.length - 1,\n\t\t\t\tlastBindings = bindings[ lastBindingsIndex ],\n\t\t\t\tlastBindingsPath = path[ lastBindingsIndex ];\n\n\t\t\tindicesByPath[ lastBindingsPath ] = index;\n\n\t\t\tbindings[ index ] = lastBindings;\n\t\t\tbindings.pop();\n\n\t\t\tparsedPaths[ index ] = parsedPaths[ lastBindingsIndex ];\n\t\t\tparsedPaths.pop();\n\n\t\t\tpaths[ index ] = paths[ lastBindingsIndex ];\n\t\t\tpaths.pop();\n\n\t\t}\n\n\t}\n\n} );\n\nclass AnimationAction {\n\n\tconstructor( mixer, clip, localRoot, blendMode ) {\n\n\t\tthis._mixer = mixer;\n\t\tthis._clip = clip;\n\t\tthis._localRoot = localRoot || null;\n\t\tthis.blendMode = blendMode || clip.blendMode;\n\n\t\tconst tracks = clip.tracks,\n\t\t\tnTracks = tracks.length,\n\t\t\tinterpolants = new Array( nTracks );\n\n\t\tconst interpolantSettings = {\n\t\t\tendingStart: ZeroCurvatureEnding,\n\t\t\tendingEnd: ZeroCurvatureEnding\n\t\t};\n\n\t\tfor ( let i = 0; i !== nTracks; ++ i ) {\n\n\t\t\tconst interpolant = tracks[ i ].createInterpolant( null );\n\t\t\tinterpolants[ i ] = interpolant;\n\t\t\tinterpolant.settings = interpolantSettings;\n\n\t\t}\n\n\t\tthis._interpolantSettings = interpolantSettings;\n\n\t\tthis._interpolants = interpolants; // bound by the mixer\n\n\t\t// inside: PropertyMixer (managed by the mixer)\n\t\tthis._propertyBindings = new Array( nTracks );\n\n\t\tthis._cacheIndex = null; // for the memory manager\n\t\tthis._byClipCacheIndex = null; // for the memory manager\n\n\t\tthis._timeScaleInterpolant = null;\n\t\tthis._weightInterpolant = null;\n\n\t\tthis.loop = LoopRepeat;\n\t\tthis._loopCount = - 1;\n\n\t\t// global mixer time when the action is to be started\n\t\t// it's set back to 'null' upon start of the action\n\t\tthis._startTime = null;\n\n\t\t// scaled local time of the action\n\t\t// gets clamped or wrapped to 0..clip.duration according to loop\n\t\tthis.time = 0;\n\n\t\tthis.timeScale = 1;\n\t\tthis._effectiveTimeScale = 1;\n\n\t\tthis.weight = 1;\n\t\tthis._effectiveWeight = 1;\n\n\t\tthis.repetitions = Infinity; // no. of repetitions when looping\n\n\t\tthis.paused = false; // true -> zero effective time scale\n\t\tthis.enabled = true; // false -> zero effective weight\n\n\t\tthis.clampWhenFinished = false;// keep feeding the last frame?\n\n\t\tthis.zeroSlopeAtStart = true;// for smooth interpolation w/o separate\n\t\tthis.zeroSlopeAtEnd = true;// clips for start, loop and end\n\n\t}\n\n\t// State & Scheduling\n\n\tplay() {\n\n\t\tthis._mixer._activateAction( this );\n\n\t\treturn this;\n\n\t}\n\n\tstop() {\n\n\t\tthis._mixer._deactivateAction( this );\n\n\t\treturn this.reset();\n\n\t}\n\n\treset() {\n\n\t\tthis.paused = false;\n\t\tthis.enabled = true;\n\n\t\tthis.time = 0; // restart clip\n\t\tthis._loopCount = - 1;// forget previous loops\n\t\tthis._startTime = null;// forget scheduling\n\n\t\treturn this.stopFading().stopWarping();\n\n\t}\n\n\tisRunning() {\n\n\t\treturn this.enabled && ! this.paused && this.timeScale !== 0 &&\n\t\t\tthis._startTime === null && this._mixer._isActiveAction( this );\n\n\t}\n\n\t// return true when play has been called\n\tisScheduled() {\n\n\t\treturn this._mixer._isActiveAction( this );\n\n\t}\n\n\tstartAt( time ) {\n\n\t\tthis._startTime = time;\n\n\t\treturn this;\n\n\t}\n\n\tsetLoop( mode, repetitions ) {\n\n\t\tthis.loop = mode;\n\t\tthis.repetitions = repetitions;\n\n\t\treturn this;\n\n\t}\n\n\t// Weight\n\n\t// set the weight stopping any scheduled fading\n\t// although .enabled = false yields an effective weight of zero, this\n\t// method does *not* change .enabled, because it would be confusing\n\tsetEffectiveWeight( weight ) {\n\n\t\tthis.weight = weight;\n\n\t\t// note: same logic as when updated at runtime\n\t\tthis._effectiveWeight = this.enabled ? weight : 0;\n\n\t\treturn this.stopFading();\n\n\t}\n\n\t// return the weight considering fading and .enabled\n\tgetEffectiveWeight() {\n\n\t\treturn this._effectiveWeight;\n\n\t}\n\n\tfadeIn( duration ) {\n\n\t\treturn this._scheduleFading( duration, 0, 1 );\n\n\t}\n\n\tfadeOut( duration ) {\n\n\t\treturn this._scheduleFading( duration, 1, 0 );\n\n\t}\n\n\tcrossFadeFrom( fadeOutAction, duration, warp ) {\n\n\t\tfadeOutAction.fadeOut( duration );\n\t\tthis.fadeIn( duration );\n\n\t\tif ( warp ) {\n\n\t\t\tconst fadeInDuration = this._clip.duration,\n\t\t\t\tfadeOutDuration = fadeOutAction._clip.duration,\n\n\t\t\t\tstartEndRatio = fadeOutDuration / fadeInDuration,\n\t\t\t\tendStartRatio = fadeInDuration / fadeOutDuration;\n\n\t\t\tfadeOutAction.warp( 1.0, startEndRatio, duration );\n\t\t\tthis.warp( endStartRatio, 1.0, duration );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tcrossFadeTo( fadeInAction, duration, warp ) {\n\n\t\treturn fadeInAction.crossFadeFrom( this, duration, warp );\n\n\t}\n\n\tstopFading() {\n\n\t\tconst weightInterpolant = this._weightInterpolant;\n\n\t\tif ( weightInterpolant !== null ) {\n\n\t\t\tthis._weightInterpolant = null;\n\t\t\tthis._mixer._takeBackControlInterpolant( weightInterpolant );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// Time Scale Control\n\n\t// set the time scale stopping any scheduled warping\n\t// although .paused = true yields an effective time scale of zero, this\n\t// method does *not* change .paused, because it would be confusing\n\tsetEffectiveTimeScale( timeScale ) {\n\n\t\tthis.timeScale = timeScale;\n\t\tthis._effectiveTimeScale = this.paused ? 0 : timeScale;\n\n\t\treturn this.stopWarping();\n\n\t}\n\n\t// return the time scale considering warping and .paused\n\tgetEffectiveTimeScale() {\n\n\t\treturn this._effectiveTimeScale;\n\n\t}\n\n\tsetDuration( duration ) {\n\n\t\tthis.timeScale = this._clip.duration / duration;\n\n\t\treturn this.stopWarping();\n\n\t}\n\n\tsyncWith( action ) {\n\n\t\tthis.time = action.time;\n\t\tthis.timeScale = action.timeScale;\n\n\t\treturn this.stopWarping();\n\n\t}\n\n\thalt( duration ) {\n\n\t\treturn this.warp( this._effectiveTimeScale, 0, duration );\n\n\t}\n\n\twarp( startTimeScale, endTimeScale, duration ) {\n\n\t\tconst mixer = this._mixer,\n\t\t\tnow = mixer.time,\n\t\t\ttimeScale = this.timeScale;\n\n\t\tlet interpolant = this._timeScaleInterpolant;\n\n\t\tif ( interpolant === null ) {\n\n\t\t\tinterpolant = mixer._lendControlInterpolant();\n\t\t\tthis._timeScaleInterpolant = interpolant;\n\n\t\t}\n\n\t\tconst times = interpolant.parameterPositions,\n\t\t\tvalues = interpolant.sampleValues;\n\n\t\ttimes[ 0 ] = now;\n\t\ttimes[ 1 ] = now + duration;\n\n\t\tvalues[ 0 ] = startTimeScale / timeScale;\n\t\tvalues[ 1 ] = endTimeScale / timeScale;\n\n\t\treturn this;\n\n\t}\n\n\tstopWarping() {\n\n\t\tconst timeScaleInterpolant = this._timeScaleInterpolant;\n\n\t\tif ( timeScaleInterpolant !== null ) {\n\n\t\t\tthis._timeScaleInterpolant = null;\n\t\t\tthis._mixer._takeBackControlInterpolant( timeScaleInterpolant );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// Object Accessors\n\n\tgetMixer() {\n\n\t\treturn this._mixer;\n\n\t}\n\n\tgetClip() {\n\n\t\treturn this._clip;\n\n\t}\n\n\tgetRoot() {\n\n\t\treturn this._localRoot || this._mixer._root;\n\n\t}\n\n\t// Interna\n\n\t_update( time, deltaTime, timeDirection, accuIndex ) {\n\n\t\t// called by the mixer\n\n\t\tif ( ! this.enabled ) {\n\n\t\t\t// call ._updateWeight() to update ._effectiveWeight\n\n\t\t\tthis._updateWeight( time );\n\t\t\treturn;\n\n\t\t}\n\n\t\tconst startTime = this._startTime;\n\n\t\tif ( startTime !== null ) {\n\n\t\t\t// check for scheduled start of action\n\n\t\t\tconst timeRunning = ( time - startTime ) * timeDirection;\n\t\t\tif ( timeRunning < 0 || timeDirection === 0 ) {\n\n\t\t\t\treturn; // yet to come / don't decide when delta = 0\n\n\t\t\t}\n\n\t\t\t// start\n\n\t\t\tthis._startTime = null; // unschedule\n\t\t\tdeltaTime = timeDirection * timeRunning;\n\n\t\t}\n\n\t\t// apply time scale and advance time\n\n\t\tdeltaTime *= this._updateTimeScale( time );\n\t\tconst clipTime = this._updateTime( deltaTime );\n\n\t\t// note: _updateTime may disable the action resulting in\n\t\t// an effective weight of 0\n\n\t\tconst weight = this._updateWeight( time );\n\n\t\tif ( weight > 0 ) {\n\n\t\t\tconst interpolants = this._interpolants;\n\t\t\tconst propertyMixers = this._propertyBindings;\n\n\t\t\tswitch ( this.blendMode ) {\n\n\t\t\t\tcase AdditiveAnimationBlendMode:\n\n\t\t\t\t\tfor ( let j = 0, m = interpolants.length; j !== m; ++ j ) {\n\n\t\t\t\t\t\tinterpolants[ j ].evaluate( clipTime );\n\t\t\t\t\t\tpropertyMixers[ j ].accumulateAdditive( weight );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase NormalAnimationBlendMode:\n\t\t\t\tdefault:\n\n\t\t\t\t\tfor ( let j = 0, m = interpolants.length; j !== m; ++ j ) {\n\n\t\t\t\t\t\tinterpolants[ j ].evaluate( clipTime );\n\t\t\t\t\t\tpropertyMixers[ j ].accumulate( accuIndex, weight );\n\n\t\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t_updateWeight( time ) {\n\n\t\tlet weight = 0;\n\n\t\tif ( this.enabled ) {\n\n\t\t\tweight = this.weight;\n\t\t\tconst interpolant = this._weightInterpolant;\n\n\t\t\tif ( interpolant !== null ) {\n\n\t\t\t\tconst interpolantValue = interpolant.evaluate( time )[ 0 ];\n\n\t\t\t\tweight *= interpolantValue;\n\n\t\t\t\tif ( time > interpolant.parameterPositions[ 1 ] ) {\n\n\t\t\t\t\tthis.stopFading();\n\n\t\t\t\t\tif ( interpolantValue === 0 ) {\n\n\t\t\t\t\t\t// faded out, disable\n\t\t\t\t\t\tthis.enabled = false;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis._effectiveWeight = weight;\n\t\treturn weight;\n\n\t}\n\n\t_updateTimeScale( time ) {\n\n\t\tlet timeScale = 0;\n\n\t\tif ( ! this.paused ) {\n\n\t\t\ttimeScale = this.timeScale;\n\n\t\t\tconst interpolant = this._timeScaleInterpolant;\n\n\t\t\tif ( interpolant !== null ) {\n\n\t\t\t\tconst interpolantValue = interpolant.evaluate( time )[ 0 ];\n\n\t\t\t\ttimeScale *= interpolantValue;\n\n\t\t\t\tif ( time > interpolant.parameterPositions[ 1 ] ) {\n\n\t\t\t\t\tthis.stopWarping();\n\n\t\t\t\t\tif ( timeScale === 0 ) {\n\n\t\t\t\t\t\t// motion has halted, pause\n\t\t\t\t\t\tthis.paused = true;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// warp done - apply final time scale\n\t\t\t\t\t\tthis.timeScale = timeScale;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis._effectiveTimeScale = timeScale;\n\t\treturn timeScale;\n\n\t}\n\n\t_updateTime( deltaTime ) {\n\n\t\tconst duration = this._clip.duration;\n\t\tconst loop = this.loop;\n\n\t\tlet time = this.time + deltaTime;\n\t\tlet loopCount = this._loopCount;\n\n\t\tconst pingPong = ( loop === LoopPingPong );\n\n\t\tif ( deltaTime === 0 ) {\n\n\t\t\tif ( loopCount === - 1 ) return time;\n\n\t\t\treturn ( pingPong && ( loopCount & 1 ) === 1 ) ? duration - time : time;\n\n\t\t}\n\n\t\tif ( loop === LoopOnce ) {\n\n\t\t\tif ( loopCount === - 1 ) {\n\n\t\t\t\t// just started\n\n\t\t\t\tthis._loopCount = 0;\n\t\t\t\tthis._setEndings( true, true, false );\n\n\t\t\t}\n\n\t\t\thandle_stop: {\n\n\t\t\t\tif ( time >= duration ) {\n\n\t\t\t\t\ttime = duration;\n\n\t\t\t\t} else if ( time < 0 ) {\n\n\t\t\t\t\ttime = 0;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis.time = time;\n\n\t\t\t\t\tbreak handle_stop;\n\n\t\t\t\t}\n\n\t\t\t\tif ( this.clampWhenFinished ) this.paused = true;\n\t\t\t\telse this.enabled = false;\n\n\t\t\t\tthis.time = time;\n\n\t\t\t\tthis._mixer.dispatchEvent( {\n\t\t\t\t\ttype: 'finished', action: this,\n\t\t\t\t\tdirection: deltaTime < 0 ? - 1 : 1\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t} else { // repetitive Repeat or PingPong\n\n\t\t\tif ( loopCount === - 1 ) {\n\n\t\t\t\t// just started\n\n\t\t\t\tif ( deltaTime >= 0 ) {\n\n\t\t\t\t\tloopCount = 0;\n\n\t\t\t\t\tthis._setEndings( true, this.repetitions === 0, pingPong );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// when looping in reverse direction, the initial\n\t\t\t\t\t// transition through zero counts as a repetition,\n\t\t\t\t\t// so leave loopCount at -1\n\n\t\t\t\t\tthis._setEndings( this.repetitions === 0, true, pingPong );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( time >= duration || time < 0 ) {\n\n\t\t\t\t// wrap around\n\n\t\t\t\tconst loopDelta = Math.floor( time / duration ); // signed\n\t\t\t\ttime -= duration * loopDelta;\n\n\t\t\t\tloopCount += Math.abs( loopDelta );\n\n\t\t\t\tconst pending = this.repetitions - loopCount;\n\n\t\t\t\tif ( pending <= 0 ) {\n\n\t\t\t\t\t// have to stop (switch state, clamp time, fire event)\n\n\t\t\t\t\tif ( this.clampWhenFinished ) this.paused = true;\n\t\t\t\t\telse this.enabled = false;\n\n\t\t\t\t\ttime = deltaTime > 0 ? duration : 0;\n\n\t\t\t\t\tthis.time = time;\n\n\t\t\t\t\tthis._mixer.dispatchEvent( {\n\t\t\t\t\t\ttype: 'finished', action: this,\n\t\t\t\t\t\tdirection: deltaTime > 0 ? 1 : - 1\n\t\t\t\t\t} );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// keep running\n\n\t\t\t\t\tif ( pending === 1 ) {\n\n\t\t\t\t\t\t// entering the last round\n\n\t\t\t\t\t\tconst atStart = deltaTime < 0;\n\t\t\t\t\t\tthis._setEndings( atStart, ! atStart, pingPong );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tthis._setEndings( false, false, pingPong );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._loopCount = loopCount;\n\n\t\t\t\t\tthis.time = time;\n\n\t\t\t\t\tthis._mixer.dispatchEvent( {\n\t\t\t\t\t\ttype: 'loop', action: this, loopDelta: loopDelta\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tthis.time = time;\n\n\t\t\t}\n\n\t\t\tif ( pingPong && ( loopCount & 1 ) === 1 ) {\n\n\t\t\t\t// invert time for the \"pong round\"\n\n\t\t\t\treturn duration - time;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn time;\n\n\t}\n\n\t_setEndings( atStart, atEnd, pingPong ) {\n\n\t\tconst settings = this._interpolantSettings;\n\n\t\tif ( pingPong ) {\n\n\t\t\tsettings.endingStart = ZeroSlopeEnding;\n\t\t\tsettings.endingEnd = ZeroSlopeEnding;\n\n\t\t} else {\n\n\t\t\t// assuming for LoopOnce atStart == atEnd == true\n\n\t\t\tif ( atStart ) {\n\n\t\t\t\tsettings.endingStart = this.zeroSlopeAtStart ? ZeroSlopeEnding : ZeroCurvatureEnding;\n\n\t\t\t} else {\n\n\t\t\t\tsettings.endingStart = WrapAroundEnding;\n\n\t\t\t}\n\n\t\t\tif ( atEnd ) {\n\n\t\t\t\tsettings.endingEnd = this.zeroSlopeAtEnd ? ZeroSlopeEnding : ZeroCurvatureEnding;\n\n\t\t\t} else {\n\n\t\t\t\tsettings.endingEnd \t = WrapAroundEnding;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t_scheduleFading( duration, weightNow, weightThen ) {\n\n\t\tconst mixer = this._mixer, now = mixer.time;\n\t\tlet interpolant = this._weightInterpolant;\n\n\t\tif ( interpolant === null ) {\n\n\t\t\tinterpolant = mixer._lendControlInterpolant();\n\t\t\tthis._weightInterpolant = interpolant;\n\n\t\t}\n\n\t\tconst times = interpolant.parameterPositions,\n\t\t\tvalues = interpolant.sampleValues;\n\n\t\ttimes[ 0 ] = now;\n\t\tvalues[ 0 ] = weightNow;\n\t\ttimes[ 1 ] = now + duration;\n\t\tvalues[ 1 ] = weightThen;\n\n\t\treturn this;\n\n\t}\n\n}\n\nfunction AnimationMixer( root ) {\n\n\tthis._root = root;\n\tthis._initMemoryManager();\n\tthis._accuIndex = 0;\n\n\tthis.time = 0;\n\n\tthis.timeScale = 1.0;\n\n}\n\nAnimationMixer.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: AnimationMixer,\n\n\t_bindAction: function ( action, prototypeAction ) {\n\n\t\tconst root = action._localRoot || this._root,\n\t\t\ttracks = action._clip.tracks,\n\t\t\tnTracks = tracks.length,\n\t\t\tbindings = action._propertyBindings,\n\t\t\tinterpolants = action._interpolants,\n\t\t\trootUuid = root.uuid,\n\t\t\tbindingsByRoot = this._bindingsByRootAndName;\n\n\t\tlet bindingsByName = bindingsByRoot[ rootUuid ];\n\n\t\tif ( bindingsByName === undefined ) {\n\n\t\t\tbindingsByName = {};\n\t\t\tbindingsByRoot[ rootUuid ] = bindingsByName;\n\n\t\t}\n\n\t\tfor ( let i = 0; i !== nTracks; ++ i ) {\n\n\t\t\tconst track = tracks[ i ],\n\t\t\t\ttrackName = track.name;\n\n\t\t\tlet binding = bindingsByName[ trackName ];\n\n\t\t\tif ( binding !== undefined ) {\n\n\t\t\t\tbindings[ i ] = binding;\n\n\t\t\t} else {\n\n\t\t\t\tbinding = bindings[ i ];\n\n\t\t\t\tif ( binding !== undefined ) {\n\n\t\t\t\t\t// existing binding, make sure the cache knows\n\n\t\t\t\t\tif ( binding._cacheIndex === null ) {\n\n\t\t\t\t\t\t++ binding.referenceCount;\n\t\t\t\t\t\tthis._addInactiveBinding( binding, rootUuid, trackName );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t\tconst path = prototypeAction && prototypeAction.\n\t\t\t\t\t_propertyBindings[ i ].binding.parsedPath;\n\n\t\t\t\tbinding = new PropertyMixer(\n\t\t\t\t\tPropertyBinding.create( root, trackName, path ),\n\t\t\t\t\ttrack.ValueTypeName, track.getValueSize() );\n\n\t\t\t\t++ binding.referenceCount;\n\t\t\t\tthis._addInactiveBinding( binding, rootUuid, trackName );\n\n\t\t\t\tbindings[ i ] = binding;\n\n\t\t\t}\n\n\t\t\tinterpolants[ i ].resultBuffer = binding.buffer;\n\n\t\t}\n\n\t},\n\n\t_activateAction: function ( action ) {\n\n\t\tif ( ! this._isActiveAction( action ) ) {\n\n\t\t\tif ( action._cacheIndex === null ) {\n\n\t\t\t\t// this action has been forgotten by the cache, but the user\n\t\t\t\t// appears to be still using it -> rebind\n\n\t\t\t\tconst rootUuid = ( action._localRoot || this._root ).uuid,\n\t\t\t\t\tclipUuid = action._clip.uuid,\n\t\t\t\t\tactionsForClip = this._actionsByClip[ clipUuid ];\n\n\t\t\t\tthis._bindAction( action,\n\t\t\t\t\tactionsForClip && actionsForClip.knownActions[ 0 ] );\n\n\t\t\t\tthis._addInactiveAction( action, clipUuid, rootUuid );\n\n\t\t\t}\n\n\t\t\tconst bindings = action._propertyBindings;\n\n\t\t\t// increment reference counts / sort out state\n\t\t\tfor ( let i = 0, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\t\tconst binding = bindings[ i ];\n\n\t\t\t\tif ( binding.useCount ++ === 0 ) {\n\n\t\t\t\t\tthis._lendBinding( binding );\n\t\t\t\t\tbinding.saveOriginalState();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis._lendAction( action );\n\n\t\t}\n\n\t},\n\n\t_deactivateAction: function ( action ) {\n\n\t\tif ( this._isActiveAction( action ) ) {\n\n\t\t\tconst bindings = action._propertyBindings;\n\n\t\t\t// decrement reference counts / sort out state\n\t\t\tfor ( let i = 0, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\t\tconst binding = bindings[ i ];\n\n\t\t\t\tif ( -- binding.useCount === 0 ) {\n\n\t\t\t\t\tbinding.restoreOriginalState();\n\t\t\t\t\tthis._takeBackBinding( binding );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis._takeBackAction( action );\n\n\t\t}\n\n\t},\n\n\t// Memory manager\n\n\t_initMemoryManager: function () {\n\n\t\tthis._actions = []; // 'nActiveActions' followed by inactive ones\n\t\tthis._nActiveActions = 0;\n\n\t\tthis._actionsByClip = {};\n\t\t// inside:\n\t\t// {\n\t\t// \tknownActions: Array< AnimationAction > - used as prototypes\n\t\t// \tactionByRoot: AnimationAction - lookup\n\t\t// }\n\n\n\t\tthis._bindings = []; // 'nActiveBindings' followed by inactive ones\n\t\tthis._nActiveBindings = 0;\n\n\t\tthis._bindingsByRootAndName = {}; // inside: Map< name, PropertyMixer >\n\n\n\t\tthis._controlInterpolants = []; // same game as above\n\t\tthis._nActiveControlInterpolants = 0;\n\n\t\tconst scope = this;\n\n\t\tthis.stats = {\n\n\t\t\tactions: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._actions.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn scope._nActiveActions;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tbindings: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._bindings.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn scope._nActiveBindings;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tcontrolInterpolants: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._controlInterpolants.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn scope._nActiveControlInterpolants;\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t};\n\n\t},\n\n\t// Memory management for AnimationAction objects\n\n\t_isActiveAction: function ( action ) {\n\n\t\tconst index = action._cacheIndex;\n\t\treturn index !== null && index < this._nActiveActions;\n\n\t},\n\n\t_addInactiveAction: function ( action, clipUuid, rootUuid ) {\n\n\t\tconst actions = this._actions,\n\t\t\tactionsByClip = this._actionsByClip;\n\n\t\tlet actionsForClip = actionsByClip[ clipUuid ];\n\n\t\tif ( actionsForClip === undefined ) {\n\n\t\t\tactionsForClip = {\n\n\t\t\t\tknownActions: [ action ],\n\t\t\t\tactionByRoot: {}\n\n\t\t\t};\n\n\t\t\taction._byClipCacheIndex = 0;\n\n\t\t\tactionsByClip[ clipUuid ] = actionsForClip;\n\n\t\t} else {\n\n\t\t\tconst knownActions = actionsForClip.knownActions;\n\n\t\t\taction._byClipCacheIndex = knownActions.length;\n\t\t\tknownActions.push( action );\n\n\t\t}\n\n\t\taction._cacheIndex = actions.length;\n\t\tactions.push( action );\n\n\t\tactionsForClip.actionByRoot[ rootUuid ] = action;\n\n\t},\n\n\t_removeInactiveAction: function ( action ) {\n\n\t\tconst actions = this._actions,\n\t\t\tlastInactiveAction = actions[ actions.length - 1 ],\n\t\t\tcacheIndex = action._cacheIndex;\n\n\t\tlastInactiveAction._cacheIndex = cacheIndex;\n\t\tactions[ cacheIndex ] = lastInactiveAction;\n\t\tactions.pop();\n\n\t\taction._cacheIndex = null;\n\n\n\t\tconst clipUuid = action._clip.uuid,\n\t\t\tactionsByClip = this._actionsByClip,\n\t\t\tactionsForClip = actionsByClip[ clipUuid ],\n\t\t\tknownActionsForClip = actionsForClip.knownActions,\n\n\t\t\tlastKnownAction =\n\t\t\t\tknownActionsForClip[ knownActionsForClip.length - 1 ],\n\n\t\t\tbyClipCacheIndex = action._byClipCacheIndex;\n\n\t\tlastKnownAction._byClipCacheIndex = byClipCacheIndex;\n\t\tknownActionsForClip[ byClipCacheIndex ] = lastKnownAction;\n\t\tknownActionsForClip.pop();\n\n\t\taction._byClipCacheIndex = null;\n\n\n\t\tconst actionByRoot = actionsForClip.actionByRoot,\n\t\t\trootUuid = ( action._localRoot || this._root ).uuid;\n\n\t\tdelete actionByRoot[ rootUuid ];\n\n\t\tif ( knownActionsForClip.length === 0 ) {\n\n\t\t\tdelete actionsByClip[ clipUuid ];\n\n\t\t}\n\n\t\tthis._removeInactiveBindingsForAction( action );\n\n\t},\n\n\t_removeInactiveBindingsForAction: function ( action ) {\n\n\t\tconst bindings = action._propertyBindings;\n\n\t\tfor ( let i = 0, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tconst binding = bindings[ i ];\n\n\t\t\tif ( -- binding.referenceCount === 0 ) {\n\n\t\t\t\tthis._removeInactiveBinding( binding );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t_lendAction: function ( action ) {\n\n\t\t// [ active actions |  inactive actions  ]\n\t\t// [  active actions >| inactive actions ]\n\t\t//                 s        a\n\t\t//                  <-swap->\n\t\t//                 a        s\n\n\t\tconst actions = this._actions,\n\t\t\tprevIndex = action._cacheIndex,\n\n\t\t\tlastActiveIndex = this._nActiveActions ++,\n\n\t\t\tfirstInactiveAction = actions[ lastActiveIndex ];\n\n\t\taction._cacheIndex = lastActiveIndex;\n\t\tactions[ lastActiveIndex ] = action;\n\n\t\tfirstInactiveAction._cacheIndex = prevIndex;\n\t\tactions[ prevIndex ] = firstInactiveAction;\n\n\t},\n\n\t_takeBackAction: function ( action ) {\n\n\t\t// [  active actions  | inactive actions ]\n\t\t// [ active actions |< inactive actions  ]\n\t\t//        a        s\n\t\t//         <-swap->\n\t\t//        s        a\n\n\t\tconst actions = this._actions,\n\t\t\tprevIndex = action._cacheIndex,\n\n\t\t\tfirstInactiveIndex = -- this._nActiveActions,\n\n\t\t\tlastActiveAction = actions[ firstInactiveIndex ];\n\n\t\taction._cacheIndex = firstInactiveIndex;\n\t\tactions[ firstInactiveIndex ] = action;\n\n\t\tlastActiveAction._cacheIndex = prevIndex;\n\t\tactions[ prevIndex ] = lastActiveAction;\n\n\t},\n\n\t// Memory management for PropertyMixer objects\n\n\t_addInactiveBinding: function ( binding, rootUuid, trackName ) {\n\n\t\tconst bindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindings = this._bindings;\n\n\t\tlet bindingByName = bindingsByRoot[ rootUuid ];\n\n\t\tif ( bindingByName === undefined ) {\n\n\t\t\tbindingByName = {};\n\t\t\tbindingsByRoot[ rootUuid ] = bindingByName;\n\n\t\t}\n\n\t\tbindingByName[ trackName ] = binding;\n\n\t\tbinding._cacheIndex = bindings.length;\n\t\tbindings.push( binding );\n\n\t},\n\n\t_removeInactiveBinding: function ( binding ) {\n\n\t\tconst bindings = this._bindings,\n\t\t\tpropBinding = binding.binding,\n\t\t\trootUuid = propBinding.rootNode.uuid,\n\t\t\ttrackName = propBinding.path,\n\t\t\tbindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindingByName = bindingsByRoot[ rootUuid ],\n\n\t\t\tlastInactiveBinding = bindings[ bindings.length - 1 ],\n\t\t\tcacheIndex = binding._cacheIndex;\n\n\t\tlastInactiveBinding._cacheIndex = cacheIndex;\n\t\tbindings[ cacheIndex ] = lastInactiveBinding;\n\t\tbindings.pop();\n\n\t\tdelete bindingByName[ trackName ];\n\n\t\tif ( Object.keys( bindingByName ).length === 0 ) {\n\n\t\t\tdelete bindingsByRoot[ rootUuid ];\n\n\t\t}\n\n\t},\n\n\t_lendBinding: function ( binding ) {\n\n\t\tconst bindings = this._bindings,\n\t\t\tprevIndex = binding._cacheIndex,\n\n\t\t\tlastActiveIndex = this._nActiveBindings ++,\n\n\t\t\tfirstInactiveBinding = bindings[ lastActiveIndex ];\n\n\t\tbinding._cacheIndex = lastActiveIndex;\n\t\tbindings[ lastActiveIndex ] = binding;\n\n\t\tfirstInactiveBinding._cacheIndex = prevIndex;\n\t\tbindings[ prevIndex ] = firstInactiveBinding;\n\n\t},\n\n\t_takeBackBinding: function ( binding ) {\n\n\t\tconst bindings = this._bindings,\n\t\t\tprevIndex = binding._cacheIndex,\n\n\t\t\tfirstInactiveIndex = -- this._nActiveBindings,\n\n\t\t\tlastActiveBinding = bindings[ firstInactiveIndex ];\n\n\t\tbinding._cacheIndex = firstInactiveIndex;\n\t\tbindings[ firstInactiveIndex ] = binding;\n\n\t\tlastActiveBinding._cacheIndex = prevIndex;\n\t\tbindings[ prevIndex ] = lastActiveBinding;\n\n\t},\n\n\n\t// Memory management of Interpolants for weight and time scale\n\n\t_lendControlInterpolant: function () {\n\n\t\tconst interpolants = this._controlInterpolants,\n\t\t\tlastActiveIndex = this._nActiveControlInterpolants ++;\n\n\t\tlet interpolant = interpolants[ lastActiveIndex ];\n\n\t\tif ( interpolant === undefined ) {\n\n\t\t\tinterpolant = new LinearInterpolant(\n\t\t\t\tnew Float32Array( 2 ), new Float32Array( 2 ),\n\t\t\t\t1, this._controlInterpolantsResultBuffer );\n\n\t\t\tinterpolant.__cacheIndex = lastActiveIndex;\n\t\t\tinterpolants[ lastActiveIndex ] = interpolant;\n\n\t\t}\n\n\t\treturn interpolant;\n\n\t},\n\n\t_takeBackControlInterpolant: function ( interpolant ) {\n\n\t\tconst interpolants = this._controlInterpolants,\n\t\t\tprevIndex = interpolant.__cacheIndex,\n\n\t\t\tfirstInactiveIndex = -- this._nActiveControlInterpolants,\n\n\t\t\tlastActiveInterpolant = interpolants[ firstInactiveIndex ];\n\n\t\tinterpolant.__cacheIndex = firstInactiveIndex;\n\t\tinterpolants[ firstInactiveIndex ] = interpolant;\n\n\t\tlastActiveInterpolant.__cacheIndex = prevIndex;\n\t\tinterpolants[ prevIndex ] = lastActiveInterpolant;\n\n\t},\n\n\t_controlInterpolantsResultBuffer: new Float32Array( 1 ),\n\n\t// return an action for a clip optionally using a custom root target\n\t// object (this method allocates a lot of dynamic memory in case a\n\t// previously unknown clip/root combination is specified)\n\tclipAction: function ( clip, optionalRoot, blendMode ) {\n\n\t\tconst root = optionalRoot || this._root,\n\t\t\trootUuid = root.uuid;\n\n\t\tlet clipObject = typeof clip === 'string' ? AnimationClip.findByName( root, clip ) : clip;\n\n\t\tconst clipUuid = clipObject !== null ? clipObject.uuid : clip;\n\n\t\tconst actionsForClip = this._actionsByClip[ clipUuid ];\n\t\tlet prototypeAction = null;\n\n\t\tif ( blendMode === undefined ) {\n\n\t\t\tif ( clipObject !== null ) {\n\n\t\t\t\tblendMode = clipObject.blendMode;\n\n\t\t\t} else {\n\n\t\t\t\tblendMode = NormalAnimationBlendMode;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( actionsForClip !== undefined ) {\n\n\t\t\tconst existingAction = actionsForClip.actionByRoot[ rootUuid ];\n\n\t\t\tif ( existingAction !== undefined && existingAction.blendMode === blendMode ) {\n\n\t\t\t\treturn existingAction;\n\n\t\t\t}\n\n\t\t\t// we know the clip, so we don't have to parse all\n\t\t\t// the bindings again but can just copy\n\t\t\tprototypeAction = actionsForClip.knownActions[ 0 ];\n\n\t\t\t// also, take the clip from the prototype action\n\t\t\tif ( clipObject === null )\n\t\t\t\tclipObject = prototypeAction._clip;\n\n\t\t}\n\n\t\t// clip must be known when specified via string\n\t\tif ( clipObject === null ) return null;\n\n\t\t// allocate all resources required to run it\n\t\tconst newAction = new AnimationAction( this, clipObject, optionalRoot, blendMode );\n\n\t\tthis._bindAction( newAction, prototypeAction );\n\n\t\t// and make the action known to the memory manager\n\t\tthis._addInactiveAction( newAction, clipUuid, rootUuid );\n\n\t\treturn newAction;\n\n\t},\n\n\t// get an existing action\n\texistingAction: function ( clip, optionalRoot ) {\n\n\t\tconst root = optionalRoot || this._root,\n\t\t\trootUuid = root.uuid,\n\n\t\t\tclipObject = typeof clip === 'string' ?\n\t\t\t\tAnimationClip.findByName( root, clip ) : clip,\n\n\t\t\tclipUuid = clipObject ? clipObject.uuid : clip,\n\n\t\t\tactionsForClip = this._actionsByClip[ clipUuid ];\n\n\t\tif ( actionsForClip !== undefined ) {\n\n\t\t\treturn actionsForClip.actionByRoot[ rootUuid ] || null;\n\n\t\t}\n\n\t\treturn null;\n\n\t},\n\n\t// deactivates all previously scheduled actions\n\tstopAllAction: function () {\n\n\t\tconst actions = this._actions,\n\t\t\tnActions = this._nActiveActions;\n\n\t\tfor ( let i = nActions - 1; i >= 0; -- i ) {\n\n\t\t\tactions[ i ].stop();\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// advance the time and update apply the animation\n\tupdate: function ( deltaTime ) {\n\n\t\tdeltaTime *= this.timeScale;\n\n\t\tconst actions = this._actions,\n\t\t\tnActions = this._nActiveActions,\n\n\t\t\ttime = this.time += deltaTime,\n\t\t\ttimeDirection = Math.sign( deltaTime ),\n\n\t\t\taccuIndex = this._accuIndex ^= 1;\n\n\t\t// run active actions\n\n\t\tfor ( let i = 0; i !== nActions; ++ i ) {\n\n\t\t\tconst action = actions[ i ];\n\n\t\t\taction._update( time, deltaTime, timeDirection, accuIndex );\n\n\t\t}\n\n\t\t// update scene graph\n\n\t\tconst bindings = this._bindings,\n\t\t\tnBindings = this._nActiveBindings;\n\n\t\tfor ( let i = 0; i !== nBindings; ++ i ) {\n\n\t\t\tbindings[ i ].apply( accuIndex );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// Allows you to seek to a specific time in an animation.\n\tsetTime: function ( timeInSeconds ) {\n\n\t\tthis.time = 0; // Zero out time attribute for AnimationMixer object;\n\t\tfor ( let i = 0; i < this._actions.length; i ++ ) {\n\n\t\t\tthis._actions[ i ].time = 0; // Zero out time attribute for all associated AnimationAction objects.\n\n\t\t}\n\n\t\treturn this.update( timeInSeconds ); // Update used to set exact time. Returns \"this\" AnimationMixer object.\n\n\t},\n\n\t// return this mixer's root target object\n\tgetRoot: function () {\n\n\t\treturn this._root;\n\n\t},\n\n\t// free all resources specific to a particular clip\n\tuncacheClip: function ( clip ) {\n\n\t\tconst actions = this._actions,\n\t\t\tclipUuid = clip.uuid,\n\t\t\tactionsByClip = this._actionsByClip,\n\t\t\tactionsForClip = actionsByClip[ clipUuid ];\n\n\t\tif ( actionsForClip !== undefined ) {\n\n\t\t\t// note: just calling _removeInactiveAction would mess up the\n\t\t\t// iteration state and also require updating the state we can\n\t\t\t// just throw away\n\n\t\t\tconst actionsToRemove = actionsForClip.knownActions;\n\n\t\t\tfor ( let i = 0, n = actionsToRemove.length; i !== n; ++ i ) {\n\n\t\t\t\tconst action = actionsToRemove[ i ];\n\n\t\t\t\tthis._deactivateAction( action );\n\n\t\t\t\tconst cacheIndex = action._cacheIndex,\n\t\t\t\t\tlastInactiveAction = actions[ actions.length - 1 ];\n\n\t\t\t\taction._cacheIndex = null;\n\t\t\t\taction._byClipCacheIndex = null;\n\n\t\t\t\tlastInactiveAction._cacheIndex = cacheIndex;\n\t\t\t\tactions[ cacheIndex ] = lastInactiveAction;\n\t\t\t\tactions.pop();\n\n\t\t\t\tthis._removeInactiveBindingsForAction( action );\n\n\t\t\t}\n\n\t\t\tdelete actionsByClip[ clipUuid ];\n\n\t\t}\n\n\t},\n\n\t// free all resources specific to a particular root target object\n\tuncacheRoot: function ( root ) {\n\n\t\tconst rootUuid = root.uuid,\n\t\t\tactionsByClip = this._actionsByClip;\n\n\t\tfor ( const clipUuid in actionsByClip ) {\n\n\t\t\tconst actionByRoot = actionsByClip[ clipUuid ].actionByRoot,\n\t\t\t\taction = actionByRoot[ rootUuid ];\n\n\t\t\tif ( action !== undefined ) {\n\n\t\t\t\tthis._deactivateAction( action );\n\t\t\t\tthis._removeInactiveAction( action );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst bindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindingByName = bindingsByRoot[ rootUuid ];\n\n\t\tif ( bindingByName !== undefined ) {\n\n\t\t\tfor ( const trackName in bindingByName ) {\n\n\t\t\t\tconst binding = bindingByName[ trackName ];\n\t\t\t\tbinding.restoreOriginalState();\n\t\t\t\tthis._removeInactiveBinding( binding );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t// remove a targeted clip from the cache\n\tuncacheAction: function ( clip, optionalRoot ) {\n\n\t\tconst action = this.existingAction( clip, optionalRoot );\n\n\t\tif ( action !== null ) {\n\n\t\t\tthis._deactivateAction( action );\n\t\t\tthis._removeInactiveAction( action );\n\n\t\t}\n\n\t}\n\n} );\n\nclass Uniform {\n\n\tconstructor( value ) {\n\n\t\tif ( typeof value === 'string' ) {\n\n\t\t\tconsole.warn( 'THREE.Uniform: Type parameter is no longer needed.' );\n\t\t\tvalue = arguments[ 1 ];\n\n\t\t}\n\n\t\tthis.value = value;\n\n\t}\n\n\tclone() {\n\n\t\treturn new Uniform( this.value.clone === undefined ? this.value : this.value.clone() );\n\n\t}\n\n}\n\nfunction InstancedInterleavedBuffer( array, stride, meshPerAttribute ) {\n\n\tInterleavedBuffer.call( this, array, stride );\n\n\tthis.meshPerAttribute = meshPerAttribute || 1;\n\n}\n\nInstancedInterleavedBuffer.prototype = Object.assign( Object.create( InterleavedBuffer.prototype ), {\n\n\tconstructor: InstancedInterleavedBuffer,\n\n\tisInstancedInterleavedBuffer: true,\n\n\tcopy: function ( source ) {\n\n\t\tInterleavedBuffer.prototype.copy.call( this, source );\n\n\t\tthis.meshPerAttribute = source.meshPerAttribute;\n\n\t\treturn this;\n\n\t},\n\n\tclone: function ( data ) {\n\n\t\tconst ib = InterleavedBuffer.prototype.clone.call( this, data );\n\n\t\tib.meshPerAttribute = this.meshPerAttribute;\n\n\t\treturn ib;\n\n\t},\n\n\ttoJSON: function ( data ) {\n\n\t\tconst json = InterleavedBuffer.prototype.toJSON.call( this, data );\n\n\t\tjson.isInstancedInterleavedBuffer = true;\n\t\tjson.meshPerAttribute = this.meshPerAttribute;\n\n\t\treturn json;\n\n\t}\n\n} );\n\nfunction GLBufferAttribute( buffer, type, itemSize, elementSize, count ) {\n\n\tthis.buffer = buffer;\n\tthis.type = type;\n\tthis.itemSize = itemSize;\n\tthis.elementSize = elementSize;\n\tthis.count = count;\n\n\tthis.version = 0;\n\n}\n\nObject.defineProperty( GLBufferAttribute.prototype, 'needsUpdate', {\n\n\tset: function ( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n} );\n\nObject.assign( GLBufferAttribute.prototype, {\n\n\tisGLBufferAttribute: true,\n\n\tsetBuffer: function ( buffer ) {\n\n\t\tthis.buffer = buffer;\n\n\t\treturn this;\n\n\t},\n\n\tsetType: function ( type, elementSize ) {\n\n\t\tthis.type = type;\n\t\tthis.elementSize = elementSize;\n\n\t\treturn this;\n\n\t},\n\n\tsetItemSize: function ( itemSize ) {\n\n\t\tthis.itemSize = itemSize;\n\n\t\treturn this;\n\n\t},\n\n\tsetCount: function ( count ) {\n\n\t\tthis.count = count;\n\n\t\treturn this;\n\n\t},\n\n} );\n\nfunction Raycaster( origin, direction, near, far ) {\n\n\tthis.ray = new Ray( origin, direction );\n\t// direction is assumed to be normalized (for accurate distance calculations)\n\n\tthis.near = near || 0;\n\tthis.far = far || Infinity;\n\tthis.camera = null;\n\tthis.layers = new Layers();\n\n\tthis.params = {\n\t\tMesh: {},\n\t\tLine: { threshold: 1 },\n\t\tLOD: {},\n\t\tPoints: { threshold: 1 },\n\t\tSprite: {}\n\t};\n\n\tObject.defineProperties( this.params, {\n\t\tPointCloud: {\n\t\t\tget: function () {\n\n\t\t\t\tconsole.warn( 'THREE.Raycaster: params.PointCloud has been renamed to params.Points.' );\n\t\t\t\treturn this.Points;\n\n\t\t\t}\n\t\t}\n\t} );\n\n}\n\nfunction ascSort( a, b ) {\n\n\treturn a.distance - b.distance;\n\n}\n\nfunction intersectObject( object, raycaster, intersects, recursive ) {\n\n\tif ( object.layers.test( raycaster.layers ) ) {\n\n\t\tobject.raycast( raycaster, intersects );\n\n\t}\n\n\tif ( recursive === true ) {\n\n\t\tconst children = object.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tintersectObject( children[ i ], raycaster, intersects, true );\n\n\t\t}\n\n\t}\n\n}\n\nObject.assign( Raycaster.prototype, {\n\n\tset: function ( origin, direction ) {\n\n\t\t// direction is assumed to be normalized (for accurate distance calculations)\n\n\t\tthis.ray.set( origin, direction );\n\n\t},\n\n\tsetFromCamera: function ( coords, camera ) {\n\n\t\tif ( ( camera && camera.isPerspectiveCamera ) ) {\n\n\t\t\tthis.ray.origin.setFromMatrixPosition( camera.matrixWorld );\n\t\t\tthis.ray.direction.set( coords.x, coords.y, 0.5 ).unproject( camera ).sub( this.ray.origin ).normalize();\n\t\t\tthis.camera = camera;\n\n\t\t} else if ( ( camera && camera.isOrthographicCamera ) ) {\n\n\t\t\tthis.ray.origin.set( coords.x, coords.y, ( camera.near + camera.far ) / ( camera.near - camera.far ) ).unproject( camera ); // set origin in plane of camera\n\t\t\tthis.ray.direction.set( 0, 0, - 1 ).transformDirection( camera.matrixWorld );\n\t\t\tthis.camera = camera;\n\n\t\t} else {\n\n\t\t\tconsole.error( 'THREE.Raycaster: Unsupported camera type.' );\n\n\t\t}\n\n\t},\n\n\tintersectObject: function ( object, recursive, optionalTarget ) {\n\n\t\tconst intersects = optionalTarget || [];\n\n\t\tintersectObject( object, this, intersects, recursive );\n\n\t\tintersects.sort( ascSort );\n\n\t\treturn intersects;\n\n\t},\n\n\tintersectObjects: function ( objects, recursive, optionalTarget ) {\n\n\t\tconst intersects = optionalTarget || [];\n\n\t\tif ( Array.isArray( objects ) === false ) {\n\n\t\t\tconsole.warn( 'THREE.Raycaster.intersectObjects: objects is not an Array.' );\n\t\t\treturn intersects;\n\n\t\t}\n\n\t\tfor ( let i = 0, l = objects.length; i < l; i ++ ) {\n\n\t\t\tintersectObject( objects[ i ], this, intersects, recursive );\n\n\t\t}\n\n\t\tintersects.sort( ascSort );\n\n\t\treturn intersects;\n\n\t}\n\n} );\n\n/**\n * Ref: https://en.wikipedia.org/wiki/Spherical_coordinate_system\n *\n * The polar angle (phi) is measured from the positive y-axis. The positive y-axis is up.\n * The azimuthal angle (theta) is measured from the positive z-axis.\n */\n\nclass Spherical {\n\n\tconstructor( radius = 1, phi = 0, theta = 0 ) {\n\n\t\tthis.radius = radius;\n\t\tthis.phi = phi; // polar angle\n\t\tthis.theta = theta; // azimuthal angle\n\n\t\treturn this;\n\n\t}\n\n\tset( radius, phi, theta ) {\n\n\t\tthis.radius = radius;\n\t\tthis.phi = phi;\n\t\tthis.theta = theta;\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( other ) {\n\n\t\tthis.radius = other.radius;\n\t\tthis.phi = other.phi;\n\t\tthis.theta = other.theta;\n\n\t\treturn this;\n\n\t}\n\n\t// restrict phi to be betwee EPS and PI-EPS\n\tmakeSafe() {\n\n\t\tconst EPS = 0.000001;\n\t\tthis.phi = Math.max( EPS, Math.min( Math.PI - EPS, this.phi ) );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromVector3( v ) {\n\n\t\treturn this.setFromCartesianCoords( v.x, v.y, v.z );\n\n\t}\n\n\tsetFromCartesianCoords( x, y, z ) {\n\n\t\tthis.radius = Math.sqrt( x * x + y * y + z * z );\n\n\t\tif ( this.radius === 0 ) {\n\n\t\t\tthis.theta = 0;\n\t\t\tthis.phi = 0;\n\n\t\t} else {\n\n\t\t\tthis.theta = Math.atan2( x, z );\n\t\t\tthis.phi = Math.acos( MathUtils.clamp( y / this.radius, - 1, 1 ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\n/**\n * Ref: https://en.wikipedia.org/wiki/Cylindrical_coordinate_system\n */\n\nclass Cylindrical {\n\n\tconstructor( radius, theta, y ) {\n\n\t\tthis.radius = ( radius !== undefined ) ? radius : 1.0; // distance from the origin to a point in the x-z plane\n\t\tthis.theta = ( theta !== undefined ) ? theta : 0; // counterclockwise angle in the x-z plane measured in radians from the positive z-axis\n\t\tthis.y = ( y !== undefined ) ? y : 0; // height above the x-z plane\n\n\t\treturn this;\n\n\t}\n\n\tset( radius, theta, y ) {\n\n\t\tthis.radius = radius;\n\t\tthis.theta = theta;\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( other ) {\n\n\t\tthis.radius = other.radius;\n\t\tthis.theta = other.theta;\n\t\tthis.y = other.y;\n\n\t\treturn this;\n\n\t}\n\n\tsetFromVector3( v ) {\n\n\t\treturn this.setFromCartesianCoords( v.x, v.y, v.z );\n\n\t}\n\n\tsetFromCartesianCoords( x, y, z ) {\n\n\t\tthis.radius = Math.sqrt( x * x + z * z );\n\t\tthis.theta = Math.atan2( x, z );\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n}\n\nconst _vector$7 = /*@__PURE__*/ new Vector2();\n\nclass Box2 {\n\n\tconstructor( min, max ) {\n\n\t\tObject.defineProperty( this, 'isBox2', { value: true } );\n\n\t\tthis.min = ( min !== undefined ) ? min : new Vector2( + Infinity, + Infinity );\n\t\tthis.max = ( max !== undefined ) ? max : new Vector2( - Infinity, - Infinity );\n\n\t}\n\n\tset( min, max ) {\n\n\t\tthis.min.copy( min );\n\t\tthis.max.copy( max );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromPoints( points ) {\n\n\t\tthis.makeEmpty();\n\n\t\tfor ( let i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\tthis.expandByPoint( points[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetFromCenterAndSize( center, size ) {\n\n\t\tconst halfSize = _vector$7.copy( size ).multiplyScalar( 0.5 );\n\t\tthis.min.copy( center ).sub( halfSize );\n\t\tthis.max.copy( center ).add( halfSize );\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( box ) {\n\n\t\tthis.min.copy( box.min );\n\t\tthis.max.copy( box.max );\n\n\t\treturn this;\n\n\t}\n\n\tmakeEmpty() {\n\n\t\tthis.min.x = this.min.y = + Infinity;\n\t\tthis.max.x = this.max.y = - Infinity;\n\n\t\treturn this;\n\n\t}\n\n\tisEmpty() {\n\n\t\t// this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n\n\t\treturn ( this.max.x < this.min.x ) || ( this.max.y < this.min.y );\n\n\t}\n\n\tgetCenter( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box2: .getCenter() target is now required' );\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn this.isEmpty() ? target.set( 0, 0 ) : target.addVectors( this.min, this.max ).multiplyScalar( 0.5 );\n\n\t}\n\n\tgetSize( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box2: .getSize() target is now required' );\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn this.isEmpty() ? target.set( 0, 0 ) : target.subVectors( this.max, this.min );\n\n\t}\n\n\texpandByPoint( point ) {\n\n\t\tthis.min.min( point );\n\t\tthis.max.max( point );\n\n\t\treturn this;\n\n\t}\n\n\texpandByVector( vector ) {\n\n\t\tthis.min.sub( vector );\n\t\tthis.max.add( vector );\n\n\t\treturn this;\n\n\t}\n\n\texpandByScalar( scalar ) {\n\n\t\tthis.min.addScalar( - scalar );\n\t\tthis.max.addScalar( scalar );\n\n\t\treturn this;\n\n\t}\n\n\tcontainsPoint( point ) {\n\n\t\treturn point.x < this.min.x || point.x > this.max.x ||\n\t\t\tpoint.y < this.min.y || point.y > this.max.y ? false : true;\n\n\t}\n\n\tcontainsBox( box ) {\n\n\t\treturn this.min.x <= box.min.x && box.max.x <= this.max.x &&\n\t\t\tthis.min.y <= box.min.y && box.max.y <= this.max.y;\n\n\t}\n\n\tgetParameter( point, target ) {\n\n\t\t// This can potentially have a divide by zero if the box\n\t\t// has a size dimension of 0.\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box2: .getParameter() target is now required' );\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn target.set(\n\t\t\t( point.x - this.min.x ) / ( this.max.x - this.min.x ),\n\t\t\t( point.y - this.min.y ) / ( this.max.y - this.min.y )\n\t\t);\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\t// using 4 splitting planes to rule out intersections\n\n\t\treturn box.max.x < this.min.x || box.min.x > this.max.x ||\n\t\t\tbox.max.y < this.min.y || box.min.y > this.max.y ? false : true;\n\n\t}\n\n\tclampPoint( point, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box2: .clampPoint() target is now required' );\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn target.copy( point ).clamp( this.min, this.max );\n\n\t}\n\n\tdistanceToPoint( point ) {\n\n\t\tconst clampedPoint = _vector$7.copy( point ).clamp( this.min, this.max );\n\t\treturn clampedPoint.sub( point ).length();\n\n\t}\n\n\tintersect( box ) {\n\n\t\tthis.min.max( box.min );\n\t\tthis.max.min( box.max );\n\n\t\treturn this;\n\n\t}\n\n\tunion( box ) {\n\n\t\tthis.min.min( box.min );\n\t\tthis.max.max( box.max );\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( offset ) {\n\n\t\tthis.min.add( offset );\n\t\tthis.max.add( offset );\n\n\t\treturn this;\n\n\t}\n\n\tequals( box ) {\n\n\t\treturn box.min.equals( this.min ) && box.max.equals( this.max );\n\n\t}\n\n}\n\nconst _startP = /*@__PURE__*/ new Vector3();\nconst _startEnd = /*@__PURE__*/ new Vector3();\n\nclass Line3 {\n\n\tconstructor( start, end ) {\n\n\t\tthis.start = ( start !== undefined ) ? start : new Vector3();\n\t\tthis.end = ( end !== undefined ) ? end : new Vector3();\n\n\t}\n\n\tset( start, end ) {\n\n\t\tthis.start.copy( start );\n\t\tthis.end.copy( end );\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( line ) {\n\n\t\tthis.start.copy( line.start );\n\t\tthis.end.copy( line.end );\n\n\t\treturn this;\n\n\t}\n\n\tgetCenter( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Line3: .getCenter() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.addVectors( this.start, this.end ).multiplyScalar( 0.5 );\n\n\t}\n\n\tdelta( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Line3: .delta() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.subVectors( this.end, this.start );\n\n\t}\n\n\tdistanceSq() {\n\n\t\treturn this.start.distanceToSquared( this.end );\n\n\t}\n\n\tdistance() {\n\n\t\treturn this.start.distanceTo( this.end );\n\n\t}\n\n\tat( t, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Line3: .at() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn this.delta( target ).multiplyScalar( t ).add( this.start );\n\n\t}\n\n\tclosestPointToPointParameter( point, clampToLine ) {\n\n\t\t_startP.subVectors( point, this.start );\n\t\t_startEnd.subVectors( this.end, this.start );\n\n\t\tconst startEnd2 = _startEnd.dot( _startEnd );\n\t\tconst startEnd_startP = _startEnd.dot( _startP );\n\n\t\tlet t = startEnd_startP / startEnd2;\n\n\t\tif ( clampToLine ) {\n\n\t\t\tt = MathUtils.clamp( t, 0, 1 );\n\n\t\t}\n\n\t\treturn t;\n\n\t}\n\n\tclosestPointToPoint( point, clampToLine, target ) {\n\n\t\tconst t = this.closestPointToPointParameter( point, clampToLine );\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Line3: .closestPointToPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn this.delta( target ).multiplyScalar( t ).add( this.start );\n\n\t}\n\n\tapplyMatrix4( matrix ) {\n\n\t\tthis.start.applyMatrix4( matrix );\n\t\tthis.end.applyMatrix4( matrix );\n\n\t\treturn this;\n\n\t}\n\n\tequals( line ) {\n\n\t\treturn line.start.equals( this.start ) && line.end.equals( this.end );\n\n\t}\n\n}\n\nfunction ImmediateRenderObject( material ) {\n\n\tObject3D.call( this );\n\n\tthis.material = material;\n\tthis.render = function ( /* renderCallback */ ) {};\n\n\tthis.hasPositions = false;\n\tthis.hasNormals = false;\n\tthis.hasColors = false;\n\tthis.hasUvs = false;\n\n\tthis.positionArray = null;\n\tthis.normalArray = null;\n\tthis.colorArray = null;\n\tthis.uvArray = null;\n\n\tthis.count = 0;\n\n}\n\nImmediateRenderObject.prototype = Object.create( Object3D.prototype );\nImmediateRenderObject.prototype.constructor = ImmediateRenderObject;\n\nImmediateRenderObject.prototype.isImmediateRenderObject = true;\n\nconst _vector$8 = /*@__PURE__*/ new Vector3();\n\nclass SpotLightHelper extends Object3D {\n\n\tconstructor( light, color ) {\n\n\t\tsuper();\n\t\tthis.light = light;\n\t\tthis.light.updateMatrixWorld();\n\n\t\tthis.matrix = light.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\n\t\tthis.color = color;\n\n\t\tconst geometry = new BufferGeometry();\n\n\t\tconst positions = [\n\t\t\t0, 0, 0, \t0, 0, 1,\n\t\t\t0, 0, 0, \t1, 0, 1,\n\t\t\t0, 0, 0,\t- 1, 0, 1,\n\t\t\t0, 0, 0, \t0, 1, 1,\n\t\t\t0, 0, 0, \t0, - 1, 1\n\t\t];\n\n\t\tfor ( let i = 0, j = 1, l = 32; i < l; i ++, j ++ ) {\n\n\t\t\tconst p1 = ( i / l ) * Math.PI * 2;\n\t\t\tconst p2 = ( j / l ) * Math.PI * 2;\n\n\t\t\tpositions.push(\n\t\t\t\tMath.cos( p1 ), Math.sin( p1 ), 1,\n\t\t\t\tMath.cos( p2 ), Math.sin( p2 ), 1\n\t\t\t);\n\n\t\t}\n\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\n\t\tconst material = new LineBasicMaterial( { fog: false, toneMapped: false } );\n\n\t\tthis.cone = new LineSegments( geometry, material );\n\t\tthis.add( this.cone );\n\n\t\tthis.update();\n\n\t}\n\n\tdispose() {\n\n\t\tthis.cone.geometry.dispose();\n\t\tthis.cone.material.dispose();\n\n\t}\n\n\tupdate() {\n\n\t\tthis.light.updateMatrixWorld();\n\n\t\tconst coneLength = this.light.distance ? this.light.distance : 1000;\n\t\tconst coneWidth = coneLength * Math.tan( this.light.angle );\n\n\t\tthis.cone.scale.set( coneWidth, coneWidth, coneLength );\n\n\t\t_vector$8.setFromMatrixPosition( this.light.target.matrixWorld );\n\n\t\tthis.cone.lookAt( _vector$8 );\n\n\t\tif ( this.color !== undefined ) {\n\n\t\t\tthis.cone.material.color.set( this.color );\n\n\t\t} else {\n\n\t\t\tthis.cone.material.color.copy( this.light.color );\n\n\t\t}\n\n\t}\n\n}\n\nconst _vector$9 = /*@__PURE__*/ new Vector3();\nconst _boneMatrix = /*@__PURE__*/ new Matrix4();\nconst _matrixWorldInv = /*@__PURE__*/ new Matrix4();\n\n\nclass SkeletonHelper extends LineSegments {\n\n\tconstructor( object ) {\n\n\t\tconst bones = getBoneList( object );\n\n\t\tconst geometry = new BufferGeometry();\n\n\t\tconst vertices = [];\n\t\tconst colors = [];\n\n\t\tconst color1 = new Color( 0, 0, 1 );\n\t\tconst color2 = new Color( 0, 1, 0 );\n\n\t\tfor ( let i = 0; i < bones.length; i ++ ) {\n\n\t\t\tconst bone = bones[ i ];\n\n\t\t\tif ( bone.parent && bone.parent.isBone ) {\n\n\t\t\t\tvertices.push( 0, 0, 0 );\n\t\t\t\tvertices.push( 0, 0, 0 );\n\t\t\t\tcolors.push( color1.r, color1.g, color1.b );\n\t\t\t\tcolors.push( color2.r, color2.g, color2.b );\n\n\t\t\t}\n\n\t\t}\n\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\t\tconst material = new LineBasicMaterial( { vertexColors: true, depthTest: false, depthWrite: false, toneMapped: false, transparent: true } );\n\n\t\tsuper( geometry, material );\n\n\t\tthis.type = 'SkeletonHelper';\n\t\tthis.isSkeletonHelper = true;\n\n\t\tthis.root = object;\n\t\tthis.bones = bones;\n\n\t\tthis.matrix = object.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tconst bones = this.bones;\n\n\t\tconst geometry = this.geometry;\n\t\tconst position = geometry.getAttribute( 'position' );\n\n\t\t_matrixWorldInv.getInverse( this.root.matrixWorld );\n\n\t\tfor ( let i = 0, j = 0; i < bones.length; i ++ ) {\n\n\t\t\tconst bone = bones[ i ];\n\n\t\t\tif ( bone.parent && bone.parent.isBone ) {\n\n\t\t\t\t_boneMatrix.multiplyMatrices( _matrixWorldInv, bone.matrixWorld );\n\t\t\t\t_vector$9.setFromMatrixPosition( _boneMatrix );\n\t\t\t\tposition.setXYZ( j, _vector$9.x, _vector$9.y, _vector$9.z );\n\n\t\t\t\t_boneMatrix.multiplyMatrices( _matrixWorldInv, bone.parent.matrixWorld );\n\t\t\t\t_vector$9.setFromMatrixPosition( _boneMatrix );\n\t\t\t\tposition.setXYZ( j + 1, _vector$9.x, _vector$9.y, _vector$9.z );\n\n\t\t\t\tj += 2;\n\n\t\t\t}\n\n\t\t}\n\n\t\tgeometry.getAttribute( 'position' ).needsUpdate = true;\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t}\n\n}\n\n\nfunction getBoneList( object ) {\n\n\tconst boneList = [];\n\n\tif ( object && object.isBone ) {\n\n\t\tboneList.push( object );\n\n\t}\n\n\tfor ( let i = 0; i < object.children.length; i ++ ) {\n\n\t\tboneList.push.apply( boneList, getBoneList( object.children[ i ] ) );\n\n\t}\n\n\treturn boneList;\n\n}\n\nclass PointLightHelper extends Mesh {\n\n\tconstructor( light, sphereSize, color ) {\n\n\t\tconst geometry = new SphereBufferGeometry( sphereSize, 4, 2 );\n\t\tconst material = new MeshBasicMaterial( { wireframe: true, fog: false, toneMapped: false } );\n\n\t\tsuper( geometry, material );\n\n\t\tthis.light = light;\n\t\tthis.light.updateMatrixWorld();\n\n\t\tthis.color = color;\n\n\t\tthis.type = 'PointLightHelper';\n\n\t\tthis.matrix = this.light.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\n\t\tthis.update();\n\n\n\t\t/*\n\t// TODO: delete this comment?\n\tconst distanceGeometry = new THREE.IcosahedronBufferGeometry( 1, 2 );\n\tconst distanceMaterial = new THREE.MeshBasicMaterial( { color: hexColor, fog: false, wireframe: true, opacity: 0.1, transparent: true } );\n\n\tthis.lightSphere = new THREE.Mesh( bulbGeometry, bulbMaterial );\n\tthis.lightDistance = new THREE.Mesh( distanceGeometry, distanceMaterial );\n\n\tconst d = light.distance;\n\n\tif ( d === 0.0 ) {\n\n\t\tthis.lightDistance.visible = false;\n\n\t} else {\n\n\t\tthis.lightDistance.scale.set( d, d, d );\n\n\t}\n\n\tthis.add( this.lightDistance );\n\t*/\n\n\t}\n\n\tdispose() {\n\n\t\tthis.geometry.dispose();\n\t\tthis.material.dispose();\n\n\t}\n\n\tupdate() {\n\n\t\tif ( this.color !== undefined ) {\n\n\t\t\tthis.material.color.set( this.color );\n\n\t\t} else {\n\n\t\t\tthis.material.color.copy( this.light.color );\n\n\t\t}\n\n\t\t/*\n\t\tconst d = this.light.distance;\n\n\t\tif ( d === 0.0 ) {\n\n\t\t\tthis.lightDistance.visible = false;\n\n\t\t} else {\n\n\t\t\tthis.lightDistance.visible = true;\n\t\t\tthis.lightDistance.scale.set( d, d, d );\n\n\t\t}\n\t\t*/\n\n\t}\n\n}\n\nconst _vector$a = /*@__PURE__*/ new Vector3();\nconst _color1 = /*@__PURE__*/ new Color();\nconst _color2 = /*@__PURE__*/ new Color();\n\nclass HemisphereLightHelper extends Object3D {\n\n\tconstructor( light, size, color ) {\n\n\t\tsuper();\n\t\tthis.light = light;\n\t\tthis.light.updateMatrixWorld();\n\n\t\tthis.matrix = light.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\n\t\tthis.color = color;\n\n\t\tconst geometry = new OctahedronBufferGeometry( size );\n\t\tgeometry.rotateY( Math.PI * 0.5 );\n\n\t\tthis.material = new MeshBasicMaterial( { wireframe: true, fog: false, toneMapped: false } );\n\t\tif ( this.color === undefined ) this.material.vertexColors = true;\n\n\t\tconst position = geometry.getAttribute( 'position' );\n\t\tconst colors = new Float32Array( position.count * 3 );\n\n\t\tgeometry.setAttribute( 'color', new BufferAttribute( colors, 3 ) );\n\n\t\tthis.add( new Mesh( geometry, this.material ) );\n\n\t\tthis.update();\n\n\t}\n\n\tdispose() {\n\n\t\tthis.children[ 0 ].geometry.dispose();\n\t\tthis.children[ 0 ].material.dispose();\n\n\t}\n\n\tupdate() {\n\n\t\tconst mesh = this.children[ 0 ];\n\n\t\tif ( this.color !== undefined ) {\n\n\t\t\tthis.material.color.set( this.color );\n\n\t\t} else {\n\n\t\t\tconst colors = mesh.geometry.getAttribute( 'color' );\n\n\t\t\t_color1.copy( this.light.color );\n\t\t\t_color2.copy( this.light.groundColor );\n\n\t\t\tfor ( let i = 0, l = colors.count; i < l; i ++ ) {\n\n\t\t\t\tconst color = ( i < ( l / 2 ) ) ? _color1 : _color2;\n\n\t\t\t\tcolors.setXYZ( i, color.r, color.g, color.b );\n\n\t\t\t}\n\n\t\t\tcolors.needsUpdate = true;\n\n\t\t}\n\n\t\tmesh.lookAt( _vector$a.setFromMatrixPosition( this.light.matrixWorld ).negate() );\n\n\t}\n\n}\n\nclass GridHelper extends LineSegments {\n\n\tconstructor( size, divisions, color1, color2 ) {\n\n\t\tsize = size || 10;\n\t\tdivisions = divisions || 10;\n\t\tcolor1 = new Color( color1 !== undefined ? color1 : 0x444444 );\n\t\tcolor2 = new Color( color2 !== undefined ? color2 : 0x888888 );\n\n\t\tconst center = divisions / 2;\n\t\tconst step = size / divisions;\n\t\tconst halfSize = size / 2;\n\n\t\tconst vertices = [], colors = [];\n\n\t\tfor ( let i = 0, j = 0, k = - halfSize; i <= divisions; i ++, k += step ) {\n\n\t\t\tvertices.push( - halfSize, 0, k, halfSize, 0, k );\n\t\t\tvertices.push( k, 0, - halfSize, k, 0, halfSize );\n\n\t\t\tconst color = i === center ? color1 : color2;\n\n\t\t\tcolor.toArray( colors, j ); j += 3;\n\t\t\tcolor.toArray( colors, j ); j += 3;\n\t\t\tcolor.toArray( colors, j ); j += 3;\n\t\t\tcolor.toArray( colors, j ); j += 3;\n\n\t\t}\n\n\t\tconst geometry = new BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\t\tconst material = new LineBasicMaterial( { vertexColors: true, toneMapped: false } );\n\n\t\tsuper( geometry, material );\n\n\t\tthis.type = 'GridHelper';\n\n\t}\n\n}\n\nclass PolarGridHelper extends LineSegments {\n\n\tconstructor( radius, radials, circles, divisions, color1, color2 ) {\n\n\t\tradius = radius || 10;\n\t\tradials = radials || 16;\n\t\tcircles = circles || 8;\n\t\tdivisions = divisions || 64;\n\t\tcolor1 = new Color( color1 !== undefined ? color1 : 0x444444 );\n\t\tcolor2 = new Color( color2 !== undefined ? color2 : 0x888888 );\n\n\t\tconst vertices = [];\n\t\tconst colors = [];\n\n\t\t// create the radials\n\n\t\tfor ( let i = 0; i <= radials; i ++ ) {\n\n\t\t\tconst v = ( i / radials ) * ( Math.PI * 2 );\n\n\t\t\tconst x = Math.sin( v ) * radius;\n\t\t\tconst z = Math.cos( v ) * radius;\n\n\t\t\tvertices.push( 0, 0, 0 );\n\t\t\tvertices.push( x, 0, z );\n\n\t\t\tconst color = ( i & 1 ) ? color1 : color2;\n\n\t\t\tcolors.push( color.r, color.g, color.b );\n\t\t\tcolors.push( color.r, color.g, color.b );\n\n\t\t}\n\n\t\t// create the circles\n\n\t\tfor ( let i = 0; i <= circles; i ++ ) {\n\n\t\t\tconst color = ( i & 1 ) ? color1 : color2;\n\n\t\t\tconst r = radius - ( radius / circles * i );\n\n\t\t\tfor ( let j = 0; j < divisions; j ++ ) {\n\n\t\t\t\t// first vertex\n\n\t\t\t\tlet v = ( j / divisions ) * ( Math.PI * 2 );\n\n\t\t\t\tlet x = Math.sin( v ) * r;\n\t\t\t\tlet z = Math.cos( v ) * r;\n\n\t\t\t\tvertices.push( x, 0, z );\n\t\t\t\tcolors.push( color.r, color.g, color.b );\n\n\t\t\t\t// second vertex\n\n\t\t\t\tv = ( ( j + 1 ) / divisions ) * ( Math.PI * 2 );\n\n\t\t\t\tx = Math.sin( v ) * r;\n\t\t\t\tz = Math.cos( v ) * r;\n\n\t\t\t\tvertices.push( x, 0, z );\n\t\t\t\tcolors.push( color.r, color.g, color.b );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst geometry = new BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\t\tconst material = new LineBasicMaterial( { vertexColors: true, toneMapped: false } );\n\n\t\tsuper( geometry, material );\n\n\t\tthis.type = 'PolarGridHelper';\n\n\t}\n\n}\n\nconst _v1$6 = /*@__PURE__*/ new Vector3();\nconst _v2$3 = /*@__PURE__*/ new Vector3();\nconst _v3$1 = /*@__PURE__*/ new Vector3();\n\nclass DirectionalLightHelper extends Object3D {\n\n\tconstructor( light, size, color ) {\n\n\t\tsuper();\n\t\tthis.light = light;\n\t\tthis.light.updateMatrixWorld();\n\n\t\tthis.matrix = light.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\n\t\tthis.color = color;\n\n\t\tif ( size === undefined ) size = 1;\n\n\t\tlet geometry = new BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( [\n\t\t\t- size, size, 0,\n\t\t\tsize, size, 0,\n\t\t\tsize, - size, 0,\n\t\t\t- size, - size, 0,\n\t\t\t- size, size, 0\n\t\t], 3 ) );\n\n\t\tconst material = new LineBasicMaterial( { fog: false, toneMapped: false } );\n\n\t\tthis.lightPlane = new Line( geometry, material );\n\t\tthis.add( this.lightPlane );\n\n\t\tgeometry = new BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( [ 0, 0, 0, 0, 0, 1 ], 3 ) );\n\n\t\tthis.targetLine = new Line( geometry, material );\n\t\tthis.add( this.targetLine );\n\n\t\tthis.update();\n\n\t}\n\n\tdispose() {\n\n\t\tthis.lightPlane.geometry.dispose();\n\t\tthis.lightPlane.material.dispose();\n\t\tthis.targetLine.geometry.dispose();\n\t\tthis.targetLine.material.dispose();\n\n\t}\n\n\tupdate() {\n\n\t\t_v1$6.setFromMatrixPosition( this.light.matrixWorld );\n\t\t_v2$3.setFromMatrixPosition( this.light.target.matrixWorld );\n\t\t_v3$1.subVectors( _v2$3, _v1$6 );\n\n\t\tthis.lightPlane.lookAt( _v2$3 );\n\n\t\tif ( this.color !== undefined ) {\n\n\t\t\tthis.lightPlane.material.color.set( this.color );\n\t\t\tthis.targetLine.material.color.set( this.color );\n\n\t\t} else {\n\n\t\t\tthis.lightPlane.material.color.copy( this.light.color );\n\t\t\tthis.targetLine.material.color.copy( this.light.color );\n\n\t\t}\n\n\t\tthis.targetLine.lookAt( _v2$3 );\n\t\tthis.targetLine.scale.z = _v3$1.length();\n\n\t}\n\n}\n\nconst _vector$b = /*@__PURE__*/ new Vector3();\nconst _camera = /*@__PURE__*/ new Camera();\n\n/**\n *\t- shows frustum, line of sight and up of the camera\n *\t- suitable for fast updates\n * \t- based on frustum visualization in lightgl.js shadowmap example\n *\t\thttp://evanw.github.com/lightgl.js/tests/shadowmap.html\n */\n\nclass CameraHelper extends LineSegments {\n\n\tconstructor( camera ) {\n\n\t\tconst geometry = new BufferGeometry();\n\t\tconst material = new LineBasicMaterial( { color: 0xffffff, vertexColors: true, toneMapped: false } );\n\n\t\tconst vertices = [];\n\t\tconst colors = [];\n\n\t\tconst pointMap = {};\n\n\t\t// colors\n\n\t\tconst colorFrustum = new Color( 0xffaa00 );\n\t\tconst colorCone = new Color( 0xff0000 );\n\t\tconst colorUp = new Color( 0x00aaff );\n\t\tconst colorTarget = new Color( 0xffffff );\n\t\tconst colorCross = new Color( 0x333333 );\n\n\t\t// near\n\n\t\taddLine( 'n1', 'n2', colorFrustum );\n\t\taddLine( 'n2', 'n4', colorFrustum );\n\t\taddLine( 'n4', 'n3', colorFrustum );\n\t\taddLine( 'n3', 'n1', colorFrustum );\n\n\t\t// far\n\n\t\taddLine( 'f1', 'f2', colorFrustum );\n\t\taddLine( 'f2', 'f4', colorFrustum );\n\t\taddLine( 'f4', 'f3', colorFrustum );\n\t\taddLine( 'f3', 'f1', colorFrustum );\n\n\t\t// sides\n\n\t\taddLine( 'n1', 'f1', colorFrustum );\n\t\taddLine( 'n2', 'f2', colorFrustum );\n\t\taddLine( 'n3', 'f3', colorFrustum );\n\t\taddLine( 'n4', 'f4', colorFrustum );\n\n\t\t// cone\n\n\t\taddLine( 'p', 'n1', colorCone );\n\t\taddLine( 'p', 'n2', colorCone );\n\t\taddLine( 'p', 'n3', colorCone );\n\t\taddLine( 'p', 'n4', colorCone );\n\n\t\t// up\n\n\t\taddLine( 'u1', 'u2', colorUp );\n\t\taddLine( 'u2', 'u3', colorUp );\n\t\taddLine( 'u3', 'u1', colorUp );\n\n\t\t// target\n\n\t\taddLine( 'c', 't', colorTarget );\n\t\taddLine( 'p', 'c', colorCross );\n\n\t\t// cross\n\n\t\taddLine( 'cn1', 'cn2', colorCross );\n\t\taddLine( 'cn3', 'cn4', colorCross );\n\n\t\taddLine( 'cf1', 'cf2', colorCross );\n\t\taddLine( 'cf3', 'cf4', colorCross );\n\n\t\tfunction addLine( a, b, color ) {\n\n\t\t\taddPoint( a, color );\n\t\t\taddPoint( b, color );\n\n\t\t}\n\n\t\tfunction addPoint( id, color ) {\n\n\t\t\tvertices.push( 0, 0, 0 );\n\t\t\tcolors.push( color.r, color.g, color.b );\n\n\t\t\tif ( pointMap[ id ] === undefined ) {\n\n\t\t\t\tpointMap[ id ] = [];\n\n\t\t\t}\n\n\t\t\tpointMap[ id ].push( ( vertices.length / 3 ) - 1 );\n\n\t\t}\n\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\t\tsuper( geometry, material );\n\n\t\tthis.type = 'CameraHelper';\n\n\t\tthis.camera = camera;\n\t\tif ( this.camera.updateProjectionMatrix ) this.camera.updateProjectionMatrix();\n\n\t\tthis.matrix = camera.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\n\t\tthis.pointMap = pointMap;\n\n\t\tthis.update();\n\n\t}\n\n\tupdate() {\n\n\t\tconst geometry = this.geometry;\n\t\tconst pointMap = this.pointMap;\n\n\t\tconst w = 1, h = 1;\n\n\t\t// we need just camera projection matrix inverse\n\t\t// world matrix must be identity\n\n\t\t_camera.projectionMatrixInverse.copy( this.camera.projectionMatrixInverse );\n\n\t\t// center / target\n\n\t\tsetPoint( 'c', pointMap, geometry, _camera, 0, 0, - 1 );\n\t\tsetPoint( 't', pointMap, geometry, _camera, 0, 0, 1 );\n\n\t\t// near\n\n\t\tsetPoint( 'n1', pointMap, geometry, _camera, - w, - h, - 1 );\n\t\tsetPoint( 'n2', pointMap, geometry, _camera, w, - h, - 1 );\n\t\tsetPoint( 'n3', pointMap, geometry, _camera, - w, h, - 1 );\n\t\tsetPoint( 'n4', pointMap, geometry, _camera, w, h, - 1 );\n\n\t\t// far\n\n\t\tsetPoint( 'f1', pointMap, geometry, _camera, - w, - h, 1 );\n\t\tsetPoint( 'f2', pointMap, geometry, _camera, w, - h, 1 );\n\t\tsetPoint( 'f3', pointMap, geometry, _camera, - w, h, 1 );\n\t\tsetPoint( 'f4', pointMap, geometry, _camera, w, h, 1 );\n\n\t\t// up\n\n\t\tsetPoint( 'u1', pointMap, geometry, _camera, w * 0.7, h * 1.1, - 1 );\n\t\tsetPoint( 'u2', pointMap, geometry, _camera, - w * 0.7, h * 1.1, - 1 );\n\t\tsetPoint( 'u3', pointMap, geometry, _camera, 0, h * 2, - 1 );\n\n\t\t// cross\n\n\t\tsetPoint( 'cf1', pointMap, geometry, _camera, - w, 0, 1 );\n\t\tsetPoint( 'cf2', pointMap, geometry, _camera, w, 0, 1 );\n\t\tsetPoint( 'cf3', pointMap, geometry, _camera, 0, - h, 1 );\n\t\tsetPoint( 'cf4', pointMap, geometry, _camera, 0, h, 1 );\n\n\t\tsetPoint( 'cn1', pointMap, geometry, _camera, - w, 0, - 1 );\n\t\tsetPoint( 'cn2', pointMap, geometry, _camera, w, 0, - 1 );\n\t\tsetPoint( 'cn3', pointMap, geometry, _camera, 0, - h, - 1 );\n\t\tsetPoint( 'cn4', pointMap, geometry, _camera, 0, h, - 1 );\n\n\t\tgeometry.getAttribute( 'position' ).needsUpdate = true;\n\n\t}\n\n}\n\n\nfunction setPoint( point, pointMap, geometry, camera, x, y, z ) {\n\n\t_vector$b.set( x, y, z ).unproject( camera );\n\n\tconst points = pointMap[ point ];\n\n\tif ( points !== undefined ) {\n\n\t\tconst position = geometry.getAttribute( 'position' );\n\n\t\tfor ( let i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tposition.setXYZ( points[ i ], _vector$b.x, _vector$b.y, _vector$b.z );\n\n\t\t}\n\n\t}\n\n}\n\nconst _box$3 = /*@__PURE__*/ new Box3();\n\nclass BoxHelper extends LineSegments {\n\n\tconstructor( object, color = 0xffff00 ) {\n\n\t\tconst indices = new Uint16Array( [ 0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7 ] );\n\t\tconst positions = new Float32Array( 8 * 3 );\n\n\t\tconst geometry = new BufferGeometry();\n\t\tgeometry.setIndex( new BufferAttribute( indices, 1 ) );\n\t\tgeometry.setAttribute( 'position', new BufferAttribute( positions, 3 ) );\n\n\t\tsuper( geometry, new LineBasicMaterial( { color: color, toneMapped: false } ) );\n\n\t\tthis.object = object;\n\t\tthis.type = 'BoxHelper';\n\n\t\tthis.matrixAutoUpdate = false;\n\n\t\tthis.update();\n\n\t}\n\n\tupdate( object ) {\n\n\t\tif ( object !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.BoxHelper: .update() has no longer arguments.' );\n\n\t\t}\n\n\t\tif ( this.object !== undefined ) {\n\n\t\t\t_box$3.setFromObject( this.object );\n\n\t\t}\n\n\t\tif ( _box$3.isEmpty() ) return;\n\n\t\tconst min = _box$3.min;\n\t\tconst max = _box$3.max;\n\n\t\t/*\n\t\t\t5____4\n\t\t1/___0/|\n\t\t| 6__|_7\n\t\t2/___3/\n\n\t\t0: max.x, max.y, max.z\n\t\t1: min.x, max.y, max.z\n\t\t2: min.x, min.y, max.z\n\t\t3: max.x, min.y, max.z\n\t\t4: max.x, max.y, min.z\n\t\t5: min.x, max.y, min.z\n\t\t6: min.x, min.y, min.z\n\t\t7: max.x, min.y, min.z\n\t\t*/\n\n\t\tconst position = this.geometry.attributes.position;\n\t\tconst array = position.array;\n\n\t\tarray[ 0 ] = max.x; array[ 1 ] = max.y; array[ 2 ] = max.z;\n\t\tarray[ 3 ] = min.x; array[ 4 ] = max.y; array[ 5 ] = max.z;\n\t\tarray[ 6 ] = min.x; array[ 7 ] = min.y; array[ 8 ] = max.z;\n\t\tarray[ 9 ] = max.x; array[ 10 ] = min.y; array[ 11 ] = max.z;\n\t\tarray[ 12 ] = max.x; array[ 13 ] = max.y; array[ 14 ] = min.z;\n\t\tarray[ 15 ] = min.x; array[ 16 ] = max.y; array[ 17 ] = min.z;\n\t\tarray[ 18 ] = min.x; array[ 19 ] = min.y; array[ 20 ] = min.z;\n\t\tarray[ 21 ] = max.x; array[ 22 ] = min.y; array[ 23 ] = min.z;\n\n\t\tposition.needsUpdate = true;\n\n\t\tthis.geometry.computeBoundingSphere();\n\n\n\t}\n\n\tsetFromObject( object ) {\n\n\t\tthis.object = object;\n\t\tthis.update();\n\n\t\treturn this;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tLineSegments.prototype.copy.call( this, source );\n\n\t\tthis.object = source.object;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass Box3Helper extends LineSegments {\n\n\tconstructor( box, color = 0xffff00 ) {\n\n\t\tconst indices = new Uint16Array( [ 0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7 ] );\n\n\t\tconst positions = [ 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, - 1, 1, 1, 1, - 1, - 1, 1, - 1, - 1, - 1, - 1, 1, - 1, - 1 ];\n\n\t\tconst geometry = new BufferGeometry();\n\n\t\tgeometry.setIndex( new BufferAttribute( indices, 1 ) );\n\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\n\t\tsuper( geometry, new LineBasicMaterial( { color: color, toneMapped: false } ) );\n\n\t\tthis.box = box;\n\n\t\tthis.type = 'Box3Helper';\n\n\t\tthis.geometry.computeBoundingSphere();\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tconst box = this.box;\n\n\t\tif ( box.isEmpty() ) return;\n\n\t\tbox.getCenter( this.position );\n\n\t\tbox.getSize( this.scale );\n\n\t\tthis.scale.multiplyScalar( 0.5 );\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t}\n\n}\n\nclass PlaneHelper extends Line {\n\n\tconstructor( plane, size, hex ) {\n\n\t\tconst color = ( hex !== undefined ) ? hex : 0xffff00;\n\n\t\tconst positions = [ 1, - 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, - 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 0 ];\n\n\t\tconst geometry = new BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\t\tgeometry.computeBoundingSphere();\n\n\t\tsuper( geometry, new LineBasicMaterial( { color: color, toneMapped: false } ) );\n\n\t\tthis.type = 'PlaneHelper';\n\n\t\tthis.plane = plane;\n\n\t\tthis.size = ( size === undefined ) ? 1 : size;\n\n\t\tconst positions2 = [ 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, 1, 1, - 1, - 1, 1, 1, - 1, 1 ];\n\n\t\tconst geometry2 = new BufferGeometry();\n\t\tgeometry2.setAttribute( 'position', new Float32BufferAttribute( positions2, 3 ) );\n\t\tgeometry2.computeBoundingSphere();\n\n\t\tthis.add( new Mesh( geometry2, new MeshBasicMaterial( { color: color, opacity: 0.2, transparent: true, depthWrite: false, toneMapped: false } ) ) );\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tlet scale = - this.plane.constant;\n\n\t\tif ( Math.abs( scale ) < 1e-8 ) scale = 1e-8; // sign does not matter\n\n\t\tthis.scale.set( 0.5 * this.size, 0.5 * this.size, scale );\n\n\t\tthis.children[ 0 ].material.side = ( scale < 0 ) ? BackSide : FrontSide; // renderer flips side when determinant < 0; flipping not wanted here\n\n\t\tthis.lookAt( this.plane.normal );\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t}\n\n}\n\nconst _axis = /*@__PURE__*/ new Vector3();\nlet _lineGeometry, _coneGeometry;\n\nclass ArrowHelper extends Object3D {\n\n\tconstructor( dir, origin, length, color, headLength, headWidth ) {\n\n\t\tsuper();\n\t\t// dir is assumed to be normalized\n\n\t\tthis.type = 'ArrowHelper';\n\n\t\tif ( dir === undefined ) dir = new Vector3( 0, 0, 1 );\n\t\tif ( origin === undefined ) origin = new Vector3( 0, 0, 0 );\n\t\tif ( length === undefined ) length = 1;\n\t\tif ( color === undefined ) color = 0xffff00;\n\t\tif ( headLength === undefined ) headLength = 0.2 * length;\n\t\tif ( headWidth === undefined ) headWidth = 0.2 * headLength;\n\n\t\tif ( _lineGeometry === undefined ) {\n\n\t\t\t_lineGeometry = new BufferGeometry();\n\t\t\t_lineGeometry.setAttribute( 'position', new Float32BufferAttribute( [ 0, 0, 0, 0, 1, 0 ], 3 ) );\n\n\t\t\t_coneGeometry = new CylinderBufferGeometry( 0, 0.5, 1, 5, 1 );\n\t\t\t_coneGeometry.translate( 0, - 0.5, 0 );\n\n\t\t}\n\n\t\tthis.position.copy( origin );\n\n\t\tthis.line = new Line( _lineGeometry, new LineBasicMaterial( { color: color, toneMapped: false } ) );\n\t\tthis.line.matrixAutoUpdate = false;\n\t\tthis.add( this.line );\n\n\t\tthis.cone = new Mesh( _coneGeometry, new MeshBasicMaterial( { color: color, toneMapped: false } ) );\n\t\tthis.cone.matrixAutoUpdate = false;\n\t\tthis.add( this.cone );\n\n\t\tthis.setDirection( dir );\n\t\tthis.setLength( length, headLength, headWidth );\n\n\t}\n\n\tsetDirection( dir ) {\n\n\t\t// dir is assumed to be normalized\n\n\t\tif ( dir.y > 0.99999 ) {\n\n\t\t\tthis.quaternion.set( 0, 0, 0, 1 );\n\n\t\t} else if ( dir.y < - 0.99999 ) {\n\n\t\t\tthis.quaternion.set( 1, 0, 0, 0 );\n\n\t\t} else {\n\n\t\t\t_axis.set( dir.z, 0, - dir.x ).normalize();\n\n\t\t\tconst radians = Math.acos( dir.y );\n\n\t\t\tthis.quaternion.setFromAxisAngle( _axis, radians );\n\n\t\t}\n\n\t}\n\n\tsetLength( length, headLength, headWidth ) {\n\n\t\tif ( headLength === undefined ) headLength = 0.2 * length;\n\t\tif ( headWidth === undefined ) headWidth = 0.2 * headLength;\n\n\t\tthis.line.scale.set( 1, Math.max( 0.0001, length - headLength ), 1 ); // see #17458\n\t\tthis.line.updateMatrix();\n\n\t\tthis.cone.scale.set( headWidth, headLength, headWidth );\n\t\tthis.cone.position.y = length;\n\t\tthis.cone.updateMatrix();\n\n\t}\n\n\tsetColor( color ) {\n\n\t\tthis.line.material.color.set( color );\n\t\tthis.cone.material.color.set( color );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source, false );\n\n\t\tthis.line.copy( source.line );\n\t\tthis.cone.copy( source.cone );\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass AxesHelper extends LineSegments {\n\n\tconstructor( size = 1 ) {\n\n\t\tconst vertices = [\n\t\t\t0, 0, 0,\tsize, 0, 0,\n\t\t\t0, 0, 0,\t0, size, 0,\n\t\t\t0, 0, 0,\t0, 0, size\n\t\t];\n\n\t\tconst colors = [\n\t\t\t1, 0, 0,\t1, 0.6, 0,\n\t\t\t0, 1, 0,\t0.6, 1, 0,\n\t\t\t0, 0, 1,\t0, 0.6, 1\n\t\t];\n\n\t\tconst geometry = new BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\t\tconst material = new LineBasicMaterial( { vertexColors: true, toneMapped: false } );\n\n\t\tsuper( geometry, material );\n\n\t\tthis.type = 'AxesHelper';\n\n\t}\n\n}\n\nconst LOD_MIN = 4;\nconst LOD_MAX = 8;\nconst SIZE_MAX = Math.pow( 2, LOD_MAX );\n\n// The standard deviations (radians) associated with the extra mips. These are\n// chosen to approximate a Trowbridge-Reitz distribution function times the\n// geometric shadowing function. These sigma values squared must match the\n// variance #defines in cube_uv_reflection_fragment.glsl.js.\nconst EXTRA_LOD_SIGMA = [ 0.125, 0.215, 0.35, 0.446, 0.526, 0.582 ];\n\nconst TOTAL_LODS = LOD_MAX - LOD_MIN + 1 + EXTRA_LOD_SIGMA.length;\n\n// The maximum length of the blur for loop. Smaller sigmas will use fewer\n// samples and exit early, but not recompile the shader.\nconst MAX_SAMPLES = 20;\n\nconst ENCODINGS = {\n\t[ LinearEncoding ]: 0,\n\t[ sRGBEncoding ]: 1,\n\t[ RGBEEncoding ]: 2,\n\t[ RGBM7Encoding ]: 3,\n\t[ RGBM16Encoding ]: 4,\n\t[ RGBDEncoding ]: 5,\n\t[ GammaEncoding ]: 6\n};\n\nconst _flatCamera = /*@__PURE__*/ new OrthographicCamera();\nconst { _lodPlanes, _sizeLods, _sigmas } = /*@__PURE__*/ _createPlanes();\nlet _oldTarget = null;\n\n// Golden Ratio\nconst PHI = ( 1 + Math.sqrt( 5 ) ) / 2;\nconst INV_PHI = 1 / PHI;\n\n// Vertices of a dodecahedron (except the opposites, which represent the\n// same axis), used as axis directions evenly spread on a sphere.\nconst _axisDirections = [\n\t/*@__PURE__*/ new Vector3( 1, 1, 1 ),\n\t/*@__PURE__*/ new Vector3( - 1, 1, 1 ),\n\t/*@__PURE__*/ new Vector3( 1, 1, - 1 ),\n\t/*@__PURE__*/ new Vector3( - 1, 1, - 1 ),\n\t/*@__PURE__*/ new Vector3( 0, PHI, INV_PHI ),\n\t/*@__PURE__*/ new Vector3( 0, PHI, - INV_PHI ),\n\t/*@__PURE__*/ new Vector3( INV_PHI, 0, PHI ),\n\t/*@__PURE__*/ new Vector3( - INV_PHI, 0, PHI ),\n\t/*@__PURE__*/ new Vector3( PHI, INV_PHI, 0 ),\n\t/*@__PURE__*/ new Vector3( - PHI, INV_PHI, 0 ) ];\n\n/**\n * This class generates a Prefiltered, Mipmapped Radiance Environment Map\n * (PMREM) from a cubeMap environment texture. This allows different levels of\n * blur to be quickly accessed based on material roughness. It is packed into a\n * special CubeUV format that allows us to perform custom interpolation so that\n * we can support nonlinear formats such as RGBE. Unlike a traditional mipmap\n * chain, it only goes down to the LOD_MIN level (above), and then creates extra\n * even more filtered 'mips' at the same LOD_MIN resolution, associated with\n * higher roughness levels. In this way we maintain resolution to smoothly\n * interpolate diffuse lighting while limiting sampling computation.\n */\n\nclass PMREMGenerator {\n\n\tconstructor( renderer ) {\n\n\t\tthis._renderer = renderer;\n\t\tthis._pingPongRenderTarget = null;\n\n\t\tthis._blurMaterial = _getBlurShader( MAX_SAMPLES );\n\t\tthis._equirectShader = null;\n\t\tthis._cubemapShader = null;\n\n\t\tthis._compileMaterial( this._blurMaterial );\n\n\t}\n\n\t/**\n\t * Generates a PMREM from a supplied Scene, which can be faster than using an\n\t * image if networking bandwidth is low. Optional sigma specifies a blur radius\n\t * in radians to be applied to the scene before PMREM generation. Optional near\n\t * and far planes ensure the scene is rendered in its entirety (the cubeCamera\n\t * is placed at the origin).\n\t */\n\tfromScene( scene, sigma = 0, near = 0.1, far = 100 ) {\n\n\t\t_oldTarget = this._renderer.getRenderTarget();\n\t\tconst cubeUVRenderTarget = this._allocateTargets();\n\n\t\tthis._sceneToCubeUV( scene, near, far, cubeUVRenderTarget );\n\t\tif ( sigma > 0 ) {\n\n\t\t\tthis._blur( cubeUVRenderTarget, 0, 0, sigma );\n\n\t\t}\n\n\t\tthis._applyPMREM( cubeUVRenderTarget );\n\t\tthis._cleanup( cubeUVRenderTarget );\n\n\t\treturn cubeUVRenderTarget;\n\n\t}\n\n\t/**\n\t * Generates a PMREM from an equirectangular texture, which can be either LDR\n\t * (RGBFormat) or HDR (RGBEFormat). The ideal input image size is 1k (1024 x 512),\n\t * as this matches best with the 256 x 256 cubemap output.\n\t */\n\tfromEquirectangular( equirectangular ) {\n\n\t\treturn this._fromTexture( equirectangular );\n\n\t}\n\n\t/**\n\t * Generates a PMREM from an cubemap texture, which can be either LDR\n\t * (RGBFormat) or HDR (RGBEFormat). The ideal input cube size is 256 x 256,\n\t * as this matches best with the 256 x 256 cubemap output.\n\t */\n\tfromCubemap( cubemap ) {\n\n\t\treturn this._fromTexture( cubemap );\n\n\t}\n\n\t/**\n\t * Pre-compiles the cubemap shader. You can get faster start-up by invoking this method during\n\t * your texture's network fetch for increased concurrency.\n\t */\n\tcompileCubemapShader() {\n\n\t\tif ( this._cubemapShader === null ) {\n\n\t\t\tthis._cubemapShader = _getCubemapShader();\n\t\t\tthis._compileMaterial( this._cubemapShader );\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Pre-compiles the equirectangular shader. You can get faster start-up by invoking this method during\n\t * your texture's network fetch for increased concurrency.\n\t */\n\tcompileEquirectangularShader() {\n\n\t\tif ( this._equirectShader === null ) {\n\n\t\t\tthis._equirectShader = _getEquirectShader();\n\t\t\tthis._compileMaterial( this._equirectShader );\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Disposes of the PMREMGenerator's internal memory. Note that PMREMGenerator is a static class,\n\t * so you should not need more than one PMREMGenerator object. If you do, calling dispose() on\n\t * one of them will cause any others to also become unusable.\n\t */\n\tdispose() {\n\n\t\tthis._blurMaterial.dispose();\n\n\t\tif ( this._cubemapShader !== null ) this._cubemapShader.dispose();\n\t\tif ( this._equirectShader !== null ) this._equirectShader.dispose();\n\n\t\tfor ( let i = 0; i < _lodPlanes.length; i ++ ) {\n\n\t\t\t_lodPlanes[ i ].dispose();\n\n\t\t}\n\n\t}\n\n\t// private interface\n\n\t_cleanup( outputTarget ) {\n\n\t\tthis._pingPongRenderTarget.dispose();\n\t\tthis._renderer.setRenderTarget( _oldTarget );\n\t\toutputTarget.scissorTest = false;\n\t\t_setViewport( outputTarget, 0, 0, outputTarget.width, outputTarget.height );\n\n\t}\n\n\t_fromTexture( texture ) {\n\n\t\t_oldTarget = this._renderer.getRenderTarget();\n\t\tconst cubeUVRenderTarget = this._allocateTargets( texture );\n\t\tthis._textureToCubeUV( texture, cubeUVRenderTarget );\n\t\tthis._applyPMREM( cubeUVRenderTarget );\n\t\tthis._cleanup( cubeUVRenderTarget );\n\n\t\treturn cubeUVRenderTarget;\n\n\t}\n\n\t_allocateTargets( texture ) { // warning: null texture is valid\n\n\t\tconst params = {\n\t\t\tmagFilter: NearestFilter,\n\t\t\tminFilter: NearestFilter,\n\t\t\tgenerateMipmaps: false,\n\t\t\ttype: UnsignedByteType,\n\t\t\tformat: RGBEFormat,\n\t\t\tencoding: _isLDR( texture ) ? texture.encoding : RGBEEncoding,\n\t\t\tdepthBuffer: false\n\t\t};\n\n\t\tconst cubeUVRenderTarget = _createRenderTarget( params );\n\t\tcubeUVRenderTarget.depthBuffer = texture ? false : true;\n\t\tthis._pingPongRenderTarget = _createRenderTarget( params );\n\t\treturn cubeUVRenderTarget;\n\n\t}\n\n\t_compileMaterial( material ) {\n\n\t\tconst tmpMesh = new Mesh( _lodPlanes[ 0 ], material );\n\t\tthis._renderer.compile( tmpMesh, _flatCamera );\n\n\t}\n\n\t_sceneToCubeUV( scene, near, far, cubeUVRenderTarget ) {\n\n\t\tconst fov = 90;\n\t\tconst aspect = 1;\n\t\tconst cubeCamera = new PerspectiveCamera( fov, aspect, near, far );\n\t\tconst upSign = [ 1, - 1, 1, 1, 1, 1 ];\n\t\tconst forwardSign = [ 1, 1, 1, - 1, - 1, - 1 ];\n\t\tconst renderer = this._renderer;\n\n\t\tconst outputEncoding = renderer.outputEncoding;\n\t\tconst toneMapping = renderer.toneMapping;\n\t\tconst clearColor = renderer.getClearColor();\n\t\tconst clearAlpha = renderer.getClearAlpha();\n\n\t\trenderer.toneMapping = NoToneMapping;\n\t\trenderer.outputEncoding = LinearEncoding;\n\n\t\tlet background = scene.background;\n\t\tif ( background && background.isColor ) {\n\n\t\t\tbackground.convertSRGBToLinear();\n\t\t\t// Convert linear to RGBE\n\t\t\tconst maxComponent = Math.max( background.r, background.g, background.b );\n\t\t\tconst fExp = Math.min( Math.max( Math.ceil( Math.log2( maxComponent ) ), - 128.0 ), 127.0 );\n\t\t\tbackground = background.multiplyScalar( Math.pow( 2.0, - fExp ) );\n\t\t\tconst alpha = ( fExp + 128.0 ) / 255.0;\n\t\t\trenderer.setClearColor( background, alpha );\n\t\t\tscene.background = null;\n\n\t\t}\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tconst col = i % 3;\n\t\t\tif ( col == 0 ) {\n\n\t\t\t\tcubeCamera.up.set( 0, upSign[ i ], 0 );\n\t\t\t\tcubeCamera.lookAt( forwardSign[ i ], 0, 0 );\n\n\t\t\t} else if ( col == 1 ) {\n\n\t\t\t\tcubeCamera.up.set( 0, 0, upSign[ i ] );\n\t\t\t\tcubeCamera.lookAt( 0, forwardSign[ i ], 0 );\n\n\t\t\t} else {\n\n\t\t\t\tcubeCamera.up.set( 0, upSign[ i ], 0 );\n\t\t\t\tcubeCamera.lookAt( 0, 0, forwardSign[ i ] );\n\n\t\t\t}\n\n\t\t\t_setViewport( cubeUVRenderTarget,\n\t\t\t\tcol * SIZE_MAX, i > 2 ? SIZE_MAX : 0, SIZE_MAX, SIZE_MAX );\n\t\t\trenderer.setRenderTarget( cubeUVRenderTarget );\n\t\t\trenderer.render( scene, cubeCamera );\n\n\t\t}\n\n\t\trenderer.toneMapping = toneMapping;\n\t\trenderer.outputEncoding = outputEncoding;\n\t\trenderer.setClearColor( clearColor, clearAlpha );\n\n\t}\n\n\t_textureToCubeUV( texture, cubeUVRenderTarget ) {\n\n\t\tconst renderer = this._renderer;\n\n\t\tif ( texture.isCubeTexture ) {\n\n\t\t\tif ( this._cubemapShader == null ) {\n\n\t\t\t\tthis._cubemapShader = _getCubemapShader();\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tif ( this._equirectShader == null ) {\n\n\t\t\t\tthis._equirectShader = _getEquirectShader();\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst material = texture.isCubeTexture ? this._cubemapShader : this._equirectShader;\n\t\tconst mesh = new Mesh( _lodPlanes[ 0 ], material );\n\n\t\tconst uniforms = material.uniforms;\n\n\t\tuniforms[ 'envMap' ].value = texture;\n\n\t\tif ( ! texture.isCubeTexture ) {\n\n\t\t\tuniforms[ 'texelSize' ].value.set( 1.0 / texture.image.width, 1.0 / texture.image.height );\n\n\t\t}\n\n\t\tuniforms[ 'inputEncoding' ].value = ENCODINGS[ texture.encoding ];\n\t\tuniforms[ 'outputEncoding' ].value = ENCODINGS[ cubeUVRenderTarget.texture.encoding ];\n\n\t\t_setViewport( cubeUVRenderTarget, 0, 0, 3 * SIZE_MAX, 2 * SIZE_MAX );\n\n\t\trenderer.setRenderTarget( cubeUVRenderTarget );\n\t\trenderer.render( mesh, _flatCamera );\n\n\t}\n\n\t_applyPMREM( cubeUVRenderTarget ) {\n\n\t\tconst renderer = this._renderer;\n\t\tconst autoClear = renderer.autoClear;\n\t\trenderer.autoClear = false;\n\n\t\tfor ( let i = 1; i < TOTAL_LODS; i ++ ) {\n\n\t\t\tconst sigma = Math.sqrt( _sigmas[ i ] * _sigmas[ i ] - _sigmas[ i - 1 ] * _sigmas[ i - 1 ] );\n\n\t\t\tconst poleAxis = _axisDirections[ ( i - 1 ) % _axisDirections.length ];\n\n\t\t\tthis._blur( cubeUVRenderTarget, i - 1, i, sigma, poleAxis );\n\n\t\t}\n\n\t\trenderer.autoClear = autoClear;\n\n\t}\n\n\t/**\n\t * This is a two-pass Gaussian blur for a cubemap. Normally this is done\n\t * vertically and horizontally, but this breaks down on a cube. Here we apply\n\t * the blur latitudinally (around the poles), and then longitudinally (towards\n\t * the poles) to approximate the orthogonally-separable blur. It is least\n\t * accurate at the poles, but still does a decent job.\n\t */\n\t_blur( cubeUVRenderTarget, lodIn, lodOut, sigma, poleAxis ) {\n\n\t\tconst pingPongRenderTarget = this._pingPongRenderTarget;\n\n\t\tthis._halfBlur(\n\t\t\tcubeUVRenderTarget,\n\t\t\tpingPongRenderTarget,\n\t\t\tlodIn,\n\t\t\tlodOut,\n\t\t\tsigma,\n\t\t\t'latitudinal',\n\t\t\tpoleAxis );\n\n\t\tthis._halfBlur(\n\t\t\tpingPongRenderTarget,\n\t\t\tcubeUVRenderTarget,\n\t\t\tlodOut,\n\t\t\tlodOut,\n\t\t\tsigma,\n\t\t\t'longitudinal',\n\t\t\tpoleAxis );\n\n\t}\n\n\t_halfBlur( targetIn, targetOut, lodIn, lodOut, sigmaRadians, direction, poleAxis ) {\n\n\t\tconst renderer = this._renderer;\n\t\tconst blurMaterial = this._blurMaterial;\n\n\t\tif ( direction !== 'latitudinal' && direction !== 'longitudinal' ) {\n\n\t\t\tconsole.error(\n\t\t\t\t'blur direction must be either latitudinal or longitudinal!' );\n\n\t\t}\n\n\t\t// Number of standard deviations at which to cut off the discrete approximation.\n\t\tconst STANDARD_DEVIATIONS = 3;\n\n\t\tconst blurMesh = new Mesh( _lodPlanes[ lodOut ], blurMaterial );\n\t\tconst blurUniforms = blurMaterial.uniforms;\n\n\t\tconst pixels = _sizeLods[ lodIn ] - 1;\n\t\tconst radiansPerPixel = isFinite( sigmaRadians ) ? Math.PI / ( 2 * pixels ) : 2 * Math.PI / ( 2 * MAX_SAMPLES - 1 );\n\t\tconst sigmaPixels = sigmaRadians / radiansPerPixel;\n\t\tconst samples = isFinite( sigmaRadians ) ? 1 + Math.floor( STANDARD_DEVIATIONS * sigmaPixels ) : MAX_SAMPLES;\n\n\t\tif ( samples > MAX_SAMPLES ) {\n\n\t\t\tconsole.warn( `sigmaRadians, ${\n\t\t\t\tsigmaRadians}, is too large and will clip, as it requested ${\n\t\t\t\tsamples} samples when the maximum is set to ${MAX_SAMPLES}` );\n\n\t\t}\n\n\t\tconst weights = [];\n\t\tlet sum = 0;\n\n\t\tfor ( let i = 0; i < MAX_SAMPLES; ++ i ) {\n\n\t\t\tconst x = i / sigmaPixels;\n\t\t\tconst weight = Math.exp( - x * x / 2 );\n\t\t\tweights.push( weight );\n\n\t\t\tif ( i == 0 ) {\n\n\t\t\t\tsum += weight;\n\n\t\t\t} else if ( i < samples ) {\n\n\t\t\t\tsum += 2 * weight;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( let i = 0; i < weights.length; i ++ ) {\n\n\t\t\tweights[ i ] = weights[ i ] / sum;\n\n\t\t}\n\n\t\tblurUniforms[ 'envMap' ].value = targetIn.texture;\n\t\tblurUniforms[ 'samples' ].value = samples;\n\t\tblurUniforms[ 'weights' ].value = weights;\n\t\tblurUniforms[ 'latitudinal' ].value = direction === 'latitudinal';\n\n\t\tif ( poleAxis ) {\n\n\t\t\tblurUniforms[ 'poleAxis' ].value = poleAxis;\n\n\t\t}\n\n\t\tblurUniforms[ 'dTheta' ].value = radiansPerPixel;\n\t\tblurUniforms[ 'mipInt' ].value = LOD_MAX - lodIn;\n\t\tblurUniforms[ 'inputEncoding' ].value = ENCODINGS[ targetIn.texture.encoding ];\n\t\tblurUniforms[ 'outputEncoding' ].value = ENCODINGS[ targetIn.texture.encoding ];\n\n\t\tconst outputSize = _sizeLods[ lodOut ];\n\t\tconst x = 3 * Math.max( 0, SIZE_MAX - 2 * outputSize );\n\t\tconst y = ( lodOut === 0 ? 0 : 2 * SIZE_MAX ) + 2 * outputSize * ( lodOut > LOD_MAX - LOD_MIN ? lodOut - LOD_MAX + LOD_MIN : 0 );\n\n\t\t_setViewport( targetOut, x, y, 3 * outputSize, 2 * outputSize );\n\t\trenderer.setRenderTarget( targetOut );\n\t\trenderer.render( blurMesh, _flatCamera );\n\n\t}\n\n}\n\nfunction _isLDR( texture ) {\n\n\tif ( texture === undefined || texture.type !== UnsignedByteType ) return false;\n\n\treturn texture.encoding === LinearEncoding || texture.encoding === sRGBEncoding || texture.encoding === GammaEncoding;\n\n}\n\nfunction _createPlanes() {\n\n\tconst _lodPlanes = [];\n\tconst _sizeLods = [];\n\tconst _sigmas = [];\n\n\tlet lod = LOD_MAX;\n\n\tfor ( let i = 0; i < TOTAL_LODS; i ++ ) {\n\n\t\tconst sizeLod = Math.pow( 2, lod );\n\t\t_sizeLods.push( sizeLod );\n\t\tlet sigma = 1.0 / sizeLod;\n\n\t\tif ( i > LOD_MAX - LOD_MIN ) {\n\n\t\t\tsigma = EXTRA_LOD_SIGMA[ i - LOD_MAX + LOD_MIN - 1 ];\n\n\t\t} else if ( i == 0 ) {\n\n\t\t\tsigma = 0;\n\n\t\t}\n\n\t\t_sigmas.push( sigma );\n\n\t\tconst texelSize = 1.0 / ( sizeLod - 1 );\n\t\tconst min = - texelSize / 2;\n\t\tconst max = 1 + texelSize / 2;\n\t\tconst uv1 = [ min, min, max, min, max, max, min, min, max, max, min, max ];\n\n\t\tconst cubeFaces = 6;\n\t\tconst vertices = 6;\n\t\tconst positionSize = 3;\n\t\tconst uvSize = 2;\n\t\tconst faceIndexSize = 1;\n\n\t\tconst position = new Float32Array( positionSize * vertices * cubeFaces );\n\t\tconst uv = new Float32Array( uvSize * vertices * cubeFaces );\n\t\tconst faceIndex = new Float32Array( faceIndexSize * vertices * cubeFaces );\n\n\t\tfor ( let face = 0; face < cubeFaces; face ++ ) {\n\n\t\t\tconst x = ( face % 3 ) * 2 / 3 - 1;\n\t\t\tconst y = face > 2 ? 0 : - 1;\n\t\t\tconst coordinates = [\n\t\t\t\tx, y, 0,\n\t\t\t\tx + 2 / 3, y, 0,\n\t\t\t\tx + 2 / 3, y + 1, 0,\n\t\t\t\tx, y, 0,\n\t\t\t\tx + 2 / 3, y + 1, 0,\n\t\t\t\tx, y + 1, 0\n\t\t\t];\n\t\t\tposition.set( coordinates, positionSize * vertices * face );\n\t\t\tuv.set( uv1, uvSize * vertices * face );\n\t\t\tconst fill = [ face, face, face, face, face, face ];\n\t\t\tfaceIndex.set( fill, faceIndexSize * vertices * face );\n\n\t\t}\n\n\t\tconst planes = new BufferGeometry();\n\t\tplanes.setAttribute( 'position', new BufferAttribute( position, positionSize ) );\n\t\tplanes.setAttribute( 'uv', new BufferAttribute( uv, uvSize ) );\n\t\tplanes.setAttribute( 'faceIndex', new BufferAttribute( faceIndex, faceIndexSize ) );\n\t\t_lodPlanes.push( planes );\n\n\t\tif ( lod > LOD_MIN ) {\n\n\t\t\tlod --;\n\n\t\t}\n\n\t}\n\n\treturn { _lodPlanes, _sizeLods, _sigmas };\n\n}\n\nfunction _createRenderTarget( params ) {\n\n\tconst cubeUVRenderTarget = new WebGLRenderTarget( 3 * SIZE_MAX, 3 * SIZE_MAX, params );\n\tcubeUVRenderTarget.texture.mapping = CubeUVReflectionMapping;\n\tcubeUVRenderTarget.texture.name = 'PMREM.cubeUv';\n\tcubeUVRenderTarget.scissorTest = true;\n\treturn cubeUVRenderTarget;\n\n}\n\nfunction _setViewport( target, x, y, width, height ) {\n\n\ttarget.viewport.set( x, y, width, height );\n\ttarget.scissor.set( x, y, width, height );\n\n}\n\nfunction _getBlurShader( maxSamples ) {\n\n\tconst weights = new Float32Array( maxSamples );\n\tconst poleAxis = new Vector3( 0, 1, 0 );\n\tconst shaderMaterial = new RawShaderMaterial( {\n\n\t\tname: 'SphericalGaussianBlur',\n\n\t\tdefines: { 'n': maxSamples },\n\n\t\tuniforms: {\n\t\t\t'envMap': { value: null },\n\t\t\t'samples': { value: 1 },\n\t\t\t'weights': { value: weights },\n\t\t\t'latitudinal': { value: false },\n\t\t\t'dTheta': { value: 0 },\n\t\t\t'mipInt': { value: 0 },\n\t\t\t'poleAxis': { value: poleAxis },\n\t\t\t'inputEncoding': { value: ENCODINGS[ LinearEncoding ] },\n\t\t\t'outputEncoding': { value: ENCODINGS[ LinearEncoding ] }\n\t\t},\n\n\t\tvertexShader: _getCommonVertexShader(),\n\n\t\tfragmentShader: /* glsl */`\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t${ _getEncodings() }\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t`,\n\n\t\tblending: NoBlending,\n\t\tdepthTest: false,\n\t\tdepthWrite: false\n\n\t} );\n\n\treturn shaderMaterial;\n\n}\n\nfunction _getEquirectShader() {\n\n\tconst texelSize = new Vector2( 1, 1 );\n\tconst shaderMaterial = new RawShaderMaterial( {\n\n\t\tname: 'EquirectangularToCubeUV',\n\n\t\tuniforms: {\n\t\t\t'envMap': { value: null },\n\t\t\t'texelSize': { value: texelSize },\n\t\t\t'inputEncoding': { value: ENCODINGS[ LinearEncoding ] },\n\t\t\t'outputEncoding': { value: ENCODINGS[ LinearEncoding ] }\n\t\t},\n\n\t\tvertexShader: _getCommonVertexShader(),\n\n\t\tfragmentShader: /* glsl */`\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform vec2 texelSize;\n\n\t\t\t${ _getEncodings() }\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tvec2 f = fract( uv / texelSize - 0.5 );\n\t\t\t\tuv -= f * texelSize;\n\t\t\t\tvec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x += texelSize.x;\n\t\t\t\tvec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.y += texelSize.y;\n\t\t\t\tvec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x -= texelSize.x;\n\t\t\t\tvec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\n\t\t\t\tvec3 tm = mix( tl, tr, f.x );\n\t\t\t\tvec3 bm = mix( bl, br, f.x );\n\t\t\t\tgl_FragColor.rgb = mix( tm, bm, f.y );\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t`,\n\n\t\tblending: NoBlending,\n\t\tdepthTest: false,\n\t\tdepthWrite: false\n\n\t} );\n\n\treturn shaderMaterial;\n\n}\n\nfunction _getCubemapShader() {\n\n\tconst shaderMaterial = new RawShaderMaterial( {\n\n\t\tname: 'CubemapToCubeUV',\n\n\t\tuniforms: {\n\t\t\t'envMap': { value: null },\n\t\t\t'inputEncoding': { value: ENCODINGS[ LinearEncoding ] },\n\t\t\t'outputEncoding': { value: ENCODINGS[ LinearEncoding ] }\n\t\t},\n\n\t\tvertexShader: _getCommonVertexShader(),\n\n\t\tfragmentShader: /* glsl */`\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\t${ _getEncodings() }\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t`,\n\n\t\tblending: NoBlending,\n\t\tdepthTest: false,\n\t\tdepthWrite: false\n\n\t} );\n\n\treturn shaderMaterial;\n\n}\n\nfunction _getCommonVertexShader() {\n\n\treturn /* glsl */`\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t`;\n\n}\n\nfunction _getEncodings() {\n\n\treturn /* glsl */`\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t`;\n\n}\n\nfunction Face4( a, b, c, d, normal, color, materialIndex ) {\n\n\tconsole.warn( 'THREE.Face4 has been removed. A THREE.Face3 will be created instead.' );\n\treturn new Face3( a, b, c, normal, color, materialIndex );\n\n}\n\nconst LineStrip = 0;\nconst LinePieces = 1;\nconst NoColors = 0;\nconst FaceColors = 1;\nconst VertexColors = 2;\n\nfunction MeshFaceMaterial( materials ) {\n\n\tconsole.warn( 'THREE.MeshFaceMaterial has been removed. Use an Array instead.' );\n\treturn materials;\n\n}\n\nfunction MultiMaterial( materials ) {\n\n\tif ( materials === undefined ) materials = [];\n\n\tconsole.warn( 'THREE.MultiMaterial has been removed. Use an Array instead.' );\n\tmaterials.isMultiMaterial = true;\n\tmaterials.materials = materials;\n\tmaterials.clone = function () {\n\n\t\treturn materials.slice();\n\n\t};\n\n\treturn materials;\n\n}\n\nfunction PointCloud( geometry, material ) {\n\n\tconsole.warn( 'THREE.PointCloud has been renamed to THREE.Points.' );\n\treturn new Points( geometry, material );\n\n}\n\nfunction Particle( material ) {\n\n\tconsole.warn( 'THREE.Particle has been renamed to THREE.Sprite.' );\n\treturn new Sprite( material );\n\n}\n\nfunction ParticleSystem( geometry, material ) {\n\n\tconsole.warn( 'THREE.ParticleSystem has been renamed to THREE.Points.' );\n\treturn new Points( geometry, material );\n\n}\n\nfunction PointCloudMaterial( parameters ) {\n\n\tconsole.warn( 'THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.' );\n\treturn new PointsMaterial( parameters );\n\n}\n\nfunction ParticleBasicMaterial( parameters ) {\n\n\tconsole.warn( 'THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.' );\n\treturn new PointsMaterial( parameters );\n\n}\n\nfunction ParticleSystemMaterial( parameters ) {\n\n\tconsole.warn( 'THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.' );\n\treturn new PointsMaterial( parameters );\n\n}\n\nfunction Vertex( x, y, z ) {\n\n\tconsole.warn( 'THREE.Vertex has been removed. Use THREE.Vector3 instead.' );\n\treturn new Vector3( x, y, z );\n\n}\n\n//\n\nfunction DynamicBufferAttribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead.' );\n\treturn new BufferAttribute( array, itemSize ).setUsage( DynamicDrawUsage );\n\n}\n\nfunction Int8Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead.' );\n\treturn new Int8BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint8Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead.' );\n\treturn new Uint8BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint8ClampedAttribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead.' );\n\treturn new Uint8ClampedBufferAttribute( array, itemSize );\n\n}\n\nfunction Int16Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead.' );\n\treturn new Int16BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint16Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead.' );\n\treturn new Uint16BufferAttribute( array, itemSize );\n\n}\n\nfunction Int32Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead.' );\n\treturn new Int32BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint32Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead.' );\n\treturn new Uint32BufferAttribute( array, itemSize );\n\n}\n\nfunction Float32Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead.' );\n\treturn new Float32BufferAttribute( array, itemSize );\n\n}\n\nfunction Float64Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead.' );\n\treturn new Float64BufferAttribute( array, itemSize );\n\n}\n\n//\n\nCurve.create = function ( construct, getPoint ) {\n\n\tconsole.log( 'THREE.Curve.create() has been deprecated' );\n\n\tconstruct.prototype = Object.create( Curve.prototype );\n\tconstruct.prototype.constructor = construct;\n\tconstruct.prototype.getPoint = getPoint;\n\n\treturn construct;\n\n};\n\n//\n\nObject.assign( CurvePath.prototype, {\n\n\tcreatePointsGeometry: function ( divisions ) {\n\n\t\tconsole.warn( 'THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.' );\n\n\t\t// generate geometry from path points (for Line or Points objects)\n\n\t\tconst pts = this.getPoints( divisions );\n\t\treturn this.createGeometry( pts );\n\n\t},\n\n\tcreateSpacedPointsGeometry: function ( divisions ) {\n\n\t\tconsole.warn( 'THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.' );\n\n\t\t// generate geometry from equidistant sampling along the path\n\n\t\tconst pts = this.getSpacedPoints( divisions );\n\t\treturn this.createGeometry( pts );\n\n\t},\n\n\tcreateGeometry: function ( points ) {\n\n\t\tconsole.warn( 'THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.' );\n\n\t\tconst geometry = new Geometry();\n\n\t\tfor ( let i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tconst point = points[ i ];\n\t\t\tgeometry.vertices.push( new Vector3( point.x, point.y, point.z || 0 ) );\n\n\t\t}\n\n\t\treturn geometry;\n\n\t}\n\n} );\n\n//\n\nObject.assign( Path.prototype, {\n\n\tfromPoints: function ( points ) {\n\n\t\tconsole.warn( 'THREE.Path: .fromPoints() has been renamed to .setFromPoints().' );\n\t\treturn this.setFromPoints( points );\n\n\t}\n\n} );\n\n//\n\nfunction ClosedSplineCurve3( points ) {\n\n\tconsole.warn( 'THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.' );\n\n\tCatmullRomCurve3.call( this, points );\n\tthis.type = 'catmullrom';\n\tthis.closed = true;\n\n}\n\nClosedSplineCurve3.prototype = Object.create( CatmullRomCurve3.prototype );\n\n//\n\nfunction SplineCurve3( points ) {\n\n\tconsole.warn( 'THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.' );\n\n\tCatmullRomCurve3.call( this, points );\n\tthis.type = 'catmullrom';\n\n}\n\nSplineCurve3.prototype = Object.create( CatmullRomCurve3.prototype );\n\n//\n\nfunction Spline( points ) {\n\n\tconsole.warn( 'THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead.' );\n\n\tCatmullRomCurve3.call( this, points );\n\tthis.type = 'catmullrom';\n\n}\n\nSpline.prototype = Object.create( CatmullRomCurve3.prototype );\n\nObject.assign( Spline.prototype, {\n\n\tinitFromArray: function ( /* a */ ) {\n\n\t\tconsole.error( 'THREE.Spline: .initFromArray() has been removed.' );\n\n\t},\n\tgetControlPointsArray: function ( /* optionalTarget */ ) {\n\n\t\tconsole.error( 'THREE.Spline: .getControlPointsArray() has been removed.' );\n\n\t},\n\treparametrizeByArcLength: function ( /* samplingCoef */ ) {\n\n\t\tconsole.error( 'THREE.Spline: .reparametrizeByArcLength() has been removed.' );\n\n\t}\n\n} );\n\n//\n\nfunction AxisHelper( size ) {\n\n\tconsole.warn( 'THREE.AxisHelper has been renamed to THREE.AxesHelper.' );\n\treturn new AxesHelper( size );\n\n}\n\nfunction BoundingBoxHelper( object, color ) {\n\n\tconsole.warn( 'THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead.' );\n\treturn new BoxHelper( object, color );\n\n}\n\nfunction EdgesHelper( object, hex ) {\n\n\tconsole.warn( 'THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead.' );\n\treturn new LineSegments( new EdgesGeometry( object.geometry ), new LineBasicMaterial( { color: hex !== undefined ? hex : 0xffffff } ) );\n\n}\n\nGridHelper.prototype.setColors = function () {\n\n\tconsole.error( 'THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.' );\n\n};\n\nSkeletonHelper.prototype.update = function () {\n\n\tconsole.error( 'THREE.SkeletonHelper: update() no longer needs to be called.' );\n\n};\n\nfunction WireframeHelper( object, hex ) {\n\n\tconsole.warn( 'THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead.' );\n\treturn new LineSegments( new WireframeGeometry( object.geometry ), new LineBasicMaterial( { color: hex !== undefined ? hex : 0xffffff } ) );\n\n}\n\n//\n\nObject.assign( Loader.prototype, {\n\n\textractUrlBase: function ( url ) {\n\n\t\tconsole.warn( 'THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead.' );\n\t\treturn LoaderUtils.extractUrlBase( url );\n\n\t}\n\n} );\n\nLoader.Handlers = {\n\n\tadd: function ( /* regex, loader */ ) {\n\n\t\tconsole.error( 'THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.' );\n\n\t},\n\n\tget: function ( /* file */ ) {\n\n\t\tconsole.error( 'THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.' );\n\n\t}\n\n};\n\nfunction XHRLoader( manager ) {\n\n\tconsole.warn( 'THREE.XHRLoader has been renamed to THREE.FileLoader.' );\n\treturn new FileLoader( manager );\n\n}\n\nfunction BinaryTextureLoader( manager ) {\n\n\tconsole.warn( 'THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader.' );\n\treturn new DataTextureLoader( manager );\n\n}\n\n//\n\nObject.assign( Box2.prototype, {\n\n\tcenter: function ( optionalTarget ) {\n\n\t\tconsole.warn( 'THREE.Box2: .center() has been renamed to .getCenter().' );\n\t\treturn this.getCenter( optionalTarget );\n\n\t},\n\tempty: function () {\n\n\t\tconsole.warn( 'THREE.Box2: .empty() has been renamed to .isEmpty().' );\n\t\treturn this.isEmpty();\n\n\t},\n\tisIntersectionBox: function ( box ) {\n\n\t\tconsole.warn( 'THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().' );\n\t\treturn this.intersectsBox( box );\n\n\t},\n\tsize: function ( optionalTarget ) {\n\n\t\tconsole.warn( 'THREE.Box2: .size() has been renamed to .getSize().' );\n\t\treturn this.getSize( optionalTarget );\n\n\t}\n} );\n\nObject.assign( Box3.prototype, {\n\n\tcenter: function ( optionalTarget ) {\n\n\t\tconsole.warn( 'THREE.Box3: .center() has been renamed to .getCenter().' );\n\t\treturn this.getCenter( optionalTarget );\n\n\t},\n\tempty: function () {\n\n\t\tconsole.warn( 'THREE.Box3: .empty() has been renamed to .isEmpty().' );\n\t\treturn this.isEmpty();\n\n\t},\n\tisIntersectionBox: function ( box ) {\n\n\t\tconsole.warn( 'THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().' );\n\t\treturn this.intersectsBox( box );\n\n\t},\n\tisIntersectionSphere: function ( sphere ) {\n\n\t\tconsole.warn( 'THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().' );\n\t\treturn this.intersectsSphere( sphere );\n\n\t},\n\tsize: function ( optionalTarget ) {\n\n\t\tconsole.warn( 'THREE.Box3: .size() has been renamed to .getSize().' );\n\t\treturn this.getSize( optionalTarget );\n\n\t}\n} );\n\nObject.assign( Sphere.prototype, {\n\n\tempty: function () {\n\n\t\tconsole.warn( 'THREE.Sphere: .empty() has been renamed to .isEmpty().' );\n\t\treturn this.isEmpty();\n\n\t},\n\n} );\n\nFrustum.prototype.setFromMatrix = function ( m ) {\n\n\tconsole.warn( 'THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix().' );\n\treturn this.setFromProjectionMatrix( m );\n\n};\n\nLine3.prototype.center = function ( optionalTarget ) {\n\n\tconsole.warn( 'THREE.Line3: .center() has been renamed to .getCenter().' );\n\treturn this.getCenter( optionalTarget );\n\n};\n\nObject.assign( MathUtils, {\n\n\trandom16: function () {\n\n\t\tconsole.warn( 'THREE.Math: .random16() has been deprecated. Use Math.random() instead.' );\n\t\treturn Math.random();\n\n\t},\n\n\tnearestPowerOfTwo: function ( value ) {\n\n\t\tconsole.warn( 'THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo().' );\n\t\treturn MathUtils.floorPowerOfTwo( value );\n\n\t},\n\n\tnextPowerOfTwo: function ( value ) {\n\n\t\tconsole.warn( 'THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo().' );\n\t\treturn MathUtils.ceilPowerOfTwo( value );\n\n\t}\n\n} );\n\nObject.assign( Matrix3.prototype, {\n\n\tflattenToArrayOffset: function ( array, offset ) {\n\n\t\tconsole.warn( \"THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.\" );\n\t\treturn this.toArray( array, offset );\n\n\t},\n\tmultiplyVector3: function ( vector ) {\n\n\t\tconsole.warn( 'THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.' );\n\t\treturn vector.applyMatrix3( this );\n\n\t},\n\tmultiplyVector3Array: function ( /* a */ ) {\n\n\t\tconsole.error( 'THREE.Matrix3: .multiplyVector3Array() has been removed.' );\n\n\t},\n\tapplyToBufferAttribute: function ( attribute ) {\n\n\t\tconsole.warn( 'THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead.' );\n\t\treturn attribute.applyMatrix3( this );\n\n\t},\n\tapplyToVector3Array: function ( /* array, offset, length */ ) {\n\n\t\tconsole.error( 'THREE.Matrix3: .applyToVector3Array() has been removed.' );\n\n\t}\n\n} );\n\nObject.assign( Matrix4.prototype, {\n\n\textractPosition: function ( m ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().' );\n\t\treturn this.copyPosition( m );\n\n\t},\n\tflattenToArrayOffset: function ( array, offset ) {\n\n\t\tconsole.warn( \"THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.\" );\n\t\treturn this.toArray( array, offset );\n\n\t},\n\tgetPosition: function () {\n\n\t\tconsole.warn( 'THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.' );\n\t\treturn new Vector3().setFromMatrixColumn( this, 3 );\n\n\t},\n\tsetRotationFromQuaternion: function ( q ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().' );\n\t\treturn this.makeRotationFromQuaternion( q );\n\n\t},\n\tmultiplyToArray: function () {\n\n\t\tconsole.warn( 'THREE.Matrix4: .multiplyToArray() has been removed.' );\n\n\t},\n\tmultiplyVector3: function ( vector ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\n\t\treturn vector.applyMatrix4( this );\n\n\t},\n\tmultiplyVector4: function ( vector ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\n\t\treturn vector.applyMatrix4( this );\n\n\t},\n\tmultiplyVector3Array: function ( /* a */ ) {\n\n\t\tconsole.error( 'THREE.Matrix4: .multiplyVector3Array() has been removed.' );\n\n\t},\n\trotateAxis: function ( v ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.' );\n\t\tv.transformDirection( this );\n\n\t},\n\tcrossVector: function ( vector ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\n\t\treturn vector.applyMatrix4( this );\n\n\t},\n\ttranslate: function () {\n\n\t\tconsole.error( 'THREE.Matrix4: .translate() has been removed.' );\n\n\t},\n\trotateX: function () {\n\n\t\tconsole.error( 'THREE.Matrix4: .rotateX() has been removed.' );\n\n\t},\n\trotateY: function () {\n\n\t\tconsole.error( 'THREE.Matrix4: .rotateY() has been removed.' );\n\n\t},\n\trotateZ: function () {\n\n\t\tconsole.error( 'THREE.Matrix4: .rotateZ() has been removed.' );\n\n\t},\n\trotateByAxis: function () {\n\n\t\tconsole.error( 'THREE.Matrix4: .rotateByAxis() has been removed.' );\n\n\t},\n\tapplyToBufferAttribute: function ( attribute ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead.' );\n\t\treturn attribute.applyMatrix4( this );\n\n\t},\n\tapplyToVector3Array: function ( /* array, offset, length */ ) {\n\n\t\tconsole.error( 'THREE.Matrix4: .applyToVector3Array() has been removed.' );\n\n\t},\n\tmakeFrustum: function ( left, right, bottom, top, near, far ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead.' );\n\t\treturn this.makePerspective( left, right, top, bottom, near, far );\n\n\t}\n\n} );\n\nPlane.prototype.isIntersectionLine = function ( line ) {\n\n\tconsole.warn( 'THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().' );\n\treturn this.intersectsLine( line );\n\n};\n\nQuaternion.prototype.multiplyVector3 = function ( vector ) {\n\n\tconsole.warn( 'THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.' );\n\treturn vector.applyQuaternion( this );\n\n};\n\nObject.assign( Ray.prototype, {\n\n\tisIntersectionBox: function ( box ) {\n\n\t\tconsole.warn( 'THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().' );\n\t\treturn this.intersectsBox( box );\n\n\t},\n\tisIntersectionPlane: function ( plane ) {\n\n\t\tconsole.warn( 'THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().' );\n\t\treturn this.intersectsPlane( plane );\n\n\t},\n\tisIntersectionSphere: function ( sphere ) {\n\n\t\tconsole.warn( 'THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().' );\n\t\treturn this.intersectsSphere( sphere );\n\n\t}\n\n} );\n\nObject.assign( Triangle.prototype, {\n\n\tarea: function () {\n\n\t\tconsole.warn( 'THREE.Triangle: .area() has been renamed to .getArea().' );\n\t\treturn this.getArea();\n\n\t},\n\tbarycoordFromPoint: function ( point, target ) {\n\n\t\tconsole.warn( 'THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().' );\n\t\treturn this.getBarycoord( point, target );\n\n\t},\n\tmidpoint: function ( target ) {\n\n\t\tconsole.warn( 'THREE.Triangle: .midpoint() has been renamed to .getMidpoint().' );\n\t\treturn this.getMidpoint( target );\n\n\t},\n\tnormal: function ( target ) {\n\n\t\tconsole.warn( 'THREE.Triangle: .normal() has been renamed to .getNormal().' );\n\t\treturn this.getNormal( target );\n\n\t},\n\tplane: function ( target ) {\n\n\t\tconsole.warn( 'THREE.Triangle: .plane() has been renamed to .getPlane().' );\n\t\treturn this.getPlane( target );\n\n\t}\n\n} );\n\nObject.assign( Triangle, {\n\n\tbarycoordFromPoint: function ( point, a, b, c, target ) {\n\n\t\tconsole.warn( 'THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().' );\n\t\treturn Triangle.getBarycoord( point, a, b, c, target );\n\n\t},\n\tnormal: function ( a, b, c, target ) {\n\n\t\tconsole.warn( 'THREE.Triangle: .normal() has been renamed to .getNormal().' );\n\t\treturn Triangle.getNormal( a, b, c, target );\n\n\t}\n\n} );\n\nObject.assign( Shape.prototype, {\n\n\textractAllPoints: function ( divisions ) {\n\n\t\tconsole.warn( 'THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead.' );\n\t\treturn this.extractPoints( divisions );\n\n\t},\n\textrude: function ( options ) {\n\n\t\tconsole.warn( 'THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead.' );\n\t\treturn new ExtrudeGeometry( this, options );\n\n\t},\n\tmakeGeometry: function ( options ) {\n\n\t\tconsole.warn( 'THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead.' );\n\t\treturn new ShapeGeometry( this, options );\n\n\t}\n\n} );\n\nObject.assign( Vector2.prototype, {\n\n\tfromAttribute: function ( attribute, index, offset ) {\n\n\t\tconsole.warn( 'THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute().' );\n\t\treturn this.fromBufferAttribute( attribute, index, offset );\n\n\t},\n\tdistanceToManhattan: function ( v ) {\n\n\t\tconsole.warn( 'THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo().' );\n\t\treturn this.manhattanDistanceTo( v );\n\n\t},\n\tlengthManhattan: function () {\n\n\t\tconsole.warn( 'THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength().' );\n\t\treturn this.manhattanLength();\n\n\t}\n\n} );\n\nObject.assign( Vector3.prototype, {\n\n\tsetEulerFromRotationMatrix: function () {\n\n\t\tconsole.error( 'THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.' );\n\n\t},\n\tsetEulerFromQuaternion: function () {\n\n\t\tconsole.error( 'THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.' );\n\n\t},\n\tgetPositionFromMatrix: function ( m ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().' );\n\t\treturn this.setFromMatrixPosition( m );\n\n\t},\n\tgetScaleFromMatrix: function ( m ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().' );\n\t\treturn this.setFromMatrixScale( m );\n\n\t},\n\tgetColumnFromMatrix: function ( index, matrix ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().' );\n\t\treturn this.setFromMatrixColumn( matrix, index );\n\n\t},\n\tapplyProjection: function ( m ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead.' );\n\t\treturn this.applyMatrix4( m );\n\n\t},\n\tfromAttribute: function ( attribute, index, offset ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute().' );\n\t\treturn this.fromBufferAttribute( attribute, index, offset );\n\n\t},\n\tdistanceToManhattan: function ( v ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo().' );\n\t\treturn this.manhattanDistanceTo( v );\n\n\t},\n\tlengthManhattan: function () {\n\n\t\tconsole.warn( 'THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength().' );\n\t\treturn this.manhattanLength();\n\n\t}\n\n} );\n\nObject.assign( Vector4.prototype, {\n\n\tfromAttribute: function ( attribute, index, offset ) {\n\n\t\tconsole.warn( 'THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute().' );\n\t\treturn this.fromBufferAttribute( attribute, index, offset );\n\n\t},\n\tlengthManhattan: function () {\n\n\t\tconsole.warn( 'THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength().' );\n\t\treturn this.manhattanLength();\n\n\t}\n\n} );\n\n//\n\nObject.assign( Geometry.prototype, {\n\n\tcomputeTangents: function () {\n\n\t\tconsole.error( 'THREE.Geometry: .computeTangents() has been removed.' );\n\n\t},\n\tcomputeLineDistances: function () {\n\n\t\tconsole.error( 'THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.' );\n\n\t},\n\tapplyMatrix: function ( matrix ) {\n\n\t\tconsole.warn( 'THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4().' );\n\t\treturn this.applyMatrix4( matrix );\n\n\t}\n\n} );\n\nObject.assign( Object3D.prototype, {\n\n\tgetChildByName: function ( name ) {\n\n\t\tconsole.warn( 'THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().' );\n\t\treturn this.getObjectByName( name );\n\n\t},\n\trenderDepth: function () {\n\n\t\tconsole.warn( 'THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.' );\n\n\t},\n\ttranslate: function ( distance, axis ) {\n\n\t\tconsole.warn( 'THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.' );\n\t\treturn this.translateOnAxis( axis, distance );\n\n\t},\n\tgetWorldRotation: function () {\n\n\t\tconsole.error( 'THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.' );\n\n\t},\n\tapplyMatrix: function ( matrix ) {\n\n\t\tconsole.warn( 'THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4().' );\n\t\treturn this.applyMatrix4( matrix );\n\n\t}\n\n} );\n\nObject.defineProperties( Object3D.prototype, {\n\n\teulerOrder: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .eulerOrder is now .rotation.order.' );\n\t\t\treturn this.rotation.order;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .eulerOrder is now .rotation.order.' );\n\t\t\tthis.rotation.order = value;\n\n\t\t}\n\t},\n\tuseQuaternion: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.' );\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.' );\n\n\t\t}\n\t}\n\n} );\n\nObject.assign( Mesh.prototype, {\n\n\tsetDrawMode: function () {\n\n\t\tconsole.error( 'THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.' );\n\n\t},\n\n} );\n\nObject.defineProperties( Mesh.prototype, {\n\n\tdrawMode: {\n\t\tget: function () {\n\n\t\t\tconsole.error( 'THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode.' );\n\t\t\treturn TrianglesDrawMode;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.error( 'THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.' );\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperties( LOD.prototype, {\n\n\tobjects: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.LOD: .objects has been renamed to .levels.' );\n\t\t\treturn this.levels;\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperty( Skeleton.prototype, 'useVertexTexture', {\n\n\tget: function () {\n\n\t\tconsole.warn( 'THREE.Skeleton: useVertexTexture has been removed.' );\n\n\t},\n\tset: function () {\n\n\t\tconsole.warn( 'THREE.Skeleton: useVertexTexture has been removed.' );\n\n\t}\n\n} );\n\nSkinnedMesh.prototype.initBones = function () {\n\n\tconsole.error( 'THREE.SkinnedMesh: initBones() has been removed.' );\n\n};\n\nObject.defineProperty( Curve.prototype, '__arcLengthDivisions', {\n\n\tget: function () {\n\n\t\tconsole.warn( 'THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.' );\n\t\treturn this.arcLengthDivisions;\n\n\t},\n\tset: function ( value ) {\n\n\t\tconsole.warn( 'THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.' );\n\t\tthis.arcLengthDivisions = value;\n\n\t}\n\n} );\n\n//\n\nPerspectiveCamera.prototype.setLens = function ( focalLength, filmGauge ) {\n\n\tconsole.warn( \"THREE.PerspectiveCamera.setLens is deprecated. \" +\n\t\t\t\"Use .setFocalLength and .filmGauge for a photographic setup.\" );\n\n\tif ( filmGauge !== undefined ) this.filmGauge = filmGauge;\n\tthis.setFocalLength( focalLength );\n\n};\n\n//\n\nObject.defineProperties( Light.prototype, {\n\tonlyShadow: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Light: .onlyShadow has been removed.' );\n\n\t\t}\n\t},\n\tshadowCameraFov: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraFov is now .shadow.camera.fov.' );\n\t\t\tthis.shadow.camera.fov = value;\n\n\t\t}\n\t},\n\tshadowCameraLeft: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraLeft is now .shadow.camera.left.' );\n\t\t\tthis.shadow.camera.left = value;\n\n\t\t}\n\t},\n\tshadowCameraRight: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraRight is now .shadow.camera.right.' );\n\t\t\tthis.shadow.camera.right = value;\n\n\t\t}\n\t},\n\tshadowCameraTop: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraTop is now .shadow.camera.top.' );\n\t\t\tthis.shadow.camera.top = value;\n\n\t\t}\n\t},\n\tshadowCameraBottom: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.' );\n\t\t\tthis.shadow.camera.bottom = value;\n\n\t\t}\n\t},\n\tshadowCameraNear: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraNear is now .shadow.camera.near.' );\n\t\t\tthis.shadow.camera.near = value;\n\n\t\t}\n\t},\n\tshadowCameraFar: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraFar is now .shadow.camera.far.' );\n\t\t\tthis.shadow.camera.far = value;\n\n\t\t}\n\t},\n\tshadowCameraVisible: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.' );\n\n\t\t}\n\t},\n\tshadowBias: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowBias is now .shadow.bias.' );\n\t\t\tthis.shadow.bias = value;\n\n\t\t}\n\t},\n\tshadowDarkness: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowDarkness has been removed.' );\n\n\t\t}\n\t},\n\tshadowMapWidth: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.' );\n\t\t\tthis.shadow.mapSize.width = value;\n\n\t\t}\n\t},\n\tshadowMapHeight: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.' );\n\t\t\tthis.shadow.mapSize.height = value;\n\n\t\t}\n\t}\n} );\n\n//\n\nObject.defineProperties( BufferAttribute.prototype, {\n\n\tlength: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.BufferAttribute: .length has been deprecated. Use .count instead.' );\n\t\t\treturn this.array.length;\n\n\t\t}\n\t},\n\tdynamic: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead.' );\n\t\t\treturn this.usage === DynamicDrawUsage;\n\n\t\t},\n\t\tset: function ( /* value */ ) {\n\n\t\t\tconsole.warn( 'THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead.' );\n\t\t\tthis.setUsage( DynamicDrawUsage );\n\n\t\t}\n\t}\n\n} );\n\nObject.assign( BufferAttribute.prototype, {\n\tsetDynamic: function ( value ) {\n\n\t\tconsole.warn( 'THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead.' );\n\t\tthis.setUsage( value === true ? DynamicDrawUsage : StaticDrawUsage );\n\t\treturn this;\n\n\t},\n\tcopyIndicesArray: function ( /* indices */ ) {\n\n\t\tconsole.error( 'THREE.BufferAttribute: .copyIndicesArray() has been removed.' );\n\n\t},\n\tsetArray: function ( /* array */ ) {\n\n\t\tconsole.error( 'THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers' );\n\n\t}\n} );\n\nObject.assign( BufferGeometry.prototype, {\n\n\taddIndex: function ( index ) {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().' );\n\t\tthis.setIndex( index );\n\n\t},\n\taddAttribute: function ( name, attribute ) {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute().' );\n\n\t\tif ( ! ( attribute && attribute.isBufferAttribute ) && ! ( attribute && attribute.isInterleavedBufferAttribute ) ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry: .addAttribute() now expects ( name, attribute ).' );\n\n\t\t\treturn this.setAttribute( name, new BufferAttribute( arguments[ 1 ], arguments[ 2 ] ) );\n\n\t\t}\n\n\t\tif ( name === 'index' ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute.' );\n\t\t\tthis.setIndex( attribute );\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\treturn this.setAttribute( name, attribute );\n\n\t},\n\taddDrawCall: function ( start, count, indexOffset ) {\n\n\t\tif ( indexOffset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.' );\n\n\t\t}\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .addDrawCall() is now .addGroup().' );\n\t\tthis.addGroup( start, count );\n\n\t},\n\tclearDrawCalls: function () {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().' );\n\t\tthis.clearGroups();\n\n\t},\n\tcomputeTangents: function () {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .computeTangents() has been removed.' );\n\n\t},\n\tcomputeOffsets: function () {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .computeOffsets() has been removed.' );\n\n\t},\n\tremoveAttribute: function ( name ) {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute().' );\n\n\t\treturn this.deleteAttribute( name );\n\n\t},\n\tapplyMatrix: function ( matrix ) {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4().' );\n\t\treturn this.applyMatrix4( matrix );\n\n\t}\n\n} );\n\nObject.defineProperties( BufferGeometry.prototype, {\n\n\tdrawcalls: {\n\t\tget: function () {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry: .drawcalls has been renamed to .groups.' );\n\t\t\treturn this.groups;\n\n\t\t}\n\t},\n\toffsets: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry: .offsets has been renamed to .groups.' );\n\t\t\treturn this.groups;\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperties( InstancedBufferGeometry.prototype, {\n\n\tmaxInstancedCount: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount.' );\n\t\t\treturn this.instanceCount;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount.' );\n\t\t\tthis.instanceCount = value;\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperties( Raycaster.prototype, {\n\n\tlinePrecision: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead.' );\n\t\t\treturn this.params.Line.threshold;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead.' );\n\t\t\tthis.params.Line.threshold = value;\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperties( InterleavedBuffer.prototype, {\n\n\tdynamic: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead.' );\n\t\t\treturn this.usage === DynamicDrawUsage;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead.' );\n\t\t\tthis.setUsage( value );\n\n\t\t}\n\t}\n\n} );\n\nObject.assign( InterleavedBuffer.prototype, {\n\tsetDynamic: function ( value ) {\n\n\t\tconsole.warn( 'THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead.' );\n\t\tthis.setUsage( value === true ? DynamicDrawUsage : StaticDrawUsage );\n\t\treturn this;\n\n\t},\n\tsetArray: function ( /* array */ ) {\n\n\t\tconsole.error( 'THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers' );\n\n\t}\n} );\n\n//\n\nObject.assign( ExtrudeBufferGeometry.prototype, {\n\n\tgetArrays: function () {\n\n\t\tconsole.error( 'THREE.ExtrudeBufferGeometry: .getArrays() has been removed.' );\n\n\t},\n\n\taddShapeList: function () {\n\n\t\tconsole.error( 'THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.' );\n\n\t},\n\n\taddShape: function () {\n\n\t\tconsole.error( 'THREE.ExtrudeBufferGeometry: .addShape() has been removed.' );\n\n\t}\n\n} );\n\n//\n\nObject.assign( Scene.prototype, {\n\n\tdispose: function () {\n\n\t\tconsole.error( 'THREE.Scene: .dispose() has been removed.' );\n\n\t}\n\n} );\n\n//\n\nObject.defineProperties( Uniform.prototype, {\n\n\tdynamic: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.' );\n\n\t\t}\n\t},\n\tonUpdate: {\n\t\tvalue: function () {\n\n\t\t\tconsole.warn( 'THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead.' );\n\t\t\treturn this;\n\n\t\t}\n\t}\n\n} );\n\n//\n\nObject.defineProperties( Material.prototype, {\n\n\twrapAround: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .wrapAround has been removed.' );\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .wrapAround has been removed.' );\n\n\t\t}\n\t},\n\n\toverdraw: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .overdraw has been removed.' );\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .overdraw has been removed.' );\n\n\t\t}\n\t},\n\n\twrapRGB: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .wrapRGB has been removed.' );\n\t\t\treturn new Color();\n\n\t\t}\n\t},\n\n\tshading: {\n\t\tget: function () {\n\n\t\t\tconsole.error( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\n\t\t\tthis.flatShading = ( value === FlatShading );\n\n\t\t}\n\t},\n\n\tstencilMask: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.' + this.type + ': .stencilMask has been removed. Use .stencilFuncMask instead.' );\n\t\t\treturn this.stencilFuncMask;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.' + this.type + ': .stencilMask has been removed. Use .stencilFuncMask instead.' );\n\t\t\tthis.stencilFuncMask = value;\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperties( MeshPhongMaterial.prototype, {\n\n\tmetal: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead.' );\n\t\t\treturn false;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead' );\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperties( MeshPhysicalMaterial.prototype, {\n\n\ttransparency: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission.' );\n\t\t\treturn this.transmission;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission.' );\n\t\t\tthis.transmission = value;\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperties( ShaderMaterial.prototype, {\n\n\tderivatives: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.' );\n\t\t\treturn this.extensions.derivatives;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.' );\n\t\t\tthis.extensions.derivatives = value;\n\n\t\t}\n\t}\n\n} );\n\n//\n\nObject.assign( WebGLRenderer.prototype, {\n\n\tclearTarget: function ( renderTarget, color, depth, stencil ) {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead.' );\n\t\tthis.setRenderTarget( renderTarget );\n\t\tthis.clear( color, depth, stencil );\n\n\t},\n\tanimate: function ( callback ) {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .animate() is now .setAnimationLoop().' );\n\t\tthis.setAnimationLoop( callback );\n\n\t},\n\tgetCurrentRenderTarget: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget().' );\n\t\treturn this.getRenderTarget();\n\n\t},\n\tgetMaxAnisotropy: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy().' );\n\t\treturn this.capabilities.getMaxAnisotropy();\n\n\t},\n\tgetPrecision: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision.' );\n\t\treturn this.capabilities.precision;\n\n\t},\n\tresetGLState: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .resetGLState() is now .state.reset().' );\n\t\treturn this.state.reset();\n\n\t},\n\tsupportsFloatTextures: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( \\'OES_texture_float\\' ).' );\n\t\treturn this.extensions.get( 'OES_texture_float' );\n\n\t},\n\tsupportsHalfFloatTextures: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( \\'OES_texture_half_float\\' ).' );\n\t\treturn this.extensions.get( 'OES_texture_half_float' );\n\n\t},\n\tsupportsStandardDerivatives: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( \\'OES_standard_derivatives\\' ).' );\n\t\treturn this.extensions.get( 'OES_standard_derivatives' );\n\n\t},\n\tsupportsCompressedTextureS3TC: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( \\'WEBGL_compressed_texture_s3tc\\' ).' );\n\t\treturn this.extensions.get( 'WEBGL_compressed_texture_s3tc' );\n\n\t},\n\tsupportsCompressedTexturePVRTC: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( \\'WEBGL_compressed_texture_pvrtc\\' ).' );\n\t\treturn this.extensions.get( 'WEBGL_compressed_texture_pvrtc' );\n\n\t},\n\tsupportsBlendMinMax: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( \\'EXT_blend_minmax\\' ).' );\n\t\treturn this.extensions.get( 'EXT_blend_minmax' );\n\n\t},\n\tsupportsVertexTextures: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures.' );\n\t\treturn this.capabilities.vertexTextures;\n\n\t},\n\tsupportsInstancedArrays: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( \\'ANGLE_instanced_arrays\\' ).' );\n\t\treturn this.extensions.get( 'ANGLE_instanced_arrays' );\n\n\t},\n\tenableScissorTest: function ( boolean ) {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().' );\n\t\tthis.setScissorTest( boolean );\n\n\t},\n\tinitMaterial: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .initMaterial() has been removed.' );\n\n\t},\n\taddPrePlugin: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .addPrePlugin() has been removed.' );\n\n\t},\n\taddPostPlugin: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .addPostPlugin() has been removed.' );\n\n\t},\n\tupdateShadowMap: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .updateShadowMap() has been removed.' );\n\n\t},\n\tsetFaceCulling: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .setFaceCulling() has been removed.' );\n\n\t},\n\tallocTextureUnit: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .allocTextureUnit() has been removed.' );\n\n\t},\n\tsetTexture: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .setTexture() has been removed.' );\n\n\t},\n\tsetTexture2D: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .setTexture2D() has been removed.' );\n\n\t},\n\tsetTextureCube: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .setTextureCube() has been removed.' );\n\n\t},\n\tgetActiveMipMapLevel: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel().' );\n\t\treturn this.getActiveMipmapLevel();\n\n\t}\n\n} );\n\nObject.defineProperties( WebGLRenderer.prototype, {\n\n\tshadowMapEnabled: {\n\t\tget: function () {\n\n\t\t\treturn this.shadowMap.enabled;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.' );\n\t\t\tthis.shadowMap.enabled = value;\n\n\t\t}\n\t},\n\tshadowMapType: {\n\t\tget: function () {\n\n\t\t\treturn this.shadowMap.type;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.' );\n\t\t\tthis.shadowMap.type = value;\n\n\t\t}\n\t},\n\tshadowMapCullFace: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.' );\n\t\t\treturn undefined;\n\n\t\t},\n\t\tset: function ( /* value */ ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.' );\n\n\t\t}\n\t},\n\tcontext: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .context has been removed. Use .getContext() instead.' );\n\t\t\treturn this.getContext();\n\n\t\t}\n\t},\n\tvr: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .vr has been renamed to .xr' );\n\t\t\treturn this.xr;\n\n\t\t}\n\t},\n\tgammaInput: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.' );\n\t\t\treturn false;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.' );\n\n\t\t}\n\t},\n\tgammaOutput: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead.' );\n\t\t\treturn false;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead.' );\n\t\t\tthis.outputEncoding = ( value === true ) ? sRGBEncoding : LinearEncoding;\n\n\t\t}\n\t},\n\ttoneMappingWhitePoint: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.' );\n\t\t\treturn 1.0;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.' );\n\n\t\t}\n\t},\n\n} );\n\nObject.defineProperties( WebGLShadowMap.prototype, {\n\n\tcullFace: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.' );\n\t\t\treturn undefined;\n\n\t\t},\n\t\tset: function ( /* cullFace */ ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.' );\n\n\t\t}\n\t},\n\trenderReverseSided: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.' );\n\t\t\treturn undefined;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.' );\n\n\t\t}\n\t},\n\trenderSingleSided: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.' );\n\t\t\treturn undefined;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.' );\n\n\t\t}\n\t}\n\n} );\n\nfunction WebGLRenderTargetCube( width, height, options ) {\n\n\tconsole.warn( 'THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options ).' );\n\treturn new WebGLCubeRenderTarget( width, options );\n\n}\n\n//\n\nObject.defineProperties( WebGLRenderTarget.prototype, {\n\n\twrapS: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.' );\n\t\t\treturn this.texture.wrapS;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.' );\n\t\t\tthis.texture.wrapS = value;\n\n\t\t}\n\t},\n\twrapT: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.' );\n\t\t\treturn this.texture.wrapT;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.' );\n\t\t\tthis.texture.wrapT = value;\n\n\t\t}\n\t},\n\tmagFilter: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.' );\n\t\t\treturn this.texture.magFilter;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.' );\n\t\t\tthis.texture.magFilter = value;\n\n\t\t}\n\t},\n\tminFilter: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.' );\n\t\t\treturn this.texture.minFilter;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.' );\n\t\t\tthis.texture.minFilter = value;\n\n\t\t}\n\t},\n\tanisotropy: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.' );\n\t\t\treturn this.texture.anisotropy;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.' );\n\t\t\tthis.texture.anisotropy = value;\n\n\t\t}\n\t},\n\toffset: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .offset is now .texture.offset.' );\n\t\t\treturn this.texture.offset;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .offset is now .texture.offset.' );\n\t\t\tthis.texture.offset = value;\n\n\t\t}\n\t},\n\trepeat: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .repeat is now .texture.repeat.' );\n\t\t\treturn this.texture.repeat;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .repeat is now .texture.repeat.' );\n\t\t\tthis.texture.repeat = value;\n\n\t\t}\n\t},\n\tformat: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .format is now .texture.format.' );\n\t\t\treturn this.texture.format;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .format is now .texture.format.' );\n\t\t\tthis.texture.format = value;\n\n\t\t}\n\t},\n\ttype: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .type is now .texture.type.' );\n\t\t\treturn this.texture.type;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .type is now .texture.type.' );\n\t\t\tthis.texture.type = value;\n\n\t\t}\n\t},\n\tgenerateMipmaps: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.' );\n\t\t\treturn this.texture.generateMipmaps;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.' );\n\t\t\tthis.texture.generateMipmaps = value;\n\n\t\t}\n\t}\n\n} );\n\n//\n\nObject.defineProperties( Audio.prototype, {\n\n\tload: {\n\t\tvalue: function ( file ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.' );\n\t\t\tconst scope = this;\n\t\t\tconst audioLoader = new AudioLoader();\n\t\t\taudioLoader.load( file, function ( buffer ) {\n\n\t\t\t\tscope.setBuffer( buffer );\n\n\t\t\t} );\n\t\t\treturn this;\n\n\t\t}\n\t},\n\tstartTime: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Audio: .startTime is now .play( delay ).' );\n\n\t\t}\n\t}\n\n} );\n\nAudioAnalyser.prototype.getData = function () {\n\n\tconsole.warn( 'THREE.AudioAnalyser: .getData() is now .getFrequencyData().' );\n\treturn this.getFrequencyData();\n\n};\n\n//\n\nCubeCamera.prototype.updateCubeMap = function ( renderer, scene ) {\n\n\tconsole.warn( 'THREE.CubeCamera: .updateCubeMap() is now .update().' );\n\treturn this.update( renderer, scene );\n\n};\n\nCubeCamera.prototype.clear = function ( renderer, color, depth, stencil ) {\n\n\tconsole.warn( 'THREE.CubeCamera: .clear() is now .renderTarget.clear().' );\n\treturn this.renderTarget.clear( renderer, color, depth, stencil );\n\n};\n\n//\n\nconst GeometryUtils = {\n\n\tmerge: function ( geometry1, geometry2, materialIndexOffset ) {\n\n\t\tconsole.warn( 'THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.' );\n\t\tlet matrix;\n\n\t\tif ( geometry2.isMesh ) {\n\n\t\t\tgeometry2.matrixAutoUpdate && geometry2.updateMatrix();\n\n\t\t\tmatrix = geometry2.matrix;\n\t\t\tgeometry2 = geometry2.geometry;\n\n\t\t}\n\n\t\tgeometry1.merge( geometry2, matrix, materialIndexOffset );\n\n\t},\n\n\tcenter: function ( geometry ) {\n\n\t\tconsole.warn( 'THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead.' );\n\t\treturn geometry.center();\n\n\t}\n\n};\n\nImageUtils.crossOrigin = undefined;\n\nImageUtils.loadTexture = function ( url, mapping, onLoad, onError ) {\n\n\tconsole.warn( 'THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.' );\n\n\tconst loader = new TextureLoader();\n\tloader.setCrossOrigin( this.crossOrigin );\n\n\tconst texture = loader.load( url, onLoad, undefined, onError );\n\n\tif ( mapping ) texture.mapping = mapping;\n\n\treturn texture;\n\n};\n\nImageUtils.loadTextureCube = function ( urls, mapping, onLoad, onError ) {\n\n\tconsole.warn( 'THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.' );\n\n\tconst loader = new CubeTextureLoader();\n\tloader.setCrossOrigin( this.crossOrigin );\n\n\tconst texture = loader.load( urls, onLoad, undefined, onError );\n\n\tif ( mapping ) texture.mapping = mapping;\n\n\treturn texture;\n\n};\n\nImageUtils.loadCompressedTexture = function () {\n\n\tconsole.error( 'THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.' );\n\n};\n\nImageUtils.loadCompressedTextureCube = function () {\n\n\tconsole.error( 'THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.' );\n\n};\n\n//\n\nfunction CanvasRenderer() {\n\n\tconsole.error( 'THREE.CanvasRenderer has been removed' );\n\n}\n\n//\n\nfunction JSONLoader() {\n\n\tconsole.error( 'THREE.JSONLoader has been removed.' );\n\n}\n\n//\n\nconst SceneUtils = {\n\n\tcreateMultiMaterialObject: function ( /* geometry, materials */ ) {\n\n\t\tconsole.error( 'THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js' );\n\n\t},\n\n\tdetach: function ( /* child, parent, scene */ ) {\n\n\t\tconsole.error( 'THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js' );\n\n\t},\n\n\tattach: function ( /* child, scene, parent */ ) {\n\n\t\tconsole.error( 'THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js' );\n\n\t}\n\n};\n\n//\n\nfunction LensFlare() {\n\n\tconsole.error( 'THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js' );\n\n}\n\nif ( typeof __THREE_DEVTOOLS__ !== 'undefined' ) {\n\n\t/* eslint-disable no-undef */\n\t__THREE_DEVTOOLS__.dispatchEvent( new CustomEvent( 'register', { detail: {\n\t\trevision: REVISION,\n\t} } ) );\n\t/* eslint-enable no-undef */\n\n}\n\nexport { ACESFilmicToneMapping, AddEquation, AddOperation, AdditiveAnimationBlendMode, AdditiveBlending, AlphaFormat, AlwaysDepth, AlwaysStencilFunc, AmbientLight, AmbientLightProbe, AnimationClip, AnimationLoader, AnimationMixer, AnimationObjectGroup, AnimationUtils, ArcCurve, ArrayCamera, ArrowHelper, Audio, AudioAnalyser, AudioContext, AudioListener, AudioLoader, AxesHelper, AxisHelper, BackSide, BasicDepthPacking, BasicShadowMap, BinaryTextureLoader, Bone, BooleanKeyframeTrack, BoundingBoxHelper, Box2, Box3, Box3Helper, BoxBufferGeometry, BoxGeometry, BoxHelper, BufferAttribute, BufferGeometry, BufferGeometryLoader, ByteType, Cache, Camera, CameraHelper, CanvasRenderer, CanvasTexture, CatmullRomCurve3, CineonToneMapping, CircleBufferGeometry, CircleGeometry, ClampToEdgeWrapping, Clock, ClosedSplineCurve3, Color, ColorKeyframeTrack, CompressedTexture, CompressedTextureLoader, ConeBufferGeometry, ConeGeometry, CubeCamera, BoxGeometry as CubeGeometry, CubeReflectionMapping, CubeRefractionMapping, CubeTexture, CubeTextureLoader, CubeUVReflectionMapping, CubeUVRefractionMapping, CubicBezierCurve, CubicBezierCurve3, CubicInterpolant, CullFaceBack, CullFaceFront, CullFaceFrontBack, CullFaceNone, Curve, CurvePath, CustomBlending, CustomToneMapping, CylinderBufferGeometry, CylinderGeometry, Cylindrical, DataTexture, DataTexture2DArray, DataTexture3D, DataTextureLoader, DecrementStencilOp, DecrementWrapStencilOp, DefaultLoadingManager, DepthFormat, DepthStencilFormat, DepthTexture, DirectionalLight, DirectionalLightHelper, DiscreteInterpolant, DodecahedronBufferGeometry, DodecahedronGeometry, DoubleSide, DstAlphaFactor, DstColorFactor, DynamicBufferAttribute, DynamicCopyUsage, DynamicDrawUsage, DynamicReadUsage, EdgesGeometry, EdgesHelper, EllipseCurve, EqualDepth, EqualStencilFunc, EquirectangularReflectionMapping, EquirectangularRefractionMapping, Euler, EventDispatcher, ExtrudeBufferGeometry, ExtrudeGeometry, Face3, Face4, FaceColors, FileLoader, FlatShading, Float32Attribute, Float32BufferAttribute, Float64Attribute, Float64BufferAttribute, FloatType, Fog, FogExp2, Font, FontLoader, FrontSide, Frustum, GLBufferAttribute, GLSL1, GLSL3, GammaEncoding, Geometry, GeometryUtils, GreaterDepth, GreaterEqualDepth, GreaterEqualStencilFunc, GreaterStencilFunc, GridHelper, Group, HalfFloatType, HemisphereLight, HemisphereLightHelper, HemisphereLightProbe, IcosahedronBufferGeometry, IcosahedronGeometry, ImageBitmapLoader, ImageLoader, ImageUtils, ImmediateRenderObject, IncrementStencilOp, IncrementWrapStencilOp, InstancedBufferAttribute, InstancedBufferGeometry, InstancedInterleavedBuffer, InstancedMesh, Int16Attribute, Int16BufferAttribute, Int32Attribute, Int32BufferAttribute, Int8Attribute, Int8BufferAttribute, IntType, InterleavedBuffer, InterleavedBufferAttribute, Interpolant, InterpolateDiscrete, InterpolateLinear, InterpolateSmooth, InvertStencilOp, JSONLoader, KeepStencilOp, KeyframeTrack, LOD, LatheBufferGeometry, LatheGeometry, Layers, LensFlare, LessDepth, LessEqualDepth, LessEqualStencilFunc, LessStencilFunc, Light, LightProbe, Line, Line3, LineBasicMaterial, LineCurve, LineCurve3, LineDashedMaterial, LineLoop, LinePieces, LineSegments, LineStrip, LinearEncoding, LinearFilter, LinearInterpolant, LinearMipMapLinearFilter, LinearMipMapNearestFilter, LinearMipmapLinearFilter, LinearMipmapNearestFilter, LinearToneMapping, Loader, LoaderUtils, LoadingManager, LogLuvEncoding, LoopOnce, LoopPingPong, LoopRepeat, LuminanceAlphaFormat, LuminanceFormat, MOUSE, Material, MaterialLoader, MathUtils as Math, MathUtils, Matrix3, Matrix4, MaxEquation, Mesh, MeshBasicMaterial, MeshDepthMaterial, MeshDistanceMaterial, MeshFaceMaterial, MeshLambertMaterial, MeshMatcapMaterial, MeshNormalMaterial, MeshPhongMaterial, MeshPhysicalMaterial, MeshStandardMaterial, MeshToonMaterial, MinEquation, MirroredRepeatWrapping, MixOperation, MultiMaterial, MultiplyBlending, MultiplyOperation, NearestFilter, NearestMipMapLinearFilter, NearestMipMapNearestFilter, NearestMipmapLinearFilter, NearestMipmapNearestFilter, NeverDepth, NeverStencilFunc, NoBlending, NoColors, NoToneMapping, NormalAnimationBlendMode, NormalBlending, NotEqualDepth, NotEqualStencilFunc, NumberKeyframeTrack, Object3D, ObjectLoader, ObjectSpaceNormalMap, OctahedronBufferGeometry, OctahedronGeometry, OneFactor, OneMinusDstAlphaFactor, OneMinusDstColorFactor, OneMinusSrcAlphaFactor, OneMinusSrcColorFactor, OrthographicCamera, PCFShadowMap, PCFSoftShadowMap, PMREMGenerator, ParametricBufferGeometry, ParametricGeometry, Particle, ParticleBasicMaterial, ParticleSystem, ParticleSystemMaterial, Path, PerspectiveCamera, Plane, PlaneBufferGeometry, PlaneGeometry, PlaneHelper, PointCloud, PointCloudMaterial, PointLight, PointLightHelper, Points, PointsMaterial, PolarGridHelper, PolyhedronBufferGeometry, PolyhedronGeometry, PositionalAudio, PropertyBinding, PropertyMixer, QuadraticBezierCurve, QuadraticBezierCurve3, Quaternion, QuaternionKeyframeTrack, QuaternionLinearInterpolant, REVISION, RGBADepthPacking, RGBAFormat, RGBAIntegerFormat, RGBA_ASTC_10x10_Format, RGBA_ASTC_10x5_Format, RGBA_ASTC_10x6_Format, RGBA_ASTC_10x8_Format, RGBA_ASTC_12x10_Format, RGBA_ASTC_12x12_Format, RGBA_ASTC_4x4_Format, RGBA_ASTC_5x4_Format, RGBA_ASTC_5x5_Format, RGBA_ASTC_6x5_Format, RGBA_ASTC_6x6_Format, RGBA_ASTC_8x5_Format, RGBA_ASTC_8x6_Format, RGBA_ASTC_8x8_Format, RGBA_BPTC_Format, RGBA_ETC2_EAC_Format, RGBA_PVRTC_2BPPV1_Format, RGBA_PVRTC_4BPPV1_Format, RGBA_S3TC_DXT1_Format, RGBA_S3TC_DXT3_Format, RGBA_S3TC_DXT5_Format, RGBDEncoding, RGBEEncoding, RGBEFormat, RGBFormat, RGBIntegerFormat, RGBM16Encoding, RGBM7Encoding, RGB_ETC1_Format, RGB_ETC2_Format, RGB_PVRTC_2BPPV1_Format, RGB_PVRTC_4BPPV1_Format, RGB_S3TC_DXT1_Format, RGFormat, RGIntegerFormat, RawShaderMaterial, Ray, Raycaster, RectAreaLight, RedFormat, RedIntegerFormat, ReinhardToneMapping, RepeatWrapping, ReplaceStencilOp, ReverseSubtractEquation, RingBufferGeometry, RingGeometry, SRGB8_ALPHA8_ASTC_10x10_Format, SRGB8_ALPHA8_ASTC_10x5_Format, SRGB8_ALPHA8_ASTC_10x6_Format, SRGB8_ALPHA8_ASTC_10x8_Format, SRGB8_ALPHA8_ASTC_12x10_Format, SRGB8_ALPHA8_ASTC_12x12_Format, SRGB8_ALPHA8_ASTC_4x4_Format, SRGB8_ALPHA8_ASTC_5x4_Format, SRGB8_ALPHA8_ASTC_5x5_Format, SRGB8_ALPHA8_ASTC_6x5_Format, SRGB8_ALPHA8_ASTC_6x6_Format, SRGB8_ALPHA8_ASTC_8x5_Format, SRGB8_ALPHA8_ASTC_8x6_Format, SRGB8_ALPHA8_ASTC_8x8_Format, Scene, SceneUtils, ShaderChunk, ShaderLib, ShaderMaterial, ShadowMaterial, Shape, ShapeBufferGeometry, ShapeGeometry, ShapePath, ShapeUtils, ShortType, Skeleton, SkeletonHelper, SkinnedMesh, SmoothShading, Sphere, SphereBufferGeometry, SphereGeometry, Spherical, SphericalHarmonics3, Spline, SplineCurve, SplineCurve3, SpotLight, SpotLightHelper, Sprite, SpriteMaterial, SrcAlphaFactor, SrcAlphaSaturateFactor, SrcColorFactor, StaticCopyUsage, StaticDrawUsage, StaticReadUsage, StereoCamera, StreamCopyUsage, StreamDrawUsage, StreamReadUsage, StringKeyframeTrack, SubtractEquation, SubtractiveBlending, TOUCH, TangentSpaceNormalMap, TetrahedronBufferGeometry, TetrahedronGeometry, TextBufferGeometry, TextGeometry, Texture, TextureLoader, TorusBufferGeometry, TorusGeometry, TorusKnotBufferGeometry, TorusKnotGeometry, Triangle, TriangleFanDrawMode, TriangleStripDrawMode, TrianglesDrawMode, TubeBufferGeometry, TubeGeometry, UVMapping, Uint16Attribute, Uint16BufferAttribute, Uint32Attribute, Uint32BufferAttribute, Uint8Attribute, Uint8BufferAttribute, Uint8ClampedAttribute, Uint8ClampedBufferAttribute, Uniform, UniformsLib, UniformsUtils, UnsignedByteType, UnsignedInt248Type, UnsignedIntType, UnsignedShort4444Type, UnsignedShort5551Type, UnsignedShort565Type, UnsignedShortType, VSMShadowMap, Vector2, Vector3, Vector4, VectorKeyframeTrack, Vertex, VertexColors, VideoTexture, WebGL1Renderer, WebGLCubeRenderTarget, WebGLMultisampleRenderTarget, WebGLRenderTarget, WebGLRenderTargetCube, WebGLRenderer, WebGLUtils, WireframeGeometry, WireframeHelper, WrapAroundEnding, XHRLoader, ZeroCurvatureEnding, ZeroFactor, ZeroSlopeEnding, ZeroStencilOp, sRGBEncoding };\n","import { MathUtils, PerspectiveCamera } from 'three';\r\n\r\n    let fov = 90; // fov = Field Of View\r\n    let aspectRato = 1; // aspect ratio (dummy value)\r\n    let nearClip = 0.1; // near clipping plane\r\n    let farClip = 1000; // far clipping plane\r\n\r\n    function createCamera():PerspectiveCamera {\r\n        const camera = new PerspectiveCamera( fov,aspectRato,nearClip,farClip );\r\n        \r\n        camera.position.set( 0,4,6 );\r\n        camera.rotation.y = MathUtils.degToRad(0);\r\n        return camera;\r\n    }\r\n\r\nexport { createCamera };\r\n\r\n","import { BoxBufferGeometry, Mesh, MeshStandardMaterial, Color, TextureLoader } from 'three';\r\n\r\nfunction createCube():Mesh {\r\n    // create geometry\r\n    const geometry = new BoxBufferGeometry(1,1,1,20,20,20);\r\n\r\n    const textureloader = new TextureLoader()\r\n\r\n    const texture = textureloader.load( './textures/harshbricks-albedo.png');\r\n    const ambient = textureloader.load( './textures/harshbricks-ao2.png');\r\n    const normal = textureloader.load( './textures/harshbricks-normal.png');\r\n    const roughness = textureloader.load( './textures/harshbricks-normal.png');\r\n    const height = textureloader.load( './textures/harshbricks-height5-16.png');\r\n    const metalness = textureloader.load( './textures/metalness.png');\r\n    // create a default mat\r\n\r\n    const material = new MeshStandardMaterial({map: texture, metalnessMap:metalness, displacementMap:height,displacementScale:.05, aoMapIntensity:0.001 ,aoMap:ambient,  normalMap:normal, roughnessMap:roughness, roughness:0.5});\r\n\r\n    // create a Mesh containing the geometry and material\r\n    const cube = new Mesh(geometry, material);\r\n\r\n    cube.position.set(0, -0.5, 0);\r\n    return cube;\r\n}\r\n\r\nexport { createCube };","import {Color,Scene} from 'three';\r\n\r\nfunction createScene():Scene {\r\n    const scene = new Scene();\r\n\r\n    scene.background = new Color('#222222');\r\n\r\n    return scene;\r\n}\r\n\r\nexport { createScene };","import {LineBasicMaterial, Geometry, Vector3, Line, Scene} from 'three';\r\n\r\nexport function createGrid(numHorizontalGridLines:number ,highlight:boolean, scene:Scene):void {\r\n    // Determine the size of a grid block (square)\r\n    this.gridBlockSize = 10;//this.SCREEN_HEIGHT / numHorizontalGridLines;\r\n\r\n    let material = new LineBasicMaterial({\r\n        color: 0x00ff00,\r\n        opacity: 0.2\r\n    });\r\n    //*Draw Horrizontal verticies\r\n    let HgridLine = new Geometry();\r\n    HgridLine.vertices.push(\r\n        new Vector3(-10 , 0, -10),\r\n        new Vector3(10 , 0, -10)\r\n        \r\n    )\r\n    \r\n    let VgridLine = new Geometry();\r\n    VgridLine.vertices.push(\r\n        new Vector3(-10 , 0, 10),\r\n        new Vector3(-10 , 0, -10)\r\n    )\r\n\r\n    for (let c = 1; c <= numHorizontalGridLines; c++)\r\n    {\r\n        if( c == 11)\r\n        {\r\n            if(highlight)\r\n            {\r\n                material = new LineBasicMaterial({\r\n                    color: 0xff0000,\r\n                    opacity: 0.2\r\n                });\r\n            }\r\n            else {\r\n                material = new LineBasicMaterial({\r\n                    color: 0x555555,\r\n                    opacity: 0.2\r\n                });\r\n            }\r\n\r\n            let Hline = new Line(HgridLine, material);\r\n            Hline.position.z = c - 1;\r\n            scene.add(Hline);\r\n\r\n            if(highlight)\r\n            {\r\n                material = new LineBasicMaterial({\r\n                    color: 0x0000ff,\r\n                    opacity: 0.2\r\n                });\r\n            }\r\n            else {\r\n                material = new LineBasicMaterial({\r\n                    color: 0x555555,\r\n                    opacity: 0.2\r\n                });\r\n            }\r\n\r\n            let Vline = new Line(VgridLine, material);\r\n            Vline.position.x = c - 1;\r\n            scene.add(Vline);\r\n        }\r\n        else{\r\n            material = new LineBasicMaterial({\r\n                color: 0x555555,\r\n                opacity: 0.2\r\n            });\r\n\r\n            let Hline = new Line(HgridLine, material);\r\n            Hline.position.z = c - 1;\r\n            scene.add(Hline);\r\n\r\n            let Vline = new Line(VgridLine, material);\r\n            Vline.position.x = c - 1;\r\n            scene.add(Vline);\r\n        }\r\n\r\n    }\r\n\r\n}","export class InterfaceManager {\r\n\r\n    protected viewport:HTMLElement;\r\n    protected application:HTMLElement;\r\n    protected effects:HTMLElement;\r\n    protected topWindows:HTMLElement;\r\n    protected properties:HTMLElement;\r\n    protected bottomWindows:HTMLElement;\r\n    protected timeLine:HTMLElement;\r\n    protected max_height:number = window.innerHeight;\r\n    protected max_width:number = window.innerWidth;\r\n    protected canvScrn:HTMLElement;\r\n    constructor(layout?:String){\r\n        this._setDefaultlayout();\r\n    }\r\n    private _setDefaultlayout():void{\r\n        this.viewport = document.querySelector(\"#viewport\");\r\n        this.application = document.querySelector('#application');\r\n        this.effects = document.querySelector('#effects');\r\n        this.topWindows = document.querySelector('#topWindows');\r\n        this.properties = document.querySelector('#properties');\r\n        this.bottomWindows = document.querySelector('#bottomWindows');\r\n        this.timeLine = document.querySelector('#timeline');\r\n        this.canvScrn = document.querySelector(\"#screen\");\r\n\r\n        this.application.style.width=`${this.max_width}px`;\r\n        this.application.style.height=`${this.max_height}px`;\r\n\r\n        this.topWindows.style.height = `${(75/100)*this.max_height}px`;\r\n        this.topWindows.style.width = `${(100/100)*this.max_width}px`;\r\n\r\n        this.bottomWindows.style.height = `${(25/100)*this.max_height-4}px`; //4 is the border width of the black separater\r\n        this.bottomWindows.style.width = `${(100/100)*this.max_width}px`;\r\n\r\n        this.timeLine.style.width = `${(100/100)*this.max_width}px`;\r\n        this.timeLine.style.height = `${(25/100)*this.max_height-4}px`;\r\n        this.timeLine.style.background = \"#222222\";\r\n\r\n        this.canvScrn.style.width = `${(60/100)*this.max_width}px`;\r\n        this.canvScrn.style.height = `${(100/100)*this.topWindows.offsetHeight}px`;\r\n\r\n        this.effects.style.height = `${(100/100)*this.topWindows.offsetHeight}px`;\r\n        this.effects.style.width = `${(20/100)*this.max_width}px`;\r\n\r\n        this.viewport.style.height = `${(100/100)*this.topWindows.offsetHeight}px`;\r\n        this.viewport.style.width = `${(60/100)*this.max_width}px`;\r\n\r\n        this.properties.style.height = `${(100/100)*this.topWindows.offsetHeight}px`;\r\n        this.properties.style.width = `${(20/100)*this.max_width}px`;\r\n    }\r\n}","import { PerspectiveCamera, WebGLRenderer } from \"three\";\r\nimport { InterfaceManager } from '../utilities/InterfaceManager';\r\n\r\nexport class Resizer {\r\n    \r\n    constructor(container:HTMLElement, camera:PerspectiveCamera, renderer:WebGLRenderer){\r\n        this._setDefaults(container, camera, renderer )\r\n    }\r\n    private _setDefaults(container:HTMLElement, camera:PerspectiveCamera, renderer:WebGLRenderer):void{\r\n        let Ncontainer:HTMLElement = document.querySelector(\"#viewport\");\r\n        // Set the camera's aspect ratio\r\n        camera.aspect = Ncontainer.offsetWidth / Ncontainer.offsetHeight;\r\n        // update the camera's frustum\r\n        camera.updateProjectionMatrix();\r\n        // update the size of the renderer AND the canvas\r\n        renderer.setSize(Ncontainer.offsetWidth, Ncontainer.offsetHeight);\r\n    \r\n        // set the pixel ratio (for mobile devices)\r\n        renderer.setPixelRatio(window.devicePixelRatio);\r\n    }\r\n    onResize(container:HTMLElement, camera:PerspectiveCamera, renderer:WebGLRenderer):void {\r\n        const ui = new InterfaceManager('default');\r\n        let Ncontainer:HTMLElement = document.querySelector(\"#viewport\");\r\n        this._setDefaults( Ncontainer, camera, renderer )\r\n    }\r\n}","import { WebGLRenderer } from 'three';\r\n\r\nfunction createRenderer():WebGLRenderer {\r\n    const renderer = new WebGLRenderer({ antialias: true });\r\n\r\n    //* Turn on physically correct lightening model\r\n    renderer.physicallyCorrectLights = true;\r\n    return renderer;\r\n}\r\n\r\nexport { createRenderer };","import {\n\tEventDispatcher,\n\tMOUSE,\n\tQuaternion,\n\tSpherical,\n\tTOUCH,\n\tVector2,\n\tVector3\n} from \"../../../build/three.module.js\";\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n//\n//    Orbit - left mouse / touch: one-finger move\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move\n\nvar OrbitControls = function ( object, domElement ) {\n\n\tif ( domElement === undefined ) console.warn( 'THREE.OrbitControls: The second parameter \"domElement\" is now mandatory.' );\n\tif ( domElement === document ) console.error( 'THREE.OrbitControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.' );\n\n\tthis.object = object;\n\tthis.domElement = domElement;\n\n\t// Set to false to disable this control\n\tthis.enabled = true;\n\n\t// \"target\" sets the location of focus, where the object orbits around\n\tthis.target = new Vector3();\n\n\t// How far you can dolly in and out ( PerspectiveCamera only )\n\tthis.minDistance = 0;\n\tthis.maxDistance = Infinity;\n\n\t// How far you can zoom in and out ( OrthographicCamera only )\n\tthis.minZoom = 0;\n\tthis.maxZoom = Infinity;\n\n\t// How far you can orbit vertically, upper and lower limits.\n\t// Range is 0 to Math.PI radians.\n\tthis.minPolarAngle = 0; // radians\n\tthis.maxPolarAngle = Math.PI; // radians\n\n\t// How far you can orbit horizontally, upper and lower limits.\n\t// If set, the interval [ min, max ] must be a sub-interval of [ - 2 PI, 2 PI ], with ( max - min < 2 PI )\n\tthis.minAzimuthAngle = - Infinity; // radians\n\tthis.maxAzimuthAngle = Infinity; // radians\n\n\t// Set to true to enable damping (inertia)\n\t// If damping is enabled, you must call controls.update() in your animation loop\n\tthis.enableDamping = false;\n\tthis.dampingFactor = 0.05;\n\n\t// This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n\t// Set to false to disable zooming\n\tthis.enableZoom = true;\n\tthis.zoomSpeed = 1.0;\n\n\t// Set to false to disable rotating\n\tthis.enableRotate = true;\n\tthis.rotateSpeed = 1.0;\n\n\t// Set to false to disable panning\n\tthis.enablePan = true;\n\tthis.panSpeed = 1.0;\n\tthis.screenSpacePanning = true; // if false, pan orthogonal to world-space direction camera.up\n\tthis.keyPanSpeed = 7.0;\t// pixels moved per arrow key push\n\n\t// Set to true to automatically rotate around the target\n\t// If auto-rotate is enabled, you must call controls.update() in your animation loop\n\tthis.autoRotate = false;\n\tthis.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\n\n\t// Set to false to disable use of the keys\n\tthis.enableKeys = true;\n\n\t// The four arrow keys\n\tthis.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };\n\n\t// Mouse buttons\n\tthis.mouseButtons = { LEFT: MOUSE.ROTATE, MIDDLE: MOUSE.DOLLY, RIGHT: MOUSE.PAN };\n\n\t// Touch fingers\n\tthis.touches = { ONE: TOUCH.ROTATE, TWO: TOUCH.DOLLY_PAN };\n\n\t// for reset\n\tthis.target0 = this.target.clone();\n\tthis.position0 = this.object.position.clone();\n\tthis.zoom0 = this.object.zoom;\n\n\t//\n\t// public methods\n\t//\n\n\tthis.getPolarAngle = function () {\n\n\t\treturn spherical.phi;\n\n\t};\n\n\tthis.getAzimuthalAngle = function () {\n\n\t\treturn spherical.theta;\n\n\t};\n\n\tthis.saveState = function () {\n\n\t\tscope.target0.copy( scope.target );\n\t\tscope.position0.copy( scope.object.position );\n\t\tscope.zoom0 = scope.object.zoom;\n\n\t};\n\n\tthis.reset = function () {\n\n\t\tscope.target.copy( scope.target0 );\n\t\tscope.object.position.copy( scope.position0 );\n\t\tscope.object.zoom = scope.zoom0;\n\n\t\tscope.object.updateProjectionMatrix();\n\t\tscope.dispatchEvent( changeEvent );\n\n\t\tscope.update();\n\n\t\tstate = STATE.NONE;\n\n\t};\n\n\t// this method is exposed, but perhaps it would be better if we can make it private...\n\tthis.update = function () {\n\n\t\tvar offset = new Vector3();\n\n\t\t// so camera.up is the orbit axis\n\t\tvar quat = new Quaternion().setFromUnitVectors( object.up, new Vector3( 0, 1, 0 ) );\n\t\tvar quatInverse = quat.clone().inverse();\n\n\t\tvar lastPosition = new Vector3();\n\t\tvar lastQuaternion = new Quaternion();\n\n\t\tvar twoPI = 2 * Math.PI;\n\n\t\treturn function update() {\n\n\t\t\tvar position = scope.object.position;\n\n\t\t\toffset.copy( position ).sub( scope.target );\n\n\t\t\t// rotate offset to \"y-axis-is-up\" space\n\t\t\toffset.applyQuaternion( quat );\n\n\t\t\t// angle from z-axis around y-axis\n\t\t\tspherical.setFromVector3( offset );\n\n\t\t\tif ( scope.autoRotate && state === STATE.NONE ) {\n\n\t\t\t\trotateLeft( getAutoRotationAngle() );\n\n\t\t\t}\n\n\t\t\tif ( scope.enableDamping ) {\n\n\t\t\t\tspherical.theta += sphericalDelta.theta * scope.dampingFactor;\n\t\t\t\tspherical.phi += sphericalDelta.phi * scope.dampingFactor;\n\n\t\t\t} else {\n\n\t\t\t\tspherical.theta += sphericalDelta.theta;\n\t\t\t\tspherical.phi += sphericalDelta.phi;\n\n\t\t\t}\n\n\t\t\t// restrict theta to be between desired limits\n\n\t\t\tvar min = scope.minAzimuthAngle;\n\t\t\tvar max = scope.maxAzimuthAngle;\n\n\t\t\tif ( isFinite( min ) && isFinite( max ) ) {\n\n\t\t\t\tif ( min < - Math.PI ) min += twoPI; else if ( min > Math.PI ) min -= twoPI;\n\n\t\t\t\tif ( max < - Math.PI ) max += twoPI; else if ( max > Math.PI ) max -= twoPI;\n\n\t\t\t\tif ( min < max ) {\n\n\t\t\t\t\tspherical.theta = Math.max( min, Math.min( max, spherical.theta ) );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tspherical.theta = ( spherical.theta > ( min + max ) / 2 ) ?\n\t\t\t\t\t\tMath.max( min, spherical.theta ) :\n\t\t\t\t\t\tMath.min( max, spherical.theta );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// restrict phi to be between desired limits\n\t\t\tspherical.phi = Math.max( scope.minPolarAngle, Math.min( scope.maxPolarAngle, spherical.phi ) );\n\n\t\t\tspherical.makeSafe();\n\n\n\t\t\tspherical.radius *= scale;\n\n\t\t\t// restrict radius to be between desired limits\n\t\t\tspherical.radius = Math.max( scope.minDistance, Math.min( scope.maxDistance, spherical.radius ) );\n\n\t\t\t// move target to panned location\n\n\t\t\tif ( scope.enableDamping === true ) {\n\n\t\t\t\tscope.target.addScaledVector( panOffset, scope.dampingFactor );\n\n\t\t\t} else {\n\n\t\t\t\tscope.target.add( panOffset );\n\n\t\t\t}\n\n\t\t\toffset.setFromSpherical( spherical );\n\n\t\t\t// rotate offset back to \"camera-up-vector-is-up\" space\n\t\t\toffset.applyQuaternion( quatInverse );\n\n\t\t\tposition.copy( scope.target ).add( offset );\n\n\t\t\tscope.object.lookAt( scope.target );\n\n\t\t\tif ( scope.enableDamping === true ) {\n\n\t\t\t\tsphericalDelta.theta *= ( 1 - scope.dampingFactor );\n\t\t\t\tsphericalDelta.phi *= ( 1 - scope.dampingFactor );\n\n\t\t\t\tpanOffset.multiplyScalar( 1 - scope.dampingFactor );\n\n\t\t\t} else {\n\n\t\t\t\tsphericalDelta.set( 0, 0, 0 );\n\n\t\t\t\tpanOffset.set( 0, 0, 0 );\n\n\t\t\t}\n\n\t\t\tscale = 1;\n\n\t\t\t// update condition is:\n\t\t\t// min(camera displacement, camera rotation in radians)^2 > EPS\n\t\t\t// using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n\t\t\tif ( zoomChanged ||\n\t\t\t\tlastPosition.distanceToSquared( scope.object.position ) > EPS ||\n\t\t\t\t8 * ( 1 - lastQuaternion.dot( scope.object.quaternion ) ) > EPS ) {\n\n\t\t\t\tscope.dispatchEvent( changeEvent );\n\n\t\t\t\tlastPosition.copy( scope.object.position );\n\t\t\t\tlastQuaternion.copy( scope.object.quaternion );\n\t\t\t\tzoomChanged = false;\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\t\t\treturn false;\n\n\t\t};\n\n\t}();\n\n\tthis.dispose = function () {\n\n\t\tscope.domElement.removeEventListener( 'contextmenu', onContextMenu, false );\n\n\t\tscope.domElement.removeEventListener( 'pointerdown', onPointerDown, false );\n\t\tscope.domElement.removeEventListener( 'wheel', onMouseWheel, false );\n\n\t\tscope.domElement.removeEventListener( 'touchstart', onTouchStart, false );\n\t\tscope.domElement.removeEventListener( 'touchend', onTouchEnd, false );\n\t\tscope.domElement.removeEventListener( 'touchmove', onTouchMove, false );\n\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointermove', onPointerMove, false );\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointerup', onPointerUp, false );\n\n\t\tscope.domElement.removeEventListener( 'keydown', onKeyDown, false );\n\n\t\t//scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n\n\t};\n\n\t//\n\t// internals\n\t//\n\n\tvar scope = this;\n\n\tvar changeEvent = { type: 'change' };\n\tvar startEvent = { type: 'start' };\n\tvar endEvent = { type: 'end' };\n\n\tvar STATE = {\n\t\tNONE: - 1,\n\t\tROTATE: 0,\n\t\tDOLLY: 1,\n\t\tPAN: 2,\n\t\tTOUCH_ROTATE: 3,\n\t\tTOUCH_PAN: 4,\n\t\tTOUCH_DOLLY_PAN: 5,\n\t\tTOUCH_DOLLY_ROTATE: 6\n\t};\n\n\tvar state = STATE.NONE;\n\n\tvar EPS = 0.000001;\n\n\t// current position in spherical coordinates\n\tvar spherical = new Spherical();\n\tvar sphericalDelta = new Spherical();\n\n\tvar scale = 1;\n\tvar panOffset = new Vector3();\n\tvar zoomChanged = false;\n\n\tvar rotateStart = new Vector2();\n\tvar rotateEnd = new Vector2();\n\tvar rotateDelta = new Vector2();\n\n\tvar panStart = new Vector2();\n\tvar panEnd = new Vector2();\n\tvar panDelta = new Vector2();\n\n\tvar dollyStart = new Vector2();\n\tvar dollyEnd = new Vector2();\n\tvar dollyDelta = new Vector2();\n\n\tfunction getAutoRotationAngle() {\n\n\t\treturn 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n\n\t}\n\n\tfunction getZoomScale() {\n\n\t\treturn Math.pow( 0.95, scope.zoomSpeed );\n\n\t}\n\n\tfunction rotateLeft( angle ) {\n\n\t\tsphericalDelta.theta -= angle;\n\n\t}\n\n\tfunction rotateUp( angle ) {\n\n\t\tsphericalDelta.phi -= angle;\n\n\t}\n\n\tvar panLeft = function () {\n\n\t\tvar v = new Vector3();\n\n\t\treturn function panLeft( distance, objectMatrix ) {\n\n\t\t\tv.setFromMatrixColumn( objectMatrix, 0 ); // get X column of objectMatrix\n\t\t\tv.multiplyScalar( - distance );\n\n\t\t\tpanOffset.add( v );\n\n\t\t};\n\n\t}();\n\n\tvar panUp = function () {\n\n\t\tvar v = new Vector3();\n\n\t\treturn function panUp( distance, objectMatrix ) {\n\n\t\t\tif ( scope.screenSpacePanning === true ) {\n\n\t\t\t\tv.setFromMatrixColumn( objectMatrix, 1 );\n\n\t\t\t} else {\n\n\t\t\t\tv.setFromMatrixColumn( objectMatrix, 0 );\n\t\t\t\tv.crossVectors( scope.object.up, v );\n\n\t\t\t}\n\n\t\t\tv.multiplyScalar( distance );\n\n\t\t\tpanOffset.add( v );\n\n\t\t};\n\n\t}();\n\n\t// deltaX and deltaY are in pixels; right and down are positive\n\tvar pan = function () {\n\n\t\tvar offset = new Vector3();\n\n\t\treturn function pan( deltaX, deltaY ) {\n\n\t\t\tvar element = scope.domElement;\n\n\t\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\t\t// perspective\n\t\t\t\tvar position = scope.object.position;\n\t\t\t\toffset.copy( position ).sub( scope.target );\n\t\t\t\tvar targetDistance = offset.length();\n\n\t\t\t\t// half of the fov is center to top of screen\n\t\t\t\ttargetDistance *= Math.tan( ( scope.object.fov / 2 ) * Math.PI / 180.0 );\n\n\t\t\t\t// we use only clientHeight here so aspect ratio does not distort speed\n\t\t\t\tpanLeft( 2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix );\n\t\t\t\tpanUp( 2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix );\n\n\t\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\t\t// orthographic\n\t\t\t\tpanLeft( deltaX * ( scope.object.right - scope.object.left ) / scope.object.zoom / element.clientWidth, scope.object.matrix );\n\t\t\t\tpanUp( deltaY * ( scope.object.top - scope.object.bottom ) / scope.object.zoom / element.clientHeight, scope.object.matrix );\n\n\t\t\t} else {\n\n\t\t\t\t// camera neither orthographic nor perspective\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\n\t\t\t\tscope.enablePan = false;\n\n\t\t\t}\n\n\t\t};\n\n\t}();\n\n\tfunction dollyOut( dollyScale ) {\n\n\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\tscale /= dollyScale;\n\n\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom * dollyScale ) );\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t\tzoomChanged = true;\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\tscope.enableZoom = false;\n\n\t\t}\n\n\t}\n\n\tfunction dollyIn( dollyScale ) {\n\n\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\tscale *= dollyScale;\n\n\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom / dollyScale ) );\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t\tzoomChanged = true;\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\tscope.enableZoom = false;\n\n\t\t}\n\n\t}\n\n\t//\n\t// event callbacks - update the object state\n\t//\n\n\tfunction handleMouseDownRotate( event ) {\n\n\t\trotateStart.set( event.clientX, event.clientY );\n\n\t}\n\n\tfunction handleMouseDownDolly( event ) {\n\n\t\tdollyStart.set( event.clientX, event.clientY );\n\n\t}\n\n\tfunction handleMouseDownPan( event ) {\n\n\t\tpanStart.set( event.clientX, event.clientY );\n\n\t}\n\n\tfunction handleMouseMoveRotate( event ) {\n\n\t\trotateEnd.set( event.clientX, event.clientY );\n\n\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\n\n\t\tvar element = scope.domElement;\n\n\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\n\n\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\n\n\t\trotateStart.copy( rotateEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleMouseMoveDolly( event ) {\n\n\t\tdollyEnd.set( event.clientX, event.clientY );\n\n\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\n\n\t\tif ( dollyDelta.y > 0 ) {\n\n\t\t\tdollyOut( getZoomScale() );\n\n\t\t} else if ( dollyDelta.y < 0 ) {\n\n\t\t\tdollyIn( getZoomScale() );\n\n\t\t}\n\n\t\tdollyStart.copy( dollyEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleMouseMovePan( event ) {\n\n\t\tpanEnd.set( event.clientX, event.clientY );\n\n\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\n\n\t\tpan( panDelta.x, panDelta.y );\n\n\t\tpanStart.copy( panEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleMouseUp( /*event*/ ) {\n\n\t\t// no-op\n\n\t}\n\n\tfunction handleMouseWheel( event ) {\n\n\t\tif ( event.deltaY < 0 ) {\n\n\t\t\tdollyIn( getZoomScale() );\n\n\t\t} else if ( event.deltaY > 0 ) {\n\n\t\t\tdollyOut( getZoomScale() );\n\n\t\t}\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleKeyDown( event ) {\n\n\t\tvar needsUpdate = false;\n\n\t\tswitch ( event.keyCode ) {\n\n\t\t\tcase scope.keys.UP:\n\t\t\t\tpan( 0, scope.keyPanSpeed );\n\t\t\t\tneedsUpdate = true;\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.BOTTOM:\n\t\t\t\tpan( 0, - scope.keyPanSpeed );\n\t\t\t\tneedsUpdate = true;\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.LEFT:\n\t\t\t\tpan( scope.keyPanSpeed, 0 );\n\t\t\t\tneedsUpdate = true;\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.RIGHT:\n\t\t\t\tpan( - scope.keyPanSpeed, 0 );\n\t\t\t\tneedsUpdate = true;\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tif ( needsUpdate ) {\n\n\t\t\t// prevent the browser from scrolling on cursor keys\n\t\t\tevent.preventDefault();\n\n\t\t\tscope.update();\n\n\t\t}\n\n\n\t}\n\n\tfunction handleTouchStartRotate( event ) {\n\n\t\tif ( event.touches.length == 1 ) {\n\n\t\t\trotateStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t\t} else {\n\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\n\n\t\t\trotateStart.set( x, y );\n\n\t\t}\n\n\t}\n\n\tfunction handleTouchStartPan( event ) {\n\n\t\tif ( event.touches.length == 1 ) {\n\n\t\t\tpanStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t\t} else {\n\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\n\n\t\t\tpanStart.set( x, y );\n\n\t\t}\n\n\t}\n\n\tfunction handleTouchStartDolly( event ) {\n\n\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\n\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\tdollyStart.set( 0, distance );\n\n\t}\n\n\tfunction handleTouchStartDollyPan( event ) {\n\n\t\tif ( scope.enableZoom ) handleTouchStartDolly( event );\n\n\t\tif ( scope.enablePan ) handleTouchStartPan( event );\n\n\t}\n\n\tfunction handleTouchStartDollyRotate( event ) {\n\n\t\tif ( scope.enableZoom ) handleTouchStartDolly( event );\n\n\t\tif ( scope.enableRotate ) handleTouchStartRotate( event );\n\n\t}\n\n\tfunction handleTouchMoveRotate( event ) {\n\n\t\tif ( event.touches.length == 1 ) {\n\n\t\t\trotateEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t\t} else {\n\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\n\n\t\t\trotateEnd.set( x, y );\n\n\t\t}\n\n\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\n\n\t\tvar element = scope.domElement;\n\n\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\n\n\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\n\n\t\trotateStart.copy( rotateEnd );\n\n\t}\n\n\tfunction handleTouchMovePan( event ) {\n\n\t\tif ( event.touches.length == 1 ) {\n\n\t\t\tpanEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t\t} else {\n\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\n\n\t\t\tpanEnd.set( x, y );\n\n\t\t}\n\n\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\n\n\t\tpan( panDelta.x, panDelta.y );\n\n\t\tpanStart.copy( panEnd );\n\n\t}\n\n\tfunction handleTouchMoveDolly( event ) {\n\n\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\n\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\tdollyEnd.set( 0, distance );\n\n\t\tdollyDelta.set( 0, Math.pow( dollyEnd.y / dollyStart.y, scope.zoomSpeed ) );\n\n\t\tdollyOut( dollyDelta.y );\n\n\t\tdollyStart.copy( dollyEnd );\n\n\t}\n\n\tfunction handleTouchMoveDollyPan( event ) {\n\n\t\tif ( scope.enableZoom ) handleTouchMoveDolly( event );\n\n\t\tif ( scope.enablePan ) handleTouchMovePan( event );\n\n\t}\n\n\tfunction handleTouchMoveDollyRotate( event ) {\n\n\t\tif ( scope.enableZoom ) handleTouchMoveDolly( event );\n\n\t\tif ( scope.enableRotate ) handleTouchMoveRotate( event );\n\n\t}\n\n\tfunction handleTouchEnd( /*event*/ ) {\n\n\t\t// no-op\n\n\t}\n\n\t//\n\t// event handlers - FSM: listen for events and reset state\n\t//\n\n\tfunction onPointerDown( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tswitch ( event.pointerType ) {\n\n\t\t\tcase 'mouse':\n\t\t\tcase 'pen':\n\t\t\t\tonMouseDown( event );\n\t\t\t\tbreak;\n\n\t\t\t// TODO touch\n\n\t\t}\n\n\t}\n\n\tfunction onPointerMove( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tswitch ( event.pointerType ) {\n\n\t\t\tcase 'mouse':\n\t\t\tcase 'pen':\n\t\t\t\tonMouseMove( event );\n\t\t\t\tbreak;\n\n\t\t\t// TODO touch\n\n\t\t}\n\n\t}\n\n\tfunction onPointerUp( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tswitch ( event.pointerType ) {\n\n\t\t\tcase 'mouse':\n\t\t\tcase 'pen':\n\t\t\t\tonMouseUp( event );\n\t\t\t\tbreak;\n\n\t\t\t// TODO touch\n\n\t\t}\n\n\t}\n\n\tfunction onMouseDown( event ) {\n\n\t\t// Prevent the browser from scrolling.\n\t\tevent.preventDefault();\n\n\t\t// Manually set the focus since calling preventDefault above\n\t\t// prevents the browser from setting it automatically.\n\n\t\tscope.domElement.focus ? scope.domElement.focus() : window.focus();\n\n\t\tvar mouseAction;\n\n\t\tswitch ( event.button ) {\n\n\t\t\tcase 0:\n\n\t\t\t\tmouseAction = scope.mouseButtons.LEFT;\n\t\t\t\tbreak;\n\n\t\t\tcase 1:\n\n\t\t\t\tmouseAction = scope.mouseButtons.MIDDLE;\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\n\t\t\t\tmouseAction = scope.mouseButtons.RIGHT;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tmouseAction = - 1;\n\n\t\t}\n\n\t\tswitch ( mouseAction ) {\n\n\t\t\tcase MOUSE.DOLLY:\n\n\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\thandleMouseDownDolly( event );\n\n\t\t\t\tstate = STATE.DOLLY;\n\n\t\t\t\tbreak;\n\n\t\t\tcase MOUSE.ROTATE:\n\n\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\thandleMouseDownPan( event );\n\n\t\t\t\t\tstate = STATE.PAN;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\thandleMouseDownRotate( event );\n\n\t\t\t\t\tstate = STATE.ROTATE;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase MOUSE.PAN:\n\n\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\thandleMouseDownRotate( event );\n\n\t\t\t\t\tstate = STATE.ROTATE;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\thandleMouseDownPan( event );\n\n\t\t\t\t\tstate = STATE.PAN;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t\tif ( state !== STATE.NONE ) {\n\n\t\t\tscope.domElement.ownerDocument.addEventListener( 'pointermove', onPointerMove, false );\n\t\t\tscope.domElement.ownerDocument.addEventListener( 'pointerup', onPointerUp, false );\n\n\t\t\tscope.dispatchEvent( startEvent );\n\n\t\t}\n\n\t}\n\n\tfunction onMouseMove( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\n\t\tswitch ( state ) {\n\n\t\t\tcase STATE.ROTATE:\n\n\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\thandleMouseMoveRotate( event );\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.DOLLY:\n\n\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\thandleMouseMoveDolly( event );\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.PAN:\n\n\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\thandleMouseMovePan( event );\n\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\tfunction onMouseUp( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\thandleMouseUp( event );\n\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointermove', onPointerMove, false );\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointerup', onPointerUp, false );\n\n\t\tscope.dispatchEvent( endEvent );\n\n\t\tstate = STATE.NONE;\n\n\t}\n\n\tfunction onMouseWheel( event ) {\n\n\t\tif ( scope.enabled === false || scope.enableZoom === false || ( state !== STATE.NONE && state !== STATE.ROTATE ) ) return;\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tscope.dispatchEvent( startEvent );\n\n\t\thandleMouseWheel( event );\n\n\t\tscope.dispatchEvent( endEvent );\n\n\t}\n\n\tfunction onKeyDown( event ) {\n\n\t\tif ( scope.enabled === false || scope.enableKeys === false || scope.enablePan === false ) return;\n\n\t\thandleKeyDown( event );\n\n\t}\n\n\tfunction onTouchStart( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault(); // prevent scrolling\n\n\t\tswitch ( event.touches.length ) {\n\n\t\t\tcase 1:\n\n\t\t\t\tswitch ( scope.touches.ONE ) {\n\n\t\t\t\t\tcase TOUCH.ROTATE:\n\n\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\t\thandleTouchStartRotate( event );\n\n\t\t\t\t\t\tstate = STATE.TOUCH_ROTATE;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase TOUCH.PAN:\n\n\t\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\t\thandleTouchStartPan( event );\n\n\t\t\t\t\t\tstate = STATE.TOUCH_PAN;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\n\t\t\t\tswitch ( scope.touches.TWO ) {\n\n\t\t\t\t\tcase TOUCH.DOLLY_PAN:\n\n\t\t\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\n\n\t\t\t\t\t\thandleTouchStartDollyPan( event );\n\n\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY_PAN;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase TOUCH.DOLLY_ROTATE:\n\n\t\t\t\t\t\tif ( scope.enableZoom === false && scope.enableRotate === false ) return;\n\n\t\t\t\t\t\thandleTouchStartDollyRotate( event );\n\n\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY_ROTATE;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t\tif ( state !== STATE.NONE ) {\n\n\t\t\tscope.dispatchEvent( startEvent );\n\n\t\t}\n\n\t}\n\n\tfunction onTouchMove( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault(); // prevent scrolling\n\t\tevent.stopPropagation();\n\n\t\tswitch ( state ) {\n\n\t\t\tcase STATE.TOUCH_ROTATE:\n\n\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\thandleTouchMoveRotate( event );\n\n\t\t\t\tscope.update();\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.TOUCH_PAN:\n\n\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\thandleTouchMovePan( event );\n\n\t\t\t\tscope.update();\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.TOUCH_DOLLY_PAN:\n\n\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\n\n\t\t\t\thandleTouchMoveDollyPan( event );\n\n\t\t\t\tscope.update();\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.TOUCH_DOLLY_ROTATE:\n\n\t\t\t\tif ( scope.enableZoom === false && scope.enableRotate === false ) return;\n\n\t\t\t\thandleTouchMoveDollyRotate( event );\n\n\t\t\t\tscope.update();\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t}\n\n\tfunction onTouchEnd( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\thandleTouchEnd( event );\n\n\t\tscope.dispatchEvent( endEvent );\n\n\t\tstate = STATE.NONE;\n\n\t}\n\n\tfunction onContextMenu( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\n\t}\n\n\t//\n\n\tscope.domElement.addEventListener( 'contextmenu', onContextMenu, false );\n\n\tscope.domElement.addEventListener( 'pointerdown', onPointerDown, false );\n\tscope.domElement.addEventListener( 'wheel', onMouseWheel, false );\n\n\tscope.domElement.addEventListener( 'touchstart', onTouchStart, false );\n\tscope.domElement.addEventListener( 'touchend', onTouchEnd, false );\n\tscope.domElement.addEventListener( 'touchmove', onTouchMove, false );\n\n\tscope.domElement.addEventListener( 'keydown', onKeyDown, false );\n\n\t// make sure element can receive keys.\n\n\tif ( scope.domElement.tabIndex === - 1 ) {\n\n\t\tscope.domElement.tabIndex = 0;\n\n\t}\n\n\t// force an update at start\n\n\tthis.update();\n\n};\n\nOrbitControls.prototype = Object.create( EventDispatcher.prototype );\nOrbitControls.prototype.constructor = OrbitControls;\n\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n// This is very similar to OrbitControls, another set of touch behavior\n//\n//    Orbit - right mouse, or left mouse + ctrl/meta/shiftKey / touch: two-finger rotate\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - left mouse, or arrow keys / touch: one-finger move\n\nvar MapControls = function ( object, domElement ) {\n\n\tOrbitControls.call( this, object, domElement );\n\n\tthis.screenSpacePanning = false; // pan orthogonal to world-space direction camera.up\n\n\tthis.mouseButtons.LEFT = MOUSE.PAN;\n\tthis.mouseButtons.RIGHT = MOUSE.ROTATE;\n\n\tthis.touches.ONE = TOUCH.PAN;\n\tthis.touches.TWO = TOUCH.DOLLY_ROTATE;\n\n};\n\nMapControls.prototype = Object.create( EventDispatcher.prototype );\nMapControls.prototype.constructor = MapControls;\n\nexport { OrbitControls, MapControls };\n","import { PerspectiveCamera } from 'three';\r\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';\r\n\r\nexport class Navigator{\r\n    constructor(camera:PerspectiveCamera, canvas:HTMLElement){\r\n        this._defaultNav(camera,canvas);\r\n    }\r\n    private _defaultNav(camera:PerspectiveCamera,canvas:HTMLElement){\r\n        const controls = new OrbitControls(camera,document.querySelector(\"#screen\"));\r\n\r\n    }\r\n}","class VRButton {\n\n\tstatic createButton( renderer, options ) {\n\n\t\tif ( options ) {\n\n\t\t\tconsole.error( 'THREE.VRButton: The \"options\" parameter has been removed. Please set the reference space type via renderer.xr.setReferenceSpaceType() instead.' );\n\n\t\t}\n\n\t\tconst button = document.createElement( 'button' );\n\n\t\tfunction showEnterVR( /*device*/ ) {\n\n\t\t\tlet currentSession = null;\n\n\t\t\tfunction onSessionStarted( session ) {\n\n\t\t\t\tsession.addEventListener( 'end', onSessionEnded );\n\n\t\t\t\trenderer.xr.setSession( session );\n\t\t\t\tbutton.textContent = 'EXIT VR';\n\n\t\t\t\tcurrentSession = session;\n\n\t\t\t}\n\n\t\t\tfunction onSessionEnded( /*event*/ ) {\n\n\t\t\t\tcurrentSession.removeEventListener( 'end', onSessionEnded );\n\n\t\t\t\tbutton.textContent = 'ENTER VR';\n\n\t\t\t\tcurrentSession = null;\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\tbutton.style.display = '';\n\n\t\t\tbutton.style.cursor = 'pointer';\n\t\t\tbutton.style.left = 'calc(50% - 50px)';\n\t\t\tbutton.style.width = '100px';\n\n\t\t\tbutton.textContent = 'ENTER VR';\n\n\t\t\tbutton.onmouseenter = function () {\n\n\t\t\t\tbutton.style.opacity = '1.0';\n\n\t\t\t};\n\n\t\t\tbutton.onmouseleave = function () {\n\n\t\t\t\tbutton.style.opacity = '0.5';\n\n\t\t\t};\n\n\t\t\tbutton.onclick = function () {\n\n\t\t\t\tif ( currentSession === null ) {\n\n\t\t\t\t\t// WebXR's requestReferenceSpace only works if the corresponding feature\n\t\t\t\t\t// was requested at session creation time. For simplicity, just ask for\n\t\t\t\t\t// the interesting ones as optional features, but be aware that the\n\t\t\t\t\t// requestReferenceSpace call will fail if it turns out to be unavailable.\n\t\t\t\t\t// ('local' is always available for immersive sessions and doesn't need to\n\t\t\t\t\t// be requested separately.)\n\n\t\t\t\t\tconst sessionInit = { optionalFeatures: [ 'local-floor', 'bounded-floor', 'hand-tracking' ] };\n\t\t\t\t\tnavigator.xr.requestSession( 'immersive-vr', sessionInit ).then( onSessionStarted );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tcurrentSession.end();\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t}\n\n\t\tfunction disableButton() {\n\n\t\t\tbutton.style.display = '';\n\n\t\t\tbutton.style.cursor = 'auto';\n\t\t\tbutton.style.left = 'calc(50% - 75px)';\n\t\t\tbutton.style.width = '150px';\n\n\t\t\tbutton.onmouseenter = null;\n\t\t\tbutton.onmouseleave = null;\n\n\t\t\tbutton.onclick = null;\n\n\t\t}\n\n\t\tfunction showWebXRNotFound() {\n\n\t\t\tdisableButton();\n\n\t\t\tbutton.textContent = 'VR NOT SUPPORTED';\n\n\t\t}\n\n\t\tfunction stylizeElement( element ) {\n\n\t\t\telement.style.position = 'absolute';\n\t\t\telement.style.bottom = '20px';\n\t\t\telement.style.padding = '12px 6px';\n\t\t\telement.style.border = '1px solid #fff';\n\t\t\telement.style.borderRadius = '4px';\n\t\t\telement.style.background = 'rgba(0,0,0,0.1)';\n\t\t\telement.style.color = '#fff';\n\t\t\telement.style.font = 'normal 13px sans-serif';\n\t\t\telement.style.textAlign = 'center';\n\t\t\telement.style.opacity = '0.5';\n\t\t\telement.style.outline = 'none';\n\t\t\telement.style.zIndex = '999';\n\n\t\t}\n\n\t\tif ( 'xr' in navigator ) {\n\n\t\t\tbutton.id = 'VRButton';\n\t\t\tbutton.style.display = 'none';\n\n\t\t\tstylizeElement( button );\n\n\t\t\tnavigator.xr.isSessionSupported( 'immersive-vr' ).then( function ( supported ) {\n\n\t\t\t\tsupported ? showEnterVR() : showWebXRNotFound();\n\n\t\t\t} );\n\n\t\t\treturn button;\n\n\t\t} else {\n\n\t\t\tconst message = document.createElement( 'a' );\n\n\t\t\tif ( window.isSecureContext === false ) {\n\n\t\t\t\tmessage.href = document.location.href.replace( /^http:/, 'https:' );\n\t\t\t\tmessage.innerHTML = 'WEBXR NEEDS HTTPS'; // TODO Improve message\n\n\t\t\t} else {\n\n\t\t\t\tmessage.href = 'https://immersiveweb.dev/';\n\t\t\t\tmessage.innerHTML = 'WEBXR NOT AVAILABLE';\n\n\t\t\t}\n\n\t\t\tmessage.style.left = 'calc(50% - 90px)';\n\t\t\tmessage.style.width = '180px';\n\t\t\tmessage.style.textDecoration = 'none';\n\n\t\t\tstylizeElement( message );\n\n\t\t\treturn message;\n\n\t\t}\n\n\t}\n\n}\n\nexport { VRButton };\n","import { WebGLRenderer } from \"three\";\r\nimport { VRButton } from \"three/examples/jsm/webxr/VRButton\";\r\n\r\nfunction webXR_Setup(renderer:WebGLRenderer){\r\n    renderer.xr.enabled = true; \r\n    document.body.appendChild( VRButton.createButton( renderer ) );\r\n}\r\n\r\nexport {webXR_Setup};","import { DirectionalLight, Color, AmbientLight, Scene, PointLight } from \"three\";\r\n\r\nfunction defLight(scene:Scene):void{\r\n    let ambient:AmbientLight = new AmbientLight(new Color('#ffffff'),0.2);\t\r\n    scene.add( ambient );\r\n    const light = new PointLight(new Color(0xffffff), 8);\r\n    light.position.set( 1, 2, 1 );\r\n    scene.add(light);\r\n}\r\n\r\nexport {defLight};","import { createCamera} from './components/camera';\r\nimport { PerspectiveCamera, Renderer, Scene, WebGLRenderer } from 'three';\r\nimport {createCube } from './components/cube';\r\nimport { createScene } from './components/scene';\r\nimport { createGrid } from './components/grid';\r\n\r\nimport { Resizer } from './systems/Resizer';\r\nimport { createRenderer } from './systems/renderer';\r\n\r\nimport { InterfaceManager } from './utilities/InterfaceManager';\r\nimport { Navigator } from './utilities/Navigator';\r\nimport { webXR_Setup } from './utilities/webxr';\r\nimport { defLight } from './components/defaultLight';\r\n\r\nexport class World {\r\n    protected camera:PerspectiveCamera;\r\n    protected renderer:WebGLRenderer;\r\n    protected scene:Scene;\r\n    protected interfaceManager:InterfaceManager;\r\n    protected resizer:Resizer;\r\n    // 1. Create an instance of the World app\r\n    constructor(container:HTMLElement) {\r\n      \r\n      this.camera = createCamera();\r\n      this.scene = createScene();\r\n      this.renderer = createRenderer();\r\n      \r\n      document.querySelector('#viewport').appendChild(this.renderer.domElement);\r\n      this.renderer.domElement.setAttribute(\"id\",\"screen\");\r\n\r\n      \r\n\r\n      this.setUpDefaults();\r\n      \r\n\r\n      this.resizer = new Resizer(container, this.camera, this.renderer);\r\n      \r\n      this.renderer.setAnimationLoop(this.render.bind(this));\r\n    }\r\n\r\n    // 2. Render the scene\r\n    render() {\r\n      this.renderer.render( this.scene, this.camera);\r\n    }\r\n    setUpDefaults()\r\n    {\r\n      //* Setup interface layout\r\n      this.interfaceManager = new InterfaceManager();\r\n\r\n      //* Build Custom grid\r\n      createGrid( 21, true, this.scene);\r\n\r\n      //* Add default cube\r\n      const cube = createCube();\r\n      this.scene.add(cube);\r\n\r\n      //* Add Controls \r\n      const controls = new Navigator(this.camera, this.renderer.domElement);\r\n\r\n      //* Add vr Button\r\n      webXR_Setup(this.renderer);\r\n\r\n      //* Add Default Lights\r\n      defLight(this.scene);\r\n      \r\n      window.addEventListener('resize',()=>{\r\n        //* Resizer \r\n        this.resizer.onResize(this.renderer.domElement,this.camera,this.renderer);\r\n      })\r\n    }\r\n  }","// import {App} from './Setup';\r\nimport {World} from './world/world';\r\n\r\nfunction main():void{\r\n    // get a reference to the container element\r\n    // const ele = ;\r\n    const world = new World(document.getElementById('#viewport'));\r\n\r\n    world.render();\r\n}\r\nmain();\r\n\r\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}